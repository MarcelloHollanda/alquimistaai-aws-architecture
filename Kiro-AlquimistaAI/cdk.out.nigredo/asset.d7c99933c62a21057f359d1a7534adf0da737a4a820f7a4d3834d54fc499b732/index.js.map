{
  "version": 3,
  "sources": ["../../node_modules/@smithy/types/dist-cjs/index.js", "../../node_modules/@smithy/protocol-http/dist-cjs/index.js", "../../node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js", "../../node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js", "../../node_modules/@aws/lambda-invoke-store/dist-es/invoke-store.js", "../../node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/recursionDetectionMiddleware.js", "../../node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js", "../../node_modules/@smithy/core/dist-es/getSmithyContext.js", "../../node_modules/@smithy/util-middleware/dist-cjs/index.js", "../../node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/resolveAuthOptions.js", "../../node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/httpAuthSchemeMiddleware.js", "../../node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/getHttpAuthSchemeEndpointRuleSetPlugin.js", "../../node_modules/@smithy/middleware-serde/dist-cjs/index.js", "../../node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/getHttpAuthSchemePlugin.js", "../../node_modules/@smithy/core/dist-es/middleware-http-auth-scheme/index.js", "../../node_modules/@smithy/core/dist-es/middleware-http-signing/httpSigningMiddleware.js", "../../node_modules/@smithy/core/dist-es/middleware-http-signing/getHttpSigningMiddleware.js", "../../node_modules/@smithy/core/dist-es/middleware-http-signing/index.js", "../../node_modules/@smithy/core/dist-es/normalizeProvider.js", "../../node_modules/@smithy/core/dist-es/pagination/createPaginator.js", "../../node_modules/@smithy/is-array-buffer/dist-cjs/index.js", "../../node_modules/@smithy/util-buffer-from/dist-cjs/index.js", "../../node_modules/@smithy/util-base64/dist-cjs/fromBase64.js", "../../node_modules/@smithy/util-utf8/dist-cjs/index.js", "../../node_modules/@smithy/util-base64/dist-cjs/toBase64.js", "../../node_modules/@smithy/util-base64/dist-cjs/index.js", "../../node_modules/@smithy/util-stream/dist-cjs/checksum/ChecksumStream.js", "../../node_modules/@smithy/util-stream/dist-cjs/stream-type-check.js", "../../node_modules/@smithy/util-stream/dist-cjs/checksum/ChecksumStream.browser.js", "../../node_modules/@smithy/util-stream/dist-cjs/checksum/createChecksumStream.browser.js", "../../node_modules/@smithy/util-stream/dist-cjs/checksum/createChecksumStream.js", "../../node_modules/@smithy/util-stream/dist-cjs/ByteArrayCollector.js", "../../node_modules/@smithy/util-stream/dist-cjs/createBufferedReadableStream.js", "../../node_modules/@smithy/util-stream/dist-cjs/createBufferedReadable.js", "../../node_modules/@smithy/util-stream/dist-cjs/getAwsChunkedEncodingStream.js", "../../node_modules/@smithy/util-stream/dist-cjs/headStream.browser.js", "../../node_modules/@smithy/util-stream/dist-cjs/headStream.js", "../../node_modules/@smithy/util-uri-escape/dist-cjs/index.js", "../../node_modules/@smithy/querystring-builder/dist-cjs/index.js", "../../node_modules/@smithy/node-http-handler/dist-cjs/index.js", "../../node_modules/@smithy/fetch-http-handler/dist-cjs/index.js", "../../node_modules/@smithy/util-hex-encoding/dist-cjs/index.js", "../../node_modules/@smithy/util-stream/dist-cjs/sdk-stream-mixin.browser.js", "../../node_modules/@smithy/util-stream/dist-cjs/sdk-stream-mixin.js", "../../node_modules/@smithy/util-stream/dist-cjs/splitStream.browser.js", "../../node_modules/@smithy/util-stream/dist-cjs/splitStream.js", "../../node_modules/@smithy/util-stream/dist-cjs/index.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/collect-stream-body.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/extended-encode-uri-component.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/deref.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/operation.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/middleware/schemaDeserializationMiddleware.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/middleware/schemaSerializationMiddleware.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/middleware/getSchemaSerdePlugin.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/Schema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/ListSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/MapSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/OperationSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/StructureSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/ErrorSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/translateTraits.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/NormalizedSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/SimpleSchema.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/schemas/sentinels.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/TypeRegistry.js", "../../node_modules/@smithy/core/dist-es/submodules/schema/index.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/copyDocumentWithTransform.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/parse-utils.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/date-utils.js", "../../node_modules/tslib/tslib.es6.mjs", "../../node_modules/@smithy/uuid/dist-cjs/randomUUID.js", "../../node_modules/@smithy/uuid/dist-cjs/index.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/generateIdempotencyToken.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/lazy-json.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/quote-header.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/schema-serde-lib/schema-date-utils.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/split-every.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/split-header.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/value/NumericValue.js", "../../node_modules/@smithy/core/dist-es/submodules/serde/index.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/SerdeContext.js", "../../node_modules/@smithy/core/dist-es/submodules/event-streams/EventStreamSerde.js", "../../node_modules/@smithy/core/dist-es/submodules/event-streams/index.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/HttpProtocol.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/HttpBindingProtocol.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/RpcProtocol.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/resolve-path.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/requestBuilder.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/serde/determineTimestampFormat.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/serde/FromStringShapeDeserializer.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/serde/HttpInterceptingShapeDeserializer.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/serde/ToStringShapeSerializer.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/serde/HttpInterceptingShapeSerializer.js", "../../node_modules/@smithy/core/dist-es/submodules/protocols/index.js", "../../node_modules/@smithy/core/dist-es/request-builder/requestBuilder.js", "../../node_modules/@smithy/core/dist-es/setFeature.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/DefaultIdentityProviderConfig.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/httpAuthSchemes/httpApiKeyAuth.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/httpAuthSchemes/httpBearerAuth.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/httpAuthSchemes/noAuth.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/httpAuthSchemes/index.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/memoizeIdentityProvider.js", "../../node_modules/@smithy/core/dist-es/util-identity-and-auth/index.js", "../../node_modules/@smithy/core/dist-es/index.js", "../../node_modules/@smithy/util-endpoints/dist-cjs/index.js", "../../node_modules/@smithy/querystring-parser/dist-cjs/index.js", "../../node_modules/@smithy/url-parser/dist-cjs/index.js", "../../node_modules/@aws-sdk/util-endpoints/dist-cjs/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/client/emitWarningIfUnsupportedVersion.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/client/setCredentialFeature.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/client/setFeature.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/client/setTokenFeature.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/client/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getDateHeader.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getSkewCorrectedDate.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/isClockSkewed.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getUpdatedSystemClockOffset.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4Signer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/AwsSdkSigV4ASigner.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getArrayForCommaSeparatedString.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/utils/getBearerTokenEnvKey.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/NODE_AUTH_SCHEME_PREFERENCE_OPTIONS.js", "../../node_modules/@smithy/property-provider/dist-cjs/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4AConfig.js", "../../node_modules/@smithy/signature-v4/dist-cjs/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/resolveAwsSdkSigV4Config.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/aws_sdk/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/httpAuthSchemes/index.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/cbor-types.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/cbor-decode.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/cbor-encode.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/cbor.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/parseCborBody.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/CborCodec.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/SmithyRpcV2CborProtocol.js", "../../node_modules/@smithy/core/dist-es/submodules/cbor/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/ProtocolLib.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/cbor/AwsSmithyRpcV2CborProtocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/coercing-serializers.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/ConfigurableSerdeContext.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/jsonReviver.js", "../../node_modules/@smithy/middleware-stack/dist-cjs/index.js", "../../node_modules/@smithy/smithy-client/dist-cjs/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/common.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/parseJsonBody.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/JsonShapeDeserializer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/jsonReplacer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/JsonShapeSerializer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/JsonCodec.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/AwsJsonRpcProtocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/AwsJson1_0Protocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/AwsJson1_1Protocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/AwsRestJsonProtocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/json/awsExpectUnion.js", "../../node_modules/fast-xml-parser/lib/fxp.cjs", "../../node_modules/@aws-sdk/xml-builder/dist-cjs/xml-parser.js", "../../node_modules/@aws-sdk/xml-builder/dist-cjs/index.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeDeserializer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/query/QueryShapeSerializer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/query/AwsQueryProtocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/query/AwsEc2QueryProtocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/parseXmlBody.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlShapeSerializer.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/XmlCodec.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/xml/AwsRestXmlProtocol.js", "../../node_modules/@aws-sdk/core/dist-es/submodules/protocols/index.js", "../../node_modules/@aws-sdk/core/dist-es/index.js", "../../node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js", "../../node_modules/@smithy/util-config-provider/dist-cjs/index.js", "../../node_modules/@smithy/config-resolver/dist-cjs/index.js", "../../node_modules/@smithy/middleware-content-length/dist-cjs/index.js", "../../node_modules/@smithy/shared-ini-file-loader/dist-cjs/getHomeDir.js", "../../node_modules/@smithy/shared-ini-file-loader/dist-cjs/getSSOTokenFilepath.js", "../../node_modules/@smithy/shared-ini-file-loader/dist-cjs/getSSOTokenFromFile.js", "../../node_modules/@smithy/shared-ini-file-loader/dist-cjs/readFile.js", "../../node_modules/@smithy/shared-ini-file-loader/dist-cjs/index.js", "../../node_modules/@smithy/node-config-provider/dist-cjs/index.js", "../../node_modules/@smithy/middleware-endpoint/dist-cjs/adaptors/getEndpointUrlConfig.js", "../../node_modules/@smithy/middleware-endpoint/dist-cjs/adaptors/getEndpointFromConfig.js", "../../node_modules/@smithy/middleware-endpoint/dist-cjs/index.js", "../../node_modules/@smithy/service-error-classification/dist-cjs/index.js", "../../node_modules/@smithy/util-retry/dist-cjs/index.js", "../../node_modules/@smithy/middleware-retry/dist-cjs/isStreamingPayload/isStreamingPayload.js", "../../node_modules/@smithy/middleware-retry/dist-cjs/index.js", "../../node_modules/@aws-sdk/util-arn-parser/dist-cjs/index.js", "../../node_modules/@aws-sdk/middleware-sdk-s3/dist-cjs/index.js", "../../node_modules/@aws-sdk/signature-v4-multi-region/dist-cjs/index.js", "../../node_modules/@aws-sdk/client-eventbridge/dist-cjs/endpoint/ruleset.js", "../../node_modules/@aws-sdk/client-eventbridge/dist-cjs/endpoint/endpointResolver.js", "../../node_modules/@aws-sdk/client-eventbridge/dist-cjs/auth/httpAuthSchemeProvider.js", "../../node_modules/@aws-sdk/client-eventbridge/package.json", "../../node_modules/@aws-sdk/credential-provider-env/dist-cjs/index.js", "../../node_modules/@smithy/credential-provider-imds/dist-cjs/index.js", "../../node_modules/@aws-sdk/credential-provider-http/dist-cjs/fromHttp/checkUrl.js", "../../node_modules/@aws-sdk/credential-provider-http/dist-cjs/fromHttp/requestHelpers.js", "../../node_modules/@aws-sdk/credential-provider-http/dist-cjs/fromHttp/retry-wrapper.js", "../../node_modules/@aws-sdk/credential-provider-http/dist-cjs/fromHttp/fromHttp.js", "../../node_modules/@aws-sdk/credential-provider-http/dist-cjs/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/auth/httpAuthSchemeProvider.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/endpoint/EndpointParameters.js", "../../node_modules/@aws-sdk/nested-clients/package.json", "../../node_modules/@aws-sdk/util-user-agent-node/dist-cjs/index.js", "../../node_modules/@smithy/hash-node/dist-cjs/index.js", "../../node_modules/@smithy/util-body-length-node/dist-cjs/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/endpoint/ruleset.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/endpoint/endpointResolver.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/runtimeConfig.shared.js", "../../node_modules/@smithy/util-defaults-mode-node/dist-cjs/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/runtimeConfig.js", "../../node_modules/@aws-sdk/region-config-resolver/dist-cjs/regionConfig/stsRegionDefaultResolver.js", "../../node_modules/@aws-sdk/region-config-resolver/dist-cjs/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/auth/httpAuthExtensionConfiguration.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/runtimeExtensions.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/SSOOIDCClient.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/models/SSOOIDCServiceException.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/models/models_0.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/models/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/schemas/schemas_0.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/commands/CreateTokenCommand.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/SSOOIDC.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/commands/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sso-oidc/index.js", "../../node_modules/@aws-sdk/token-providers/dist-cjs/index.js", "../../node_modules/@aws-sdk/client-sso/dist-cjs/auth/httpAuthSchemeProvider.js", "../../node_modules/@aws-sdk/client-sso/package.json", "../../node_modules/@aws-sdk/client-sso/dist-cjs/endpoint/ruleset.js", "../../node_modules/@aws-sdk/client-sso/dist-cjs/endpoint/endpointResolver.js", "../../node_modules/@aws-sdk/client-sso/dist-cjs/runtimeConfig.shared.js", "../../node_modules/@aws-sdk/client-sso/dist-cjs/runtimeConfig.js", "../../node_modules/@aws-sdk/client-sso/dist-cjs/index.js", "../../node_modules/@aws-sdk/credential-provider-sso/dist-cjs/loadSso-CVy8iqsZ.js", "../../node_modules/@aws-sdk/credential-provider-sso/dist-cjs/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/auth/httpAuthSchemeProvider.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/endpoint/EndpointParameters.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/endpoint/ruleset.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/endpoint/endpointResolver.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/runtimeConfig.shared.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/runtimeConfig.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/auth/httpAuthExtensionConfiguration.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/runtimeExtensions.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/STSClient.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/models/STSServiceException.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/models/models_0.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/protocols/Aws_query.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/commands/AssumeRoleCommand.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/commands/AssumeRoleWithWebIdentityCommand.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/STS.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/commands/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/models/index.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/defaultStsRoleAssumers.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/defaultRoleAssumers.js", "../../node_modules/@aws-sdk/nested-clients/dist-es/submodules/sts/index.js", "../../node_modules/@aws-sdk/credential-provider-process/dist-cjs/index.js", "../../node_modules/@aws-sdk/credential-provider-web-identity/dist-cjs/fromWebToken.js", "../../node_modules/@aws-sdk/credential-provider-web-identity/dist-cjs/fromTokenFile.js", "../../node_modules/@aws-sdk/credential-provider-web-identity/dist-cjs/index.js", "../../node_modules/@aws-sdk/credential-provider-ini/dist-cjs/index.js", "../../node_modules/@aws-sdk/credential-provider-node/dist-cjs/index.js", "../../node_modules/@aws-sdk/client-eventbridge/dist-cjs/runtimeConfig.shared.js", "../../node_modules/@aws-sdk/client-eventbridge/dist-cjs/runtimeConfig.js", "../../node_modules/@aws-sdk/client-eventbridge/dist-cjs/index.js", "../../node_modules/lodash.merge/index.js", "../../node_modules/uuid/dist/esm-node/max.js", "../../node_modules/uuid/dist/esm-node/nil.js", "../../node_modules/uuid/dist/esm-node/regex.js", "../../node_modules/uuid/dist/esm-node/validate.js", "../../node_modules/uuid/dist/esm-node/parse.js", "../../node_modules/uuid/dist/esm-node/stringify.js", "../../node_modules/uuid/dist/esm-node/rng.js", "../../node_modules/uuid/dist/esm-node/v1.js", "../../node_modules/uuid/dist/esm-node/v1ToV6.js", "../../node_modules/uuid/dist/esm-node/v35.js", "../../node_modules/uuid/dist/esm-node/md5.js", "../../node_modules/uuid/dist/esm-node/v3.js", "../../node_modules/uuid/dist/esm-node/native.js", "../../node_modules/uuid/dist/esm-node/v4.js", "../../node_modules/uuid/dist/esm-node/sha1.js", "../../node_modules/uuid/dist/esm-node/v5.js", "../../node_modules/uuid/dist/esm-node/v6.js", "../../node_modules/uuid/dist/esm-node/v6ToV1.js", "../../node_modules/uuid/dist/esm-node/v7.js", "../../node_modules/uuid/dist/esm-node/version.js", "../../node_modules/uuid/dist/esm-node/index.js", "../../node_modules/shimmer/index.js", "../../node_modules/emitter-listener/listener.js", "../../node_modules/cls-hooked/context.js", "../../node_modules/aws-xray-sdk-core/dist/lib/logger.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/attributes/captured_exception.js", "../../node_modules/atomic-batcher/index.js", "../../node_modules/aws-xray-sdk-core/dist/lib/daemon_config.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segment_emitter.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/attributes/trace_id.js", "../../node_modules/aws-xray-sdk-core/dist/lib/utils.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/segment_utils.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/attributes/remote_request_data.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/attributes/subsegment.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/segment.js", "../../node_modules/aws-xray-sdk-core/dist/lib/context_utils.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/incoming_request_data.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/local_reservoir.js", "../../node_modules/aws-xray-sdk-core/dist/lib/resources/default_sampling_rules.json", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/local_sampler.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/reservoir.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/sampling_rule.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/service_connector.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/rule_cache.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/rule_poller.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/target_poller.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/sampling/default_sampler.js", "../../node_modules/aws-xray-sdk-core/dist/lib/middleware/mw_utils.js", "../../node_modules/aws-xray-sdk-core/node_modules/@aws/lambda-invoke-store/dist/invoke-store.js", "../../node_modules/aws-xray-sdk-core/dist/lib/env/aws_lambda.js", "../../node_modules/aws-xray-sdk-core/package.json", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/plugins/plugin.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/plugins/ec2_plugin.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/plugins/ecs_plugin.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/plugins/elastic_beanstalk_plugin.js", "../../node_modules/aws-xray-sdk-core/dist/lib/resources/aws_whitelist.json", "../../node_modules/aws-xray-sdk-core/dist/lib/patchers/call_capturer.js", "../../node_modules/aws-xray-sdk-core/dist/lib/segments/attributes/aws.js", "../../node_modules/aws-xray-sdk-core/dist/lib/capture.js", "../../node_modules/semver/internal/constants.js", "../../node_modules/semver/internal/debug.js", "../../node_modules/semver/internal/re.js", "../../node_modules/semver/internal/parse-options.js", "../../node_modules/semver/internal/identifiers.js", "../../node_modules/semver/classes/semver.js", "../../node_modules/semver/functions/parse.js", "../../node_modules/semver/functions/valid.js", "../../node_modules/semver/functions/clean.js", "../../node_modules/semver/functions/inc.js", "../../node_modules/semver/functions/diff.js", "../../node_modules/semver/functions/major.js", "../../node_modules/semver/functions/minor.js", "../../node_modules/semver/functions/patch.js", "../../node_modules/semver/functions/prerelease.js", "../../node_modules/semver/functions/compare.js", "../../node_modules/semver/functions/rcompare.js", "../../node_modules/semver/functions/compare-loose.js", "../../node_modules/semver/functions/compare-build.js", "../../node_modules/semver/functions/sort.js", "../../node_modules/semver/functions/rsort.js", "../../node_modules/semver/functions/gt.js", "../../node_modules/semver/functions/lt.js", "../../node_modules/semver/functions/eq.js", "../../node_modules/semver/functions/neq.js", "../../node_modules/semver/functions/gte.js", "../../node_modules/semver/functions/lte.js", "../../node_modules/semver/functions/cmp.js", "../../node_modules/semver/functions/coerce.js", "../../node_modules/semver/internal/lrucache.js", "../../node_modules/semver/classes/range.js", "../../node_modules/semver/classes/comparator.js", "../../node_modules/semver/functions/satisfies.js", "../../node_modules/semver/ranges/to-comparators.js", "../../node_modules/semver/ranges/max-satisfying.js", "../../node_modules/semver/ranges/min-satisfying.js", "../../node_modules/semver/ranges/min-version.js", "../../node_modules/semver/ranges/valid.js", "../../node_modules/semver/ranges/outside.js", "../../node_modules/semver/ranges/gtr.js", "../../node_modules/semver/ranges/ltr.js", "../../node_modules/semver/ranges/intersects.js", "../../node_modules/semver/ranges/simplify.js", "../../node_modules/semver/ranges/subset.js", "../../node_modules/semver/index.js", "../../node_modules/aws-xray-sdk-core/dist/lib/patchers/aws_p.js", "../../node_modules/aws-xray-sdk-core/node_modules/@smithy/service-error-classification/dist-cjs/index.js", "../../node_modules/aws-xray-sdk-core/dist/lib/patchers/aws3_p.js", "../../node_modules/aws-xray-sdk-core/dist/lib/patchers/http_p.js", "../../node_modules/aws-xray-sdk-core/dist/lib/patchers/promise_p.js", "../../node_modules/aws-xray-sdk-core/dist/lib/database/sql_data.js", "../../node_modules/aws-xray-sdk-core/dist/lib/aws-xray.js", "../../node_modules/aws-xray-sdk-core/dist/lib/index.js", "../../node_modules/postgres-array/index.js", "../../node_modules/pg-types/lib/arrayParser.js", "../../node_modules/postgres-date/index.js", "../../node_modules/xtend/mutable.js", "../../node_modules/postgres-interval/index.js", "../../node_modules/postgres-bytea/index.js", "../../node_modules/pg-types/lib/textParsers.js", "../../node_modules/pg-int8/index.js", "../../node_modules/pg-types/lib/binaryParsers.js", "../../node_modules/pg-types/lib/builtins.js", "../../node_modules/pg-types/index.js", "../../node_modules/pg/lib/defaults.js", "../../node_modules/pg/lib/utils.js", "../../node_modules/pg/lib/crypto/utils-legacy.js", "../../node_modules/pg/lib/crypto/utils-webcrypto.js", "../../node_modules/pg/lib/crypto/utils.js", "../../node_modules/pg/lib/crypto/cert-signatures.js", "../../node_modules/pg/lib/crypto/sasl.js", "../../node_modules/pg/lib/type-overrides.js", "../../node_modules/pg-connection-string/index.js", "../../node_modules/pg/lib/connection-parameters.js", "../../node_modules/pg/lib/result.js", "../../node_modules/pg/lib/query.js", "../../node_modules/pg-protocol/src/messages.ts", "../../node_modules/pg-protocol/src/buffer-writer.ts", "../../node_modules/pg-protocol/src/serializer.ts", "../../node_modules/pg-protocol/src/buffer-reader.ts", "../../node_modules/pg-protocol/src/parser.ts", "../../node_modules/pg-protocol/src/index.ts", "../../node_modules/pg-cloudflare/src/empty.ts", "../../node_modules/pg/lib/stream.js", "../../node_modules/pg/lib/connection.js", "../../node_modules/split2/index.js", "../../node_modules/pgpass/lib/helper.js", "../../node_modules/pgpass/lib/index.js", "../../node_modules/pg/lib/client.js", "../../node_modules/pg-pool/index.js", "../../node_modules/pg/lib/native/query.js", "../../node_modules/pg/lib/native/client.js", "../../node_modules/pg/lib/native/index.js", "../../node_modules/pg/lib/index.js", "../../lambda/agents/atendimento.ts", "../../lambda/shared/error-handler.ts", "../../node_modules/@aws-lambda-powertools/logger/lib/esm/constants.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/constants.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/envUtils.js", "../../node_modules/@aws-lambda-powertools/logger/lib/esm/formatter/LogFormatter.js", "../../node_modules/@aws-lambda-powertools/logger/lib/esm/formatter/LogItem.js", "../../node_modules/@aws-lambda-powertools/logger/lib/esm/Logger.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/version.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/awsSdkUtils.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/middleware/constants.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/typeUtils.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/Utility.js", "../../node_modules/@aws-lambda-powertools/commons/lib/esm/index.js", "../../node_modules/@aws-lambda-powertools/logger/lib/esm/formatter/PowertoolsLogFormatter.js", "../../node_modules/@aws-lambda-powertools/logger/lib/esm/logBuffer.js", "../../lambda/shared/logger.ts", "../../node_modules/@aws-lambda-powertools/tracer/lib/esm/Tracer.js", "../../node_modules/@aws-lambda-powertools/tracer/lib/esm/provider/ProviderService.js", "../../node_modules/@aws-lambda-powertools/tracer/lib/esm/provider/utilities.js", "../../lambda/shared/xray-tracer.ts", "../../node_modules/pg/esm/index.mjs", "../../lambda/shared/database.ts", "../../node_modules/zod/v3/external.js", "../../node_modules/zod/v3/helpers/util.js", "../../node_modules/zod/v3/ZodError.js", "../../node_modules/zod/v3/locales/en.js", "../../node_modules/zod/v3/errors.js", "../../node_modules/zod/v3/helpers/parseUtil.js", "../../node_modules/zod/v3/helpers/errorUtil.js", "../../node_modules/zod/v3/types.js", "../../mcp-integrations/base-client.ts", "../../mcp-integrations/servers/whatsapp.ts", "../../lambda/shared/lgpd-compliance.ts"],
  "sourcesContent": ["'use strict';\n\nexports.HttpAuthLocation = void 0;\n(function (HttpAuthLocation) {\n    HttpAuthLocation[\"HEADER\"] = \"header\";\n    HttpAuthLocation[\"QUERY\"] = \"query\";\n})(exports.HttpAuthLocation || (exports.HttpAuthLocation = {}));\n\nexports.HttpApiKeyAuthLocation = void 0;\n(function (HttpApiKeyAuthLocation) {\n    HttpApiKeyAuthLocation[\"HEADER\"] = \"header\";\n    HttpApiKeyAuthLocation[\"QUERY\"] = \"query\";\n})(exports.HttpApiKeyAuthLocation || (exports.HttpApiKeyAuthLocation = {}));\n\nexports.EndpointURLScheme = void 0;\n(function (EndpointURLScheme) {\n    EndpointURLScheme[\"HTTP\"] = \"http\";\n    EndpointURLScheme[\"HTTPS\"] = \"https\";\n})(exports.EndpointURLScheme || (exports.EndpointURLScheme = {}));\n\nexports.AlgorithmId = void 0;\n(function (AlgorithmId) {\n    AlgorithmId[\"MD5\"] = \"md5\";\n    AlgorithmId[\"CRC32\"] = \"crc32\";\n    AlgorithmId[\"CRC32C\"] = \"crc32c\";\n    AlgorithmId[\"SHA1\"] = \"sha1\";\n    AlgorithmId[\"SHA256\"] = \"sha256\";\n})(exports.AlgorithmId || (exports.AlgorithmId = {}));\nconst getChecksumConfiguration = (runtimeConfig) => {\n    const checksumAlgorithms = [];\n    if (runtimeConfig.sha256 !== undefined) {\n        checksumAlgorithms.push({\n            algorithmId: () => exports.AlgorithmId.SHA256,\n            checksumConstructor: () => runtimeConfig.sha256,\n        });\n    }\n    if (runtimeConfig.md5 != undefined) {\n        checksumAlgorithms.push({\n            algorithmId: () => exports.AlgorithmId.MD5,\n            checksumConstructor: () => runtimeConfig.md5,\n        });\n    }\n    return {\n        addChecksumAlgorithm(algo) {\n            checksumAlgorithms.push(algo);\n        },\n        checksumAlgorithms() {\n            return checksumAlgorithms;\n        },\n    };\n};\nconst resolveChecksumRuntimeConfig = (clientConfig) => {\n    const runtimeConfig = {};\n    clientConfig.checksumAlgorithms().forEach((checksumAlgorithm) => {\n        runtimeConfig[checksumAlgorithm.algorithmId()] = checksumAlgorithm.checksumConstructor();\n    });\n    return runtimeConfig;\n};\n\nconst getDefaultClientConfiguration = (runtimeConfig) => {\n    return getChecksumConfiguration(runtimeConfig);\n};\nconst resolveDefaultRuntimeConfig = (config) => {\n    return resolveChecksumRuntimeConfig(config);\n};\n\nexports.FieldPosition = void 0;\n(function (FieldPosition) {\n    FieldPosition[FieldPosition[\"HEADER\"] = 0] = \"HEADER\";\n    FieldPosition[FieldPosition[\"TRAILER\"] = 1] = \"TRAILER\";\n})(exports.FieldPosition || (exports.FieldPosition = {}));\n\nconst SMITHY_CONTEXT_KEY = \"__smithy_context\";\n\nexports.IniSectionType = void 0;\n(function (IniSectionType) {\n    IniSectionType[\"PROFILE\"] = \"profile\";\n    IniSectionType[\"SSO_SESSION\"] = \"sso-session\";\n    IniSectionType[\"SERVICES\"] = \"services\";\n})(exports.IniSectionType || (exports.IniSectionType = {}));\n\nexports.RequestHandlerProtocol = void 0;\n(function (RequestHandlerProtocol) {\n    RequestHandlerProtocol[\"HTTP_0_9\"] = \"http/0.9\";\n    RequestHandlerProtocol[\"HTTP_1_0\"] = \"http/1.0\";\n    RequestHandlerProtocol[\"TDS_8_0\"] = \"tds/8.0\";\n})(exports.RequestHandlerProtocol || (exports.RequestHandlerProtocol = {}));\n\nexports.SMITHY_CONTEXT_KEY = SMITHY_CONTEXT_KEY;\nexports.getDefaultClientConfiguration = getDefaultClientConfiguration;\nexports.resolveDefaultRuntimeConfig = resolveDefaultRuntimeConfig;\n", "'use strict';\n\nvar types = require('@smithy/types');\n\nconst getHttpHandlerExtensionConfiguration = (runtimeConfig) => {\n    return {\n        setHttpHandler(handler) {\n            runtimeConfig.httpHandler = handler;\n        },\n        httpHandler() {\n            return runtimeConfig.httpHandler;\n        },\n        updateHttpClientConfig(key, value) {\n            runtimeConfig.httpHandler?.updateHttpClientConfig(key, value);\n        },\n        httpHandlerConfigs() {\n            return runtimeConfig.httpHandler.httpHandlerConfigs();\n        },\n    };\n};\nconst resolveHttpHandlerRuntimeConfig = (httpHandlerExtensionConfiguration) => {\n    return {\n        httpHandler: httpHandlerExtensionConfiguration.httpHandler(),\n    };\n};\n\nclass Field {\n    name;\n    kind;\n    values;\n    constructor({ name, kind = types.FieldPosition.HEADER, values = [] }) {\n        this.name = name;\n        this.kind = kind;\n        this.values = values;\n    }\n    add(value) {\n        this.values.push(value);\n    }\n    set(values) {\n        this.values = values;\n    }\n    remove(value) {\n        this.values = this.values.filter((v) => v !== value);\n    }\n    toString() {\n        return this.values.map((v) => (v.includes(\",\") || v.includes(\" \") ? `\"${v}\"` : v)).join(\", \");\n    }\n    get() {\n        return this.values;\n    }\n}\n\nclass Fields {\n    entries = {};\n    encoding;\n    constructor({ fields = [], encoding = \"utf-8\" }) {\n        fields.forEach(this.setField.bind(this));\n        this.encoding = encoding;\n    }\n    setField(field) {\n        this.entries[field.name.toLowerCase()] = field;\n    }\n    getField(name) {\n        return this.entries[name.toLowerCase()];\n    }\n    removeField(name) {\n        delete this.entries[name.toLowerCase()];\n    }\n    getByType(kind) {\n        return Object.values(this.entries).filter((field) => field.kind === kind);\n    }\n}\n\nclass HttpRequest {\n    method;\n    protocol;\n    hostname;\n    port;\n    path;\n    query;\n    headers;\n    username;\n    password;\n    fragment;\n    body;\n    constructor(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.slice(-1) !== \":\"\n                ? `${options.protocol}:`\n                : options.protocol\n            : \"https:\";\n        this.path = options.path ? (options.path.charAt(0) !== \"/\" ? `/${options.path}` : options.path) : \"/\";\n        this.username = options.username;\n        this.password = options.password;\n        this.fragment = options.fragment;\n    }\n    static clone(request) {\n        const cloned = new HttpRequest({\n            ...request,\n            headers: { ...request.headers },\n        });\n        if (cloned.query) {\n            cloned.query = cloneQuery(cloned.query);\n        }\n        return cloned;\n    }\n    static isInstance(request) {\n        if (!request) {\n            return false;\n        }\n        const req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    }\n    clone() {\n        return HttpRequest.clone(this);\n    }\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce((carry, paramName) => {\n        const param = query[paramName];\n        return {\n            ...carry,\n            [paramName]: Array.isArray(param) ? [...param] : param,\n        };\n    }, {});\n}\n\nclass HttpResponse {\n    statusCode;\n    reason;\n    headers;\n    body;\n    constructor(options) {\n        this.statusCode = options.statusCode;\n        this.reason = options.reason;\n        this.headers = options.headers || {};\n        this.body = options.body;\n    }\n    static isInstance(response) {\n        if (!response)\n            return false;\n        const resp = response;\n        return typeof resp.statusCode === \"number\" && typeof resp.headers === \"object\";\n    }\n}\n\nfunction isValidHostname(hostname) {\n    const hostPattern = /^[a-z0-9][a-z0-9\\.\\-]*[a-z0-9]$/;\n    return hostPattern.test(hostname);\n}\n\nexports.Field = Field;\nexports.Fields = Fields;\nexports.HttpRequest = HttpRequest;\nexports.HttpResponse = HttpResponse;\nexports.getHttpHandlerExtensionConfiguration = getHttpHandlerExtensionConfiguration;\nexports.isValidHostname = isValidHostname;\nexports.resolveHttpHandlerRuntimeConfig = resolveHttpHandlerRuntimeConfig;\n", "'use strict';\n\nvar protocolHttp = require('@smithy/protocol-http');\n\nfunction resolveHostHeaderConfig(input) {\n    return input;\n}\nconst hostHeaderMiddleware = (options) => (next) => async (args) => {\n    if (!protocolHttp.HttpRequest.isInstance(args.request))\n        return next(args);\n    const { request } = args;\n    const { handlerProtocol = \"\" } = options.requestHandler.metadata || {};\n    if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\n        delete request.headers[\"host\"];\n        request.headers[\":authority\"] = request.hostname + (request.port ? \":\" + request.port : \"\");\n    }\n    else if (!request.headers[\"host\"]) {\n        let host = request.hostname;\n        if (request.port != null)\n            host += `:${request.port}`;\n        request.headers[\"host\"] = host;\n    }\n    return next(args);\n};\nconst hostHeaderMiddlewareOptions = {\n    name: \"hostHeaderMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"HOST\"],\n    override: true,\n};\nconst getHostHeaderPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);\n    },\n});\n\nexports.getHostHeaderPlugin = getHostHeaderPlugin;\nexports.hostHeaderMiddleware = hostHeaderMiddleware;\nexports.hostHeaderMiddlewareOptions = hostHeaderMiddlewareOptions;\nexports.resolveHostHeaderConfig = resolveHostHeaderConfig;\n", "'use strict';\n\nconst loggerMiddleware = () => (next, context) => async (args) => {\n    try {\n        const response = await next(args);\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\n        const { overrideInputFilterSensitiveLog, overrideOutputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\n        const outputFilterSensitiveLog = overrideOutputFilterSensitiveLog ?? context.outputFilterSensitiveLog;\n        const { $metadata, ...outputWithoutMetadata } = response.output;\n        logger?.info?.({\n            clientName,\n            commandName,\n            input: inputFilterSensitiveLog(args.input),\n            output: outputFilterSensitiveLog(outputWithoutMetadata),\n            metadata: $metadata,\n        });\n        return response;\n    }\n    catch (error) {\n        const { clientName, commandName, logger, dynamoDbDocumentClientOptions = {} } = context;\n        const { overrideInputFilterSensitiveLog } = dynamoDbDocumentClientOptions;\n        const inputFilterSensitiveLog = overrideInputFilterSensitiveLog ?? context.inputFilterSensitiveLog;\n        logger?.error?.({\n            clientName,\n            commandName,\n            input: inputFilterSensitiveLog(args.input),\n            error,\n            metadata: error.$metadata,\n        });\n        throw error;\n    }\n};\nconst loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"initialize\",\n    override: true,\n};\nconst getLoggerPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n});\n\nexports.getLoggerPlugin = getLoggerPlugin;\nexports.loggerMiddleware = loggerMiddleware;\nexports.loggerMiddlewareOptions = loggerMiddlewareOptions;\n", "import { AsyncLocalStorage } from 'async_hooks';\n\nconst noGlobalAwsLambda = process.env[\"AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA\"] === \"1\" ||\n    process.env[\"AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA\"] === \"true\";\nif (!noGlobalAwsLambda) {\n    globalThis.awslambda = globalThis.awslambda || {};\n}\nconst PROTECTED_KEYS = {\n    REQUEST_ID: Symbol(\"_AWS_LAMBDA_REQUEST_ID\"),\n    X_RAY_TRACE_ID: Symbol(\"_AWS_LAMBDA_X_RAY_TRACE_ID\"),\n    TENANT_ID: Symbol(\"_AWS_LAMBDA_TENANT_ID\"),\n};\nclass InvokeStoreImpl {\n    static storage = new AsyncLocalStorage();\n    static PROTECTED_KEYS = PROTECTED_KEYS;\n    static run(context, fn) {\n        return this.storage.run({ ...context }, fn);\n    }\n    static getContext() {\n        return this.storage.getStore();\n    }\n    static get(key) {\n        const context = this.storage.getStore();\n        return context?.[key];\n    }\n    static set(key, value) {\n        if (this.isProtectedKey(key)) {\n            throw new Error(`Cannot modify protected Lambda context field`);\n        }\n        const context = this.storage.getStore();\n        if (context) {\n            context[key] = value;\n        }\n    }\n    static getRequestId() {\n        return this.get(this.PROTECTED_KEYS.REQUEST_ID) ?? \"-\";\n    }\n    static getXRayTraceId() {\n        return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID);\n    }\n    static getTenantId() {\n        return this.get(this.PROTECTED_KEYS.TENANT_ID);\n    }\n    static hasContext() {\n        return this.storage.getStore() !== undefined;\n    }\n    static isProtectedKey(key) {\n        return (key === this.PROTECTED_KEYS.REQUEST_ID ||\n            key === this.PROTECTED_KEYS.X_RAY_TRACE_ID);\n    }\n}\nlet instance;\nif (!noGlobalAwsLambda && globalThis.awslambda?.InvokeStore) {\n    instance = globalThis.awslambda.InvokeStore;\n}\nelse {\n    instance = InvokeStoreImpl;\n    if (!noGlobalAwsLambda && globalThis.awslambda) {\n        globalThis.awslambda.InvokeStore = instance;\n    }\n}\nconst InvokeStore = instance;\n\nexport { InvokeStore };\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.recursionDetectionMiddleware = void 0;\nconst lambda_invoke_store_1 = require(\"@aws/lambda-invoke-store\");\nconst protocol_http_1 = require(\"@smithy/protocol-http\");\nconst TRACE_ID_HEADER_NAME = \"X-Amzn-Trace-Id\";\nconst ENV_LAMBDA_FUNCTION_NAME = \"AWS_LAMBDA_FUNCTION_NAME\";\nconst ENV_TRACE_ID = \"_X_AMZN_TRACE_ID\";\nconst recursionDetectionMiddleware = () => (next) => async (args) => {\n    const { request } = args;\n    if (!protocol_http_1.HttpRequest.isInstance(request)) {\n        return next(args);\n    }\n    const traceIdHeader = Object.keys(request.headers ?? {}).find((h) => h.toLowerCase() === TRACE_ID_HEADER_NAME.toLowerCase()) ??\n        TRACE_ID_HEADER_NAME;\n    if (request.headers.hasOwnProperty(traceIdHeader)) {\n        return next(args);\n    }\n    const functionName = process.env[ENV_LAMBDA_FUNCTION_NAME];\n    const traceIdFromEnv = process.env[ENV_TRACE_ID];\n    const traceIdFromInvokeStore = lambda_invoke_store_1.InvokeStore.getXRayTraceId();\n    const traceId = traceIdFromInvokeStore ?? traceIdFromEnv;\n    const nonEmptyString = (str) => typeof str === \"string\" && str.length > 0;\n    if (nonEmptyString(functionName) && nonEmptyString(traceId)) {\n        request.headers[TRACE_ID_HEADER_NAME] = traceId;\n    }\n    return next({\n        ...args,\n        request,\n    });\n};\nexports.recursionDetectionMiddleware = recursionDetectionMiddleware;\n", "'use strict';\n\nvar recursionDetectionMiddleware = require('./recursionDetectionMiddleware');\n\nconst recursionDetectionMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"RECURSION_DETECTION\"],\n    name: \"recursionDetectionMiddleware\",\n    override: true,\n    priority: \"low\",\n};\n\nconst getRecursionDetectionPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(recursionDetectionMiddleware.recursionDetectionMiddleware(), recursionDetectionMiddlewareOptions);\n    },\n});\n\nexports.getRecursionDetectionPlugin = getRecursionDetectionPlugin;\nObject.keys(recursionDetectionMiddleware).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return recursionDetectionMiddleware[k]; }\n    });\n});\n", "import { SMITHY_CONTEXT_KEY } from \"@smithy/types\";\nexport const getSmithyContext = (context) => context[SMITHY_CONTEXT_KEY] || (context[SMITHY_CONTEXT_KEY] = {});\n", "'use strict';\n\nvar types = require('@smithy/types');\n\nconst getSmithyContext = (context) => context[types.SMITHY_CONTEXT_KEY] || (context[types.SMITHY_CONTEXT_KEY] = {});\n\nconst normalizeProvider = (input) => {\n    if (typeof input === \"function\")\n        return input;\n    const promisified = Promise.resolve(input);\n    return () => promisified;\n};\n\nexports.getSmithyContext = getSmithyContext;\nexports.normalizeProvider = normalizeProvider;\n", "export const resolveAuthOptions = (candidateAuthOptions, authSchemePreference) => {\n    if (!authSchemePreference || authSchemePreference.length === 0) {\n        return candidateAuthOptions;\n    }\n    const preferredAuthOptions = [];\n    for (const preferredSchemeName of authSchemePreference) {\n        for (const candidateAuthOption of candidateAuthOptions) {\n            const candidateAuthSchemeName = candidateAuthOption.schemeId.split(\"#\")[1];\n            if (candidateAuthSchemeName === preferredSchemeName) {\n                preferredAuthOptions.push(candidateAuthOption);\n            }\n        }\n    }\n    for (const candidateAuthOption of candidateAuthOptions) {\n        if (!preferredAuthOptions.find(({ schemeId }) => schemeId === candidateAuthOption.schemeId)) {\n            preferredAuthOptions.push(candidateAuthOption);\n        }\n    }\n    return preferredAuthOptions;\n};\n", "import { getSmithyContext } from \"@smithy/util-middleware\";\nimport { resolveAuthOptions } from \"./resolveAuthOptions\";\nfunction convertHttpAuthSchemesToMap(httpAuthSchemes) {\n    const map = new Map();\n    for (const scheme of httpAuthSchemes) {\n        map.set(scheme.schemeId, scheme);\n    }\n    return map;\n}\nexport const httpAuthSchemeMiddleware = (config, mwOptions) => (next, context) => async (args) => {\n    const options = config.httpAuthSchemeProvider(await mwOptions.httpAuthSchemeParametersProvider(config, context, args.input));\n    const authSchemePreference = config.authSchemePreference ? await config.authSchemePreference() : [];\n    const resolvedOptions = resolveAuthOptions(options, authSchemePreference);\n    const authSchemes = convertHttpAuthSchemesToMap(config.httpAuthSchemes);\n    const smithyContext = getSmithyContext(context);\n    const failureReasons = [];\n    for (const option of resolvedOptions) {\n        const scheme = authSchemes.get(option.schemeId);\n        if (!scheme) {\n            failureReasons.push(`HttpAuthScheme \\`${option.schemeId}\\` was not enabled for this service.`);\n            continue;\n        }\n        const identityProvider = scheme.identityProvider(await mwOptions.identityProviderConfigProvider(config));\n        if (!identityProvider) {\n            failureReasons.push(`HttpAuthScheme \\`${option.schemeId}\\` did not have an IdentityProvider configured.`);\n            continue;\n        }\n        const { identityProperties = {}, signingProperties = {} } = option.propertiesExtractor?.(config, context) || {};\n        option.identityProperties = Object.assign(option.identityProperties || {}, identityProperties);\n        option.signingProperties = Object.assign(option.signingProperties || {}, signingProperties);\n        smithyContext.selectedHttpAuthScheme = {\n            httpAuthOption: option,\n            identity: await identityProvider(option.identityProperties),\n            signer: scheme.signer,\n        };\n        break;\n    }\n    if (!smithyContext.selectedHttpAuthScheme) {\n        throw new Error(failureReasons.join(\"\\n\"));\n    }\n    return next(args);\n};\n", "import { httpAuthSchemeMiddleware } from \"./httpAuthSchemeMiddleware\";\nexport const httpAuthSchemeEndpointRuleSetMiddlewareOptions = {\n    step: \"serialize\",\n    tags: [\"HTTP_AUTH_SCHEME\"],\n    name: \"httpAuthSchemeMiddleware\",\n    override: true,\n    relation: \"before\",\n    toMiddleware: \"endpointV2Middleware\",\n};\nexport const getHttpAuthSchemeEndpointRuleSetPlugin = (config, { httpAuthSchemeParametersProvider, identityProviderConfigProvider, }) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(httpAuthSchemeMiddleware(config, {\n            httpAuthSchemeParametersProvider,\n            identityProviderConfigProvider,\n        }), httpAuthSchemeEndpointRuleSetMiddlewareOptions);\n    },\n});\n", "'use strict';\n\nvar protocolHttp = require('@smithy/protocol-http');\n\nconst deserializerMiddleware = (options, deserializer) => (next, context) => async (args) => {\n    const { response } = await next(args);\n    try {\n        const parsed = await deserializer(response, options);\n        return {\n            response,\n            output: parsed,\n        };\n    }\n    catch (error) {\n        Object.defineProperty(error, \"$response\", {\n            value: response,\n        });\n        if (!(\"$metadata\" in error)) {\n            const hint = `Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`;\n            try {\n                error.message += \"\\n  \" + hint;\n            }\n            catch (e) {\n                if (!context.logger || context.logger?.constructor?.name === \"NoOpLogger\") {\n                    console.warn(hint);\n                }\n                else {\n                    context.logger?.warn?.(hint);\n                }\n            }\n            if (typeof error.$responseBodyText !== \"undefined\") {\n                if (error.$response) {\n                    error.$response.body = error.$responseBodyText;\n                }\n            }\n            try {\n                if (protocolHttp.HttpResponse.isInstance(response)) {\n                    const { headers = {} } = response;\n                    const headerEntries = Object.entries(headers);\n                    error.$metadata = {\n                        httpStatusCode: response.statusCode,\n                        requestId: findHeader(/^x-[\\w-]+-request-?id$/, headerEntries),\n                        extendedRequestId: findHeader(/^x-[\\w-]+-id-2$/, headerEntries),\n                        cfId: findHeader(/^x-[\\w-]+-cf-id$/, headerEntries),\n                    };\n                }\n            }\n            catch (e) {\n            }\n        }\n        throw error;\n    }\n};\nconst findHeader = (pattern, headers) => {\n    return (headers.find(([k]) => {\n        return k.match(pattern);\n    }) || [void 0, void 0])[1];\n};\n\nconst serializerMiddleware = (options, serializer) => (next, context) => async (args) => {\n    const endpointConfig = options;\n    const endpoint = context.endpointV2?.url && endpointConfig.urlParser\n        ? async () => endpointConfig.urlParser(context.endpointV2.url)\n        : endpointConfig.endpoint;\n    if (!endpoint) {\n        throw new Error(\"No valid endpoint provider available.\");\n    }\n    const request = await serializer(args.input, { ...options, endpoint });\n    return next({\n        ...args,\n        request,\n    });\n};\n\nconst deserializerMiddlewareOption = {\n    name: \"deserializerMiddleware\",\n    step: \"deserialize\",\n    tags: [\"DESERIALIZER\"],\n    override: true,\n};\nconst serializerMiddlewareOption = {\n    name: \"serializerMiddleware\",\n    step: \"serialize\",\n    tags: [\"SERIALIZER\"],\n    override: true,\n};\nfunction getSerdePlugin(config, serializer, deserializer) {\n    return {\n        applyToStack: (commandStack) => {\n            commandStack.add(deserializerMiddleware(config, deserializer), deserializerMiddlewareOption);\n            commandStack.add(serializerMiddleware(config, serializer), serializerMiddlewareOption);\n        },\n    };\n}\n\nexports.deserializerMiddleware = deserializerMiddleware;\nexports.deserializerMiddlewareOption = deserializerMiddlewareOption;\nexports.getSerdePlugin = getSerdePlugin;\nexports.serializerMiddleware = serializerMiddleware;\nexports.serializerMiddlewareOption = serializerMiddlewareOption;\n", "import { serializerMiddlewareOption } from \"@smithy/middleware-serde\";\nimport { httpAuthSchemeMiddleware } from \"./httpAuthSchemeMiddleware\";\nexport const httpAuthSchemeMiddlewareOptions = {\n    step: \"serialize\",\n    tags: [\"HTTP_AUTH_SCHEME\"],\n    name: \"httpAuthSchemeMiddleware\",\n    override: true,\n    relation: \"before\",\n    toMiddleware: serializerMiddlewareOption.name,\n};\nexport const getHttpAuthSchemePlugin = (config, { httpAuthSchemeParametersProvider, identityProviderConfigProvider, }) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(httpAuthSchemeMiddleware(config, {\n            httpAuthSchemeParametersProvider,\n            identityProviderConfigProvider,\n        }), httpAuthSchemeMiddlewareOptions);\n    },\n});\n", "export * from \"./httpAuthSchemeMiddleware\";\nexport * from \"./getHttpAuthSchemeEndpointRuleSetPlugin\";\nexport * from \"./getHttpAuthSchemePlugin\";\n", "import { HttpRequest } from \"@smithy/protocol-http\";\nimport { getSmithyContext } from \"@smithy/util-middleware\";\nconst defaultErrorHandler = (signingProperties) => (error) => {\n    throw error;\n};\nconst defaultSuccessHandler = (httpResponse, signingProperties) => { };\nexport const httpSigningMiddleware = (config) => (next, context) => async (args) => {\n    if (!HttpRequest.isInstance(args.request)) {\n        return next(args);\n    }\n    const smithyContext = getSmithyContext(context);\n    const scheme = smithyContext.selectedHttpAuthScheme;\n    if (!scheme) {\n        throw new Error(`No HttpAuthScheme was selected: unable to sign request`);\n    }\n    const { httpAuthOption: { signingProperties = {} }, identity, signer, } = scheme;\n    const output = await next({\n        ...args,\n        request: await signer.sign(args.request, identity, signingProperties),\n    }).catch((signer.errorHandler || defaultErrorHandler)(signingProperties));\n    (signer.successHandler || defaultSuccessHandler)(output.response, signingProperties);\n    return output;\n};\n", "import { httpSigningMiddleware } from \"./httpSigningMiddleware\";\nexport const httpSigningMiddlewareOptions = {\n    step: \"finalizeRequest\",\n    tags: [\"HTTP_SIGNING\"],\n    name: \"httpSigningMiddleware\",\n    aliases: [\"apiKeyMiddleware\", \"tokenMiddleware\", \"awsAuthMiddleware\"],\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"retryMiddleware\",\n};\nexport const getHttpSigningPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(httpSigningMiddleware(config), httpSigningMiddlewareOptions);\n    },\n});\n", "export * from \"./httpSigningMiddleware\";\nexport * from \"./getHttpSigningMiddleware\";\n", "export const normalizeProvider = (input) => {\n    if (typeof input === \"function\")\n        return input;\n    const promisified = Promise.resolve(input);\n    return () => promisified;\n};\n", "const makePagedClientRequest = async (CommandCtor, client, input, withCommand = (_) => _, ...args) => {\n    let command = new CommandCtor(input);\n    command = withCommand(command) ?? command;\n    return await client.send(command, ...args);\n};\nexport function createPaginator(ClientCtor, CommandCtor, inputTokenName, outputTokenName, pageSizeTokenName) {\n    return async function* paginateOperation(config, input, ...additionalArguments) {\n        const _input = input;\n        let token = config.startingToken ?? _input[inputTokenName];\n        let hasNext = true;\n        let page;\n        while (hasNext) {\n            _input[inputTokenName] = token;\n            if (pageSizeTokenName) {\n                _input[pageSizeTokenName] = _input[pageSizeTokenName] ?? config.pageSize;\n            }\n            if (config.client instanceof ClientCtor) {\n                page = await makePagedClientRequest(CommandCtor, config.client, input, config.withCommand, ...additionalArguments);\n            }\n            else {\n                throw new Error(`Invalid client, expected instance of ${ClientCtor.name}`);\n            }\n            yield page;\n            const prevToken = token;\n            token = get(page, outputTokenName);\n            hasNext = !!(token && (!config.stopOnSameToken || token !== prevToken));\n        }\n        return undefined;\n    };\n}\nconst get = (fromObject, path) => {\n    let cursor = fromObject;\n    const pathComponents = path.split(\".\");\n    for (const step of pathComponents) {\n        if (!cursor || typeof cursor !== \"object\") {\n            return undefined;\n        }\n        cursor = cursor[step];\n    }\n    return cursor;\n};\n", "'use strict';\n\nconst isArrayBuffer = (arg) => (typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n    Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\";\n\nexports.isArrayBuffer = isArrayBuffer;\n", "'use strict';\n\nvar isArrayBuffer = require('@smithy/is-array-buffer');\nvar buffer = require('buffer');\n\nconst fromArrayBuffer = (input, offset = 0, length = input.byteLength - offset) => {\n    if (!isArrayBuffer.isArrayBuffer(input)) {\n        throw new TypeError(`The \"input\" argument must be ArrayBuffer. Received type ${typeof input} (${input})`);\n    }\n    return buffer.Buffer.from(input, offset, length);\n};\nconst fromString = (input, encoding) => {\n    if (typeof input !== \"string\") {\n        throw new TypeError(`The \"input\" argument must be of type string. Received type ${typeof input} (${input})`);\n    }\n    return encoding ? buffer.Buffer.from(input, encoding) : buffer.Buffer.from(input);\n};\n\nexports.fromArrayBuffer = fromArrayBuffer;\nexports.fromString = fromString;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromBase64 = void 0;\nconst util_buffer_from_1 = require(\"@smithy/util-buffer-from\");\nconst BASE64_REGEX = /^[A-Za-z0-9+/]*={0,2}$/;\nconst fromBase64 = (input) => {\n    if ((input.length * 3) % 4 !== 0) {\n        throw new TypeError(`Incorrect padding on base64 string.`);\n    }\n    if (!BASE64_REGEX.exec(input)) {\n        throw new TypeError(`Invalid base64 string.`);\n    }\n    const buffer = (0, util_buffer_from_1.fromString)(input, \"base64\");\n    return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n};\nexports.fromBase64 = fromBase64;\n", "'use strict';\n\nvar utilBufferFrom = require('@smithy/util-buffer-from');\n\nconst fromUtf8 = (input) => {\n    const buf = utilBufferFrom.fromString(input, \"utf8\");\n    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n};\n\nconst toUint8Array = (data) => {\n    if (typeof data === \"string\") {\n        return fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n};\n\nconst toUtf8 = (input) => {\n    if (typeof input === \"string\") {\n        return input;\n    }\n    if (typeof input !== \"object\" || typeof input.byteOffset !== \"number\" || typeof input.byteLength !== \"number\") {\n        throw new Error(\"@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.\");\n    }\n    return utilBufferFrom.fromArrayBuffer(input.buffer, input.byteOffset, input.byteLength).toString(\"utf8\");\n};\n\nexports.fromUtf8 = fromUtf8;\nexports.toUint8Array = toUint8Array;\nexports.toUtf8 = toUtf8;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toBase64 = void 0;\nconst util_buffer_from_1 = require(\"@smithy/util-buffer-from\");\nconst util_utf8_1 = require(\"@smithy/util-utf8\");\nconst toBase64 = (_input) => {\n    let input;\n    if (typeof _input === \"string\") {\n        input = (0, util_utf8_1.fromUtf8)(_input);\n    }\n    else {\n        input = _input;\n    }\n    if (typeof input !== \"object\" || typeof input.byteOffset !== \"number\" || typeof input.byteLength !== \"number\") {\n        throw new Error(\"@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.\");\n    }\n    return (0, util_buffer_from_1.fromArrayBuffer)(input.buffer, input.byteOffset, input.byteLength).toString(\"base64\");\n};\nexports.toBase64 = toBase64;\n", "'use strict';\n\nvar fromBase64 = require('./fromBase64');\nvar toBase64 = require('./toBase64');\n\n\n\nObject.keys(fromBase64).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return fromBase64[k]; }\n\t});\n});\nObject.keys(toBase64).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return toBase64[k]; }\n\t});\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChecksumStream = void 0;\nconst util_base64_1 = require(\"@smithy/util-base64\");\nconst stream_1 = require(\"stream\");\nclass ChecksumStream extends stream_1.Duplex {\n    expectedChecksum;\n    checksumSourceLocation;\n    checksum;\n    source;\n    base64Encoder;\n    constructor({ expectedChecksum, checksum, source, checksumSourceLocation, base64Encoder, }) {\n        super();\n        if (typeof source.pipe === \"function\") {\n            this.source = source;\n        }\n        else {\n            throw new Error(`@smithy/util-stream: unsupported source type ${source?.constructor?.name ?? source} in ChecksumStream.`);\n        }\n        this.base64Encoder = base64Encoder ?? util_base64_1.toBase64;\n        this.expectedChecksum = expectedChecksum;\n        this.checksum = checksum;\n        this.checksumSourceLocation = checksumSourceLocation;\n        this.source.pipe(this);\n    }\n    _read(size) { }\n    _write(chunk, encoding, callback) {\n        try {\n            this.checksum.update(chunk);\n            this.push(chunk);\n        }\n        catch (e) {\n            return callback(e);\n        }\n        return callback();\n    }\n    async _final(callback) {\n        try {\n            const digest = await this.checksum.digest();\n            const received = this.base64Encoder(digest);\n            if (this.expectedChecksum !== received) {\n                return callback(new Error(`Checksum mismatch: expected \"${this.expectedChecksum}\" but received \"${received}\"` +\n                    ` in response header \"${this.checksumSourceLocation}\".`));\n            }\n        }\n        catch (e) {\n            return callback(e);\n        }\n        this.push(null);\n        return callback();\n    }\n}\nexports.ChecksumStream = ChecksumStream;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBlob = exports.isReadableStream = void 0;\nconst isReadableStream = (stream) => typeof ReadableStream === \"function\" &&\n    (stream?.constructor?.name === ReadableStream.name || stream instanceof ReadableStream);\nexports.isReadableStream = isReadableStream;\nconst isBlob = (blob) => {\n    return typeof Blob === \"function\" && (blob?.constructor?.name === Blob.name || blob instanceof Blob);\n};\nexports.isBlob = isBlob;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChecksumStream = void 0;\nconst ReadableStreamRef = typeof ReadableStream === \"function\" ? ReadableStream : function () { };\nclass ChecksumStream extends ReadableStreamRef {\n}\nexports.ChecksumStream = ChecksumStream;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createChecksumStream = void 0;\nconst util_base64_1 = require(\"@smithy/util-base64\");\nconst stream_type_check_1 = require(\"../stream-type-check\");\nconst ChecksumStream_browser_1 = require(\"./ChecksumStream.browser\");\nconst createChecksumStream = ({ expectedChecksum, checksum, source, checksumSourceLocation, base64Encoder, }) => {\n    if (!(0, stream_type_check_1.isReadableStream)(source)) {\n        throw new Error(`@smithy/util-stream: unsupported source type ${source?.constructor?.name ?? source} in ChecksumStream.`);\n    }\n    const encoder = base64Encoder ?? util_base64_1.toBase64;\n    if (typeof TransformStream !== \"function\") {\n        throw new Error(\"@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.\");\n    }\n    const transform = new TransformStream({\n        start() { },\n        async transform(chunk, controller) {\n            checksum.update(chunk);\n            controller.enqueue(chunk);\n        },\n        async flush(controller) {\n            const digest = await checksum.digest();\n            const received = encoder(digest);\n            if (expectedChecksum !== received) {\n                const error = new Error(`Checksum mismatch: expected \"${expectedChecksum}\" but received \"${received}\"` +\n                    ` in response header \"${checksumSourceLocation}\".`);\n                controller.error(error);\n            }\n            else {\n                controller.terminate();\n            }\n        },\n    });\n    source.pipeThrough(transform);\n    const readable = transform.readable;\n    Object.setPrototypeOf(readable, ChecksumStream_browser_1.ChecksumStream.prototype);\n    return readable;\n};\nexports.createChecksumStream = createChecksumStream;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createChecksumStream = createChecksumStream;\nconst stream_type_check_1 = require(\"../stream-type-check\");\nconst ChecksumStream_1 = require(\"./ChecksumStream\");\nconst createChecksumStream_browser_1 = require(\"./createChecksumStream.browser\");\nfunction createChecksumStream(init) {\n    if (typeof ReadableStream === \"function\" && (0, stream_type_check_1.isReadableStream)(init.source)) {\n        return (0, createChecksumStream_browser_1.createChecksumStream)(init);\n    }\n    return new ChecksumStream_1.ChecksumStream(init);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ByteArrayCollector = void 0;\nclass ByteArrayCollector {\n    allocByteArray;\n    byteLength = 0;\n    byteArrays = [];\n    constructor(allocByteArray) {\n        this.allocByteArray = allocByteArray;\n    }\n    push(byteArray) {\n        this.byteArrays.push(byteArray);\n        this.byteLength += byteArray.byteLength;\n    }\n    flush() {\n        if (this.byteArrays.length === 1) {\n            const bytes = this.byteArrays[0];\n            this.reset();\n            return bytes;\n        }\n        const aggregation = this.allocByteArray(this.byteLength);\n        let cursor = 0;\n        for (let i = 0; i < this.byteArrays.length; ++i) {\n            const bytes = this.byteArrays[i];\n            aggregation.set(bytes, cursor);\n            cursor += bytes.byteLength;\n        }\n        this.reset();\n        return aggregation;\n    }\n    reset() {\n        this.byteArrays = [];\n        this.byteLength = 0;\n    }\n}\nexports.ByteArrayCollector = ByteArrayCollector;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBufferedReadable = void 0;\nexports.createBufferedReadableStream = createBufferedReadableStream;\nexports.merge = merge;\nexports.flush = flush;\nexports.sizeOf = sizeOf;\nexports.modeOf = modeOf;\nconst ByteArrayCollector_1 = require(\"./ByteArrayCollector\");\nfunction createBufferedReadableStream(upstream, size, logger) {\n    const reader = upstream.getReader();\n    let streamBufferingLoggedWarning = false;\n    let bytesSeen = 0;\n    const buffers = [\"\", new ByteArrayCollector_1.ByteArrayCollector((size) => new Uint8Array(size))];\n    let mode = -1;\n    const pull = async (controller) => {\n        const { value, done } = await reader.read();\n        const chunk = value;\n        if (done) {\n            if (mode !== -1) {\n                const remainder = flush(buffers, mode);\n                if (sizeOf(remainder) > 0) {\n                    controller.enqueue(remainder);\n                }\n            }\n            controller.close();\n        }\n        else {\n            const chunkMode = modeOf(chunk, false);\n            if (mode !== chunkMode) {\n                if (mode >= 0) {\n                    controller.enqueue(flush(buffers, mode));\n                }\n                mode = chunkMode;\n            }\n            if (mode === -1) {\n                controller.enqueue(chunk);\n                return;\n            }\n            const chunkSize = sizeOf(chunk);\n            bytesSeen += chunkSize;\n            const bufferSize = sizeOf(buffers[mode]);\n            if (chunkSize >= size && bufferSize === 0) {\n                controller.enqueue(chunk);\n            }\n            else {\n                const newSize = merge(buffers, mode, chunk);\n                if (!streamBufferingLoggedWarning && bytesSeen > size * 2) {\n                    streamBufferingLoggedWarning = true;\n                    logger?.warn(`@smithy/util-stream - stream chunk size ${chunkSize} is below threshold of ${size}, automatically buffering.`);\n                }\n                if (newSize >= size) {\n                    controller.enqueue(flush(buffers, mode));\n                }\n                else {\n                    await pull(controller);\n                }\n            }\n        }\n    };\n    return new ReadableStream({\n        pull,\n    });\n}\nexports.createBufferedReadable = createBufferedReadableStream;\nfunction merge(buffers, mode, chunk) {\n    switch (mode) {\n        case 0:\n            buffers[0] += chunk;\n            return sizeOf(buffers[0]);\n        case 1:\n        case 2:\n            buffers[mode].push(chunk);\n            return sizeOf(buffers[mode]);\n    }\n}\nfunction flush(buffers, mode) {\n    switch (mode) {\n        case 0:\n            const s = buffers[0];\n            buffers[0] = \"\";\n            return s;\n        case 1:\n        case 2:\n            return buffers[mode].flush();\n    }\n    throw new Error(`@smithy/util-stream - invalid index ${mode} given to flush()`);\n}\nfunction sizeOf(chunk) {\n    return chunk?.byteLength ?? chunk?.length ?? 0;\n}\nfunction modeOf(chunk, allowBuffer = true) {\n    if (allowBuffer && typeof Buffer !== \"undefined\" && chunk instanceof Buffer) {\n        return 2;\n    }\n    if (chunk instanceof Uint8Array) {\n        return 1;\n    }\n    if (typeof chunk === \"string\") {\n        return 0;\n    }\n    return -1;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createBufferedReadable = createBufferedReadable;\nconst node_stream_1 = require(\"node:stream\");\nconst ByteArrayCollector_1 = require(\"./ByteArrayCollector\");\nconst createBufferedReadableStream_1 = require(\"./createBufferedReadableStream\");\nconst stream_type_check_1 = require(\"./stream-type-check\");\nfunction createBufferedReadable(upstream, size, logger) {\n    if ((0, stream_type_check_1.isReadableStream)(upstream)) {\n        return (0, createBufferedReadableStream_1.createBufferedReadableStream)(upstream, size, logger);\n    }\n    const downstream = new node_stream_1.Readable({ read() { } });\n    let streamBufferingLoggedWarning = false;\n    let bytesSeen = 0;\n    const buffers = [\n        \"\",\n        new ByteArrayCollector_1.ByteArrayCollector((size) => new Uint8Array(size)),\n        new ByteArrayCollector_1.ByteArrayCollector((size) => Buffer.from(new Uint8Array(size))),\n    ];\n    let mode = -1;\n    upstream.on(\"data\", (chunk) => {\n        const chunkMode = (0, createBufferedReadableStream_1.modeOf)(chunk, true);\n        if (mode !== chunkMode) {\n            if (mode >= 0) {\n                downstream.push((0, createBufferedReadableStream_1.flush)(buffers, mode));\n            }\n            mode = chunkMode;\n        }\n        if (mode === -1) {\n            downstream.push(chunk);\n            return;\n        }\n        const chunkSize = (0, createBufferedReadableStream_1.sizeOf)(chunk);\n        bytesSeen += chunkSize;\n        const bufferSize = (0, createBufferedReadableStream_1.sizeOf)(buffers[mode]);\n        if (chunkSize >= size && bufferSize === 0) {\n            downstream.push(chunk);\n        }\n        else {\n            const newSize = (0, createBufferedReadableStream_1.merge)(buffers, mode, chunk);\n            if (!streamBufferingLoggedWarning && bytesSeen > size * 2) {\n                streamBufferingLoggedWarning = true;\n                logger?.warn(`@smithy/util-stream - stream chunk size ${chunkSize} is below threshold of ${size}, automatically buffering.`);\n            }\n            if (newSize >= size) {\n                downstream.push((0, createBufferedReadableStream_1.flush)(buffers, mode));\n            }\n        }\n    });\n    upstream.on(\"end\", () => {\n        if (mode !== -1) {\n            const remainder = (0, createBufferedReadableStream_1.flush)(buffers, mode);\n            if ((0, createBufferedReadableStream_1.sizeOf)(remainder) > 0) {\n                downstream.push(remainder);\n            }\n        }\n        downstream.push(null);\n    });\n    return downstream;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAwsChunkedEncodingStream = void 0;\nconst stream_1 = require(\"stream\");\nconst getAwsChunkedEncodingStream = (readableStream, options) => {\n    const { base64Encoder, bodyLengthChecker, checksumAlgorithmFn, checksumLocationName, streamHasher } = options;\n    const checksumRequired = base64Encoder !== undefined &&\n        checksumAlgorithmFn !== undefined &&\n        checksumLocationName !== undefined &&\n        streamHasher !== undefined;\n    const digest = checksumRequired ? streamHasher(checksumAlgorithmFn, readableStream) : undefined;\n    const awsChunkedEncodingStream = new stream_1.Readable({ read: () => { } });\n    readableStream.on(\"data\", (data) => {\n        const length = bodyLengthChecker(data) || 0;\n        awsChunkedEncodingStream.push(`${length.toString(16)}\\r\\n`);\n        awsChunkedEncodingStream.push(data);\n        awsChunkedEncodingStream.push(\"\\r\\n\");\n    });\n    readableStream.on(\"end\", async () => {\n        awsChunkedEncodingStream.push(`0\\r\\n`);\n        if (checksumRequired) {\n            const checksum = base64Encoder(await digest);\n            awsChunkedEncodingStream.push(`${checksumLocationName}:${checksum}\\r\\n`);\n            awsChunkedEncodingStream.push(`\\r\\n`);\n        }\n        awsChunkedEncodingStream.push(null);\n    });\n    return awsChunkedEncodingStream;\n};\nexports.getAwsChunkedEncodingStream = getAwsChunkedEncodingStream;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.headStream = headStream;\nasync function headStream(stream, bytes) {\n    let byteLengthCounter = 0;\n    const chunks = [];\n    const reader = stream.getReader();\n    let isDone = false;\n    while (!isDone) {\n        const { done, value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            byteLengthCounter += value?.byteLength ?? 0;\n        }\n        if (byteLengthCounter >= bytes) {\n            break;\n        }\n        isDone = done;\n    }\n    reader.releaseLock();\n    const collected = new Uint8Array(Math.min(bytes, byteLengthCounter));\n    let offset = 0;\n    for (const chunk of chunks) {\n        if (chunk.byteLength > collected.byteLength - offset) {\n            collected.set(chunk.subarray(0, collected.byteLength - offset), offset);\n            break;\n        }\n        else {\n            collected.set(chunk, offset);\n        }\n        offset += chunk.length;\n    }\n    return collected;\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.headStream = void 0;\nconst stream_1 = require(\"stream\");\nconst headStream_browser_1 = require(\"./headStream.browser\");\nconst stream_type_check_1 = require(\"./stream-type-check\");\nconst headStream = (stream, bytes) => {\n    if ((0, stream_type_check_1.isReadableStream)(stream)) {\n        return (0, headStream_browser_1.headStream)(stream, bytes);\n    }\n    return new Promise((resolve, reject) => {\n        const collector = new Collector();\n        collector.limit = bytes;\n        stream.pipe(collector);\n        stream.on(\"error\", (err) => {\n            collector.end();\n            reject(err);\n        });\n        collector.on(\"error\", reject);\n        collector.on(\"finish\", function () {\n            const bytes = new Uint8Array(Buffer.concat(this.buffers));\n            resolve(bytes);\n        });\n    });\n};\nexports.headStream = headStream;\nclass Collector extends stream_1.Writable {\n    buffers = [];\n    limit = Infinity;\n    bytesBuffered = 0;\n    _write(chunk, encoding, callback) {\n        this.buffers.push(chunk);\n        this.bytesBuffered += chunk.byteLength ?? 0;\n        if (this.bytesBuffered >= this.limit) {\n            const excess = this.bytesBuffered - this.limit;\n            const tailBuffer = this.buffers[this.buffers.length - 1];\n            this.buffers[this.buffers.length - 1] = tailBuffer.subarray(0, tailBuffer.byteLength - excess);\n            this.emit(\"finish\");\n        }\n        callback();\n    }\n}\n", "'use strict';\n\nconst escapeUri = (uri) => encodeURIComponent(uri).replace(/[!'()*]/g, hexEncode);\nconst hexEncode = (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`;\n\nconst escapeUriPath = (uri) => uri.split(\"/\").map(escapeUri).join(\"/\");\n\nexports.escapeUri = escapeUri;\nexports.escapeUriPath = escapeUriPath;\n", "'use strict';\n\nvar utilUriEscape = require('@smithy/util-uri-escape');\n\nfunction buildQueryString(query) {\n    const parts = [];\n    for (let key of Object.keys(query).sort()) {\n        const value = query[key];\n        key = utilUriEscape.escapeUri(key);\n        if (Array.isArray(value)) {\n            for (let i = 0, iLen = value.length; i < iLen; i++) {\n                parts.push(`${key}=${utilUriEscape.escapeUri(value[i])}`);\n            }\n        }\n        else {\n            let qsEntry = key;\n            if (value || typeof value === \"string\") {\n                qsEntry += `=${utilUriEscape.escapeUri(value)}`;\n            }\n            parts.push(qsEntry);\n        }\n    }\n    return parts.join(\"&\");\n}\n\nexports.buildQueryString = buildQueryString;\n", "'use strict';\n\nvar protocolHttp = require('@smithy/protocol-http');\nvar querystringBuilder = require('@smithy/querystring-builder');\nvar http = require('http');\nvar https = require('https');\nvar stream = require('stream');\nvar http2 = require('http2');\n\nconst NODEJS_TIMEOUT_ERROR_CODES = [\"ECONNRESET\", \"EPIPE\", \"ETIMEDOUT\"];\n\nconst getTransformedHeaders = (headers) => {\n    const transformedHeaders = {};\n    for (const name of Object.keys(headers)) {\n        const headerValues = headers[name];\n        transformedHeaders[name] = Array.isArray(headerValues) ? headerValues.join(\",\") : headerValues;\n    }\n    return transformedHeaders;\n};\n\nconst timing = {\n    setTimeout: (cb, ms) => setTimeout(cb, ms),\n    clearTimeout: (timeoutId) => clearTimeout(timeoutId),\n};\n\nconst DEFER_EVENT_LISTENER_TIME$2 = 1000;\nconst setConnectionTimeout = (request, reject, timeoutInMs = 0) => {\n    if (!timeoutInMs) {\n        return -1;\n    }\n    const registerTimeout = (offset) => {\n        const timeoutId = timing.setTimeout(() => {\n            request.destroy();\n            reject(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${timeoutInMs} ms.`), {\n                name: \"TimeoutError\",\n            }));\n        }, timeoutInMs - offset);\n        const doWithSocket = (socket) => {\n            if (socket?.connecting) {\n                socket.on(\"connect\", () => {\n                    timing.clearTimeout(timeoutId);\n                });\n            }\n            else {\n                timing.clearTimeout(timeoutId);\n            }\n        };\n        if (request.socket) {\n            doWithSocket(request.socket);\n        }\n        else {\n            request.on(\"socket\", doWithSocket);\n        }\n    };\n    if (timeoutInMs < 2000) {\n        registerTimeout(0);\n        return 0;\n    }\n    return timing.setTimeout(registerTimeout.bind(null, DEFER_EVENT_LISTENER_TIME$2), DEFER_EVENT_LISTENER_TIME$2);\n};\n\nconst setRequestTimeout = (req, reject, timeoutInMs = 0, throwOnRequestTimeout, logger) => {\n    if (timeoutInMs) {\n        return timing.setTimeout(() => {\n            let msg = `@smithy/node-http-handler - [${throwOnRequestTimeout ? \"ERROR\" : \"WARN\"}] a request has exceeded the configured ${timeoutInMs} ms requestTimeout.`;\n            if (throwOnRequestTimeout) {\n                const error = Object.assign(new Error(msg), {\n                    name: \"TimeoutError\",\n                    code: \"ETIMEDOUT\",\n                });\n                req.destroy(error);\n                reject(error);\n            }\n            else {\n                msg += ` Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.`;\n                logger?.warn?.(msg);\n            }\n        }, timeoutInMs);\n    }\n    return -1;\n};\n\nconst DEFER_EVENT_LISTENER_TIME$1 = 3000;\nconst setSocketKeepAlive = (request, { keepAlive, keepAliveMsecs }, deferTimeMs = DEFER_EVENT_LISTENER_TIME$1) => {\n    if (keepAlive !== true) {\n        return -1;\n    }\n    const registerListener = () => {\n        if (request.socket) {\n            request.socket.setKeepAlive(keepAlive, keepAliveMsecs || 0);\n        }\n        else {\n            request.on(\"socket\", (socket) => {\n                socket.setKeepAlive(keepAlive, keepAliveMsecs || 0);\n            });\n        }\n    };\n    if (deferTimeMs === 0) {\n        registerListener();\n        return 0;\n    }\n    return timing.setTimeout(registerListener, deferTimeMs);\n};\n\nconst DEFER_EVENT_LISTENER_TIME = 3000;\nconst setSocketTimeout = (request, reject, timeoutInMs = 0) => {\n    const registerTimeout = (offset) => {\n        const timeout = timeoutInMs - offset;\n        const onTimeout = () => {\n            request.destroy();\n            reject(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${timeoutInMs} ms of inactivity (configured by client requestHandler).`), { name: \"TimeoutError\" }));\n        };\n        if (request.socket) {\n            request.socket.setTimeout(timeout, onTimeout);\n            request.on(\"close\", () => request.socket?.removeListener(\"timeout\", onTimeout));\n        }\n        else {\n            request.setTimeout(timeout, onTimeout);\n        }\n    };\n    if (0 < timeoutInMs && timeoutInMs < 6000) {\n        registerTimeout(0);\n        return 0;\n    }\n    return timing.setTimeout(registerTimeout.bind(null, timeoutInMs === 0 ? 0 : DEFER_EVENT_LISTENER_TIME), DEFER_EVENT_LISTENER_TIME);\n};\n\nconst MIN_WAIT_TIME = 6_000;\nasync function writeRequestBody(httpRequest, request, maxContinueTimeoutMs = MIN_WAIT_TIME, externalAgent = false) {\n    const headers = request.headers ?? {};\n    const expect = headers.Expect || headers.expect;\n    let timeoutId = -1;\n    let sendBody = true;\n    if (!externalAgent && expect === \"100-continue\") {\n        sendBody = await Promise.race([\n            new Promise((resolve) => {\n                timeoutId = Number(timing.setTimeout(() => resolve(true), Math.max(MIN_WAIT_TIME, maxContinueTimeoutMs)));\n            }),\n            new Promise((resolve) => {\n                httpRequest.on(\"continue\", () => {\n                    timing.clearTimeout(timeoutId);\n                    resolve(true);\n                });\n                httpRequest.on(\"response\", () => {\n                    timing.clearTimeout(timeoutId);\n                    resolve(false);\n                });\n                httpRequest.on(\"error\", () => {\n                    timing.clearTimeout(timeoutId);\n                    resolve(false);\n                });\n            }),\n        ]);\n    }\n    if (sendBody) {\n        writeBody(httpRequest, request.body);\n    }\n}\nfunction writeBody(httpRequest, body) {\n    if (body instanceof stream.Readable) {\n        body.pipe(httpRequest);\n        return;\n    }\n    if (body) {\n        if (Buffer.isBuffer(body) || typeof body === \"string\") {\n            httpRequest.end(body);\n            return;\n        }\n        const uint8 = body;\n        if (typeof uint8 === \"object\" &&\n            uint8.buffer &&\n            typeof uint8.byteOffset === \"number\" &&\n            typeof uint8.byteLength === \"number\") {\n            httpRequest.end(Buffer.from(uint8.buffer, uint8.byteOffset, uint8.byteLength));\n            return;\n        }\n        httpRequest.end(Buffer.from(body));\n        return;\n    }\n    httpRequest.end();\n}\n\nconst DEFAULT_REQUEST_TIMEOUT = 0;\nclass NodeHttpHandler {\n    config;\n    configProvider;\n    socketWarningTimestamp = 0;\n    externalAgent = false;\n    metadata = { handlerProtocol: \"http/1.1\" };\n    static create(instanceOrOptions) {\n        if (typeof instanceOrOptions?.handle === \"function\") {\n            return instanceOrOptions;\n        }\n        return new NodeHttpHandler(instanceOrOptions);\n    }\n    static checkSocketUsage(agent, socketWarningTimestamp, logger = console) {\n        const { sockets, requests, maxSockets } = agent;\n        if (typeof maxSockets !== \"number\" || maxSockets === Infinity) {\n            return socketWarningTimestamp;\n        }\n        const interval = 15_000;\n        if (Date.now() - interval < socketWarningTimestamp) {\n            return socketWarningTimestamp;\n        }\n        if (sockets && requests) {\n            for (const origin in sockets) {\n                const socketsInUse = sockets[origin]?.length ?? 0;\n                const requestsEnqueued = requests[origin]?.length ?? 0;\n                if (socketsInUse >= maxSockets && requestsEnqueued >= 2 * maxSockets) {\n                    logger?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${socketsInUse} and ${requestsEnqueued} additional requests are enqueued.\nSee https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html\nor increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`);\n                    return Date.now();\n                }\n            }\n        }\n        return socketWarningTimestamp;\n    }\n    constructor(options) {\n        this.configProvider = new Promise((resolve, reject) => {\n            if (typeof options === \"function\") {\n                options()\n                    .then((_options) => {\n                    resolve(this.resolveDefaultConfig(_options));\n                })\n                    .catch(reject);\n            }\n            else {\n                resolve(this.resolveDefaultConfig(options));\n            }\n        });\n    }\n    resolveDefaultConfig(options) {\n        const { requestTimeout, connectionTimeout, socketTimeout, socketAcquisitionWarningTimeout, httpAgent, httpsAgent, throwOnRequestTimeout, } = options || {};\n        const keepAlive = true;\n        const maxSockets = 50;\n        return {\n            connectionTimeout,\n            requestTimeout,\n            socketTimeout,\n            socketAcquisitionWarningTimeout,\n            throwOnRequestTimeout,\n            httpAgent: (() => {\n                if (httpAgent instanceof http.Agent || typeof httpAgent?.destroy === \"function\") {\n                    this.externalAgent = true;\n                    return httpAgent;\n                }\n                return new http.Agent({ keepAlive, maxSockets, ...httpAgent });\n            })(),\n            httpsAgent: (() => {\n                if (httpsAgent instanceof https.Agent || typeof httpsAgent?.destroy === \"function\") {\n                    this.externalAgent = true;\n                    return httpsAgent;\n                }\n                return new https.Agent({ keepAlive, maxSockets, ...httpsAgent });\n            })(),\n            logger: console,\n        };\n    }\n    destroy() {\n        this.config?.httpAgent?.destroy();\n        this.config?.httpsAgent?.destroy();\n    }\n    async handle(request, { abortSignal, requestTimeout } = {}) {\n        if (!this.config) {\n            this.config = await this.configProvider;\n        }\n        return new Promise((_resolve, _reject) => {\n            const config = this.config;\n            let writeRequestBodyPromise = undefined;\n            const timeouts = [];\n            const resolve = async (arg) => {\n                await writeRequestBodyPromise;\n                timeouts.forEach(timing.clearTimeout);\n                _resolve(arg);\n            };\n            const reject = async (arg) => {\n                await writeRequestBodyPromise;\n                timeouts.forEach(timing.clearTimeout);\n                _reject(arg);\n            };\n            if (abortSignal?.aborted) {\n                const abortError = new Error(\"Request aborted\");\n                abortError.name = \"AbortError\";\n                reject(abortError);\n                return;\n            }\n            const isSSL = request.protocol === \"https:\";\n            const headers = request.headers ?? {};\n            const expectContinue = (headers.Expect ?? headers.expect) === \"100-continue\";\n            let agent = isSSL ? config.httpsAgent : config.httpAgent;\n            if (expectContinue && !this.externalAgent) {\n                agent = new (isSSL ? https.Agent : http.Agent)({\n                    keepAlive: false,\n                    maxSockets: Infinity,\n                });\n            }\n            timeouts.push(timing.setTimeout(() => {\n                this.socketWarningTimestamp = NodeHttpHandler.checkSocketUsage(agent, this.socketWarningTimestamp, config.logger);\n            }, config.socketAcquisitionWarningTimeout ?? (config.requestTimeout ?? 2000) + (config.connectionTimeout ?? 1000)));\n            const queryString = querystringBuilder.buildQueryString(request.query || {});\n            let auth = undefined;\n            if (request.username != null || request.password != null) {\n                const username = request.username ?? \"\";\n                const password = request.password ?? \"\";\n                auth = `${username}:${password}`;\n            }\n            let path = request.path;\n            if (queryString) {\n                path += `?${queryString}`;\n            }\n            if (request.fragment) {\n                path += `#${request.fragment}`;\n            }\n            let hostname = request.hostname ?? \"\";\n            if (hostname[0] === \"[\" && hostname.endsWith(\"]\")) {\n                hostname = request.hostname.slice(1, -1);\n            }\n            else {\n                hostname = request.hostname;\n            }\n            const nodeHttpsOptions = {\n                headers: request.headers,\n                host: hostname,\n                method: request.method,\n                path,\n                port: request.port,\n                agent,\n                auth,\n            };\n            const requestFunc = isSSL ? https.request : http.request;\n            const req = requestFunc(nodeHttpsOptions, (res) => {\n                const httpResponse = new protocolHttp.HttpResponse({\n                    statusCode: res.statusCode || -1,\n                    reason: res.statusMessage,\n                    headers: getTransformedHeaders(res.headers),\n                    body: res,\n                });\n                resolve({ response: httpResponse });\n            });\n            req.on(\"error\", (err) => {\n                if (NODEJS_TIMEOUT_ERROR_CODES.includes(err.code)) {\n                    reject(Object.assign(err, { name: \"TimeoutError\" }));\n                }\n                else {\n                    reject(err);\n                }\n            });\n            if (abortSignal) {\n                const onAbort = () => {\n                    req.destroy();\n                    const abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n                if (typeof abortSignal.addEventListener === \"function\") {\n                    const signal = abortSignal;\n                    signal.addEventListener(\"abort\", onAbort, { once: true });\n                    req.once(\"close\", () => signal.removeEventListener(\"abort\", onAbort));\n                }\n                else {\n                    abortSignal.onabort = onAbort;\n                }\n            }\n            const effectiveRequestTimeout = requestTimeout ?? config.requestTimeout;\n            timeouts.push(setConnectionTimeout(req, reject, config.connectionTimeout));\n            timeouts.push(setRequestTimeout(req, reject, effectiveRequestTimeout, config.throwOnRequestTimeout, config.logger ?? console));\n            timeouts.push(setSocketTimeout(req, reject, config.socketTimeout));\n            const httpAgent = nodeHttpsOptions.agent;\n            if (typeof httpAgent === \"object\" && \"keepAlive\" in httpAgent) {\n                timeouts.push(setSocketKeepAlive(req, {\n                    keepAlive: httpAgent.keepAlive,\n                    keepAliveMsecs: httpAgent.keepAliveMsecs,\n                }));\n            }\n            writeRequestBodyPromise = writeRequestBody(req, request, effectiveRequestTimeout, this.externalAgent).catch((e) => {\n                timeouts.forEach(timing.clearTimeout);\n                return _reject(e);\n            });\n        });\n    }\n    updateHttpClientConfig(key, value) {\n        this.config = undefined;\n        this.configProvider = this.configProvider.then((config) => {\n            return {\n                ...config,\n                [key]: value,\n            };\n        });\n    }\n    httpHandlerConfigs() {\n        return this.config ?? {};\n    }\n}\n\nclass NodeHttp2ConnectionPool {\n    sessions = [];\n    constructor(sessions) {\n        this.sessions = sessions ?? [];\n    }\n    poll() {\n        if (this.sessions.length > 0) {\n            return this.sessions.shift();\n        }\n    }\n    offerLast(session) {\n        this.sessions.push(session);\n    }\n    contains(session) {\n        return this.sessions.includes(session);\n    }\n    remove(session) {\n        this.sessions = this.sessions.filter((s) => s !== session);\n    }\n    [Symbol.iterator]() {\n        return this.sessions[Symbol.iterator]();\n    }\n    destroy(connection) {\n        for (const session of this.sessions) {\n            if (session === connection) {\n                if (!session.destroyed) {\n                    session.destroy();\n                }\n            }\n        }\n    }\n}\n\nclass NodeHttp2ConnectionManager {\n    constructor(config) {\n        this.config = config;\n        if (this.config.maxConcurrency && this.config.maxConcurrency <= 0) {\n            throw new RangeError(\"maxConcurrency must be greater than zero.\");\n        }\n    }\n    config;\n    sessionCache = new Map();\n    lease(requestContext, connectionConfiguration) {\n        const url = this.getUrlString(requestContext);\n        const existingPool = this.sessionCache.get(url);\n        if (existingPool) {\n            const existingSession = existingPool.poll();\n            if (existingSession && !this.config.disableConcurrency) {\n                return existingSession;\n            }\n        }\n        const session = http2.connect(url);\n        if (this.config.maxConcurrency) {\n            session.settings({ maxConcurrentStreams: this.config.maxConcurrency }, (err) => {\n                if (err) {\n                    throw new Error(\"Fail to set maxConcurrentStreams to \" +\n                        this.config.maxConcurrency +\n                        \"when creating new session for \" +\n                        requestContext.destination.toString());\n                }\n            });\n        }\n        session.unref();\n        const destroySessionCb = () => {\n            session.destroy();\n            this.deleteSession(url, session);\n        };\n        session.on(\"goaway\", destroySessionCb);\n        session.on(\"error\", destroySessionCb);\n        session.on(\"frameError\", destroySessionCb);\n        session.on(\"close\", () => this.deleteSession(url, session));\n        if (connectionConfiguration.requestTimeout) {\n            session.setTimeout(connectionConfiguration.requestTimeout, destroySessionCb);\n        }\n        const connectionPool = this.sessionCache.get(url) || new NodeHttp2ConnectionPool();\n        connectionPool.offerLast(session);\n        this.sessionCache.set(url, connectionPool);\n        return session;\n    }\n    deleteSession(authority, session) {\n        const existingConnectionPool = this.sessionCache.get(authority);\n        if (!existingConnectionPool) {\n            return;\n        }\n        if (!existingConnectionPool.contains(session)) {\n            return;\n        }\n        existingConnectionPool.remove(session);\n        this.sessionCache.set(authority, existingConnectionPool);\n    }\n    release(requestContext, session) {\n        const cacheKey = this.getUrlString(requestContext);\n        this.sessionCache.get(cacheKey)?.offerLast(session);\n    }\n    destroy() {\n        for (const [key, connectionPool] of this.sessionCache) {\n            for (const session of connectionPool) {\n                if (!session.destroyed) {\n                    session.destroy();\n                }\n                connectionPool.remove(session);\n            }\n            this.sessionCache.delete(key);\n        }\n    }\n    setMaxConcurrentStreams(maxConcurrentStreams) {\n        if (maxConcurrentStreams && maxConcurrentStreams <= 0) {\n            throw new RangeError(\"maxConcurrentStreams must be greater than zero.\");\n        }\n        this.config.maxConcurrency = maxConcurrentStreams;\n    }\n    setDisableConcurrentStreams(disableConcurrentStreams) {\n        this.config.disableConcurrency = disableConcurrentStreams;\n    }\n    getUrlString(request) {\n        return request.destination.toString();\n    }\n}\n\nclass NodeHttp2Handler {\n    config;\n    configProvider;\n    metadata = { handlerProtocol: \"h2\" };\n    connectionManager = new NodeHttp2ConnectionManager({});\n    static create(instanceOrOptions) {\n        if (typeof instanceOrOptions?.handle === \"function\") {\n            return instanceOrOptions;\n        }\n        return new NodeHttp2Handler(instanceOrOptions);\n    }\n    constructor(options) {\n        this.configProvider = new Promise((resolve, reject) => {\n            if (typeof options === \"function\") {\n                options()\n                    .then((opts) => {\n                    resolve(opts || {});\n                })\n                    .catch(reject);\n            }\n            else {\n                resolve(options || {});\n            }\n        });\n    }\n    destroy() {\n        this.connectionManager.destroy();\n    }\n    async handle(request, { abortSignal, requestTimeout } = {}) {\n        if (!this.config) {\n            this.config = await this.configProvider;\n            this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams || false);\n            if (this.config.maxConcurrentStreams) {\n                this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams);\n            }\n        }\n        const { requestTimeout: configRequestTimeout, disableConcurrentStreams } = this.config;\n        const effectiveRequestTimeout = requestTimeout ?? configRequestTimeout;\n        return new Promise((_resolve, _reject) => {\n            let fulfilled = false;\n            let writeRequestBodyPromise = undefined;\n            const resolve = async (arg) => {\n                await writeRequestBodyPromise;\n                _resolve(arg);\n            };\n            const reject = async (arg) => {\n                await writeRequestBodyPromise;\n                _reject(arg);\n            };\n            if (abortSignal?.aborted) {\n                fulfilled = true;\n                const abortError = new Error(\"Request aborted\");\n                abortError.name = \"AbortError\";\n                reject(abortError);\n                return;\n            }\n            const { hostname, method, port, protocol, query } = request;\n            let auth = \"\";\n            if (request.username != null || request.password != null) {\n                const username = request.username ?? \"\";\n                const password = request.password ?? \"\";\n                auth = `${username}:${password}@`;\n            }\n            const authority = `${protocol}//${auth}${hostname}${port ? `:${port}` : \"\"}`;\n            const requestContext = { destination: new URL(authority) };\n            const session = this.connectionManager.lease(requestContext, {\n                requestTimeout: this.config?.sessionTimeout,\n                disableConcurrentStreams: disableConcurrentStreams || false,\n            });\n            const rejectWithDestroy = (err) => {\n                if (disableConcurrentStreams) {\n                    this.destroySession(session);\n                }\n                fulfilled = true;\n                reject(err);\n            };\n            const queryString = querystringBuilder.buildQueryString(query || {});\n            let path = request.path;\n            if (queryString) {\n                path += `?${queryString}`;\n            }\n            if (request.fragment) {\n                path += `#${request.fragment}`;\n            }\n            const req = session.request({\n                ...request.headers,\n                [http2.constants.HTTP2_HEADER_PATH]: path,\n                [http2.constants.HTTP2_HEADER_METHOD]: method,\n            });\n            session.ref();\n            req.on(\"response\", (headers) => {\n                const httpResponse = new protocolHttp.HttpResponse({\n                    statusCode: headers[\":status\"] || -1,\n                    headers: getTransformedHeaders(headers),\n                    body: req,\n                });\n                fulfilled = true;\n                resolve({ response: httpResponse });\n                if (disableConcurrentStreams) {\n                    session.close();\n                    this.connectionManager.deleteSession(authority, session);\n                }\n            });\n            if (effectiveRequestTimeout) {\n                req.setTimeout(effectiveRequestTimeout, () => {\n                    req.close();\n                    const timeoutError = new Error(`Stream timed out because of no activity for ${effectiveRequestTimeout} ms`);\n                    timeoutError.name = \"TimeoutError\";\n                    rejectWithDestroy(timeoutError);\n                });\n            }\n            if (abortSignal) {\n                const onAbort = () => {\n                    req.close();\n                    const abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    rejectWithDestroy(abortError);\n                };\n                if (typeof abortSignal.addEventListener === \"function\") {\n                    const signal = abortSignal;\n                    signal.addEventListener(\"abort\", onAbort, { once: true });\n                    req.once(\"close\", () => signal.removeEventListener(\"abort\", onAbort));\n                }\n                else {\n                    abortSignal.onabort = onAbort;\n                }\n            }\n            req.on(\"frameError\", (type, code, id) => {\n                rejectWithDestroy(new Error(`Frame type id ${type} in stream id ${id} has failed with code ${code}.`));\n            });\n            req.on(\"error\", rejectWithDestroy);\n            req.on(\"aborted\", () => {\n                rejectWithDestroy(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${req.rstCode}.`));\n            });\n            req.on(\"close\", () => {\n                session.unref();\n                if (disableConcurrentStreams) {\n                    session.destroy();\n                }\n                if (!fulfilled) {\n                    rejectWithDestroy(new Error(\"Unexpected error: http2 request did not get a response\"));\n                }\n            });\n            writeRequestBodyPromise = writeRequestBody(req, request, effectiveRequestTimeout);\n        });\n    }\n    updateHttpClientConfig(key, value) {\n        this.config = undefined;\n        this.configProvider = this.configProvider.then((config) => {\n            return {\n                ...config,\n                [key]: value,\n            };\n        });\n    }\n    httpHandlerConfigs() {\n        return this.config ?? {};\n    }\n    destroySession(session) {\n        if (!session.destroyed) {\n            session.destroy();\n        }\n    }\n}\n\nclass Collector extends stream.Writable {\n    bufferedBytes = [];\n    _write(chunk, encoding, callback) {\n        this.bufferedBytes.push(chunk);\n        callback();\n    }\n}\n\nconst streamCollector = (stream) => {\n    if (isReadableStreamInstance(stream)) {\n        return collectReadableStream(stream);\n    }\n    return new Promise((resolve, reject) => {\n        const collector = new Collector();\n        stream.pipe(collector);\n        stream.on(\"error\", (err) => {\n            collector.end();\n            reject(err);\n        });\n        collector.on(\"error\", reject);\n        collector.on(\"finish\", function () {\n            const bytes = new Uint8Array(Buffer.concat(this.bufferedBytes));\n            resolve(bytes);\n        });\n    });\n};\nconst isReadableStreamInstance = (stream) => typeof ReadableStream === \"function\" && stream instanceof ReadableStream;\nasync function collectReadableStream(stream) {\n    const chunks = [];\n    const reader = stream.getReader();\n    let isDone = false;\n    let length = 0;\n    while (!isDone) {\n        const { done, value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            length += value.length;\n        }\n        isDone = done;\n    }\n    const collected = new Uint8Array(length);\n    let offset = 0;\n    for (const chunk of chunks) {\n        collected.set(chunk, offset);\n        offset += chunk.length;\n    }\n    return collected;\n}\n\nexports.DEFAULT_REQUEST_TIMEOUT = DEFAULT_REQUEST_TIMEOUT;\nexports.NodeHttp2Handler = NodeHttp2Handler;\nexports.NodeHttpHandler = NodeHttpHandler;\nexports.streamCollector = streamCollector;\n", "'use strict';\n\nvar protocolHttp = require('@smithy/protocol-http');\nvar querystringBuilder = require('@smithy/querystring-builder');\nvar utilBase64 = require('@smithy/util-base64');\n\nfunction createRequest(url, requestOptions) {\n    return new Request(url, requestOptions);\n}\n\nfunction requestTimeout(timeoutInMs = 0) {\n    return new Promise((resolve, reject) => {\n        if (timeoutInMs) {\n            setTimeout(() => {\n                const timeoutError = new Error(`Request did not complete within ${timeoutInMs} ms`);\n                timeoutError.name = \"TimeoutError\";\n                reject(timeoutError);\n            }, timeoutInMs);\n        }\n    });\n}\n\nconst keepAliveSupport = {\n    supported: undefined,\n};\nclass FetchHttpHandler {\n    config;\n    configProvider;\n    static create(instanceOrOptions) {\n        if (typeof instanceOrOptions?.handle === \"function\") {\n            return instanceOrOptions;\n        }\n        return new FetchHttpHandler(instanceOrOptions);\n    }\n    constructor(options) {\n        if (typeof options === \"function\") {\n            this.configProvider = options().then((opts) => opts || {});\n        }\n        else {\n            this.config = options ?? {};\n            this.configProvider = Promise.resolve(this.config);\n        }\n        if (keepAliveSupport.supported === undefined) {\n            keepAliveSupport.supported = Boolean(typeof Request !== \"undefined\" && \"keepalive\" in createRequest(\"https://[::1]\"));\n        }\n    }\n    destroy() {\n    }\n    async handle(request, { abortSignal, requestTimeout: requestTimeout$1 } = {}) {\n        if (!this.config) {\n            this.config = await this.configProvider;\n        }\n        const requestTimeoutInMs = requestTimeout$1 ?? this.config.requestTimeout;\n        const keepAlive = this.config.keepAlive === true;\n        const credentials = this.config.credentials;\n        if (abortSignal?.aborted) {\n            const abortError = new Error(\"Request aborted\");\n            abortError.name = \"AbortError\";\n            return Promise.reject(abortError);\n        }\n        let path = request.path;\n        const queryString = querystringBuilder.buildQueryString(request.query || {});\n        if (queryString) {\n            path += `?${queryString}`;\n        }\n        if (request.fragment) {\n            path += `#${request.fragment}`;\n        }\n        let auth = \"\";\n        if (request.username != null || request.password != null) {\n            const username = request.username ?? \"\";\n            const password = request.password ?? \"\";\n            auth = `${username}:${password}@`;\n        }\n        const { port, method } = request;\n        const url = `${request.protocol}//${auth}${request.hostname}${port ? `:${port}` : \"\"}${path}`;\n        const body = method === \"GET\" || method === \"HEAD\" ? undefined : request.body;\n        const requestOptions = {\n            body,\n            headers: new Headers(request.headers),\n            method: method,\n            credentials,\n        };\n        if (this.config?.cache) {\n            requestOptions.cache = this.config.cache;\n        }\n        if (body) {\n            requestOptions.duplex = \"half\";\n        }\n        if (typeof AbortController !== \"undefined\") {\n            requestOptions.signal = abortSignal;\n        }\n        if (keepAliveSupport.supported) {\n            requestOptions.keepalive = keepAlive;\n        }\n        if (typeof this.config.requestInit === \"function\") {\n            Object.assign(requestOptions, this.config.requestInit(request));\n        }\n        let removeSignalEventListener = () => { };\n        const fetchRequest = createRequest(url, requestOptions);\n        const raceOfPromises = [\n            fetch(fetchRequest).then((response) => {\n                const fetchHeaders = response.headers;\n                const transformedHeaders = {};\n                for (const pair of fetchHeaders.entries()) {\n                    transformedHeaders[pair[0]] = pair[1];\n                }\n                const hasReadableStream = response.body != undefined;\n                if (!hasReadableStream) {\n                    return response.blob().then((body) => ({\n                        response: new protocolHttp.HttpResponse({\n                            headers: transformedHeaders,\n                            reason: response.statusText,\n                            statusCode: response.status,\n                            body,\n                        }),\n                    }));\n                }\n                return {\n                    response: new protocolHttp.HttpResponse({\n                        headers: transformedHeaders,\n                        reason: response.statusText,\n                        statusCode: response.status,\n                        body: response.body,\n                    }),\n                };\n            }),\n            requestTimeout(requestTimeoutInMs),\n        ];\n        if (abortSignal) {\n            raceOfPromises.push(new Promise((resolve, reject) => {\n                const onAbort = () => {\n                    const abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n                if (typeof abortSignal.addEventListener === \"function\") {\n                    const signal = abortSignal;\n                    signal.addEventListener(\"abort\", onAbort, { once: true });\n                    removeSignalEventListener = () => signal.removeEventListener(\"abort\", onAbort);\n                }\n                else {\n                    abortSignal.onabort = onAbort;\n                }\n            }));\n        }\n        return Promise.race(raceOfPromises).finally(removeSignalEventListener);\n    }\n    updateHttpClientConfig(key, value) {\n        this.config = undefined;\n        this.configProvider = this.configProvider.then((config) => {\n            config[key] = value;\n            return config;\n        });\n    }\n    httpHandlerConfigs() {\n        return this.config ?? {};\n    }\n}\n\nconst streamCollector = async (stream) => {\n    if ((typeof Blob === \"function\" && stream instanceof Blob) || stream.constructor?.name === \"Blob\") {\n        if (Blob.prototype.arrayBuffer !== undefined) {\n            return new Uint8Array(await stream.arrayBuffer());\n        }\n        return collectBlob(stream);\n    }\n    return collectStream(stream);\n};\nasync function collectBlob(blob) {\n    const base64 = await readToBase64(blob);\n    const arrayBuffer = utilBase64.fromBase64(base64);\n    return new Uint8Array(arrayBuffer);\n}\nasync function collectStream(stream) {\n    const chunks = [];\n    const reader = stream.getReader();\n    let isDone = false;\n    let length = 0;\n    while (!isDone) {\n        const { done, value } = await reader.read();\n        if (value) {\n            chunks.push(value);\n            length += value.length;\n        }\n        isDone = done;\n    }\n    const collected = new Uint8Array(length);\n    let offset = 0;\n    for (const chunk of chunks) {\n        collected.set(chunk, offset);\n        offset += chunk.length;\n    }\n    return collected;\n}\nfunction readToBase64(blob) {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n            if (reader.readyState !== 2) {\n                return reject(new Error(\"Reader aborted too early\"));\n            }\n            const result = (reader.result ?? \"\");\n            const commaIndex = result.indexOf(\",\");\n            const dataOffset = commaIndex > -1 ? commaIndex + 1 : result.length;\n            resolve(result.substring(dataOffset));\n        };\n        reader.onabort = () => reject(new Error(\"Read aborted\"));\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(blob);\n    });\n}\n\nexports.FetchHttpHandler = FetchHttpHandler;\nexports.keepAliveSupport = keepAliveSupport;\nexports.streamCollector = streamCollector;\n", "'use strict';\n\nconst SHORT_TO_HEX = {};\nconst HEX_TO_SHORT = {};\nfor (let i = 0; i < 256; i++) {\n    let encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = `0${encodedByte}`;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\nfunction fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    const out = new Uint8Array(encoded.length / 2);\n    for (let i = 0; i < encoded.length; i += 2) {\n        const encodedByte = encoded.slice(i, i + 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(`Cannot decode unrecognized sequence ${encodedByte} as hexadecimal`);\n        }\n    }\n    return out;\n}\nfunction toHex(bytes) {\n    let out = \"\";\n    for (let i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n\nexports.fromHex = fromHex;\nexports.toHex = toHex;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdkStreamMixin = void 0;\nconst fetch_http_handler_1 = require(\"@smithy/fetch-http-handler\");\nconst util_base64_1 = require(\"@smithy/util-base64\");\nconst util_hex_encoding_1 = require(\"@smithy/util-hex-encoding\");\nconst util_utf8_1 = require(\"@smithy/util-utf8\");\nconst stream_type_check_1 = require(\"./stream-type-check\");\nconst ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED = \"The stream has already been transformed.\";\nconst sdkStreamMixin = (stream) => {\n    if (!isBlobInstance(stream) && !(0, stream_type_check_1.isReadableStream)(stream)) {\n        const name = stream?.__proto__?.constructor?.name || stream;\n        throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${name}`);\n    }\n    let transformed = false;\n    const transformToByteArray = async () => {\n        if (transformed) {\n            throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n        }\n        transformed = true;\n        return await (0, fetch_http_handler_1.streamCollector)(stream);\n    };\n    const blobToWebStream = (blob) => {\n        if (typeof blob.stream !== \"function\") {\n            throw new Error(\"Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\\n\" +\n                \"If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body\");\n        }\n        return blob.stream();\n    };\n    return Object.assign(stream, {\n        transformToByteArray: transformToByteArray,\n        transformToString: async (encoding) => {\n            const buf = await transformToByteArray();\n            if (encoding === \"base64\") {\n                return (0, util_base64_1.toBase64)(buf);\n            }\n            else if (encoding === \"hex\") {\n                return (0, util_hex_encoding_1.toHex)(buf);\n            }\n            else if (encoding === undefined || encoding === \"utf8\" || encoding === \"utf-8\") {\n                return (0, util_utf8_1.toUtf8)(buf);\n            }\n            else if (typeof TextDecoder === \"function\") {\n                return new TextDecoder(encoding).decode(buf);\n            }\n            else {\n                throw new Error(\"TextDecoder is not available, please make sure polyfill is provided.\");\n            }\n        },\n        transformToWebStream: () => {\n            if (transformed) {\n                throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n            }\n            transformed = true;\n            if (isBlobInstance(stream)) {\n                return blobToWebStream(stream);\n            }\n            else if ((0, stream_type_check_1.isReadableStream)(stream)) {\n                return stream;\n            }\n            else {\n                throw new Error(`Cannot transform payload to web stream, got ${stream}`);\n            }\n        },\n    });\n};\nexports.sdkStreamMixin = sdkStreamMixin;\nconst isBlobInstance = (stream) => typeof Blob === \"function\" && stream instanceof Blob;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdkStreamMixin = void 0;\nconst node_http_handler_1 = require(\"@smithy/node-http-handler\");\nconst util_buffer_from_1 = require(\"@smithy/util-buffer-from\");\nconst stream_1 = require(\"stream\");\nconst sdk_stream_mixin_browser_1 = require(\"./sdk-stream-mixin.browser\");\nconst ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED = \"The stream has already been transformed.\";\nconst sdkStreamMixin = (stream) => {\n    if (!(stream instanceof stream_1.Readable)) {\n        try {\n            return (0, sdk_stream_mixin_browser_1.sdkStreamMixin)(stream);\n        }\n        catch (e) {\n            const name = stream?.__proto__?.constructor?.name || stream;\n            throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${name}`);\n        }\n    }\n    let transformed = false;\n    const transformToByteArray = async () => {\n        if (transformed) {\n            throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n        }\n        transformed = true;\n        return await (0, node_http_handler_1.streamCollector)(stream);\n    };\n    return Object.assign(stream, {\n        transformToByteArray,\n        transformToString: async (encoding) => {\n            const buf = await transformToByteArray();\n            if (encoding === undefined || Buffer.isEncoding(encoding)) {\n                return (0, util_buffer_from_1.fromArrayBuffer)(buf.buffer, buf.byteOffset, buf.byteLength).toString(encoding);\n            }\n            else {\n                const decoder = new TextDecoder(encoding);\n                return decoder.decode(buf);\n            }\n        },\n        transformToWebStream: () => {\n            if (transformed) {\n                throw new Error(ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED);\n            }\n            if (stream.readableFlowing !== null) {\n                throw new Error(\"The stream has been consumed by other callbacks.\");\n            }\n            if (typeof stream_1.Readable.toWeb !== \"function\") {\n                throw new Error(\"Readable.toWeb() is not supported. Please ensure a polyfill is available.\");\n            }\n            transformed = true;\n            return stream_1.Readable.toWeb(stream);\n        },\n    });\n};\nexports.sdkStreamMixin = sdkStreamMixin;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.splitStream = splitStream;\nasync function splitStream(stream) {\n    if (typeof stream.stream === \"function\") {\n        stream = stream.stream();\n    }\n    const readableStream = stream;\n    return readableStream.tee();\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.splitStream = splitStream;\nconst stream_1 = require(\"stream\");\nconst splitStream_browser_1 = require(\"./splitStream.browser\");\nconst stream_type_check_1 = require(\"./stream-type-check\");\nasync function splitStream(stream) {\n    if ((0, stream_type_check_1.isReadableStream)(stream) || (0, stream_type_check_1.isBlob)(stream)) {\n        return (0, splitStream_browser_1.splitStream)(stream);\n    }\n    const stream1 = new stream_1.PassThrough();\n    const stream2 = new stream_1.PassThrough();\n    stream.pipe(stream1);\n    stream.pipe(stream2);\n    return [stream1, stream2];\n}\n", "'use strict';\n\nvar utilBase64 = require('@smithy/util-base64');\nvar utilUtf8 = require('@smithy/util-utf8');\nvar ChecksumStream = require('./checksum/ChecksumStream');\nvar createChecksumStream = require('./checksum/createChecksumStream');\nvar createBufferedReadable = require('./createBufferedReadable');\nvar getAwsChunkedEncodingStream = require('./getAwsChunkedEncodingStream');\nvar headStream = require('./headStream');\nvar sdkStreamMixin = require('./sdk-stream-mixin');\nvar splitStream = require('./splitStream');\nvar streamTypeCheck = require('./stream-type-check');\n\nclass Uint8ArrayBlobAdapter extends Uint8Array {\n    static fromString(source, encoding = \"utf-8\") {\n        if (typeof source === \"string\") {\n            if (encoding === \"base64\") {\n                return Uint8ArrayBlobAdapter.mutate(utilBase64.fromBase64(source));\n            }\n            return Uint8ArrayBlobAdapter.mutate(utilUtf8.fromUtf8(source));\n        }\n        throw new Error(`Unsupported conversion from ${typeof source} to Uint8ArrayBlobAdapter.`);\n    }\n    static mutate(source) {\n        Object.setPrototypeOf(source, Uint8ArrayBlobAdapter.prototype);\n        return source;\n    }\n    transformToString(encoding = \"utf-8\") {\n        if (encoding === \"base64\") {\n            return utilBase64.toBase64(this);\n        }\n        return utilUtf8.toUtf8(this);\n    }\n}\n\nexports.Uint8ArrayBlobAdapter = Uint8ArrayBlobAdapter;\nObject.keys(ChecksumStream).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return ChecksumStream[k]; }\n    });\n});\nObject.keys(createChecksumStream).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return createChecksumStream[k]; }\n    });\n});\nObject.keys(createBufferedReadable).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return createBufferedReadable[k]; }\n    });\n});\nObject.keys(getAwsChunkedEncodingStream).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return getAwsChunkedEncodingStream[k]; }\n    });\n});\nObject.keys(headStream).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return headStream[k]; }\n    });\n});\nObject.keys(sdkStreamMixin).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return sdkStreamMixin[k]; }\n    });\n});\nObject.keys(splitStream).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return splitStream[k]; }\n    });\n});\nObject.keys(streamTypeCheck).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return streamTypeCheck[k]; }\n    });\n});\n", "import { Uint8ArrayBlobAdapter } from \"@smithy/util-stream\";\nexport const collectBody = async (streamBody = new Uint8Array(), context) => {\n    if (streamBody instanceof Uint8Array) {\n        return Uint8ArrayBlobAdapter.mutate(streamBody);\n    }\n    if (!streamBody) {\n        return Uint8ArrayBlobAdapter.mutate(new Uint8Array());\n    }\n    const fromContext = context.streamCollector(streamBody);\n    return Uint8ArrayBlobAdapter.mutate(await fromContext);\n};\n", "export function extendedEncodeURIComponent(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n    });\n}\n", "export const deref = (schemaRef) => {\n    if (typeof schemaRef === \"function\") {\n        return schemaRef();\n    }\n    return schemaRef;\n};\n", "export const operation = (namespace, name, traits, input, output) => ({\n    name,\n    namespace,\n    traits,\n    input,\n    output,\n});\n", "import { HttpResponse } from \"@smithy/protocol-http\";\nimport { getSmithyContext } from \"@smithy/util-middleware\";\nimport { operation } from \"../schemas/operation\";\nexport const schemaDeserializationMiddleware = (config) => (next, context) => async (args) => {\n    const { response } = await next(args);\n    const { operationSchema } = getSmithyContext(context);\n    const [, ns, n, t, i, o] = operationSchema ?? [];\n    try {\n        const parsed = await config.protocol.deserializeResponse(operation(ns, n, t, i, o), {\n            ...config,\n            ...context,\n        }, response);\n        return {\n            response,\n            output: parsed,\n        };\n    }\n    catch (error) {\n        Object.defineProperty(error, \"$response\", {\n            value: response,\n        });\n        if (!(\"$metadata\" in error)) {\n            const hint = `Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.`;\n            try {\n                error.message += \"\\n  \" + hint;\n            }\n            catch (e) {\n                if (!context.logger || context.logger?.constructor?.name === \"NoOpLogger\") {\n                    console.warn(hint);\n                }\n                else {\n                    context.logger?.warn?.(hint);\n                }\n            }\n            if (typeof error.$responseBodyText !== \"undefined\") {\n                if (error.$response) {\n                    error.$response.body = error.$responseBodyText;\n                }\n            }\n            try {\n                if (HttpResponse.isInstance(response)) {\n                    const { headers = {} } = response;\n                    const headerEntries = Object.entries(headers);\n                    error.$metadata = {\n                        httpStatusCode: response.statusCode,\n                        requestId: findHeader(/^x-[\\w-]+-request-?id$/, headerEntries),\n                        extendedRequestId: findHeader(/^x-[\\w-]+-id-2$/, headerEntries),\n                        cfId: findHeader(/^x-[\\w-]+-cf-id$/, headerEntries),\n                    };\n                }\n            }\n            catch (e) {\n            }\n        }\n        throw error;\n    }\n};\nconst findHeader = (pattern, headers) => {\n    return (headers.find(([k]) => {\n        return k.match(pattern);\n    }) || [void 0, void 1])[1];\n};\n", "import { getSmithyContext } from \"@smithy/util-middleware\";\nimport { operation } from \"../schemas/operation\";\nexport const schemaSerializationMiddleware = (config) => (next, context) => async (args) => {\n    const { operationSchema } = getSmithyContext(context);\n    const [, ns, n, t, i, o] = operationSchema ?? [];\n    const endpoint = context.endpointV2?.url && config.urlParser\n        ? async () => config.urlParser(context.endpointV2.url)\n        : config.endpoint;\n    const request = await config.protocol.serializeRequest(operation(ns, n, t, i, o), args.input, {\n        ...config,\n        ...context,\n        endpoint,\n    });\n    return next({\n        ...args,\n        request,\n    });\n};\n", "import { schemaDeserializationMiddleware } from \"./schemaDeserializationMiddleware\";\nimport { schemaSerializationMiddleware } from \"./schemaSerializationMiddleware\";\nexport const deserializerMiddlewareOption = {\n    name: \"deserializerMiddleware\",\n    step: \"deserialize\",\n    tags: [\"DESERIALIZER\"],\n    override: true,\n};\nexport const serializerMiddlewareOption = {\n    name: \"serializerMiddleware\",\n    step: \"serialize\",\n    tags: [\"SERIALIZER\"],\n    override: true,\n};\nexport function getSchemaSerdePlugin(config) {\n    return {\n        applyToStack: (commandStack) => {\n            commandStack.add(schemaSerializationMiddleware(config), serializerMiddlewareOption);\n            commandStack.add(schemaDeserializationMiddleware(config), deserializerMiddlewareOption);\n            config.protocol.setSerdeContext(config);\n        },\n    };\n}\n", "export class Schema {\n    name;\n    namespace;\n    traits;\n    static assign(instance, values) {\n        const schema = Object.assign(instance, values);\n        return schema;\n    }\n    static [Symbol.hasInstance](lhs) {\n        const isPrototype = this.prototype.isPrototypeOf(lhs);\n        if (!isPrototype && typeof lhs === \"object\" && lhs !== null) {\n            const list = lhs;\n            return list.symbol === this.symbol;\n        }\n        return isPrototype;\n    }\n    getName() {\n        return this.namespace + \"#\" + this.name;\n    }\n}\n", "import { Schema } from \"./Schema\";\nexport class ListSchema extends Schema {\n    static symbol = Symbol.for(\"@smithy/lis\");\n    name;\n    traits;\n    valueSchema;\n    symbol = ListSchema.symbol;\n}\nexport const list = (namespace, name, traits, valueSchema) => Schema.assign(new ListSchema(), {\n    name,\n    namespace,\n    traits,\n    valueSchema,\n});\n", "import { Schema } from \"./Schema\";\nexport class MapSchema extends Schema {\n    static symbol = Symbol.for(\"@smithy/map\");\n    name;\n    traits;\n    keySchema;\n    valueSchema;\n    symbol = MapSchema.symbol;\n}\nexport const map = (namespace, name, traits, keySchema, valueSchema) => Schema.assign(new MapSchema(), {\n    name,\n    namespace,\n    traits,\n    keySchema,\n    valueSchema,\n});\n", "import { Schema } from \"./Schema\";\nexport class OperationSchema extends Schema {\n    static symbol = Symbol.for(\"@smithy/ope\");\n    name;\n    traits;\n    input;\n    output;\n    symbol = OperationSchema.symbol;\n}\nexport const op = (namespace, name, traits, input, output) => Schema.assign(new OperationSchema(), {\n    name,\n    namespace,\n    traits,\n    input,\n    output,\n});\n", "import { Schema } from \"./Schema\";\nexport class StructureSchema extends Schema {\n    static symbol = Symbol.for(\"@smithy/str\");\n    name;\n    traits;\n    memberNames;\n    memberList;\n    symbol = StructureSchema.symbol;\n}\nexport const struct = (namespace, name, traits, memberNames, memberList) => Schema.assign(new StructureSchema(), {\n    name,\n    namespace,\n    traits,\n    memberNames,\n    memberList,\n});\n", "import { Schema } from \"./Schema\";\nimport { StructureSchema } from \"./StructureSchema\";\nexport class ErrorSchema extends StructureSchema {\n    static symbol = Symbol.for(\"@smithy/err\");\n    ctor;\n    symbol = ErrorSchema.symbol;\n}\nexport const error = (namespace, name, traits, memberNames, memberList, ctor) => Schema.assign(new ErrorSchema(), {\n    name,\n    namespace,\n    traits,\n    memberNames,\n    memberList,\n    ctor: null,\n});\n", "export function translateTraits(indicator) {\n    if (typeof indicator === \"object\") {\n        return indicator;\n    }\n    indicator = indicator | 0;\n    const traits = {};\n    let i = 0;\n    for (const trait of [\n        \"httpLabel\",\n        \"idempotent\",\n        \"idempotencyToken\",\n        \"sensitive\",\n        \"httpPayload\",\n        \"httpResponseCode\",\n        \"httpQueryParams\",\n    ]) {\n        if (((indicator >> i++) & 1) === 1) {\n            traits[trait] = 1;\n        }\n    }\n    return traits;\n}\n", "import { deref } from \"../deref\";\nimport { translateTraits } from \"./translateTraits\";\nexport class NormalizedSchema {\n    ref;\n    memberName;\n    static symbol = Symbol.for(\"@smithy/nor\");\n    symbol = NormalizedSchema.symbol;\n    name;\n    schema;\n    _isMemberSchema;\n    traits;\n    memberTraits;\n    normalizedTraits;\n    constructor(ref, memberName) {\n        this.ref = ref;\n        this.memberName = memberName;\n        const traitStack = [];\n        let _ref = ref;\n        let schema = ref;\n        this._isMemberSchema = false;\n        while (isMemberSchema(_ref)) {\n            traitStack.push(_ref[1]);\n            _ref = _ref[0];\n            schema = deref(_ref);\n            this._isMemberSchema = true;\n        }\n        if (traitStack.length > 0) {\n            this.memberTraits = {};\n            for (let i = traitStack.length - 1; i >= 0; --i) {\n                const traitSet = traitStack[i];\n                Object.assign(this.memberTraits, translateTraits(traitSet));\n            }\n        }\n        else {\n            this.memberTraits = 0;\n        }\n        if (schema instanceof NormalizedSchema) {\n            const computedMemberTraits = this.memberTraits;\n            Object.assign(this, schema);\n            this.memberTraits = Object.assign({}, computedMemberTraits, schema.getMemberTraits(), this.getMemberTraits());\n            this.normalizedTraits = void 0;\n            this.memberName = memberName ?? schema.memberName;\n            return;\n        }\n        this.schema = deref(schema);\n        if (isStaticSchema(this.schema)) {\n            this.name = `${this.schema[1]}#${this.schema[2]}`;\n            this.traits = this.schema[3];\n        }\n        else {\n            this.name = this.memberName ?? String(schema);\n            this.traits = 0;\n        }\n        if (this._isMemberSchema && !memberName) {\n            throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(true)} missing member name.`);\n        }\n    }\n    static [Symbol.hasInstance](lhs) {\n        const isPrototype = this.prototype.isPrototypeOf(lhs);\n        if (!isPrototype && typeof lhs === \"object\" && lhs !== null) {\n            const ns = lhs;\n            return ns.symbol === this.symbol;\n        }\n        return isPrototype;\n    }\n    static of(ref) {\n        const sc = deref(ref);\n        if (sc instanceof NormalizedSchema) {\n            return sc;\n        }\n        if (isMemberSchema(sc)) {\n            const [ns, traits] = sc;\n            if (ns instanceof NormalizedSchema) {\n                Object.assign(ns.getMergedTraits(), translateTraits(traits));\n                return ns;\n            }\n            throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(ref, null, 2)}.`);\n        }\n        return new NormalizedSchema(sc);\n    }\n    getSchema() {\n        const sc = this.schema;\n        if (sc[0] === 0) {\n            return sc[4];\n        }\n        return sc;\n    }\n    getName(withNamespace = false) {\n        const { name } = this;\n        const short = !withNamespace && name && name.includes(\"#\");\n        return short ? name.split(\"#\")[1] : name || undefined;\n    }\n    getMemberName() {\n        return this.memberName;\n    }\n    isMemberSchema() {\n        return this._isMemberSchema;\n    }\n    isListSchema() {\n        const sc = this.getSchema();\n        return typeof sc === \"number\"\n            ? sc >= 64 && sc < 128\n            : sc[0] === 1;\n    }\n    isMapSchema() {\n        const sc = this.getSchema();\n        return typeof sc === \"number\"\n            ? sc >= 128 && sc <= 0b1111_1111\n            : sc[0] === 2;\n    }\n    isStructSchema() {\n        const sc = this.getSchema();\n        return (sc[0] === 3 ||\n            sc[0] === -3);\n    }\n    isBlobSchema() {\n        const sc = this.getSchema();\n        return sc === 21 || sc === 42;\n    }\n    isTimestampSchema() {\n        const sc = this.getSchema();\n        return (typeof sc === \"number\" &&\n            sc >= 4 &&\n            sc <= 7);\n    }\n    isUnitSchema() {\n        return this.getSchema() === \"unit\";\n    }\n    isDocumentSchema() {\n        return this.getSchema() === 15;\n    }\n    isStringSchema() {\n        return this.getSchema() === 0;\n    }\n    isBooleanSchema() {\n        return this.getSchema() === 2;\n    }\n    isNumericSchema() {\n        return this.getSchema() === 1;\n    }\n    isBigIntegerSchema() {\n        return this.getSchema() === 17;\n    }\n    isBigDecimalSchema() {\n        return this.getSchema() === 19;\n    }\n    isStreaming() {\n        const { streaming } = this.getMergedTraits();\n        return !!streaming || this.getSchema() === 42;\n    }\n    isIdempotencyToken() {\n        const match = (traits) => (traits & 0b0100) === 0b0100 ||\n            !!traits?.idempotencyToken;\n        const { normalizedTraits, traits, memberTraits } = this;\n        return match(normalizedTraits) || match(traits) || match(memberTraits);\n    }\n    getMergedTraits() {\n        return (this.normalizedTraits ??\n            (this.normalizedTraits = {\n                ...this.getOwnTraits(),\n                ...this.getMemberTraits(),\n            }));\n    }\n    getMemberTraits() {\n        return translateTraits(this.memberTraits);\n    }\n    getOwnTraits() {\n        return translateTraits(this.traits);\n    }\n    getKeySchema() {\n        const [isDoc, isMap] = [this.isDocumentSchema(), this.isMapSchema()];\n        if (!isDoc && !isMap) {\n            throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(true)}`);\n        }\n        const schema = this.getSchema();\n        const memberSchema = isDoc\n            ? 15\n            : schema[4] ?? 0;\n        return member([memberSchema, 0], \"key\");\n    }\n    getValueSchema() {\n        const sc = this.getSchema();\n        const [isDoc, isMap, isList] = [this.isDocumentSchema(), this.isMapSchema(), this.isListSchema()];\n        const memberSchema = typeof sc === \"number\"\n            ? 0b0011_1111 & sc\n            : sc && typeof sc === \"object\" && (isMap || isList)\n                ? sc[3 + sc[0]]\n                : isDoc\n                    ? 15\n                    : void 0;\n        if (memberSchema != null) {\n            return member([memberSchema, 0], isMap ? \"value\" : \"member\");\n        }\n        throw new Error(`@smithy/core/schema - ${this.getName(true)} has no value member.`);\n    }\n    getMemberSchema(memberName) {\n        const struct = this.getSchema();\n        if (this.isStructSchema() && struct[4].includes(memberName)) {\n            const i = struct[4].indexOf(memberName);\n            const memberSchema = struct[5][i];\n            return member(isMemberSchema(memberSchema) ? memberSchema : [memberSchema, 0], memberName);\n        }\n        if (this.isDocumentSchema()) {\n            return member([15, 0], memberName);\n        }\n        throw new Error(`@smithy/core/schema - ${this.getName(true)} has no no member=${memberName}.`);\n    }\n    getMemberSchemas() {\n        const buffer = {};\n        try {\n            for (const [k, v] of this.structIterator()) {\n                buffer[k] = v;\n            }\n        }\n        catch (ignored) { }\n        return buffer;\n    }\n    getEventStreamMember() {\n        if (this.isStructSchema()) {\n            for (const [memberName, memberSchema] of this.structIterator()) {\n                if (memberSchema.isStreaming() && memberSchema.isStructSchema()) {\n                    return memberName;\n                }\n            }\n        }\n        return \"\";\n    }\n    *structIterator() {\n        if (this.isUnitSchema()) {\n            return;\n        }\n        if (!this.isStructSchema()) {\n            throw new Error(\"@smithy/core/schema - cannot iterate non-struct schema.\");\n        }\n        const struct = this.getSchema();\n        for (let i = 0; i < struct[4].length; ++i) {\n            yield [struct[4][i], member([struct[5][i], 0], struct[4][i])];\n        }\n    }\n}\nfunction member(memberSchema, memberName) {\n    if (memberSchema instanceof NormalizedSchema) {\n        return Object.assign(memberSchema, {\n            memberName,\n            _isMemberSchema: true,\n        });\n    }\n    const internalCtorAccess = NormalizedSchema;\n    return new internalCtorAccess(memberSchema, memberName);\n}\nconst isMemberSchema = (sc) => Array.isArray(sc) && sc.length === 2;\nexport const isStaticSchema = (sc) => Array.isArray(sc) && sc.length >= 5;\n", "import { Schema } from \"./Schema\";\nexport class SimpleSchema extends Schema {\n    static symbol = Symbol.for(\"@smithy/sim\");\n    name;\n    schemaRef;\n    traits;\n    symbol = SimpleSchema.symbol;\n}\nexport const sim = (namespace, name, schemaRef, traits) => Schema.assign(new SimpleSchema(), {\n    name,\n    namespace,\n    traits,\n    schemaRef,\n});\nexport const simAdapter = (namespace, name, traits, schemaRef) => Schema.assign(new SimpleSchema(), {\n    name,\n    namespace,\n    traits,\n    schemaRef,\n});\n", "export const SCHEMA = {\n    BLOB: 0b0001_0101,\n    STREAMING_BLOB: 0b0010_1010,\n    BOOLEAN: 0b0000_0010,\n    STRING: 0b0000_0000,\n    NUMERIC: 0b0000_0001,\n    BIG_INTEGER: 0b0001_0001,\n    BIG_DECIMAL: 0b0001_0011,\n    DOCUMENT: 0b0000_1111,\n    TIMESTAMP_DEFAULT: 0b0000_0100,\n    TIMESTAMP_DATE_TIME: 0b0000_0101,\n    TIMESTAMP_HTTP_DATE: 0b0000_0110,\n    TIMESTAMP_EPOCH_SECONDS: 0b0000_0111,\n    LIST_MODIFIER: 0b0100_0000,\n    MAP_MODIFIER: 0b1000_0000,\n};\n", "export class TypeRegistry {\n    namespace;\n    schemas;\n    exceptions;\n    static registries = new Map();\n    constructor(namespace, schemas = new Map(), exceptions = new Map()) {\n        this.namespace = namespace;\n        this.schemas = schemas;\n        this.exceptions = exceptions;\n    }\n    static for(namespace) {\n        if (!TypeRegistry.registries.has(namespace)) {\n            TypeRegistry.registries.set(namespace, new TypeRegistry(namespace));\n        }\n        return TypeRegistry.registries.get(namespace);\n    }\n    register(shapeId, schema) {\n        const qualifiedName = this.normalizeShapeId(shapeId);\n        const registry = TypeRegistry.for(qualifiedName.split(\"#\")[0]);\n        registry.schemas.set(qualifiedName, schema);\n    }\n    getSchema(shapeId) {\n        const id = this.normalizeShapeId(shapeId);\n        if (!this.schemas.has(id)) {\n            throw new Error(`@smithy/core/schema - schema not found for ${id}`);\n        }\n        return this.schemas.get(id);\n    }\n    registerError(es, ctor) {\n        const $error = es;\n        const registry = TypeRegistry.for($error[1]);\n        registry.schemas.set($error[1] + \"#\" + $error[2], $error);\n        registry.exceptions.set($error, ctor);\n    }\n    getErrorCtor(es) {\n        const $error = es;\n        const registry = TypeRegistry.for($error[1]);\n        return registry.exceptions.get($error);\n    }\n    getBaseException() {\n        for (const exceptionKey of this.exceptions.keys()) {\n            if (Array.isArray(exceptionKey)) {\n                const [, ns, name] = exceptionKey;\n                const id = ns + \"#\" + name;\n                if (id.startsWith(\"smithy.ts.sdk.synthetic.\") && id.endsWith(\"ServiceException\")) {\n                    return exceptionKey;\n                }\n            }\n        }\n        return undefined;\n    }\n    find(predicate) {\n        return [...this.schemas.values()].find(predicate);\n    }\n    clear() {\n        this.schemas.clear();\n        this.exceptions.clear();\n    }\n    normalizeShapeId(shapeId) {\n        if (shapeId.includes(\"#\")) {\n            return shapeId;\n        }\n        return this.namespace + \"#\" + shapeId;\n    }\n}\n", "export * from \"./deref\";\nexport * from \"./middleware/getSchemaSerdePlugin\";\nexport * from \"./schemas/ListSchema\";\nexport * from \"./schemas/MapSchema\";\nexport * from \"./schemas/OperationSchema\";\nexport * from \"./schemas/operation\";\nexport * from \"./schemas/ErrorSchema\";\nexport * from \"./schemas/NormalizedSchema\";\nexport * from \"./schemas/Schema\";\nexport * from \"./schemas/SimpleSchema\";\nexport * from \"./schemas/StructureSchema\";\nexport * from \"./schemas/sentinels\";\nexport * from \"./schemas/translateTraits\";\nexport * from \"./TypeRegistry\";\n", "export const copyDocumentWithTransform = (source, schemaRef, transform = (_) => _) => source;\n", "export const parseBoolean = (value) => {\n    switch (value) {\n        case \"true\":\n            return true;\n        case \"false\":\n            return false;\n        default:\n            throw new Error(`Unable to parse boolean value \"${value}\"`);\n    }\n};\nexport const expectBoolean = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"number\") {\n        if (value === 0 || value === 1) {\n            logger.warn(stackTraceWarning(`Expected boolean, got ${typeof value}: ${value}`));\n        }\n        if (value === 0) {\n            return false;\n        }\n        if (value === 1) {\n            return true;\n        }\n    }\n    if (typeof value === \"string\") {\n        const lower = value.toLowerCase();\n        if (lower === \"false\" || lower === \"true\") {\n            logger.warn(stackTraceWarning(`Expected boolean, got ${typeof value}: ${value}`));\n        }\n        if (lower === \"false\") {\n            return false;\n        }\n        if (lower === \"true\") {\n            return true;\n        }\n    }\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    throw new TypeError(`Expected boolean, got ${typeof value}: ${value}`);\n};\nexport const expectNumber = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"string\") {\n        const parsed = parseFloat(value);\n        if (!Number.isNaN(parsed)) {\n            if (String(parsed) !== String(value)) {\n                logger.warn(stackTraceWarning(`Expected number but observed string: ${value}`));\n            }\n            return parsed;\n        }\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    throw new TypeError(`Expected number, got ${typeof value}: ${value}`);\n};\nconst MAX_FLOAT = Math.ceil(2 ** 127 * (2 - 2 ** -23));\nexport const expectFloat32 = (value) => {\n    const expected = expectNumber(value);\n    if (expected !== undefined && !Number.isNaN(expected) && expected !== Infinity && expected !== -Infinity) {\n        if (Math.abs(expected) > MAX_FLOAT) {\n            throw new TypeError(`Expected 32-bit float, got ${value}`);\n        }\n    }\n    return expected;\n};\nexport const expectLong = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (Number.isInteger(value) && !Number.isNaN(value)) {\n        return value;\n    }\n    throw new TypeError(`Expected integer, got ${typeof value}: ${value}`);\n};\nexport const expectInt = expectLong;\nexport const expectInt32 = (value) => expectSizedInt(value, 32);\nexport const expectShort = (value) => expectSizedInt(value, 16);\nexport const expectByte = (value) => expectSizedInt(value, 8);\nconst expectSizedInt = (value, size) => {\n    const expected = expectLong(value);\n    if (expected !== undefined && castInt(expected, size) !== expected) {\n        throw new TypeError(`Expected ${size}-bit integer, got ${value}`);\n    }\n    return expected;\n};\nconst castInt = (value, size) => {\n    switch (size) {\n        case 32:\n            return Int32Array.of(value)[0];\n        case 16:\n            return Int16Array.of(value)[0];\n        case 8:\n            return Int8Array.of(value)[0];\n    }\n};\nexport const expectNonNull = (value, location) => {\n    if (value === null || value === undefined) {\n        if (location) {\n            throw new TypeError(`Expected a non-null value for ${location}`);\n        }\n        throw new TypeError(\"Expected a non-null value\");\n    }\n    return value;\n};\nexport const expectObject = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"object\" && !Array.isArray(value)) {\n        return value;\n    }\n    const receivedType = Array.isArray(value) ? \"array\" : typeof value;\n    throw new TypeError(`Expected object, got ${receivedType}: ${value}`);\n};\nexport const expectString = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value === \"string\") {\n        return value;\n    }\n    if ([\"boolean\", \"number\", \"bigint\"].includes(typeof value)) {\n        logger.warn(stackTraceWarning(`Expected string, got ${typeof value}: ${value}`));\n        return String(value);\n    }\n    throw new TypeError(`Expected string, got ${typeof value}: ${value}`);\n};\nexport const expectUnion = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    const asObject = expectObject(value);\n    const setKeys = Object.entries(asObject)\n        .filter(([, v]) => v != null)\n        .map(([k]) => k);\n    if (setKeys.length === 0) {\n        throw new TypeError(`Unions must have exactly one non-null member. None were found.`);\n    }\n    if (setKeys.length > 1) {\n        throw new TypeError(`Unions must have exactly one non-null member. Keys ${setKeys} were not null.`);\n    }\n    return asObject;\n};\nexport const strictParseDouble = (value) => {\n    if (typeof value == \"string\") {\n        return expectNumber(parseNumber(value));\n    }\n    return expectNumber(value);\n};\nexport const strictParseFloat = strictParseDouble;\nexport const strictParseFloat32 = (value) => {\n    if (typeof value == \"string\") {\n        return expectFloat32(parseNumber(value));\n    }\n    return expectFloat32(value);\n};\nconst NUMBER_REGEX = /(-?(?:0|[1-9]\\d*)(?:\\.\\d+)?(?:[eE][+-]?\\d+)?)|(-?Infinity)|(NaN)/g;\nconst parseNumber = (value) => {\n    const matches = value.match(NUMBER_REGEX);\n    if (matches === null || matches[0].length !== value.length) {\n        throw new TypeError(`Expected real number, got implicit NaN`);\n    }\n    return parseFloat(value);\n};\nexport const limitedParseDouble = (value) => {\n    if (typeof value == \"string\") {\n        return parseFloatString(value);\n    }\n    return expectNumber(value);\n};\nexport const handleFloat = limitedParseDouble;\nexport const limitedParseFloat = limitedParseDouble;\nexport const limitedParseFloat32 = (value) => {\n    if (typeof value == \"string\") {\n        return parseFloatString(value);\n    }\n    return expectFloat32(value);\n};\nconst parseFloatString = (value) => {\n    switch (value) {\n        case \"NaN\":\n            return NaN;\n        case \"Infinity\":\n            return Infinity;\n        case \"-Infinity\":\n            return -Infinity;\n        default:\n            throw new Error(`Unable to parse float value: ${value}`);\n    }\n};\nexport const strictParseLong = (value) => {\n    if (typeof value === \"string\") {\n        return expectLong(parseNumber(value));\n    }\n    return expectLong(value);\n};\nexport const strictParseInt = strictParseLong;\nexport const strictParseInt32 = (value) => {\n    if (typeof value === \"string\") {\n        return expectInt32(parseNumber(value));\n    }\n    return expectInt32(value);\n};\nexport const strictParseShort = (value) => {\n    if (typeof value === \"string\") {\n        return expectShort(parseNumber(value));\n    }\n    return expectShort(value);\n};\nexport const strictParseByte = (value) => {\n    if (typeof value === \"string\") {\n        return expectByte(parseNumber(value));\n    }\n    return expectByte(value);\n};\nconst stackTraceWarning = (message) => {\n    return String(new TypeError(message).stack || message)\n        .split(\"\\n\")\n        .slice(0, 5)\n        .filter((s) => !s.includes(\"stackTraceWarning\"))\n        .join(\"\\n\");\n};\nexport const logger = {\n    warn: console.warn,\n};\n", "import { strictParseByte, strictParseDouble, strictParseFloat32, strictParseShort } from \"./parse-utils\";\nconst DAYS = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\nconst MONTHS = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nexport function dateToUtcString(date) {\n    const year = date.getUTCFullYear();\n    const month = date.getUTCMonth();\n    const dayOfWeek = date.getUTCDay();\n    const dayOfMonthInt = date.getUTCDate();\n    const hoursInt = date.getUTCHours();\n    const minutesInt = date.getUTCMinutes();\n    const secondsInt = date.getUTCSeconds();\n    const dayOfMonthString = dayOfMonthInt < 10 ? `0${dayOfMonthInt}` : `${dayOfMonthInt}`;\n    const hoursString = hoursInt < 10 ? `0${hoursInt}` : `${hoursInt}`;\n    const minutesString = minutesInt < 10 ? `0${minutesInt}` : `${minutesInt}`;\n    const secondsString = secondsInt < 10 ? `0${secondsInt}` : `${secondsInt}`;\n    return `${DAYS[dayOfWeek]}, ${dayOfMonthString} ${MONTHS[month]} ${year} ${hoursString}:${minutesString}:${secondsString} GMT`;\n}\nconst RFC3339 = new RegExp(/^(\\d{4})-(\\d{2})-(\\d{2})[tT](\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d+))?[zZ]$/);\nexport const parseRfc3339DateTime = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value !== \"string\") {\n        throw new TypeError(\"RFC-3339 date-times must be expressed as strings\");\n    }\n    const match = RFC3339.exec(value);\n    if (!match) {\n        throw new TypeError(\"Invalid RFC-3339 date-time value\");\n    }\n    const [_, yearStr, monthStr, dayStr, hours, minutes, seconds, fractionalMilliseconds] = match;\n    const year = strictParseShort(stripLeadingZeroes(yearStr));\n    const month = parseDateValue(monthStr, \"month\", 1, 12);\n    const day = parseDateValue(dayStr, \"day\", 1, 31);\n    return buildDate(year, month, day, { hours, minutes, seconds, fractionalMilliseconds });\n};\nconst RFC3339_WITH_OFFSET = new RegExp(/^(\\d{4})-(\\d{2})-(\\d{2})[tT](\\d{2}):(\\d{2}):(\\d{2})(?:\\.(\\d+))?(([-+]\\d{2}\\:\\d{2})|[zZ])$/);\nexport const parseRfc3339DateTimeWithOffset = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value !== \"string\") {\n        throw new TypeError(\"RFC-3339 date-times must be expressed as strings\");\n    }\n    const match = RFC3339_WITH_OFFSET.exec(value);\n    if (!match) {\n        throw new TypeError(\"Invalid RFC-3339 date-time value\");\n    }\n    const [_, yearStr, monthStr, dayStr, hours, minutes, seconds, fractionalMilliseconds, offsetStr] = match;\n    const year = strictParseShort(stripLeadingZeroes(yearStr));\n    const month = parseDateValue(monthStr, \"month\", 1, 12);\n    const day = parseDateValue(dayStr, \"day\", 1, 31);\n    const date = buildDate(year, month, day, { hours, minutes, seconds, fractionalMilliseconds });\n    if (offsetStr.toUpperCase() != \"Z\") {\n        date.setTime(date.getTime() - parseOffsetToMilliseconds(offsetStr));\n    }\n    return date;\n};\nconst IMF_FIXDATE = new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d{1,2}):(\\d{2}):(\\d{2})(?:\\.(\\d+))? GMT$/);\nconst RFC_850_DATE = new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d{2}) (\\d{1,2}):(\\d{2}):(\\d{2})(?:\\.(\\d+))? GMT$/);\nconst ASC_TIME = new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\\d{2}) (\\d{1,2}):(\\d{2}):(\\d{2})(?:\\.(\\d+))? (\\d{4})$/);\nexport const parseRfc7231DateTime = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    if (typeof value !== \"string\") {\n        throw new TypeError(\"RFC-7231 date-times must be expressed as strings\");\n    }\n    let match = IMF_FIXDATE.exec(value);\n    if (match) {\n        const [_, dayStr, monthStr, yearStr, hours, minutes, seconds, fractionalMilliseconds] = match;\n        return buildDate(strictParseShort(stripLeadingZeroes(yearStr)), parseMonthByShortName(monthStr), parseDateValue(dayStr, \"day\", 1, 31), { hours, minutes, seconds, fractionalMilliseconds });\n    }\n    match = RFC_850_DATE.exec(value);\n    if (match) {\n        const [_, dayStr, monthStr, yearStr, hours, minutes, seconds, fractionalMilliseconds] = match;\n        return adjustRfc850Year(buildDate(parseTwoDigitYear(yearStr), parseMonthByShortName(monthStr), parseDateValue(dayStr, \"day\", 1, 31), {\n            hours,\n            minutes,\n            seconds,\n            fractionalMilliseconds,\n        }));\n    }\n    match = ASC_TIME.exec(value);\n    if (match) {\n        const [_, monthStr, dayStr, hours, minutes, seconds, fractionalMilliseconds, yearStr] = match;\n        return buildDate(strictParseShort(stripLeadingZeroes(yearStr)), parseMonthByShortName(monthStr), parseDateValue(dayStr.trimLeft(), \"day\", 1, 31), { hours, minutes, seconds, fractionalMilliseconds });\n    }\n    throw new TypeError(\"Invalid RFC-7231 date-time value\");\n};\nexport const parseEpochTimestamp = (value) => {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    let valueAsDouble;\n    if (typeof value === \"number\") {\n        valueAsDouble = value;\n    }\n    else if (typeof value === \"string\") {\n        valueAsDouble = strictParseDouble(value);\n    }\n    else if (typeof value === \"object\" && value.tag === 1) {\n        valueAsDouble = value.value;\n    }\n    else {\n        throw new TypeError(\"Epoch timestamps must be expressed as floating point numbers or their string representation\");\n    }\n    if (Number.isNaN(valueAsDouble) || valueAsDouble === Infinity || valueAsDouble === -Infinity) {\n        throw new TypeError(\"Epoch timestamps must be valid, non-Infinite, non-NaN numerics\");\n    }\n    return new Date(Math.round(valueAsDouble * 1000));\n};\nconst buildDate = (year, month, day, time) => {\n    const adjustedMonth = month - 1;\n    validateDayOfMonth(year, adjustedMonth, day);\n    return new Date(Date.UTC(year, adjustedMonth, day, parseDateValue(time.hours, \"hour\", 0, 23), parseDateValue(time.minutes, \"minute\", 0, 59), parseDateValue(time.seconds, \"seconds\", 0, 60), parseMilliseconds(time.fractionalMilliseconds)));\n};\nconst parseTwoDigitYear = (value) => {\n    const thisYear = new Date().getUTCFullYear();\n    const valueInThisCentury = Math.floor(thisYear / 100) * 100 + strictParseShort(stripLeadingZeroes(value));\n    if (valueInThisCentury < thisYear) {\n        return valueInThisCentury + 100;\n    }\n    return valueInThisCentury;\n};\nconst FIFTY_YEARS_IN_MILLIS = 50 * 365 * 24 * 60 * 60 * 1000;\nconst adjustRfc850Year = (input) => {\n    if (input.getTime() - new Date().getTime() > FIFTY_YEARS_IN_MILLIS) {\n        return new Date(Date.UTC(input.getUTCFullYear() - 100, input.getUTCMonth(), input.getUTCDate(), input.getUTCHours(), input.getUTCMinutes(), input.getUTCSeconds(), input.getUTCMilliseconds()));\n    }\n    return input;\n};\nconst parseMonthByShortName = (value) => {\n    const monthIdx = MONTHS.indexOf(value);\n    if (monthIdx < 0) {\n        throw new TypeError(`Invalid month: ${value}`);\n    }\n    return monthIdx + 1;\n};\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst validateDayOfMonth = (year, month, day) => {\n    let maxDays = DAYS_IN_MONTH[month];\n    if (month === 1 && isLeapYear(year)) {\n        maxDays = 29;\n    }\n    if (day > maxDays) {\n        throw new TypeError(`Invalid day for ${MONTHS[month]} in ${year}: ${day}`);\n    }\n};\nconst isLeapYear = (year) => {\n    return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n};\nconst parseDateValue = (value, type, lower, upper) => {\n    const dateVal = strictParseByte(stripLeadingZeroes(value));\n    if (dateVal < lower || dateVal > upper) {\n        throw new TypeError(`${type} must be between ${lower} and ${upper}, inclusive`);\n    }\n    return dateVal;\n};\nconst parseMilliseconds = (value) => {\n    if (value === null || value === undefined) {\n        return 0;\n    }\n    return strictParseFloat32(\"0.\" + value) * 1000;\n};\nconst parseOffsetToMilliseconds = (value) => {\n    const directionStr = value[0];\n    let direction = 1;\n    if (directionStr == \"+\") {\n        direction = 1;\n    }\n    else if (directionStr == \"-\") {\n        direction = -1;\n    }\n    else {\n        throw new TypeError(`Offset direction, ${directionStr}, must be \"+\" or \"-\"`);\n    }\n    const hour = Number(value.substring(1, 3));\n    const minute = Number(value.substring(4, 6));\n    return direction * (hour * 60 + minute) * 60 * 1000;\n};\nconst stripLeadingZeroes = (value) => {\n    let idx = 0;\n    while (idx < value.length - 1 && value.charAt(idx) === \"0\") {\n        idx++;\n    }\n    if (idx === 0) {\n        return value;\n    }\n    return value.slice(idx);\n};\n", "/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n  return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nvar ownKeys = function(o) {\n  ownKeys = Object.getOwnPropertyNames || function (o) {\n    var ar = [];\n    for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n    return ar;\n  };\n  return ownKeys(o);\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  var r, s = 0;\n  function next() {\n    while (r = env.stack.pop()) {\n      try {\n        if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\n        if (r.dispose) {\n          var result = r.dispose.call(r.value);\n          if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n        }\n        else s |= 1;\n      }\n      catch (e) {\n        fail(e);\n      }\n    }\n    if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\n  if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\n      return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\n          return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\n      });\n  }\n  return path;\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __esDecorate,\n  __runInitializers,\n  __propKey,\n  __setFunctionName,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n  __rewriteRelativeImportExtension,\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomUUID = void 0;\nconst tslib_1 = require(\"tslib\");\nconst crypto_1 = tslib_1.__importDefault(require(\"crypto\"));\nexports.randomUUID = crypto_1.default.randomUUID.bind(crypto_1.default);\n", "'use strict';\n\nvar randomUUID = require('./randomUUID');\n\nconst decimalToHex = Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, \"0\"));\nconst v4 = () => {\n    if (randomUUID.randomUUID) {\n        return randomUUID.randomUUID();\n    }\n    const rnds = new Uint8Array(16);\n    crypto.getRandomValues(rnds);\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    return (decimalToHex[rnds[0]] +\n        decimalToHex[rnds[1]] +\n        decimalToHex[rnds[2]] +\n        decimalToHex[rnds[3]] +\n        \"-\" +\n        decimalToHex[rnds[4]] +\n        decimalToHex[rnds[5]] +\n        \"-\" +\n        decimalToHex[rnds[6]] +\n        decimalToHex[rnds[7]] +\n        \"-\" +\n        decimalToHex[rnds[8]] +\n        decimalToHex[rnds[9]] +\n        \"-\" +\n        decimalToHex[rnds[10]] +\n        decimalToHex[rnds[11]] +\n        decimalToHex[rnds[12]] +\n        decimalToHex[rnds[13]] +\n        decimalToHex[rnds[14]] +\n        decimalToHex[rnds[15]]);\n};\n\nexports.v4 = v4;\n", "import { v4 as generateIdempotencyToken } from \"@smithy/uuid\";\nexport { generateIdempotencyToken };\n", "export const LazyJsonString = function LazyJsonString(val) {\n    const str = Object.assign(new String(val), {\n        deserializeJSON() {\n            return JSON.parse(String(val));\n        },\n        toString() {\n            return String(val);\n        },\n        toJSON() {\n            return String(val);\n        },\n    });\n    return str;\n};\nLazyJsonString.from = (object) => {\n    if (object && typeof object === \"object\" && (object instanceof LazyJsonString || \"deserializeJSON\" in object)) {\n        return object;\n    }\n    else if (typeof object === \"string\" || Object.getPrototypeOf(object) === String.prototype) {\n        return LazyJsonString(String(object));\n    }\n    return LazyJsonString(JSON.stringify(object));\n};\nLazyJsonString.fromObject = LazyJsonString.from;\n", "export function quoteHeader(part) {\n    if (part.includes(\",\") || part.includes('\"')) {\n        part = `\"${part.replace(/\"/g, '\\\\\"')}\"`;\n    }\n    return part;\n}\n", "const ddd = `(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?`;\nconst mmm = `(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)`;\nconst time = `(\\\\d?\\\\d):(\\\\d{2}):(\\\\d{2})(?:\\\\.(\\\\d+))?`;\nconst date = `(\\\\d?\\\\d)`;\nconst year = `(\\\\d{4})`;\nconst RFC3339_WITH_OFFSET = new RegExp(/^(\\d{4})-(\\d\\d)-(\\d\\d)[tT](\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d+))?(([-+]\\d\\d:\\d\\d)|[zZ])$/);\nconst IMF_FIXDATE = new RegExp(`^${ddd}, ${date} ${mmm} ${year} ${time} GMT$`);\nconst RFC_850_DATE = new RegExp(`^${ddd}, ${date}-${mmm}-(\\\\d\\\\d) ${time} GMT$`);\nconst ASC_TIME = new RegExp(`^${ddd} ${mmm} ( [1-9]|\\\\d\\\\d) ${time} ${year}$`);\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nexport const _parseEpochTimestamp = (value) => {\n    if (value == null) {\n        return void 0;\n    }\n    let num = NaN;\n    if (typeof value === \"number\") {\n        num = value;\n    }\n    else if (typeof value === \"string\") {\n        if (!/^-?\\d*\\.?\\d+$/.test(value)) {\n            throw new TypeError(`parseEpochTimestamp - numeric string invalid.`);\n        }\n        num = Number.parseFloat(value);\n    }\n    else if (typeof value === \"object\" && value.tag === 1) {\n        num = value.value;\n    }\n    if (isNaN(num) || Math.abs(num) === Infinity) {\n        throw new TypeError(\"Epoch timestamps must be valid finite numbers.\");\n    }\n    return new Date(Math.round(num * 1000));\n};\nexport const _parseRfc3339DateTimeWithOffset = (value) => {\n    if (value == null) {\n        return void 0;\n    }\n    if (typeof value !== \"string\") {\n        throw new TypeError(\"RFC3339 timestamps must be strings\");\n    }\n    const matches = RFC3339_WITH_OFFSET.exec(value);\n    if (!matches) {\n        throw new TypeError(`Invalid RFC3339 timestamp format ${value}`);\n    }\n    const [, yearStr, monthStr, dayStr, hours, minutes, seconds, , ms, offsetStr] = matches;\n    range(monthStr, 1, 12);\n    range(dayStr, 1, 31);\n    range(hours, 0, 23);\n    range(minutes, 0, 59);\n    range(seconds, 0, 60);\n    const date = new Date(Date.UTC(Number(yearStr), Number(monthStr) - 1, Number(dayStr), Number(hours), Number(minutes), Number(seconds), Number(ms) ? Math.round(parseFloat(`0.${ms}`) * 1000) : 0));\n    date.setUTCFullYear(Number(yearStr));\n    if (offsetStr.toUpperCase() != \"Z\") {\n        const [, sign, offsetH, offsetM] = /([+-])(\\d\\d):(\\d\\d)/.exec(offsetStr) || [void 0, \"+\", 0, 0];\n        const scalar = sign === \"-\" ? 1 : -1;\n        date.setTime(date.getTime() + scalar * (Number(offsetH) * 60 * 60 * 1000 + Number(offsetM) * 60 * 1000));\n    }\n    return date;\n};\nexport const _parseRfc7231DateTime = (value) => {\n    if (value == null) {\n        return void 0;\n    }\n    if (typeof value !== \"string\") {\n        throw new TypeError(\"RFC7231 timestamps must be strings.\");\n    }\n    let day;\n    let month;\n    let year;\n    let hour;\n    let minute;\n    let second;\n    let fraction;\n    let matches;\n    if ((matches = IMF_FIXDATE.exec(value))) {\n        [, day, month, year, hour, minute, second, fraction] = matches;\n    }\n    else if ((matches = RFC_850_DATE.exec(value))) {\n        [, day, month, year, hour, minute, second, fraction] = matches;\n        year = (Number(year) + 1900).toString();\n    }\n    else if ((matches = ASC_TIME.exec(value))) {\n        [, month, day, hour, minute, second, fraction, year] = matches;\n    }\n    if (year && second) {\n        const timestamp = Date.UTC(Number(year), months.indexOf(month), Number(day), Number(hour), Number(minute), Number(second), fraction ? Math.round(parseFloat(`0.${fraction}`) * 1000) : 0);\n        range(day, 1, 31);\n        range(hour, 0, 23);\n        range(minute, 0, 59);\n        range(second, 0, 60);\n        const date = new Date(timestamp);\n        date.setUTCFullYear(Number(year));\n        return date;\n    }\n    throw new TypeError(`Invalid RFC7231 date-time value ${value}.`);\n};\nfunction range(v, min, max) {\n    const _v = Number(v);\n    if (_v < min || _v > max) {\n        throw new Error(`Value ${_v} out of range [${min}, ${max}]`);\n    }\n}\n", "export function splitEvery(value, delimiter, numDelimiters) {\n    if (numDelimiters <= 0 || !Number.isInteger(numDelimiters)) {\n        throw new Error(\"Invalid number of delimiters (\" + numDelimiters + \") for splitEvery.\");\n    }\n    const segments = value.split(delimiter);\n    if (numDelimiters === 1) {\n        return segments;\n    }\n    const compoundSegments = [];\n    let currentSegment = \"\";\n    for (let i = 0; i < segments.length; i++) {\n        if (currentSegment === \"\") {\n            currentSegment = segments[i];\n        }\n        else {\n            currentSegment += delimiter + segments[i];\n        }\n        if ((i + 1) % numDelimiters === 0) {\n            compoundSegments.push(currentSegment);\n            currentSegment = \"\";\n        }\n    }\n    if (currentSegment !== \"\") {\n        compoundSegments.push(currentSegment);\n    }\n    return compoundSegments;\n}\n", "export const splitHeader = (value) => {\n    const z = value.length;\n    const values = [];\n    let withinQuotes = false;\n    let prevChar = undefined;\n    let anchor = 0;\n    for (let i = 0; i < z; ++i) {\n        const char = value[i];\n        switch (char) {\n            case `\"`:\n                if (prevChar !== \"\\\\\") {\n                    withinQuotes = !withinQuotes;\n                }\n                break;\n            case \",\":\n                if (!withinQuotes) {\n                    values.push(value.slice(anchor, i));\n                    anchor = i + 1;\n                }\n                break;\n            default:\n        }\n        prevChar = char;\n    }\n    values.push(value.slice(anchor));\n    return values.map((v) => {\n        v = v.trim();\n        const z = v.length;\n        if (z < 2) {\n            return v;\n        }\n        if (v[0] === `\"` && v[z - 1] === `\"`) {\n            v = v.slice(1, z - 1);\n        }\n        return v.replace(/\\\\\"/g, '\"');\n    });\n};\n", "const format = /^-?\\d*(\\.\\d+)?$/;\nexport class NumericValue {\n    string;\n    type;\n    constructor(string, type) {\n        this.string = string;\n        this.type = type;\n        if (!format.test(string)) {\n            throw new Error(`@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point \".\", and an optional negation prefix \"-\".`);\n        }\n    }\n    toString() {\n        return this.string;\n    }\n    static [Symbol.hasInstance](object) {\n        if (!object || typeof object !== \"object\") {\n            return false;\n        }\n        const _nv = object;\n        return NumericValue.prototype.isPrototypeOf(object) || (_nv.type === \"bigDecimal\" && format.test(_nv.string));\n    }\n}\nexport function nv(input) {\n    return new NumericValue(String(input), \"bigDecimal\");\n}\n", "export * from \"./copyDocumentWithTransform\";\nexport * from \"./date-utils\";\nexport * from \"./generateIdempotencyToken\";\nexport * from \"./lazy-json\";\nexport * from \"./parse-utils\";\nexport * from \"./quote-header\";\nexport * from \"./schema-serde-lib/schema-date-utils\";\nexport * from \"./split-every\";\nexport * from \"./split-header\";\nexport * from \"./value/NumericValue\";\n", "export class SerdeContext {\n    serdeContext;\n    setSerdeContext(serdeContext) {\n        this.serdeContext = serdeContext;\n    }\n}\n", "import { fromUtf8 } from \"@smithy/util-utf8\";\nexport class EventStreamSerde {\n    marshaller;\n    serializer;\n    deserializer;\n    serdeContext;\n    defaultContentType;\n    constructor({ marshaller, serializer, deserializer, serdeContext, defaultContentType, }) {\n        this.marshaller = marshaller;\n        this.serializer = serializer;\n        this.deserializer = deserializer;\n        this.serdeContext = serdeContext;\n        this.defaultContentType = defaultContentType;\n    }\n    async serializeEventStream({ eventStream, requestSchema, initialRequest, }) {\n        const marshaller = this.marshaller;\n        const eventStreamMember = requestSchema.getEventStreamMember();\n        const unionSchema = requestSchema.getMemberSchema(eventStreamMember);\n        const serializer = this.serializer;\n        const defaultContentType = this.defaultContentType;\n        const initialRequestMarker = Symbol(\"initialRequestMarker\");\n        const eventStreamIterable = {\n            async *[Symbol.asyncIterator]() {\n                if (initialRequest) {\n                    const headers = {\n                        \":event-type\": { type: \"string\", value: \"initial-request\" },\n                        \":message-type\": { type: \"string\", value: \"event\" },\n                        \":content-type\": { type: \"string\", value: defaultContentType },\n                    };\n                    serializer.write(requestSchema, initialRequest);\n                    const body = serializer.flush();\n                    yield {\n                        [initialRequestMarker]: true,\n                        headers,\n                        body,\n                    };\n                }\n                for await (const page of eventStream) {\n                    yield page;\n                }\n            },\n        };\n        return marshaller.serialize(eventStreamIterable, (event) => {\n            if (event[initialRequestMarker]) {\n                return {\n                    headers: event.headers,\n                    body: event.body,\n                };\n            }\n            const unionMember = Object.keys(event).find((key) => {\n                return key !== \"__type\";\n            }) ?? \"\";\n            const { additionalHeaders, body, eventType, explicitPayloadContentType } = this.writeEventBody(unionMember, unionSchema, event);\n            const headers = {\n                \":event-type\": { type: \"string\", value: eventType },\n                \":message-type\": { type: \"string\", value: \"event\" },\n                \":content-type\": { type: \"string\", value: explicitPayloadContentType ?? defaultContentType },\n                ...additionalHeaders,\n            };\n            return {\n                headers,\n                body,\n            };\n        });\n    }\n    async deserializeEventStream({ response, responseSchema, initialResponseContainer, }) {\n        const marshaller = this.marshaller;\n        const eventStreamMember = responseSchema.getEventStreamMember();\n        const unionSchema = responseSchema.getMemberSchema(eventStreamMember);\n        const memberSchemas = unionSchema.getMemberSchemas();\n        const initialResponseMarker = Symbol(\"initialResponseMarker\");\n        const asyncIterable = marshaller.deserialize(response.body, async (event) => {\n            const unionMember = Object.keys(event).find((key) => {\n                return key !== \"__type\";\n            }) ?? \"\";\n            if (unionMember === \"initial-response\") {\n                const dataObject = await this.deserializer.read(responseSchema, event[unionMember].body);\n                delete dataObject[eventStreamMember];\n                return {\n                    [initialResponseMarker]: true,\n                    ...dataObject,\n                };\n            }\n            else if (unionMember in memberSchemas) {\n                const eventStreamSchema = memberSchemas[unionMember];\n                return {\n                    [unionMember]: await this.deserializer.read(eventStreamSchema, event[unionMember].body),\n                };\n            }\n            else {\n                return {\n                    $unknown: event,\n                };\n            }\n        });\n        const asyncIterator = asyncIterable[Symbol.asyncIterator]();\n        const firstEvent = await asyncIterator.next();\n        if (firstEvent.done) {\n            return asyncIterable;\n        }\n        if (firstEvent.value?.[initialResponseMarker]) {\n            if (!responseSchema) {\n                throw new Error(\"@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.\");\n            }\n            for (const [key, value] of Object.entries(firstEvent.value)) {\n                initialResponseContainer[key] = value;\n            }\n        }\n        return {\n            async *[Symbol.asyncIterator]() {\n                if (!firstEvent?.value?.[initialResponseMarker]) {\n                    yield firstEvent.value;\n                }\n                while (true) {\n                    const { done, value } = await asyncIterator.next();\n                    if (done) {\n                        break;\n                    }\n                    yield value;\n                }\n            },\n        };\n    }\n    writeEventBody(unionMember, unionSchema, event) {\n        const serializer = this.serializer;\n        let eventType = unionMember;\n        let explicitPayloadMember = null;\n        let explicitPayloadContentType;\n        const isKnownSchema = (() => {\n            const struct = unionSchema.getSchema();\n            return struct[4].includes(unionMember);\n        })();\n        const additionalHeaders = {};\n        if (!isKnownSchema) {\n            const [type, value] = event[unionMember];\n            eventType = type;\n            serializer.write(15, value);\n        }\n        else {\n            const eventSchema = unionSchema.getMemberSchema(unionMember);\n            if (eventSchema.isStructSchema()) {\n                for (const [memberName, memberSchema] of eventSchema.structIterator()) {\n                    const { eventHeader, eventPayload } = memberSchema.getMergedTraits();\n                    if (eventPayload) {\n                        explicitPayloadMember = memberName;\n                        break;\n                    }\n                    else if (eventHeader) {\n                        const value = event[unionMember][memberName];\n                        let type = \"binary\";\n                        if (memberSchema.isNumericSchema()) {\n                            if ((-2) ** 31 <= value && value <= 2 ** 31 - 1) {\n                                type = \"integer\";\n                            }\n                            else {\n                                type = \"long\";\n                            }\n                        }\n                        else if (memberSchema.isTimestampSchema()) {\n                            type = \"timestamp\";\n                        }\n                        else if (memberSchema.isStringSchema()) {\n                            type = \"string\";\n                        }\n                        else if (memberSchema.isBooleanSchema()) {\n                            type = \"boolean\";\n                        }\n                        if (value != null) {\n                            additionalHeaders[memberName] = {\n                                type,\n                                value,\n                            };\n                            delete event[unionMember][memberName];\n                        }\n                    }\n                }\n                if (explicitPayloadMember !== null) {\n                    const payloadSchema = eventSchema.getMemberSchema(explicitPayloadMember);\n                    if (payloadSchema.isBlobSchema()) {\n                        explicitPayloadContentType = \"application/octet-stream\";\n                    }\n                    else if (payloadSchema.isStringSchema()) {\n                        explicitPayloadContentType = \"text/plain\";\n                    }\n                    serializer.write(payloadSchema, event[unionMember][explicitPayloadMember]);\n                }\n                else {\n                    serializer.write(eventSchema, event[unionMember]);\n                }\n            }\n            else {\n                throw new Error(\"@smithy/core/event-streams - non-struct member not supported in event stream union.\");\n            }\n        }\n        const messageSerialization = serializer.flush();\n        const body = typeof messageSerialization === \"string\"\n            ? (this.serdeContext?.utf8Decoder ?? fromUtf8)(messageSerialization)\n            : messageSerialization;\n        return {\n            body,\n            eventType,\n            explicitPayloadContentType,\n            additionalHeaders,\n        };\n    }\n}\n", "export * from \"./EventStreamSerde\";\n", "import { NormalizedSchema, translateTraits } from \"@smithy/core/schema\";\nimport { HttpRequest, HttpResponse } from \"@smithy/protocol-http\";\nimport { SerdeContext } from \"./SerdeContext\";\nexport class HttpProtocol extends SerdeContext {\n    options;\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n    getRequestType() {\n        return HttpRequest;\n    }\n    getResponseType() {\n        return HttpResponse;\n    }\n    setSerdeContext(serdeContext) {\n        this.serdeContext = serdeContext;\n        this.serializer.setSerdeContext(serdeContext);\n        this.deserializer.setSerdeContext(serdeContext);\n        if (this.getPayloadCodec()) {\n            this.getPayloadCodec().setSerdeContext(serdeContext);\n        }\n    }\n    updateServiceEndpoint(request, endpoint) {\n        if (\"url\" in endpoint) {\n            request.protocol = endpoint.url.protocol;\n            request.hostname = endpoint.url.hostname;\n            request.port = endpoint.url.port ? Number(endpoint.url.port) : undefined;\n            request.path = endpoint.url.pathname;\n            request.fragment = endpoint.url.hash || void 0;\n            request.username = endpoint.url.username || void 0;\n            request.password = endpoint.url.password || void 0;\n            if (!request.query) {\n                request.query = {};\n            }\n            for (const [k, v] of endpoint.url.searchParams.entries()) {\n                request.query[k] = v;\n            }\n            return request;\n        }\n        else {\n            request.protocol = endpoint.protocol;\n            request.hostname = endpoint.hostname;\n            request.port = endpoint.port ? Number(endpoint.port) : undefined;\n            request.path = endpoint.path;\n            request.query = {\n                ...endpoint.query,\n            };\n            return request;\n        }\n    }\n    setHostPrefix(request, operationSchema, input) {\n        const inputNs = NormalizedSchema.of(operationSchema.input);\n        const opTraits = translateTraits(operationSchema.traits ?? {});\n        if (opTraits.endpoint) {\n            let hostPrefix = opTraits.endpoint?.[0];\n            if (typeof hostPrefix === \"string\") {\n                const hostLabelInputs = [...inputNs.structIterator()].filter(([, member]) => member.getMergedTraits().hostLabel);\n                for (const [name] of hostLabelInputs) {\n                    const replacement = input[name];\n                    if (typeof replacement !== \"string\") {\n                        throw new Error(`@smithy/core/schema - ${name} in input must be a string as hostLabel.`);\n                    }\n                    hostPrefix = hostPrefix.replace(`{${name}}`, replacement);\n                }\n                request.hostname = hostPrefix + request.hostname;\n            }\n        }\n    }\n    deserializeMetadata(output) {\n        return {\n            httpStatusCode: output.statusCode,\n            requestId: output.headers[\"x-amzn-requestid\"] ?? output.headers[\"x-amzn-request-id\"] ?? output.headers[\"x-amz-request-id\"],\n            extendedRequestId: output.headers[\"x-amz-id-2\"],\n            cfId: output.headers[\"x-amz-cf-id\"],\n        };\n    }\n    async serializeEventStream({ eventStream, requestSchema, initialRequest, }) {\n        const eventStreamSerde = await this.loadEventStreamCapability();\n        return eventStreamSerde.serializeEventStream({\n            eventStream,\n            requestSchema,\n            initialRequest,\n        });\n    }\n    async deserializeEventStream({ response, responseSchema, initialResponseContainer, }) {\n        const eventStreamSerde = await this.loadEventStreamCapability();\n        return eventStreamSerde.deserializeEventStream({\n            response,\n            responseSchema,\n            initialResponseContainer,\n        });\n    }\n    async loadEventStreamCapability() {\n        const { EventStreamSerde } = await import(\"@smithy/core/event-streams\");\n        return new EventStreamSerde({\n            marshaller: this.getEventStreamMarshaller(),\n            serializer: this.serializer,\n            deserializer: this.deserializer,\n            serdeContext: this.serdeContext,\n            defaultContentType: this.getDefaultContentType(),\n        });\n    }\n    getDefaultContentType() {\n        throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`);\n    }\n    async deserializeHttpMessage(schema, context, response, arg4, arg5) {\n        void schema;\n        void context;\n        void response;\n        void arg4;\n        void arg5;\n        return [];\n    }\n    getEventStreamMarshaller() {\n        const context = this.serdeContext;\n        if (!context.eventStreamMarshaller) {\n            throw new Error(\"@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.\");\n        }\n        return context.eventStreamMarshaller;\n    }\n}\n", "import { NormalizedSchema, translateTraits } from \"@smithy/core/schema\";\nimport { splitEvery, splitHeader } from \"@smithy/core/serde\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nimport { sdkStreamMixin } from \"@smithy/util-stream\";\nimport { collectBody } from \"./collect-stream-body\";\nimport { extendedEncodeURIComponent } from \"./extended-encode-uri-component\";\nimport { HttpProtocol } from \"./HttpProtocol\";\nexport class HttpBindingProtocol extends HttpProtocol {\n    async serializeRequest(operationSchema, _input, context) {\n        const input = {\n            ...(_input ?? {}),\n        };\n        const serializer = this.serializer;\n        const query = {};\n        const headers = {};\n        const endpoint = await context.endpoint();\n        const ns = NormalizedSchema.of(operationSchema?.input);\n        const schema = ns.getSchema();\n        let hasNonHttpBindingMember = false;\n        let payload;\n        const request = new HttpRequest({\n            protocol: \"\",\n            hostname: \"\",\n            port: undefined,\n            path: \"\",\n            fragment: undefined,\n            query: query,\n            headers: headers,\n            body: undefined,\n        });\n        if (endpoint) {\n            this.updateServiceEndpoint(request, endpoint);\n            this.setHostPrefix(request, operationSchema, input);\n            const opTraits = translateTraits(operationSchema.traits);\n            if (opTraits.http) {\n                request.method = opTraits.http[0];\n                const [path, search] = opTraits.http[1].split(\"?\");\n                if (request.path == \"/\") {\n                    request.path = path;\n                }\n                else {\n                    request.path += path;\n                }\n                const traitSearchParams = new URLSearchParams(search ?? \"\");\n                Object.assign(query, Object.fromEntries(traitSearchParams));\n            }\n        }\n        for (const [memberName, memberNs] of ns.structIterator()) {\n            const memberTraits = memberNs.getMergedTraits() ?? {};\n            const inputMemberValue = input[memberName];\n            if (inputMemberValue == null) {\n                continue;\n            }\n            if (memberTraits.httpPayload) {\n                const isStreaming = memberNs.isStreaming();\n                if (isStreaming) {\n                    const isEventStream = memberNs.isStructSchema();\n                    if (isEventStream) {\n                        if (input[memberName]) {\n                            payload = await this.serializeEventStream({\n                                eventStream: input[memberName],\n                                requestSchema: ns,\n                            });\n                        }\n                    }\n                    else {\n                        payload = inputMemberValue;\n                    }\n                }\n                else {\n                    serializer.write(memberNs, inputMemberValue);\n                    payload = serializer.flush();\n                }\n                delete input[memberName];\n            }\n            else if (memberTraits.httpLabel) {\n                serializer.write(memberNs, inputMemberValue);\n                const replacement = serializer.flush();\n                if (request.path.includes(`{${memberName}+}`)) {\n                    request.path = request.path.replace(`{${memberName}+}`, replacement.split(\"/\").map(extendedEncodeURIComponent).join(\"/\"));\n                }\n                else if (request.path.includes(`{${memberName}}`)) {\n                    request.path = request.path.replace(`{${memberName}}`, extendedEncodeURIComponent(replacement));\n                }\n                delete input[memberName];\n            }\n            else if (memberTraits.httpHeader) {\n                serializer.write(memberNs, inputMemberValue);\n                headers[memberTraits.httpHeader.toLowerCase()] = String(serializer.flush());\n                delete input[memberName];\n            }\n            else if (typeof memberTraits.httpPrefixHeaders === \"string\") {\n                for (const [key, val] of Object.entries(inputMemberValue)) {\n                    const amalgam = memberTraits.httpPrefixHeaders + key;\n                    serializer.write([memberNs.getValueSchema(), { httpHeader: amalgam }], val);\n                    headers[amalgam.toLowerCase()] = serializer.flush();\n                }\n                delete input[memberName];\n            }\n            else if (memberTraits.httpQuery || memberTraits.httpQueryParams) {\n                this.serializeQuery(memberNs, inputMemberValue, query);\n                delete input[memberName];\n            }\n            else {\n                hasNonHttpBindingMember = true;\n            }\n        }\n        if (hasNonHttpBindingMember && input) {\n            serializer.write(schema, input);\n            payload = serializer.flush();\n        }\n        request.headers = headers;\n        request.query = query;\n        request.body = payload;\n        return request;\n    }\n    serializeQuery(ns, data, query) {\n        const serializer = this.serializer;\n        const traits = ns.getMergedTraits();\n        if (traits.httpQueryParams) {\n            for (const [key, val] of Object.entries(data)) {\n                if (!(key in query)) {\n                    const valueSchema = ns.getValueSchema();\n                    Object.assign(valueSchema.getMergedTraits(), {\n                        ...traits,\n                        httpQuery: key,\n                        httpQueryParams: undefined,\n                    });\n                    this.serializeQuery(valueSchema, val, query);\n                }\n            }\n            return;\n        }\n        if (ns.isListSchema()) {\n            const sparse = !!ns.getMergedTraits().sparse;\n            const buffer = [];\n            for (const item of data) {\n                serializer.write([ns.getValueSchema(), traits], item);\n                const serializable = serializer.flush();\n                if (sparse || serializable !== undefined) {\n                    buffer.push(serializable);\n                }\n            }\n            query[traits.httpQuery] = buffer;\n        }\n        else {\n            serializer.write([ns, traits], data);\n            query[traits.httpQuery] = serializer.flush();\n        }\n    }\n    async deserializeResponse(operationSchema, context, response) {\n        const deserializer = this.deserializer;\n        const ns = NormalizedSchema.of(operationSchema.output);\n        const dataObject = {};\n        if (response.statusCode >= 300) {\n            const bytes = await collectBody(response.body, context);\n            if (bytes.byteLength > 0) {\n                Object.assign(dataObject, await deserializer.read(15, bytes));\n            }\n            await this.handleError(operationSchema, context, response, dataObject, this.deserializeMetadata(response));\n            throw new Error(\"@smithy/core/protocols - HTTP Protocol error handler failed to throw.\");\n        }\n        for (const header in response.headers) {\n            const value = response.headers[header];\n            delete response.headers[header];\n            response.headers[header.toLowerCase()] = value;\n        }\n        const nonHttpBindingMembers = await this.deserializeHttpMessage(ns, context, response, dataObject);\n        if (nonHttpBindingMembers.length) {\n            const bytes = await collectBody(response.body, context);\n            if (bytes.byteLength > 0) {\n                const dataFromBody = await deserializer.read(ns, bytes);\n                for (const member of nonHttpBindingMembers) {\n                    dataObject[member] = dataFromBody[member];\n                }\n            }\n        }\n        dataObject.$metadata = this.deserializeMetadata(response);\n        return dataObject;\n    }\n    async deserializeHttpMessage(schema, context, response, arg4, arg5) {\n        let dataObject;\n        if (arg4 instanceof Set) {\n            dataObject = arg5;\n        }\n        else {\n            dataObject = arg4;\n        }\n        const deserializer = this.deserializer;\n        const ns = NormalizedSchema.of(schema);\n        const nonHttpBindingMembers = [];\n        for (const [memberName, memberSchema] of ns.structIterator()) {\n            const memberTraits = memberSchema.getMemberTraits();\n            if (memberTraits.httpPayload) {\n                const isStreaming = memberSchema.isStreaming();\n                if (isStreaming) {\n                    const isEventStream = memberSchema.isStructSchema();\n                    if (isEventStream) {\n                        dataObject[memberName] = await this.deserializeEventStream({\n                            response,\n                            responseSchema: ns,\n                        });\n                    }\n                    else {\n                        dataObject[memberName] = sdkStreamMixin(response.body);\n                    }\n                }\n                else if (response.body) {\n                    const bytes = await collectBody(response.body, context);\n                    if (bytes.byteLength > 0) {\n                        dataObject[memberName] = await deserializer.read(memberSchema, bytes);\n                    }\n                }\n            }\n            else if (memberTraits.httpHeader) {\n                const key = String(memberTraits.httpHeader).toLowerCase();\n                const value = response.headers[key];\n                if (null != value) {\n                    if (memberSchema.isListSchema()) {\n                        const headerListValueSchema = memberSchema.getValueSchema();\n                        headerListValueSchema.getMergedTraits().httpHeader = key;\n                        let sections;\n                        if (headerListValueSchema.isTimestampSchema() &&\n                            headerListValueSchema.getSchema() === 4) {\n                            sections = splitEvery(value, \",\", 2);\n                        }\n                        else {\n                            sections = splitHeader(value);\n                        }\n                        const list = [];\n                        for (const section of sections) {\n                            list.push(await deserializer.read(headerListValueSchema, section.trim()));\n                        }\n                        dataObject[memberName] = list;\n                    }\n                    else {\n                        dataObject[memberName] = await deserializer.read(memberSchema, value);\n                    }\n                }\n            }\n            else if (memberTraits.httpPrefixHeaders !== undefined) {\n                dataObject[memberName] = {};\n                for (const [header, value] of Object.entries(response.headers)) {\n                    if (header.startsWith(memberTraits.httpPrefixHeaders)) {\n                        const valueSchema = memberSchema.getValueSchema();\n                        valueSchema.getMergedTraits().httpHeader = header;\n                        dataObject[memberName][header.slice(memberTraits.httpPrefixHeaders.length)] = await deserializer.read(valueSchema, value);\n                    }\n                }\n            }\n            else if (memberTraits.httpResponseCode) {\n                dataObject[memberName] = response.statusCode;\n            }\n            else {\n                nonHttpBindingMembers.push(memberName);\n            }\n        }\n        return nonHttpBindingMembers;\n    }\n}\n", "import { NormalizedSchema } from \"@smithy/core/schema\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nimport { collectBody } from \"./collect-stream-body\";\nimport { HttpProtocol } from \"./HttpProtocol\";\nexport class RpcProtocol extends HttpProtocol {\n    async serializeRequest(operationSchema, input, context) {\n        const serializer = this.serializer;\n        const query = {};\n        const headers = {};\n        const endpoint = await context.endpoint();\n        const ns = NormalizedSchema.of(operationSchema?.input);\n        const schema = ns.getSchema();\n        let payload;\n        const request = new HttpRequest({\n            protocol: \"\",\n            hostname: \"\",\n            port: undefined,\n            path: \"/\",\n            fragment: undefined,\n            query: query,\n            headers: headers,\n            body: undefined,\n        });\n        if (endpoint) {\n            this.updateServiceEndpoint(request, endpoint);\n            this.setHostPrefix(request, operationSchema, input);\n        }\n        const _input = {\n            ...input,\n        };\n        if (input) {\n            const eventStreamMember = ns.getEventStreamMember();\n            if (eventStreamMember) {\n                if (_input[eventStreamMember]) {\n                    const initialRequest = {};\n                    for (const [memberName, memberSchema] of ns.structIterator()) {\n                        if (memberName !== eventStreamMember && _input[memberName]) {\n                            serializer.write(memberSchema, _input[memberName]);\n                            initialRequest[memberName] = serializer.flush();\n                        }\n                    }\n                    payload = await this.serializeEventStream({\n                        eventStream: _input[eventStreamMember],\n                        requestSchema: ns,\n                        initialRequest,\n                    });\n                }\n            }\n            else {\n                serializer.write(schema, _input);\n                payload = serializer.flush();\n            }\n        }\n        request.headers = headers;\n        request.query = query;\n        request.body = payload;\n        request.method = \"POST\";\n        return request;\n    }\n    async deserializeResponse(operationSchema, context, response) {\n        const deserializer = this.deserializer;\n        const ns = NormalizedSchema.of(operationSchema.output);\n        const dataObject = {};\n        if (response.statusCode >= 300) {\n            const bytes = await collectBody(response.body, context);\n            if (bytes.byteLength > 0) {\n                Object.assign(dataObject, await deserializer.read(15, bytes));\n            }\n            await this.handleError(operationSchema, context, response, dataObject, this.deserializeMetadata(response));\n            throw new Error(\"@smithy/core/protocols - RPC Protocol error handler failed to throw.\");\n        }\n        for (const header in response.headers) {\n            const value = response.headers[header];\n            delete response.headers[header];\n            response.headers[header.toLowerCase()] = value;\n        }\n        const eventStreamMember = ns.getEventStreamMember();\n        if (eventStreamMember) {\n            dataObject[eventStreamMember] = await this.deserializeEventStream({\n                response,\n                responseSchema: ns,\n                initialResponseContainer: dataObject,\n            });\n        }\n        else {\n            const bytes = await collectBody(response.body, context);\n            if (bytes.byteLength > 0) {\n                Object.assign(dataObject, await deserializer.read(ns, bytes));\n            }\n        }\n        dataObject.$metadata = this.deserializeMetadata(response);\n        return dataObject;\n    }\n}\n", "import { extendedEncodeURIComponent } from \"./extended-encode-uri-component\";\nexport const resolvedPath = (resolvedPath, input, memberName, labelValueProvider, uriLabel, isGreedyLabel) => {\n    if (input != null && input[memberName] !== undefined) {\n        const labelValue = labelValueProvider();\n        if (labelValue.length <= 0) {\n            throw new Error(\"Empty value provided for input HTTP label: \" + memberName + \".\");\n        }\n        resolvedPath = resolvedPath.replace(uriLabel, isGreedyLabel\n            ? labelValue\n                .split(\"/\")\n                .map((segment) => extendedEncodeURIComponent(segment))\n                .join(\"/\")\n            : extendedEncodeURIComponent(labelValue));\n    }\n    else {\n        throw new Error(\"No value provided for input HTTP label: \" + memberName + \".\");\n    }\n    return resolvedPath;\n};\n", "import { HttpRequest } from \"@smithy/protocol-http\";\nimport { resolvedPath } from \"./resolve-path\";\nexport function requestBuilder(input, context) {\n    return new RequestBuilder(input, context);\n}\nexport class RequestBuilder {\n    input;\n    context;\n    query = {};\n    method = \"\";\n    headers = {};\n    path = \"\";\n    body = null;\n    hostname = \"\";\n    resolvePathStack = [];\n    constructor(input, context) {\n        this.input = input;\n        this.context = context;\n    }\n    async build() {\n        const { hostname, protocol = \"https\", port, path: basePath } = await this.context.endpoint();\n        this.path = basePath;\n        for (const resolvePath of this.resolvePathStack) {\n            resolvePath(this.path);\n        }\n        return new HttpRequest({\n            protocol,\n            hostname: this.hostname || hostname,\n            port,\n            method: this.method,\n            path: this.path,\n            query: this.query,\n            body: this.body,\n            headers: this.headers,\n        });\n    }\n    hn(hostname) {\n        this.hostname = hostname;\n        return this;\n    }\n    bp(uriLabel) {\n        this.resolvePathStack.push((basePath) => {\n            this.path = `${basePath?.endsWith(\"/\") ? basePath.slice(0, -1) : basePath || \"\"}` + uriLabel;\n        });\n        return this;\n    }\n    p(memberName, labelValueProvider, uriLabel, isGreedyLabel) {\n        this.resolvePathStack.push((path) => {\n            this.path = resolvedPath(path, this.input, memberName, labelValueProvider, uriLabel, isGreedyLabel);\n        });\n        return this;\n    }\n    h(headers) {\n        this.headers = headers;\n        return this;\n    }\n    q(query) {\n        this.query = query;\n        return this;\n    }\n    b(body) {\n        this.body = body;\n        return this;\n    }\n    m(method) {\n        this.method = method;\n        return this;\n    }\n}\n", "export function determineTimestampFormat(ns, settings) {\n    if (settings.timestampFormat.useTrait) {\n        if (ns.isTimestampSchema() &&\n            (ns.getSchema() === 5 ||\n                ns.getSchema() === 6 ||\n                ns.getSchema() === 7)) {\n            return ns.getSchema();\n        }\n    }\n    const { httpLabel, httpPrefixHeaders, httpHeader, httpQuery } = ns.getMergedTraits();\n    const bindingFormat = settings.httpBindings\n        ? typeof httpPrefixHeaders === \"string\" || Boolean(httpHeader)\n            ? 6\n            : Boolean(httpQuery) || Boolean(httpLabel)\n                ? 5\n                : undefined\n        : undefined;\n    return bindingFormat ?? settings.timestampFormat.default;\n}\n", "import { NormalizedSchema } from \"@smithy/core/schema\";\nimport { _parseEpochTimestamp, _parseRfc3339DateTimeWithOffset, _parseRfc7231DateTime, LazyJsonString, NumericValue, splitHeader, } from \"@smithy/core/serde\";\nimport { fromBase64 } from \"@smithy/util-base64\";\nimport { toUtf8 } from \"@smithy/util-utf8\";\nimport { SerdeContext } from \"../SerdeContext\";\nimport { determineTimestampFormat } from \"./determineTimestampFormat\";\nexport class FromStringShapeDeserializer extends SerdeContext {\n    settings;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    read(_schema, data) {\n        const ns = NormalizedSchema.of(_schema);\n        if (ns.isListSchema()) {\n            return splitHeader(data).map((item) => this.read(ns.getValueSchema(), item));\n        }\n        if (ns.isBlobSchema()) {\n            return (this.serdeContext?.base64Decoder ?? fromBase64)(data);\n        }\n        if (ns.isTimestampSchema()) {\n            const format = determineTimestampFormat(ns, this.settings);\n            switch (format) {\n                case 5:\n                    return _parseRfc3339DateTimeWithOffset(data);\n                case 6:\n                    return _parseRfc7231DateTime(data);\n                case 7:\n                    return _parseEpochTimestamp(data);\n                default:\n                    console.warn(\"Missing timestamp format, parsing value with Date constructor:\", data);\n                    return new Date(data);\n            }\n        }\n        if (ns.isStringSchema()) {\n            const mediaType = ns.getMergedTraits().mediaType;\n            let intermediateValue = data;\n            if (mediaType) {\n                if (ns.getMergedTraits().httpHeader) {\n                    intermediateValue = this.base64ToUtf8(intermediateValue);\n                }\n                const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\n                if (isJson) {\n                    intermediateValue = LazyJsonString.from(intermediateValue);\n                }\n                return intermediateValue;\n            }\n        }\n        if (ns.isNumericSchema()) {\n            return Number(data);\n        }\n        if (ns.isBigIntegerSchema()) {\n            return BigInt(data);\n        }\n        if (ns.isBigDecimalSchema()) {\n            return new NumericValue(data, \"bigDecimal\");\n        }\n        if (ns.isBooleanSchema()) {\n            return String(data).toLowerCase() === \"true\";\n        }\n        return data;\n    }\n    base64ToUtf8(base64String) {\n        return (this.serdeContext?.utf8Encoder ?? toUtf8)((this.serdeContext?.base64Decoder ?? fromBase64)(base64String));\n    }\n}\n", "import { NormalizedSchema } from \"@smithy/core/schema\";\nimport { fromUtf8, toUtf8 } from \"@smithy/util-utf8\";\nimport { SerdeContext } from \"../SerdeContext\";\nimport { FromStringShapeDeserializer } from \"./FromStringShapeDeserializer\";\nexport class HttpInterceptingShapeDeserializer extends SerdeContext {\n    codecDeserializer;\n    stringDeserializer;\n    constructor(codecDeserializer, codecSettings) {\n        super();\n        this.codecDeserializer = codecDeserializer;\n        this.stringDeserializer = new FromStringShapeDeserializer(codecSettings);\n    }\n    setSerdeContext(serdeContext) {\n        this.stringDeserializer.setSerdeContext(serdeContext);\n        this.codecDeserializer.setSerdeContext(serdeContext);\n        this.serdeContext = serdeContext;\n    }\n    read(schema, data) {\n        const ns = NormalizedSchema.of(schema);\n        const traits = ns.getMergedTraits();\n        const toString = this.serdeContext?.utf8Encoder ?? toUtf8;\n        if (traits.httpHeader || traits.httpResponseCode) {\n            return this.stringDeserializer.read(ns, toString(data));\n        }\n        if (traits.httpPayload) {\n            if (ns.isBlobSchema()) {\n                const toBytes = this.serdeContext?.utf8Decoder ?? fromUtf8;\n                if (typeof data === \"string\") {\n                    return toBytes(data);\n                }\n                return data;\n            }\n            else if (ns.isStringSchema()) {\n                if (\"byteLength\" in data) {\n                    return toString(data);\n                }\n                return data;\n            }\n        }\n        return this.codecDeserializer.read(ns, data);\n    }\n}\n", "import { NormalizedSchema } from \"@smithy/core/schema\";\nimport { dateToUtcString, LazyJsonString, quoteHeader } from \"@smithy/core/serde\";\nimport { toBase64 } from \"@smithy/util-base64\";\nimport { SerdeContext } from \"../SerdeContext\";\nimport { determineTimestampFormat } from \"./determineTimestampFormat\";\nexport class ToStringShapeSerializer extends SerdeContext {\n    settings;\n    stringBuffer = \"\";\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    write(schema, value) {\n        const ns = NormalizedSchema.of(schema);\n        switch (typeof value) {\n            case \"object\":\n                if (value === null) {\n                    this.stringBuffer = \"null\";\n                    return;\n                }\n                if (ns.isTimestampSchema()) {\n                    if (!(value instanceof Date)) {\n                        throw new Error(`@smithy/core/protocols - received non-Date value ${value} when schema expected Date in ${ns.getName(true)}`);\n                    }\n                    const format = determineTimestampFormat(ns, this.settings);\n                    switch (format) {\n                        case 5:\n                            this.stringBuffer = value.toISOString().replace(\".000Z\", \"Z\");\n                            break;\n                        case 6:\n                            this.stringBuffer = dateToUtcString(value);\n                            break;\n                        case 7:\n                            this.stringBuffer = String(value.getTime() / 1000);\n                            break;\n                        default:\n                            console.warn(\"Missing timestamp format, using epoch seconds\", value);\n                            this.stringBuffer = String(value.getTime() / 1000);\n                    }\n                    return;\n                }\n                if (ns.isBlobSchema() && \"byteLength\" in value) {\n                    this.stringBuffer = (this.serdeContext?.base64Encoder ?? toBase64)(value);\n                    return;\n                }\n                if (ns.isListSchema() && Array.isArray(value)) {\n                    let buffer = \"\";\n                    for (const item of value) {\n                        this.write([ns.getValueSchema(), ns.getMergedTraits()], item);\n                        const headerItem = this.flush();\n                        const serialized = ns.getValueSchema().isTimestampSchema() ? headerItem : quoteHeader(headerItem);\n                        if (buffer !== \"\") {\n                            buffer += \", \";\n                        }\n                        buffer += serialized;\n                    }\n                    this.stringBuffer = buffer;\n                    return;\n                }\n                this.stringBuffer = JSON.stringify(value, null, 2);\n                break;\n            case \"string\":\n                const mediaType = ns.getMergedTraits().mediaType;\n                let intermediateValue = value;\n                if (mediaType) {\n                    const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\n                    if (isJson) {\n                        intermediateValue = LazyJsonString.from(intermediateValue);\n                    }\n                    if (ns.getMergedTraits().httpHeader) {\n                        this.stringBuffer = (this.serdeContext?.base64Encoder ?? toBase64)(intermediateValue.toString());\n                        return;\n                    }\n                }\n                this.stringBuffer = value;\n                break;\n            default:\n                this.stringBuffer = String(value);\n        }\n    }\n    flush() {\n        const buffer = this.stringBuffer;\n        this.stringBuffer = \"\";\n        return buffer;\n    }\n}\n", "import { NormalizedSchema } from \"@smithy/core/schema\";\nimport { ToStringShapeSerializer } from \"./ToStringShapeSerializer\";\nexport class HttpInterceptingShapeSerializer {\n    codecSerializer;\n    stringSerializer;\n    buffer;\n    constructor(codecSerializer, codecSettings, stringSerializer = new ToStringShapeSerializer(codecSettings)) {\n        this.codecSerializer = codecSerializer;\n        this.stringSerializer = stringSerializer;\n    }\n    setSerdeContext(serdeContext) {\n        this.codecSerializer.setSerdeContext(serdeContext);\n        this.stringSerializer.setSerdeContext(serdeContext);\n    }\n    write(schema, value) {\n        const ns = NormalizedSchema.of(schema);\n        const traits = ns.getMergedTraits();\n        if (traits.httpHeader || traits.httpLabel || traits.httpQuery) {\n            this.stringSerializer.write(ns, value);\n            this.buffer = this.stringSerializer.flush();\n            return;\n        }\n        return this.codecSerializer.write(ns, value);\n    }\n    flush() {\n        if (this.buffer !== undefined) {\n            const buffer = this.buffer;\n            this.buffer = undefined;\n            return buffer;\n        }\n        return this.codecSerializer.flush();\n    }\n}\n", "export * from \"./collect-stream-body\";\nexport * from \"./extended-encode-uri-component\";\nexport * from \"./HttpBindingProtocol\";\nexport * from \"./HttpProtocol\";\nexport * from \"./RpcProtocol\";\nexport * from \"./requestBuilder\";\nexport * from \"./resolve-path\";\nexport * from \"./serde/FromStringShapeDeserializer\";\nexport * from \"./serde/HttpInterceptingShapeDeserializer\";\nexport * from \"./serde/HttpInterceptingShapeSerializer\";\nexport * from \"./serde/ToStringShapeSerializer\";\nexport * from \"./serde/determineTimestampFormat\";\nexport * from \"./SerdeContext\";\n", "export { requestBuilder } from \"@smithy/core/protocols\";\n", "export function setFeature(context, feature, value) {\n    if (!context.__smithy_context) {\n        context.__smithy_context = {\n            features: {},\n        };\n    }\n    else if (!context.__smithy_context.features) {\n        context.__smithy_context.features = {};\n    }\n    context.__smithy_context.features[feature] = value;\n}\n", "export class DefaultIdentityProviderConfig {\n    authSchemes = new Map();\n    constructor(config) {\n        for (const [key, value] of Object.entries(config)) {\n            if (value !== undefined) {\n                this.authSchemes.set(key, value);\n            }\n        }\n    }\n    getIdentityProvider(schemeId) {\n        return this.authSchemes.get(schemeId);\n    }\n}\n", "import { HttpRequest } from \"@smithy/protocol-http\";\nimport { HttpApiKeyAuthLocation } from \"@smithy/types\";\nexport class HttpApiKeyAuthSigner {\n    async sign(httpRequest, identity, signingProperties) {\n        if (!signingProperties) {\n            throw new Error(\"request could not be signed with `apiKey` since the `name` and `in` signer properties are missing\");\n        }\n        if (!signingProperties.name) {\n            throw new Error(\"request could not be signed with `apiKey` since the `name` signer property is missing\");\n        }\n        if (!signingProperties.in) {\n            throw new Error(\"request could not be signed with `apiKey` since the `in` signer property is missing\");\n        }\n        if (!identity.apiKey) {\n            throw new Error(\"request could not be signed with `apiKey` since the `apiKey` is not defined\");\n        }\n        const clonedRequest = HttpRequest.clone(httpRequest);\n        if (signingProperties.in === HttpApiKeyAuthLocation.QUERY) {\n            clonedRequest.query[signingProperties.name] = identity.apiKey;\n        }\n        else if (signingProperties.in === HttpApiKeyAuthLocation.HEADER) {\n            clonedRequest.headers[signingProperties.name] = signingProperties.scheme\n                ? `${signingProperties.scheme} ${identity.apiKey}`\n                : identity.apiKey;\n        }\n        else {\n            throw new Error(\"request can only be signed with `apiKey` locations `query` or `header`, \" +\n                \"but found: `\" +\n                signingProperties.in +\n                \"`\");\n        }\n        return clonedRequest;\n    }\n}\n", "import { HttpRequest } from \"@smithy/protocol-http\";\nexport class HttpBearerAuthSigner {\n    async sign(httpRequest, identity, signingProperties) {\n        const clonedRequest = HttpRequest.clone(httpRequest);\n        if (!identity.token) {\n            throw new Error(\"request could not be signed with `token` since the `token` is not defined\");\n        }\n        clonedRequest.headers[\"Authorization\"] = `Bearer ${identity.token}`;\n        return clonedRequest;\n    }\n}\n", "export class NoAuthSigner {\n    async sign(httpRequest, identity, signingProperties) {\n        return httpRequest;\n    }\n}\n", "export * from \"./httpApiKeyAuth\";\nexport * from \"./httpBearerAuth\";\nexport * from \"./noAuth\";\n", "export const createIsIdentityExpiredFunction = (expirationMs) => function isIdentityExpired(identity) {\n    return doesIdentityRequireRefresh(identity) && identity.expiration.getTime() - Date.now() < expirationMs;\n};\nexport const EXPIRATION_MS = 300_000;\nexport const isIdentityExpired = createIsIdentityExpiredFunction(EXPIRATION_MS);\nexport const doesIdentityRequireRefresh = (identity) => identity.expiration !== undefined;\nexport const memoizeIdentityProvider = (provider, isExpired, requiresRefresh) => {\n    if (provider === undefined) {\n        return undefined;\n    }\n    const normalizedProvider = typeof provider !== \"function\" ? async () => Promise.resolve(provider) : provider;\n    let resolved;\n    let pending;\n    let hasResult;\n    let isConstant = false;\n    const coalesceProvider = async (options) => {\n        if (!pending) {\n            pending = normalizedProvider(options);\n        }\n        try {\n            resolved = await pending;\n            hasResult = true;\n            isConstant = false;\n        }\n        finally {\n            pending = undefined;\n        }\n        return resolved;\n    };\n    if (isExpired === undefined) {\n        return async (options) => {\n            if (!hasResult || options?.forceRefresh) {\n                resolved = await coalesceProvider(options);\n            }\n            return resolved;\n        };\n    }\n    return async (options) => {\n        if (!hasResult || options?.forceRefresh) {\n            resolved = await coalesceProvider(options);\n        }\n        if (isConstant) {\n            return resolved;\n        }\n        if (!requiresRefresh(resolved)) {\n            isConstant = true;\n            return resolved;\n        }\n        if (isExpired(resolved)) {\n            await coalesceProvider(options);\n            return resolved;\n        }\n        return resolved;\n    };\n};\n", "export * from \"./DefaultIdentityProviderConfig\";\nexport * from \"./httpAuthSchemes\";\nexport * from \"./memoizeIdentityProvider\";\n", "export * from \"./getSmithyContext\";\nexport * from \"./middleware-http-auth-scheme\";\nexport * from \"./middleware-http-signing\";\nexport * from \"./normalizeProvider\";\nexport { createPaginator } from \"./pagination/createPaginator\";\nexport * from \"./request-builder/requestBuilder\";\nexport * from \"./setFeature\";\nexport * from \"./util-identity-and-auth\";\n", "'use strict';\n\nvar types = require('@smithy/types');\n\nclass EndpointCache {\n    capacity;\n    data = new Map();\n    parameters = [];\n    constructor({ size, params }) {\n        this.capacity = size ?? 50;\n        if (params) {\n            this.parameters = params;\n        }\n    }\n    get(endpointParams, resolver) {\n        const key = this.hash(endpointParams);\n        if (key === false) {\n            return resolver();\n        }\n        if (!this.data.has(key)) {\n            if (this.data.size > this.capacity + 10) {\n                const keys = this.data.keys();\n                let i = 0;\n                while (true) {\n                    const { value, done } = keys.next();\n                    this.data.delete(value);\n                    if (done || ++i > 10) {\n                        break;\n                    }\n                }\n            }\n            this.data.set(key, resolver());\n        }\n        return this.data.get(key);\n    }\n    size() {\n        return this.data.size;\n    }\n    hash(endpointParams) {\n        let buffer = \"\";\n        const { parameters } = this;\n        if (parameters.length === 0) {\n            return false;\n        }\n        for (const param of parameters) {\n            const val = String(endpointParams[param] ?? \"\");\n            if (val.includes(\"|;\")) {\n                return false;\n            }\n            buffer += val + \"|;\";\n        }\n        return buffer;\n    }\n}\n\nconst IP_V4_REGEX = new RegExp(`^(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}$`);\nconst isIpAddress = (value) => IP_V4_REGEX.test(value) || (value.startsWith(\"[\") && value.endsWith(\"]\"));\n\nconst VALID_HOST_LABEL_REGEX = new RegExp(`^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$`);\nconst isValidHostLabel = (value, allowSubDomains = false) => {\n    if (!allowSubDomains) {\n        return VALID_HOST_LABEL_REGEX.test(value);\n    }\n    const labels = value.split(\".\");\n    for (const label of labels) {\n        if (!isValidHostLabel(label)) {\n            return false;\n        }\n    }\n    return true;\n};\n\nconst customEndpointFunctions = {};\n\nconst debugId = \"endpoints\";\n\nfunction toDebugString(input) {\n    if (typeof input !== \"object\" || input == null) {\n        return input;\n    }\n    if (\"ref\" in input) {\n        return `$${toDebugString(input.ref)}`;\n    }\n    if (\"fn\" in input) {\n        return `${input.fn}(${(input.argv || []).map(toDebugString).join(\", \")})`;\n    }\n    return JSON.stringify(input, null, 2);\n}\n\nclass EndpointError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = \"EndpointError\";\n    }\n}\n\nconst booleanEquals = (value1, value2) => value1 === value2;\n\nconst getAttrPathList = (path) => {\n    const parts = path.split(\".\");\n    const pathList = [];\n    for (const part of parts) {\n        const squareBracketIndex = part.indexOf(\"[\");\n        if (squareBracketIndex !== -1) {\n            if (part.indexOf(\"]\") !== part.length - 1) {\n                throw new EndpointError(`Path: '${path}' does not end with ']'`);\n            }\n            const arrayIndex = part.slice(squareBracketIndex + 1, -1);\n            if (Number.isNaN(parseInt(arrayIndex))) {\n                throw new EndpointError(`Invalid array index: '${arrayIndex}' in path: '${path}'`);\n            }\n            if (squareBracketIndex !== 0) {\n                pathList.push(part.slice(0, squareBracketIndex));\n            }\n            pathList.push(arrayIndex);\n        }\n        else {\n            pathList.push(part);\n        }\n    }\n    return pathList;\n};\n\nconst getAttr = (value, path) => getAttrPathList(path).reduce((acc, index) => {\n    if (typeof acc !== \"object\") {\n        throw new EndpointError(`Index '${index}' in '${path}' not found in '${JSON.stringify(value)}'`);\n    }\n    else if (Array.isArray(acc)) {\n        return acc[parseInt(index)];\n    }\n    return acc[index];\n}, value);\n\nconst isSet = (value) => value != null;\n\nconst not = (value) => !value;\n\nconst DEFAULT_PORTS = {\n    [types.EndpointURLScheme.HTTP]: 80,\n    [types.EndpointURLScheme.HTTPS]: 443,\n};\nconst parseURL = (value) => {\n    const whatwgURL = (() => {\n        try {\n            if (value instanceof URL) {\n                return value;\n            }\n            if (typeof value === \"object\" && \"hostname\" in value) {\n                const { hostname, port, protocol = \"\", path = \"\", query = {} } = value;\n                const url = new URL(`${protocol}//${hostname}${port ? `:${port}` : \"\"}${path}`);\n                url.search = Object.entries(query)\n                    .map(([k, v]) => `${k}=${v}`)\n                    .join(\"&\");\n                return url;\n            }\n            return new URL(value);\n        }\n        catch (error) {\n            return null;\n        }\n    })();\n    if (!whatwgURL) {\n        console.error(`Unable to parse ${JSON.stringify(value)} as a whatwg URL.`);\n        return null;\n    }\n    const urlString = whatwgURL.href;\n    const { host, hostname, pathname, protocol, search } = whatwgURL;\n    if (search) {\n        return null;\n    }\n    const scheme = protocol.slice(0, -1);\n    if (!Object.values(types.EndpointURLScheme).includes(scheme)) {\n        return null;\n    }\n    const isIp = isIpAddress(hostname);\n    const inputContainsDefaultPort = urlString.includes(`${host}:${DEFAULT_PORTS[scheme]}`) ||\n        (typeof value === \"string\" && value.includes(`${host}:${DEFAULT_PORTS[scheme]}`));\n    const authority = `${host}${inputContainsDefaultPort ? `:${DEFAULT_PORTS[scheme]}` : ``}`;\n    return {\n        scheme,\n        authority,\n        path: pathname,\n        normalizedPath: pathname.endsWith(\"/\") ? pathname : `${pathname}/`,\n        isIp,\n    };\n};\n\nconst stringEquals = (value1, value2) => value1 === value2;\n\nconst substring = (input, start, stop, reverse) => {\n    if (start >= stop || input.length < stop) {\n        return null;\n    }\n    if (!reverse) {\n        return input.substring(start, stop);\n    }\n    return input.substring(input.length - stop, input.length - start);\n};\n\nconst uriEncode = (value) => encodeURIComponent(value).replace(/[!*'()]/g, (c) => `%${c.charCodeAt(0).toString(16).toUpperCase()}`);\n\nconst endpointFunctions = {\n    booleanEquals,\n    getAttr,\n    isSet,\n    isValidHostLabel,\n    not,\n    parseURL,\n    stringEquals,\n    substring,\n    uriEncode,\n};\n\nconst evaluateTemplate = (template, options) => {\n    const evaluatedTemplateArr = [];\n    const templateContext = {\n        ...options.endpointParams,\n        ...options.referenceRecord,\n    };\n    let currentIndex = 0;\n    while (currentIndex < template.length) {\n        const openingBraceIndex = template.indexOf(\"{\", currentIndex);\n        if (openingBraceIndex === -1) {\n            evaluatedTemplateArr.push(template.slice(currentIndex));\n            break;\n        }\n        evaluatedTemplateArr.push(template.slice(currentIndex, openingBraceIndex));\n        const closingBraceIndex = template.indexOf(\"}\", openingBraceIndex);\n        if (closingBraceIndex === -1) {\n            evaluatedTemplateArr.push(template.slice(openingBraceIndex));\n            break;\n        }\n        if (template[openingBraceIndex + 1] === \"{\" && template[closingBraceIndex + 1] === \"}\") {\n            evaluatedTemplateArr.push(template.slice(openingBraceIndex + 1, closingBraceIndex));\n            currentIndex = closingBraceIndex + 2;\n        }\n        const parameterName = template.substring(openingBraceIndex + 1, closingBraceIndex);\n        if (parameterName.includes(\"#\")) {\n            const [refName, attrName] = parameterName.split(\"#\");\n            evaluatedTemplateArr.push(getAttr(templateContext[refName], attrName));\n        }\n        else {\n            evaluatedTemplateArr.push(templateContext[parameterName]);\n        }\n        currentIndex = closingBraceIndex + 1;\n    }\n    return evaluatedTemplateArr.join(\"\");\n};\n\nconst getReferenceValue = ({ ref }, options) => {\n    const referenceRecord = {\n        ...options.endpointParams,\n        ...options.referenceRecord,\n    };\n    return referenceRecord[ref];\n};\n\nconst evaluateExpression = (obj, keyName, options) => {\n    if (typeof obj === \"string\") {\n        return evaluateTemplate(obj, options);\n    }\n    else if (obj[\"fn\"]) {\n        return group$2.callFunction(obj, options);\n    }\n    else if (obj[\"ref\"]) {\n        return getReferenceValue(obj, options);\n    }\n    throw new EndpointError(`'${keyName}': ${String(obj)} is not a string, function or reference.`);\n};\nconst callFunction = ({ fn, argv }, options) => {\n    const evaluatedArgs = argv.map((arg) => [\"boolean\", \"number\"].includes(typeof arg) ? arg : group$2.evaluateExpression(arg, \"arg\", options));\n    const fnSegments = fn.split(\".\");\n    if (fnSegments[0] in customEndpointFunctions && fnSegments[1] != null) {\n        return customEndpointFunctions[fnSegments[0]][fnSegments[1]](...evaluatedArgs);\n    }\n    return endpointFunctions[fn](...evaluatedArgs);\n};\nconst group$2 = {\n    evaluateExpression,\n    callFunction,\n};\n\nconst evaluateCondition = ({ assign, ...fnArgs }, options) => {\n    if (assign && assign in options.referenceRecord) {\n        throw new EndpointError(`'${assign}' is already defined in Reference Record.`);\n    }\n    const value = callFunction(fnArgs, options);\n    options.logger?.debug?.(`${debugId} evaluateCondition: ${toDebugString(fnArgs)} = ${toDebugString(value)}`);\n    return {\n        result: value === \"\" ? true : !!value,\n        ...(assign != null && { toAssign: { name: assign, value } }),\n    };\n};\n\nconst evaluateConditions = (conditions = [], options) => {\n    const conditionsReferenceRecord = {};\n    for (const condition of conditions) {\n        const { result, toAssign } = evaluateCondition(condition, {\n            ...options,\n            referenceRecord: {\n                ...options.referenceRecord,\n                ...conditionsReferenceRecord,\n            },\n        });\n        if (!result) {\n            return { result };\n        }\n        if (toAssign) {\n            conditionsReferenceRecord[toAssign.name] = toAssign.value;\n            options.logger?.debug?.(`${debugId} assign: ${toAssign.name} := ${toDebugString(toAssign.value)}`);\n        }\n    }\n    return { result: true, referenceRecord: conditionsReferenceRecord };\n};\n\nconst getEndpointHeaders = (headers, options) => Object.entries(headers).reduce((acc, [headerKey, headerVal]) => ({\n    ...acc,\n    [headerKey]: headerVal.map((headerValEntry) => {\n        const processedExpr = evaluateExpression(headerValEntry, \"Header value entry\", options);\n        if (typeof processedExpr !== \"string\") {\n            throw new EndpointError(`Header '${headerKey}' value '${processedExpr}' is not a string`);\n        }\n        return processedExpr;\n    }),\n}), {});\n\nconst getEndpointProperties = (properties, options) => Object.entries(properties).reduce((acc, [propertyKey, propertyVal]) => ({\n    ...acc,\n    [propertyKey]: group$1.getEndpointProperty(propertyVal, options),\n}), {});\nconst getEndpointProperty = (property, options) => {\n    if (Array.isArray(property)) {\n        return property.map((propertyEntry) => getEndpointProperty(propertyEntry, options));\n    }\n    switch (typeof property) {\n        case \"string\":\n            return evaluateTemplate(property, options);\n        case \"object\":\n            if (property === null) {\n                throw new EndpointError(`Unexpected endpoint property: ${property}`);\n            }\n            return group$1.getEndpointProperties(property, options);\n        case \"boolean\":\n            return property;\n        default:\n            throw new EndpointError(`Unexpected endpoint property type: ${typeof property}`);\n    }\n};\nconst group$1 = {\n    getEndpointProperty,\n    getEndpointProperties,\n};\n\nconst getEndpointUrl = (endpointUrl, options) => {\n    const expression = evaluateExpression(endpointUrl, \"Endpoint URL\", options);\n    if (typeof expression === \"string\") {\n        try {\n            return new URL(expression);\n        }\n        catch (error) {\n            console.error(`Failed to construct URL with ${expression}`, error);\n            throw error;\n        }\n    }\n    throw new EndpointError(`Endpoint URL must be a string, got ${typeof expression}`);\n};\n\nconst evaluateEndpointRule = (endpointRule, options) => {\n    const { conditions, endpoint } = endpointRule;\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\n    if (!result) {\n        return;\n    }\n    const endpointRuleOptions = {\n        ...options,\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\n    };\n    const { url, properties, headers } = endpoint;\n    options.logger?.debug?.(`${debugId} Resolving endpoint from template: ${toDebugString(endpoint)}`);\n    return {\n        ...(headers != undefined && {\n            headers: getEndpointHeaders(headers, endpointRuleOptions),\n        }),\n        ...(properties != undefined && {\n            properties: getEndpointProperties(properties, endpointRuleOptions),\n        }),\n        url: getEndpointUrl(url, endpointRuleOptions),\n    };\n};\n\nconst evaluateErrorRule = (errorRule, options) => {\n    const { conditions, error } = errorRule;\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\n    if (!result) {\n        return;\n    }\n    throw new EndpointError(evaluateExpression(error, \"Error\", {\n        ...options,\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\n    }));\n};\n\nconst evaluateRules = (rules, options) => {\n    for (const rule of rules) {\n        if (rule.type === \"endpoint\") {\n            const endpointOrUndefined = evaluateEndpointRule(rule, options);\n            if (endpointOrUndefined) {\n                return endpointOrUndefined;\n            }\n        }\n        else if (rule.type === \"error\") {\n            evaluateErrorRule(rule, options);\n        }\n        else if (rule.type === \"tree\") {\n            const endpointOrUndefined = group.evaluateTreeRule(rule, options);\n            if (endpointOrUndefined) {\n                return endpointOrUndefined;\n            }\n        }\n        else {\n            throw new EndpointError(`Unknown endpoint rule: ${rule}`);\n        }\n    }\n    throw new EndpointError(`Rules evaluation failed`);\n};\nconst evaluateTreeRule = (treeRule, options) => {\n    const { conditions, rules } = treeRule;\n    const { result, referenceRecord } = evaluateConditions(conditions, options);\n    if (!result) {\n        return;\n    }\n    return group.evaluateRules(rules, {\n        ...options,\n        referenceRecord: { ...options.referenceRecord, ...referenceRecord },\n    });\n};\nconst group = {\n    evaluateRules,\n    evaluateTreeRule,\n};\n\nconst resolveEndpoint = (ruleSetObject, options) => {\n    const { endpointParams, logger } = options;\n    const { parameters, rules } = ruleSetObject;\n    options.logger?.debug?.(`${debugId} Initial EndpointParams: ${toDebugString(endpointParams)}`);\n    const paramsWithDefault = Object.entries(parameters)\n        .filter(([, v]) => v.default != null)\n        .map(([k, v]) => [k, v.default]);\n    if (paramsWithDefault.length > 0) {\n        for (const [paramKey, paramDefaultValue] of paramsWithDefault) {\n            endpointParams[paramKey] = endpointParams[paramKey] ?? paramDefaultValue;\n        }\n    }\n    const requiredParams = Object.entries(parameters)\n        .filter(([, v]) => v.required)\n        .map(([k]) => k);\n    for (const requiredParam of requiredParams) {\n        if (endpointParams[requiredParam] == null) {\n            throw new EndpointError(`Missing required parameter: '${requiredParam}'`);\n        }\n    }\n    const endpoint = evaluateRules(rules, { endpointParams, logger, referenceRecord: {} });\n    options.logger?.debug?.(`${debugId} Resolved endpoint: ${toDebugString(endpoint)}`);\n    return endpoint;\n};\n\nexports.EndpointCache = EndpointCache;\nexports.EndpointError = EndpointError;\nexports.customEndpointFunctions = customEndpointFunctions;\nexports.isIpAddress = isIpAddress;\nexports.isValidHostLabel = isValidHostLabel;\nexports.resolveEndpoint = resolveEndpoint;\n", "'use strict';\n\nfunction parseQueryString(querystring) {\n    const query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        for (const pair of querystring.split(\"&\")) {\n            let [key, value = null] = pair.split(\"=\");\n            key = decodeURIComponent(key);\n            if (value) {\n                value = decodeURIComponent(value);\n            }\n            if (!(key in query)) {\n                query[key] = value;\n            }\n            else if (Array.isArray(query[key])) {\n                query[key].push(value);\n            }\n            else {\n                query[key] = [query[key], value];\n            }\n        }\n    }\n    return query;\n}\n\nexports.parseQueryString = parseQueryString;\n", "'use strict';\n\nvar querystringParser = require('@smithy/querystring-parser');\n\nconst parseUrl = (url) => {\n    if (typeof url === \"string\") {\n        return parseUrl(new URL(url));\n    }\n    const { hostname, pathname, port, protocol, search } = url;\n    let query;\n    if (search) {\n        query = querystringParser.parseQueryString(search);\n    }\n    return {\n        hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol,\n        path: pathname,\n        query,\n    };\n};\n\nexports.parseUrl = parseUrl;\n", "'use strict';\n\nvar utilEndpoints = require('@smithy/util-endpoints');\nvar urlParser = require('@smithy/url-parser');\n\nconst isVirtualHostableS3Bucket = (value, allowSubDomains = false) => {\n    if (allowSubDomains) {\n        for (const label of value.split(\".\")) {\n            if (!isVirtualHostableS3Bucket(label)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    if (!utilEndpoints.isValidHostLabel(value)) {\n        return false;\n    }\n    if (value.length < 3 || value.length > 63) {\n        return false;\n    }\n    if (value !== value.toLowerCase()) {\n        return false;\n    }\n    if (utilEndpoints.isIpAddress(value)) {\n        return false;\n    }\n    return true;\n};\n\nconst ARN_DELIMITER = \":\";\nconst RESOURCE_DELIMITER = \"/\";\nconst parseArn = (value) => {\n    const segments = value.split(ARN_DELIMITER);\n    if (segments.length < 6)\n        return null;\n    const [arn, partition, service, region, accountId, ...resourcePath] = segments;\n    if (arn !== \"arn\" || partition === \"\" || service === \"\" || resourcePath.join(ARN_DELIMITER) === \"\")\n        return null;\n    const resourceId = resourcePath.map((resource) => resource.split(RESOURCE_DELIMITER)).flat();\n    return {\n        partition,\n        service,\n        region,\n        accountId,\n        resourceId,\n    };\n};\n\nvar partitions = [\n\t{\n\t\tid: \"aws\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"amazonaws.com\",\n\t\t\tdualStackDnsSuffix: \"api.aws\",\n\t\t\timplicitGlobalRegion: \"us-east-1\",\n\t\t\tname: \"aws\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"af-south-1\": {\n\t\t\t\tdescription: \"Africa (Cape Town)\"\n\t\t\t},\n\t\t\t\"ap-east-1\": {\n\t\t\t\tdescription: \"Asia Pacific (Hong Kong)\"\n\t\t\t},\n\t\t\t\"ap-east-2\": {\n\t\t\t\tdescription: \"Asia Pacific (Taipei)\"\n\t\t\t},\n\t\t\t\"ap-northeast-1\": {\n\t\t\t\tdescription: \"Asia Pacific (Tokyo)\"\n\t\t\t},\n\t\t\t\"ap-northeast-2\": {\n\t\t\t\tdescription: \"Asia Pacific (Seoul)\"\n\t\t\t},\n\t\t\t\"ap-northeast-3\": {\n\t\t\t\tdescription: \"Asia Pacific (Osaka)\"\n\t\t\t},\n\t\t\t\"ap-south-1\": {\n\t\t\t\tdescription: \"Asia Pacific (Mumbai)\"\n\t\t\t},\n\t\t\t\"ap-south-2\": {\n\t\t\t\tdescription: \"Asia Pacific (Hyderabad)\"\n\t\t\t},\n\t\t\t\"ap-southeast-1\": {\n\t\t\t\tdescription: \"Asia Pacific (Singapore)\"\n\t\t\t},\n\t\t\t\"ap-southeast-2\": {\n\t\t\t\tdescription: \"Asia Pacific (Sydney)\"\n\t\t\t},\n\t\t\t\"ap-southeast-3\": {\n\t\t\t\tdescription: \"Asia Pacific (Jakarta)\"\n\t\t\t},\n\t\t\t\"ap-southeast-4\": {\n\t\t\t\tdescription: \"Asia Pacific (Melbourne)\"\n\t\t\t},\n\t\t\t\"ap-southeast-5\": {\n\t\t\t\tdescription: \"Asia Pacific (Malaysia)\"\n\t\t\t},\n\t\t\t\"ap-southeast-6\": {\n\t\t\t\tdescription: \"Asia Pacific (New Zealand)\"\n\t\t\t},\n\t\t\t\"ap-southeast-7\": {\n\t\t\t\tdescription: \"Asia Pacific (Thailand)\"\n\t\t\t},\n\t\t\t\"aws-global\": {\n\t\t\t\tdescription: \"aws global region\"\n\t\t\t},\n\t\t\t\"ca-central-1\": {\n\t\t\t\tdescription: \"Canada (Central)\"\n\t\t\t},\n\t\t\t\"ca-west-1\": {\n\t\t\t\tdescription: \"Canada West (Calgary)\"\n\t\t\t},\n\t\t\t\"eu-central-1\": {\n\t\t\t\tdescription: \"Europe (Frankfurt)\"\n\t\t\t},\n\t\t\t\"eu-central-2\": {\n\t\t\t\tdescription: \"Europe (Zurich)\"\n\t\t\t},\n\t\t\t\"eu-north-1\": {\n\t\t\t\tdescription: \"Europe (Stockholm)\"\n\t\t\t},\n\t\t\t\"eu-south-1\": {\n\t\t\t\tdescription: \"Europe (Milan)\"\n\t\t\t},\n\t\t\t\"eu-south-2\": {\n\t\t\t\tdescription: \"Europe (Spain)\"\n\t\t\t},\n\t\t\t\"eu-west-1\": {\n\t\t\t\tdescription: \"Europe (Ireland)\"\n\t\t\t},\n\t\t\t\"eu-west-2\": {\n\t\t\t\tdescription: \"Europe (London)\"\n\t\t\t},\n\t\t\t\"eu-west-3\": {\n\t\t\t\tdescription: \"Europe (Paris)\"\n\t\t\t},\n\t\t\t\"il-central-1\": {\n\t\t\t\tdescription: \"Israel (Tel Aviv)\"\n\t\t\t},\n\t\t\t\"me-central-1\": {\n\t\t\t\tdescription: \"Middle East (UAE)\"\n\t\t\t},\n\t\t\t\"me-south-1\": {\n\t\t\t\tdescription: \"Middle East (Bahrain)\"\n\t\t\t},\n\t\t\t\"mx-central-1\": {\n\t\t\t\tdescription: \"Mexico (Central)\"\n\t\t\t},\n\t\t\t\"sa-east-1\": {\n\t\t\t\tdescription: \"South America (Sao Paulo)\"\n\t\t\t},\n\t\t\t\"us-east-1\": {\n\t\t\t\tdescription: \"US East (N. Virginia)\"\n\t\t\t},\n\t\t\t\"us-east-2\": {\n\t\t\t\tdescription: \"US East (Ohio)\"\n\t\t\t},\n\t\t\t\"us-west-1\": {\n\t\t\t\tdescription: \"US West (N. California)\"\n\t\t\t},\n\t\t\t\"us-west-2\": {\n\t\t\t\tdescription: \"US West (Oregon)\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-cn\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"amazonaws.com.cn\",\n\t\t\tdualStackDnsSuffix: \"api.amazonwebservices.com.cn\",\n\t\t\timplicitGlobalRegion: \"cn-northwest-1\",\n\t\t\tname: \"aws-cn\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^cn\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"aws-cn-global\": {\n\t\t\t\tdescription: \"aws-cn global region\"\n\t\t\t},\n\t\t\t\"cn-north-1\": {\n\t\t\t\tdescription: \"China (Beijing)\"\n\t\t\t},\n\t\t\t\"cn-northwest-1\": {\n\t\t\t\tdescription: \"China (Ningxia)\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-eusc\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"amazonaws.eu\",\n\t\t\tdualStackDnsSuffix: \"api.amazonwebservices.eu\",\n\t\t\timplicitGlobalRegion: \"eusc-de-east-1\",\n\t\t\tname: \"aws-eusc\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"eusc-de-east-1\": {\n\t\t\t\tdescription: \"EU (Germany)\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-iso\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"c2s.ic.gov\",\n\t\t\tdualStackDnsSuffix: \"api.aws.ic.gov\",\n\t\t\timplicitGlobalRegion: \"us-iso-east-1\",\n\t\t\tname: \"aws-iso\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"aws-iso-global\": {\n\t\t\t\tdescription: \"aws-iso global region\"\n\t\t\t},\n\t\t\t\"us-iso-east-1\": {\n\t\t\t\tdescription: \"US ISO East\"\n\t\t\t},\n\t\t\t\"us-iso-west-1\": {\n\t\t\t\tdescription: \"US ISO WEST\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-iso-b\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"sc2s.sgov.gov\",\n\t\t\tdualStackDnsSuffix: \"api.aws.scloud\",\n\t\t\timplicitGlobalRegion: \"us-isob-east-1\",\n\t\t\tname: \"aws-iso-b\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"aws-iso-b-global\": {\n\t\t\t\tdescription: \"aws-iso-b global region\"\n\t\t\t},\n\t\t\t\"us-isob-east-1\": {\n\t\t\t\tdescription: \"US ISOB East (Ohio)\"\n\t\t\t},\n\t\t\t\"us-isob-west-1\": {\n\t\t\t\tdescription: \"US ISOB West\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-iso-e\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"cloud.adc-e.uk\",\n\t\t\tdualStackDnsSuffix: \"api.cloud-aws.adc-e.uk\",\n\t\t\timplicitGlobalRegion: \"eu-isoe-west-1\",\n\t\t\tname: \"aws-iso-e\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"aws-iso-e-global\": {\n\t\t\t\tdescription: \"aws-iso-e global region\"\n\t\t\t},\n\t\t\t\"eu-isoe-west-1\": {\n\t\t\t\tdescription: \"EU ISOE West\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-iso-f\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"csp.hci.ic.gov\",\n\t\t\tdualStackDnsSuffix: \"api.aws.hci.ic.gov\",\n\t\t\timplicitGlobalRegion: \"us-isof-south-1\",\n\t\t\tname: \"aws-iso-f\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"aws-iso-f-global\": {\n\t\t\t\tdescription: \"aws-iso-f global region\"\n\t\t\t},\n\t\t\t\"us-isof-east-1\": {\n\t\t\t\tdescription: \"US ISOF EAST\"\n\t\t\t},\n\t\t\t\"us-isof-south-1\": {\n\t\t\t\tdescription: \"US ISOF SOUTH\"\n\t\t\t}\n\t\t}\n\t},\n\t{\n\t\tid: \"aws-us-gov\",\n\t\toutputs: {\n\t\t\tdnsSuffix: \"amazonaws.com\",\n\t\t\tdualStackDnsSuffix: \"api.aws\",\n\t\t\timplicitGlobalRegion: \"us-gov-west-1\",\n\t\t\tname: \"aws-us-gov\",\n\t\t\tsupportsDualStack: true,\n\t\t\tsupportsFIPS: true\n\t\t},\n\t\tregionRegex: \"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$\",\n\t\tregions: {\n\t\t\t\"aws-us-gov-global\": {\n\t\t\t\tdescription: \"aws-us-gov global region\"\n\t\t\t},\n\t\t\t\"us-gov-east-1\": {\n\t\t\t\tdescription: \"AWS GovCloud (US-East)\"\n\t\t\t},\n\t\t\t\"us-gov-west-1\": {\n\t\t\t\tdescription: \"AWS GovCloud (US-West)\"\n\t\t\t}\n\t\t}\n\t}\n];\nvar version = \"1.1\";\nvar partitionsInfo = {\n\tpartitions: partitions,\n\tversion: version\n};\n\nlet selectedPartitionsInfo = partitionsInfo;\nlet selectedUserAgentPrefix = \"\";\nconst partition = (value) => {\n    const { partitions } = selectedPartitionsInfo;\n    for (const partition of partitions) {\n        const { regions, outputs } = partition;\n        for (const [region, regionData] of Object.entries(regions)) {\n            if (region === value) {\n                return {\n                    ...outputs,\n                    ...regionData,\n                };\n            }\n        }\n    }\n    for (const partition of partitions) {\n        const { regionRegex, outputs } = partition;\n        if (new RegExp(regionRegex).test(value)) {\n            return {\n                ...outputs,\n            };\n        }\n    }\n    const DEFAULT_PARTITION = partitions.find((partition) => partition.id === \"aws\");\n    if (!DEFAULT_PARTITION) {\n        throw new Error(\"Provided region was not found in the partition array or regex,\" +\n            \" and default partition with id 'aws' doesn't exist.\");\n    }\n    return {\n        ...DEFAULT_PARTITION.outputs,\n    };\n};\nconst setPartitionInfo = (partitionsInfo, userAgentPrefix = \"\") => {\n    selectedPartitionsInfo = partitionsInfo;\n    selectedUserAgentPrefix = userAgentPrefix;\n};\nconst useDefaultPartitionInfo = () => {\n    setPartitionInfo(partitionsInfo, \"\");\n};\nconst getUserAgentPrefix = () => selectedUserAgentPrefix;\n\nconst awsEndpointFunctions = {\n    isVirtualHostableS3Bucket: isVirtualHostableS3Bucket,\n    parseArn: parseArn,\n    partition: partition,\n};\nutilEndpoints.customEndpointFunctions.aws = awsEndpointFunctions;\n\nconst resolveDefaultAwsRegionalEndpointsConfig = (input) => {\n    if (typeof input.endpointProvider !== \"function\") {\n        throw new Error(\"@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.\");\n    }\n    const { endpoint } = input;\n    if (endpoint === undefined) {\n        input.endpoint = async () => {\n            return toEndpointV1(input.endpointProvider({\n                Region: typeof input.region === \"function\" ? await input.region() : input.region,\n                UseDualStack: typeof input.useDualstackEndpoint === \"function\"\n                    ? await input.useDualstackEndpoint()\n                    : input.useDualstackEndpoint,\n                UseFIPS: typeof input.useFipsEndpoint === \"function\" ? await input.useFipsEndpoint() : input.useFipsEndpoint,\n                Endpoint: undefined,\n            }, { logger: input.logger }));\n        };\n    }\n    return input;\n};\nconst toEndpointV1 = (endpoint) => urlParser.parseUrl(endpoint.url);\n\nObject.defineProperty(exports, \"EndpointError\", {\n    enumerable: true,\n    get: function () { return utilEndpoints.EndpointError; }\n});\nObject.defineProperty(exports, \"isIpAddress\", {\n    enumerable: true,\n    get: function () { return utilEndpoints.isIpAddress; }\n});\nObject.defineProperty(exports, \"resolveEndpoint\", {\n    enumerable: true,\n    get: function () { return utilEndpoints.resolveEndpoint; }\n});\nexports.awsEndpointFunctions = awsEndpointFunctions;\nexports.getUserAgentPrefix = getUserAgentPrefix;\nexports.partition = partition;\nexports.resolveDefaultAwsRegionalEndpointsConfig = resolveDefaultAwsRegionalEndpointsConfig;\nexports.setPartitionInfo = setPartitionInfo;\nexports.toEndpointV1 = toEndpointV1;\nexports.useDefaultPartitionInfo = useDefaultPartitionInfo;\n", "export const state = {\n    warningEmitted: false,\n};\nexport const emitWarningIfUnsupportedVersion = (version) => {\n    if (version && !state.warningEmitted && parseInt(version.substring(1, version.indexOf(\".\"))) < 18) {\n        state.warningEmitted = true;\n        process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will\nno longer support Node.js 16.x on January 6, 2025.\n\nTo continue receiving updates to AWS services, bug fixes, and security\nupdates please upgrade to a supported Node.js LTS version.\n\nMore information can be found at: https://a.co/74kJMmI`);\n    }\n};\n", "export function setCredentialFeature(credentials, feature, value) {\n    if (!credentials.$source) {\n        credentials.$source = {};\n    }\n    credentials.$source[feature] = value;\n    return credentials;\n}\n", "export function setFeature(context, feature, value) {\n    if (!context.__aws_sdk_context) {\n        context.__aws_sdk_context = {\n            features: {},\n        };\n    }\n    else if (!context.__aws_sdk_context.features) {\n        context.__aws_sdk_context.features = {};\n    }\n    context.__aws_sdk_context.features[feature] = value;\n}\n", "export function setTokenFeature(token, feature, value) {\n    if (!token.$source) {\n        token.$source = {};\n    }\n    token.$source[feature] = value;\n    return token;\n}\n", "export * from \"./emitWarningIfUnsupportedVersion\";\nexport * from \"./setCredentialFeature\";\nexport * from \"./setFeature\";\nexport * from \"./setTokenFeature\";\n", "import { HttpResponse } from \"@smithy/protocol-http\";\nexport const getDateHeader = (response) => HttpResponse.isInstance(response) ? response.headers?.date ?? response.headers?.Date : undefined;\n", "export const getSkewCorrectedDate = (systemClockOffset) => new Date(Date.now() + systemClockOffset);\n", "import { getSkewCorrectedDate } from \"./getSkewCorrectedDate\";\nexport const isClockSkewed = (clockTime, systemClockOffset) => Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - clockTime) >= 300000;\n", "import { isClockSkewed } from \"./isClockSkewed\";\nexport const getUpdatedSystemClockOffset = (clockTime, currentSystemClockOffset) => {\n    const clockTimeInMs = Date.parse(clockTime);\n    if (isClockSkewed(clockTimeInMs, currentSystemClockOffset)) {\n        return clockTimeInMs - Date.now();\n    }\n    return currentSystemClockOffset;\n};\n", "export * from \"./getDateHeader\";\nexport * from \"./getSkewCorrectedDate\";\nexport * from \"./getUpdatedSystemClockOffset\";\n", "import { HttpRequest } from \"@smithy/protocol-http\";\nimport { getDateHeader, getSkewCorrectedDate, getUpdatedSystemClockOffset } from \"../utils\";\nconst throwSigningPropertyError = (name, property) => {\n    if (!property) {\n        throw new Error(`Property \\`${name}\\` is not resolved for AWS SDK SigV4Auth`);\n    }\n    return property;\n};\nexport const validateSigningProperties = async (signingProperties) => {\n    const context = throwSigningPropertyError(\"context\", signingProperties.context);\n    const config = throwSigningPropertyError(\"config\", signingProperties.config);\n    const authScheme = context.endpointV2?.properties?.authSchemes?.[0];\n    const signerFunction = throwSigningPropertyError(\"signer\", config.signer);\n    const signer = await signerFunction(authScheme);\n    const signingRegion = signingProperties?.signingRegion;\n    const signingRegionSet = signingProperties?.signingRegionSet;\n    const signingName = signingProperties?.signingName;\n    return {\n        config,\n        signer,\n        signingRegion,\n        signingRegionSet,\n        signingName,\n    };\n};\nexport class AwsSdkSigV4Signer {\n    async sign(httpRequest, identity, signingProperties) {\n        if (!HttpRequest.isInstance(httpRequest)) {\n            throw new Error(\"The request is not an instance of `HttpRequest` and cannot be signed\");\n        }\n        const validatedProps = await validateSigningProperties(signingProperties);\n        const { config, signer } = validatedProps;\n        let { signingRegion, signingName } = validatedProps;\n        const handlerExecutionContext = signingProperties.context;\n        if (handlerExecutionContext?.authSchemes?.length ?? 0 > 1) {\n            const [first, second] = handlerExecutionContext.authSchemes;\n            if (first?.name === \"sigv4a\" && second?.name === \"sigv4\") {\n                signingRegion = second?.signingRegion ?? signingRegion;\n                signingName = second?.signingName ?? signingName;\n            }\n        }\n        const signedRequest = await signer.sign(httpRequest, {\n            signingDate: getSkewCorrectedDate(config.systemClockOffset),\n            signingRegion: signingRegion,\n            signingService: signingName,\n        });\n        return signedRequest;\n    }\n    errorHandler(signingProperties) {\n        return (error) => {\n            const serverTime = error.ServerTime ?? getDateHeader(error.$response);\n            if (serverTime) {\n                const config = throwSigningPropertyError(\"config\", signingProperties.config);\n                const initialSystemClockOffset = config.systemClockOffset;\n                config.systemClockOffset = getUpdatedSystemClockOffset(serverTime, config.systemClockOffset);\n                const clockSkewCorrected = config.systemClockOffset !== initialSystemClockOffset;\n                if (clockSkewCorrected && error.$metadata) {\n                    error.$metadata.clockSkewCorrected = true;\n                }\n            }\n            throw error;\n        };\n    }\n    successHandler(httpResponse, signingProperties) {\n        const dateHeader = getDateHeader(httpResponse);\n        if (dateHeader) {\n            const config = throwSigningPropertyError(\"config\", signingProperties.config);\n            config.systemClockOffset = getUpdatedSystemClockOffset(dateHeader, config.systemClockOffset);\n        }\n    }\n}\nexport const AWSSDKSigV4Signer = AwsSdkSigV4Signer;\n", "import { HttpRequest } from \"@smithy/protocol-http\";\nimport { getSkewCorrectedDate } from \"../utils\";\nimport { AwsSdkSigV4Signer, validateSigningProperties } from \"./AwsSdkSigV4Signer\";\nexport class AwsSdkSigV4ASigner extends AwsSdkSigV4Signer {\n    async sign(httpRequest, identity, signingProperties) {\n        if (!HttpRequest.isInstance(httpRequest)) {\n            throw new Error(\"The request is not an instance of `HttpRequest` and cannot be signed\");\n        }\n        const { config, signer, signingRegion, signingRegionSet, signingName } = await validateSigningProperties(signingProperties);\n        const configResolvedSigningRegionSet = await config.sigv4aSigningRegionSet?.();\n        const multiRegionOverride = (configResolvedSigningRegionSet ??\n            signingRegionSet ?? [signingRegion]).join(\",\");\n        const signedRequest = await signer.sign(httpRequest, {\n            signingDate: getSkewCorrectedDate(config.systemClockOffset),\n            signingRegion: multiRegionOverride,\n            signingService: signingName,\n        });\n        return signedRequest;\n    }\n}\n", "export const getArrayForCommaSeparatedString = (str) => typeof str === \"string\" && str.length > 0 ? str.split(\",\").map((item) => item.trim()) : [];\n", "export const getBearerTokenEnvKey = (signingName) => `AWS_BEARER_TOKEN_${signingName.replace(/[\\s-]/g, \"_\").toUpperCase()}`;\n", "import { getArrayForCommaSeparatedString } from \"../utils/getArrayForCommaSeparatedString\";\nimport { getBearerTokenEnvKey } from \"../utils/getBearerTokenEnvKey\";\nconst NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY = \"AWS_AUTH_SCHEME_PREFERENCE\";\nconst NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY = \"auth_scheme_preference\";\nexport const NODE_AUTH_SCHEME_PREFERENCE_OPTIONS = {\n    environmentVariableSelector: (env, options) => {\n        if (options?.signingName) {\n            const bearerTokenKey = getBearerTokenEnvKey(options.signingName);\n            if (bearerTokenKey in env)\n                return [\"httpBearerAuth\"];\n        }\n        if (!(NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY in env))\n            return undefined;\n        return getArrayForCommaSeparatedString(env[NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY]);\n    },\n    configFileSelector: (profile) => {\n        if (!(NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY in profile))\n            return undefined;\n        return getArrayForCommaSeparatedString(profile[NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY]);\n    },\n    default: [],\n};\n", "'use strict';\n\nclass ProviderError extends Error {\n    name = \"ProviderError\";\n    tryNextLink;\n    constructor(message, options = true) {\n        let logger;\n        let tryNextLink = true;\n        if (typeof options === \"boolean\") {\n            logger = undefined;\n            tryNextLink = options;\n        }\n        else if (options != null && typeof options === \"object\") {\n            logger = options.logger;\n            tryNextLink = options.tryNextLink ?? true;\n        }\n        super(message);\n        this.tryNextLink = tryNextLink;\n        Object.setPrototypeOf(this, ProviderError.prototype);\n        logger?.debug?.(`@smithy/property-provider ${tryNextLink ? \"->\" : \"(!)\"} ${message}`);\n    }\n    static from(error, options = true) {\n        return Object.assign(new this(error.message, options), error);\n    }\n}\n\nclass CredentialsProviderError extends ProviderError {\n    name = \"CredentialsProviderError\";\n    constructor(message, options = true) {\n        super(message, options);\n        Object.setPrototypeOf(this, CredentialsProviderError.prototype);\n    }\n}\n\nclass TokenProviderError extends ProviderError {\n    name = \"TokenProviderError\";\n    constructor(message, options = true) {\n        super(message, options);\n        Object.setPrototypeOf(this, TokenProviderError.prototype);\n    }\n}\n\nconst chain = (...providers) => async () => {\n    if (providers.length === 0) {\n        throw new ProviderError(\"No providers in chain\");\n    }\n    let lastProviderError;\n    for (const provider of providers) {\n        try {\n            const credentials = await provider();\n            return credentials;\n        }\n        catch (err) {\n            lastProviderError = err;\n            if (err?.tryNextLink) {\n                continue;\n            }\n            throw err;\n        }\n    }\n    throw lastProviderError;\n};\n\nconst fromStatic = (staticValue) => () => Promise.resolve(staticValue);\n\nconst memoize = (provider, isExpired, requiresRefresh) => {\n    let resolved;\n    let pending;\n    let hasResult;\n    let isConstant = false;\n    const coalesceProvider = async () => {\n        if (!pending) {\n            pending = provider();\n        }\n        try {\n            resolved = await pending;\n            hasResult = true;\n            isConstant = false;\n        }\n        finally {\n            pending = undefined;\n        }\n        return resolved;\n    };\n    if (isExpired === undefined) {\n        return async (options) => {\n            if (!hasResult || options?.forceRefresh) {\n                resolved = await coalesceProvider();\n            }\n            return resolved;\n        };\n    }\n    return async (options) => {\n        if (!hasResult || options?.forceRefresh) {\n            resolved = await coalesceProvider();\n        }\n        if (isConstant) {\n            return resolved;\n        }\n        if (requiresRefresh && !requiresRefresh(resolved)) {\n            isConstant = true;\n            return resolved;\n        }\n        if (isExpired(resolved)) {\n            await coalesceProvider();\n            return resolved;\n        }\n        return resolved;\n    };\n};\n\nexports.CredentialsProviderError = CredentialsProviderError;\nexports.ProviderError = ProviderError;\nexports.TokenProviderError = TokenProviderError;\nexports.chain = chain;\nexports.fromStatic = fromStatic;\nexports.memoize = memoize;\n", "import { normalizeProvider } from \"@smithy/core\";\nimport { ProviderError } from \"@smithy/property-provider\";\nexport const resolveAwsSdkSigV4AConfig = (config) => {\n    config.sigv4aSigningRegionSet = normalizeProvider(config.sigv4aSigningRegionSet);\n    return config;\n};\nexport const NODE_SIGV4A_CONFIG_OPTIONS = {\n    environmentVariableSelector(env) {\n        if (env.AWS_SIGV4A_SIGNING_REGION_SET) {\n            return env.AWS_SIGV4A_SIGNING_REGION_SET.split(\",\").map((_) => _.trim());\n        }\n        throw new ProviderError(\"AWS_SIGV4A_SIGNING_REGION_SET not set in env.\", {\n            tryNextLink: true,\n        });\n    },\n    configFileSelector(profile) {\n        if (profile.sigv4a_signing_region_set) {\n            return (profile.sigv4a_signing_region_set ?? \"\").split(\",\").map((_) => _.trim());\n        }\n        throw new ProviderError(\"sigv4a_signing_region_set not set in profile.\", {\n            tryNextLink: true,\n        });\n    },\n    default: undefined,\n};\n", "'use strict';\n\nvar utilHexEncoding = require('@smithy/util-hex-encoding');\nvar utilUtf8 = require('@smithy/util-utf8');\nvar isArrayBuffer = require('@smithy/is-array-buffer');\nvar protocolHttp = require('@smithy/protocol-http');\nvar utilMiddleware = require('@smithy/util-middleware');\nvar utilUriEscape = require('@smithy/util-uri-escape');\n\nconst ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nconst CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nconst AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nconst SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nconst EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nconst SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nconst TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nconst REGION_SET_PARAM = \"X-Amz-Region-Set\";\nconst AUTH_HEADER = \"authorization\";\nconst AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nconst DATE_HEADER = \"date\";\nconst GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nconst SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nconst SHA256_HEADER = \"x-amz-content-sha256\";\nconst TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nconst HOST_HEADER = \"host\";\nconst ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true,\n};\nconst PROXY_HEADER_PATTERN = /^proxy-/;\nconst SEC_HEADER_PATTERN = /^sec-/;\nconst UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nconst ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nconst ALGORITHM_IDENTIFIER_V4A = \"AWS4-ECDSA-P256-SHA256\";\nconst EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nconst UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nconst MAX_CACHE_SIZE = 50;\nconst KEY_TYPE_IDENTIFIER = \"aws4_request\";\nconst MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n\nconst signingKeyCache = {};\nconst cacheQueue = [];\nconst createScope = (shortDate, region, service) => `${shortDate}/${region}/${service}/${KEY_TYPE_IDENTIFIER}`;\nconst getSigningKey = async (sha256Constructor, credentials, shortDate, region, service) => {\n    const credsHash = await hmac(sha256Constructor, credentials.secretAccessKey, credentials.accessKeyId);\n    const cacheKey = `${shortDate}:${region}:${service}:${utilHexEncoding.toHex(credsHash)}:${credentials.sessionToken}`;\n    if (cacheKey in signingKeyCache) {\n        return signingKeyCache[cacheKey];\n    }\n    cacheQueue.push(cacheKey);\n    while (cacheQueue.length > MAX_CACHE_SIZE) {\n        delete signingKeyCache[cacheQueue.shift()];\n    }\n    let key = `AWS4${credentials.secretAccessKey}`;\n    for (const signable of [shortDate, region, service, KEY_TYPE_IDENTIFIER]) {\n        key = await hmac(sha256Constructor, key, signable);\n    }\n    return (signingKeyCache[cacheKey] = key);\n};\nconst clearCredentialCache = () => {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach((cacheKey) => {\n        delete signingKeyCache[cacheKey];\n    });\n};\nconst hmac = (ctor, secret, data) => {\n    const hash = new ctor(secret);\n    hash.update(utilUtf8.toUint8Array(data));\n    return hash.digest();\n};\n\nconst getCanonicalHeaders = ({ headers }, unsignableHeaders, signableHeaders) => {\n    const canonical = {};\n    for (const headerName of Object.keys(headers).sort()) {\n        if (headers[headerName] == undefined) {\n            continue;\n        }\n        const canonicalHeaderName = headerName.toLowerCase();\n        if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS ||\n            unsignableHeaders?.has(canonicalHeaderName) ||\n            PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n            SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n            if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                continue;\n            }\n        }\n        canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n    }\n    return canonical;\n};\n\nconst getPayloadHash = async ({ headers, body }, hashConstructor) => {\n    for (const headerName of Object.keys(headers)) {\n        if (headerName.toLowerCase() === SHA256_HEADER) {\n            return headers[headerName];\n        }\n    }\n    if (body == undefined) {\n        return \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\";\n    }\n    else if (typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer.isArrayBuffer(body)) {\n        const hashCtor = new hashConstructor();\n        hashCtor.update(utilUtf8.toUint8Array(body));\n        return utilHexEncoding.toHex(await hashCtor.digest());\n    }\n    return UNSIGNED_PAYLOAD;\n};\n\nclass HeaderFormatter {\n    format(headers) {\n        const chunks = [];\n        for (const headerName of Object.keys(headers)) {\n            const bytes = utilUtf8.fromUtf8(headerName);\n            chunks.push(Uint8Array.from([bytes.byteLength]), bytes, this.formatHeaderValue(headers[headerName]));\n        }\n        const out = new Uint8Array(chunks.reduce((carry, bytes) => carry + bytes.byteLength, 0));\n        let position = 0;\n        for (const chunk of chunks) {\n            out.set(chunk, position);\n            position += chunk.byteLength;\n        }\n        return out;\n    }\n    formatHeaderValue(header) {\n        switch (header.type) {\n            case \"boolean\":\n                return Uint8Array.from([header.value ? 0 : 1]);\n            case \"byte\":\n                return Uint8Array.from([2, header.value]);\n            case \"short\":\n                const shortView = new DataView(new ArrayBuffer(3));\n                shortView.setUint8(0, 3);\n                shortView.setInt16(1, header.value, false);\n                return new Uint8Array(shortView.buffer);\n            case \"integer\":\n                const intView = new DataView(new ArrayBuffer(5));\n                intView.setUint8(0, 4);\n                intView.setInt32(1, header.value, false);\n                return new Uint8Array(intView.buffer);\n            case \"long\":\n                const longBytes = new Uint8Array(9);\n                longBytes[0] = 5;\n                longBytes.set(header.value.bytes, 1);\n                return longBytes;\n            case \"binary\":\n                const binView = new DataView(new ArrayBuffer(3 + header.value.byteLength));\n                binView.setUint8(0, 6);\n                binView.setUint16(1, header.value.byteLength, false);\n                const binBytes = new Uint8Array(binView.buffer);\n                binBytes.set(header.value, 3);\n                return binBytes;\n            case \"string\":\n                const utf8Bytes = utilUtf8.fromUtf8(header.value);\n                const strView = new DataView(new ArrayBuffer(3 + utf8Bytes.byteLength));\n                strView.setUint8(0, 7);\n                strView.setUint16(1, utf8Bytes.byteLength, false);\n                const strBytes = new Uint8Array(strView.buffer);\n                strBytes.set(utf8Bytes, 3);\n                return strBytes;\n            case \"timestamp\":\n                const tsBytes = new Uint8Array(9);\n                tsBytes[0] = 8;\n                tsBytes.set(Int64.fromNumber(header.value.valueOf()).bytes, 1);\n                return tsBytes;\n            case \"uuid\":\n                if (!UUID_PATTERN.test(header.value)) {\n                    throw new Error(`Invalid UUID received: ${header.value}`);\n                }\n                const uuidBytes = new Uint8Array(17);\n                uuidBytes[0] = 9;\n                uuidBytes.set(utilHexEncoding.fromHex(header.value.replace(/\\-/g, \"\")), 1);\n                return uuidBytes;\n        }\n    }\n}\nconst UUID_PATTERN = /^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;\nclass Int64 {\n    bytes;\n    constructor(bytes) {\n        this.bytes = bytes;\n        if (bytes.byteLength !== 8) {\n            throw new Error(\"Int64 buffers must be exactly 8 bytes\");\n        }\n    }\n    static fromNumber(number) {\n        if (number > 9_223_372_036_854_775_807 || number < -9223372036854776e3) {\n            throw new Error(`${number} is too large (or, if negative, too small) to represent as an Int64`);\n        }\n        const bytes = new Uint8Array(8);\n        for (let i = 7, remaining = Math.abs(Math.round(number)); i > -1 && remaining > 0; i--, remaining /= 256) {\n            bytes[i] = remaining;\n        }\n        if (number < 0) {\n            negate(bytes);\n        }\n        return new Int64(bytes);\n    }\n    valueOf() {\n        const bytes = this.bytes.slice(0);\n        const negative = bytes[0] & 0b10000000;\n        if (negative) {\n            negate(bytes);\n        }\n        return parseInt(utilHexEncoding.toHex(bytes), 16) * (negative ? -1 : 1);\n    }\n    toString() {\n        return String(this.valueOf());\n    }\n}\nfunction negate(bytes) {\n    for (let i = 0; i < 8; i++) {\n        bytes[i] ^= 0xff;\n    }\n    for (let i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0)\n            break;\n    }\n}\n\nconst hasHeader = (soughtHeader, headers) => {\n    soughtHeader = soughtHeader.toLowerCase();\n    for (const headerName of Object.keys(headers)) {\n        if (soughtHeader === headerName.toLowerCase()) {\n            return true;\n        }\n    }\n    return false;\n};\n\nconst moveHeadersToQuery = (request, options = {}) => {\n    const { headers, query = {} } = protocolHttp.HttpRequest.clone(request);\n    for (const name of Object.keys(headers)) {\n        const lname = name.toLowerCase();\n        if ((lname.slice(0, 6) === \"x-amz-\" && !options.unhoistableHeaders?.has(lname)) ||\n            options.hoistableHeaders?.has(lname)) {\n            query[name] = headers[name];\n            delete headers[name];\n        }\n    }\n    return {\n        ...request,\n        headers,\n        query,\n    };\n};\n\nconst prepareRequest = (request) => {\n    request = protocolHttp.HttpRequest.clone(request);\n    for (const headerName of Object.keys(request.headers)) {\n        if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n            delete request.headers[headerName];\n        }\n    }\n    return request;\n};\n\nconst getCanonicalQuery = ({ query = {} }) => {\n    const keys = [];\n    const serialized = {};\n    for (const key of Object.keys(query)) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            continue;\n        }\n        const encodedKey = utilUriEscape.escapeUri(key);\n        keys.push(encodedKey);\n        const value = query[key];\n        if (typeof value === \"string\") {\n            serialized[encodedKey] = `${encodedKey}=${utilUriEscape.escapeUri(value)}`;\n        }\n        else if (Array.isArray(value)) {\n            serialized[encodedKey] = value\n                .slice(0)\n                .reduce((encoded, value) => encoded.concat([`${encodedKey}=${utilUriEscape.escapeUri(value)}`]), [])\n                .sort()\n                .join(\"&\");\n        }\n    }\n    return keys\n        .sort()\n        .map((key) => serialized[key])\n        .filter((serialized) => serialized)\n        .join(\"&\");\n};\n\nconst iso8601 = (time) => toDate(time)\n    .toISOString()\n    .replace(/\\.\\d{3}Z$/, \"Z\");\nconst toDate = (time) => {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n};\n\nclass SignatureV4Base {\n    service;\n    regionProvider;\n    credentialProvider;\n    sha256;\n    uriEscapePath;\n    applyChecksum;\n    constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath = true, }) {\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        this.regionProvider = utilMiddleware.normalizeProvider(region);\n        this.credentialProvider = utilMiddleware.normalizeProvider(credentials);\n    }\n    createCanonicalRequest(request, canonicalHeaders, payloadHash) {\n        const sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return `${request.method}\n${this.getCanonicalPath(request)}\n${getCanonicalQuery(request)}\n${sortedHeaders.map((name) => `${name}:${canonicalHeaders[name]}`).join(\"\\n\")}\n\n${sortedHeaders.join(\";\")}\n${payloadHash}`;\n    }\n    async createStringToSign(longDate, credentialScope, canonicalRequest, algorithmIdentifier) {\n        const hash = new this.sha256();\n        hash.update(utilUtf8.toUint8Array(canonicalRequest));\n        const hashedRequest = await hash.digest();\n        return `${algorithmIdentifier}\n${longDate}\n${credentialScope}\n${utilHexEncoding.toHex(hashedRequest)}`;\n    }\n    getCanonicalPath({ path }) {\n        if (this.uriEscapePath) {\n            const normalizedPathSegments = [];\n            for (const pathSegment of path.split(\"/\")) {\n                if (pathSegment?.length === 0)\n                    continue;\n                if (pathSegment === \".\")\n                    continue;\n                if (pathSegment === \"..\") {\n                    normalizedPathSegments.pop();\n                }\n                else {\n                    normalizedPathSegments.push(pathSegment);\n                }\n            }\n            const normalizedPath = `${path?.startsWith(\"/\") ? \"/\" : \"\"}${normalizedPathSegments.join(\"/\")}${normalizedPathSegments.length > 0 && path?.endsWith(\"/\") ? \"/\" : \"\"}`;\n            const doubleEncoded = utilUriEscape.escapeUri(normalizedPath);\n            return doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    }\n    validateResolvedCredentials(credentials) {\n        if (typeof credentials !== \"object\" ||\n            typeof credentials.accessKeyId !== \"string\" ||\n            typeof credentials.secretAccessKey !== \"string\") {\n            throw new Error(\"Resolved credential object is not valid\");\n        }\n    }\n    formatDate(now) {\n        const longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n        return {\n            longDate,\n            shortDate: longDate.slice(0, 8),\n        };\n    }\n    getCanonicalHeaderList(headers) {\n        return Object.keys(headers).sort().join(\";\");\n    }\n}\n\nclass SignatureV4 extends SignatureV4Base {\n    headerFormatter = new HeaderFormatter();\n    constructor({ applyChecksum, credentials, region, service, sha256, uriEscapePath = true, }) {\n        super({\n            applyChecksum,\n            credentials,\n            region,\n            service,\n            sha256,\n            uriEscapePath,\n        });\n    }\n    async presign(originalRequest, options = {}) {\n        const { signingDate = new Date(), expiresIn = 3600, unsignableHeaders, unhoistableHeaders, signableHeaders, hoistableHeaders, signingRegion, signingService, } = options;\n        const credentials = await this.credentialProvider();\n        this.validateResolvedCredentials(credentials);\n        const region = signingRegion ?? (await this.regionProvider());\n        const { longDate, shortDate } = this.formatDate(signingDate);\n        if (expiresIn > MAX_PRESIGNED_TTL) {\n            return Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\");\n        }\n        const scope = createScope(shortDate, region, signingService ?? this.service);\n        const request = moveHeadersToQuery(prepareRequest(originalRequest), { unhoistableHeaders, hoistableHeaders });\n        if (credentials.sessionToken) {\n            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        }\n        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n        request.query[CREDENTIAL_QUERY_PARAM] = `${credentials.accessKeyId}/${scope}`;\n        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n        const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n        request.query[SIGNED_HEADERS_QUERY_PARAM] = this.getCanonicalHeaderList(canonicalHeaders);\n        request.query[SIGNATURE_QUERY_PARAM] = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, await getPayloadHash(originalRequest, this.sha256)));\n        return request;\n    }\n    async sign(toSign, options) {\n        if (typeof toSign === \"string\") {\n            return this.signString(toSign, options);\n        }\n        else if (toSign.headers && toSign.payload) {\n            return this.signEvent(toSign, options);\n        }\n        else if (toSign.message) {\n            return this.signMessage(toSign, options);\n        }\n        else {\n            return this.signRequest(toSign, options);\n        }\n    }\n    async signEvent({ headers, payload }, { signingDate = new Date(), priorSignature, signingRegion, signingService }) {\n        const region = signingRegion ?? (await this.regionProvider());\n        const { shortDate, longDate } = this.formatDate(signingDate);\n        const scope = createScope(shortDate, region, signingService ?? this.service);\n        const hashedPayload = await getPayloadHash({ headers: {}, body: payload }, this.sha256);\n        const hash = new this.sha256();\n        hash.update(headers);\n        const hashedHeaders = utilHexEncoding.toHex(await hash.digest());\n        const stringToSign = [\n            EVENT_ALGORITHM_IDENTIFIER,\n            longDate,\n            scope,\n            priorSignature,\n            hashedHeaders,\n            hashedPayload,\n        ].join(\"\\n\");\n        return this.signString(stringToSign, { signingDate, signingRegion: region, signingService });\n    }\n    async signMessage(signableMessage, { signingDate = new Date(), signingRegion, signingService }) {\n        const promise = this.signEvent({\n            headers: this.headerFormatter.format(signableMessage.message.headers),\n            payload: signableMessage.message.body,\n        }, {\n            signingDate,\n            signingRegion,\n            signingService,\n            priorSignature: signableMessage.priorSignature,\n        });\n        return promise.then((signature) => {\n            return { message: signableMessage.message, signature };\n        });\n    }\n    async signString(stringToSign, { signingDate = new Date(), signingRegion, signingService } = {}) {\n        const credentials = await this.credentialProvider();\n        this.validateResolvedCredentials(credentials);\n        const region = signingRegion ?? (await this.regionProvider());\n        const { shortDate } = this.formatDate(signingDate);\n        const hash = new this.sha256(await this.getSigningKey(credentials, region, shortDate, signingService));\n        hash.update(utilUtf8.toUint8Array(stringToSign));\n        return utilHexEncoding.toHex(await hash.digest());\n    }\n    async signRequest(requestToSign, { signingDate = new Date(), signableHeaders, unsignableHeaders, signingRegion, signingService, } = {}) {\n        const credentials = await this.credentialProvider();\n        this.validateResolvedCredentials(credentials);\n        const region = signingRegion ?? (await this.regionProvider());\n        const request = prepareRequest(requestToSign);\n        const { longDate, shortDate } = this.formatDate(signingDate);\n        const scope = createScope(shortDate, region, signingService ?? this.service);\n        request.headers[AMZ_DATE_HEADER] = longDate;\n        if (credentials.sessionToken) {\n            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n        }\n        const payloadHash = await getPayloadHash(request, this.sha256);\n        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n            request.headers[SHA256_HEADER] = payloadHash;\n        }\n        const canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n        const signature = await this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash));\n        request.headers[AUTH_HEADER] =\n            `${ALGORITHM_IDENTIFIER} ` +\n                `Credential=${credentials.accessKeyId}/${scope}, ` +\n                `SignedHeaders=${this.getCanonicalHeaderList(canonicalHeaders)}, ` +\n                `Signature=${signature}`;\n        return request;\n    }\n    async getSignature(longDate, credentialScope, keyPromise, canonicalRequest) {\n        const stringToSign = await this.createStringToSign(longDate, credentialScope, canonicalRequest, ALGORITHM_IDENTIFIER);\n        const hash = new this.sha256(await keyPromise);\n        hash.update(utilUtf8.toUint8Array(stringToSign));\n        return utilHexEncoding.toHex(await hash.digest());\n    }\n    getSigningKey(credentials, region, shortDate, service) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n    }\n}\n\nconst signatureV4aContainer = {\n    SignatureV4a: null,\n};\n\nexports.ALGORITHM_IDENTIFIER = ALGORITHM_IDENTIFIER;\nexports.ALGORITHM_IDENTIFIER_V4A = ALGORITHM_IDENTIFIER_V4A;\nexports.ALGORITHM_QUERY_PARAM = ALGORITHM_QUERY_PARAM;\nexports.ALWAYS_UNSIGNABLE_HEADERS = ALWAYS_UNSIGNABLE_HEADERS;\nexports.AMZ_DATE_HEADER = AMZ_DATE_HEADER;\nexports.AMZ_DATE_QUERY_PARAM = AMZ_DATE_QUERY_PARAM;\nexports.AUTH_HEADER = AUTH_HEADER;\nexports.CREDENTIAL_QUERY_PARAM = CREDENTIAL_QUERY_PARAM;\nexports.DATE_HEADER = DATE_HEADER;\nexports.EVENT_ALGORITHM_IDENTIFIER = EVENT_ALGORITHM_IDENTIFIER;\nexports.EXPIRES_QUERY_PARAM = EXPIRES_QUERY_PARAM;\nexports.GENERATED_HEADERS = GENERATED_HEADERS;\nexports.HOST_HEADER = HOST_HEADER;\nexports.KEY_TYPE_IDENTIFIER = KEY_TYPE_IDENTIFIER;\nexports.MAX_CACHE_SIZE = MAX_CACHE_SIZE;\nexports.MAX_PRESIGNED_TTL = MAX_PRESIGNED_TTL;\nexports.PROXY_HEADER_PATTERN = PROXY_HEADER_PATTERN;\nexports.REGION_SET_PARAM = REGION_SET_PARAM;\nexports.SEC_HEADER_PATTERN = SEC_HEADER_PATTERN;\nexports.SHA256_HEADER = SHA256_HEADER;\nexports.SIGNATURE_HEADER = SIGNATURE_HEADER;\nexports.SIGNATURE_QUERY_PARAM = SIGNATURE_QUERY_PARAM;\nexports.SIGNED_HEADERS_QUERY_PARAM = SIGNED_HEADERS_QUERY_PARAM;\nexports.SignatureV4 = SignatureV4;\nexports.SignatureV4Base = SignatureV4Base;\nexports.TOKEN_HEADER = TOKEN_HEADER;\nexports.TOKEN_QUERY_PARAM = TOKEN_QUERY_PARAM;\nexports.UNSIGNABLE_PATTERNS = UNSIGNABLE_PATTERNS;\nexports.UNSIGNED_PAYLOAD = UNSIGNED_PAYLOAD;\nexports.clearCredentialCache = clearCredentialCache;\nexports.createScope = createScope;\nexports.getCanonicalHeaders = getCanonicalHeaders;\nexports.getCanonicalQuery = getCanonicalQuery;\nexports.getPayloadHash = getPayloadHash;\nexports.getSigningKey = getSigningKey;\nexports.hasHeader = hasHeader;\nexports.moveHeadersToQuery = moveHeadersToQuery;\nexports.prepareRequest = prepareRequest;\nexports.signatureV4aContainer = signatureV4aContainer;\n", "import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { doesIdentityRequireRefresh, isIdentityExpired, memoizeIdentityProvider, normalizeProvider, } from \"@smithy/core\";\nimport { SignatureV4 } from \"@smithy/signature-v4\";\nexport const resolveAwsSdkSigV4Config = (config) => {\n    let inputCredentials = config.credentials;\n    let isUserSupplied = !!config.credentials;\n    let resolvedCredentials = undefined;\n    Object.defineProperty(config, \"credentials\", {\n        set(credentials) {\n            if (credentials && credentials !== inputCredentials && credentials !== resolvedCredentials) {\n                isUserSupplied = true;\n            }\n            inputCredentials = credentials;\n            const memoizedProvider = normalizeCredentialProvider(config, {\n                credentials: inputCredentials,\n                credentialDefaultProvider: config.credentialDefaultProvider,\n            });\n            const boundProvider = bindCallerConfig(config, memoizedProvider);\n            if (isUserSupplied && !boundProvider.attributed) {\n                resolvedCredentials = async (options) => boundProvider(options).then((creds) => setCredentialFeature(creds, \"CREDENTIALS_CODE\", \"e\"));\n                resolvedCredentials.memoized = boundProvider.memoized;\n                resolvedCredentials.configBound = boundProvider.configBound;\n                resolvedCredentials.attributed = true;\n            }\n            else {\n                resolvedCredentials = boundProvider;\n            }\n        },\n        get() {\n            return resolvedCredentials;\n        },\n        enumerable: true,\n        configurable: true,\n    });\n    config.credentials = inputCredentials;\n    const { signingEscapePath = true, systemClockOffset = config.systemClockOffset || 0, sha256, } = config;\n    let signer;\n    if (config.signer) {\n        signer = normalizeProvider(config.signer);\n    }\n    else if (config.regionInfoProvider) {\n        signer = () => normalizeProvider(config.region)()\n            .then(async (region) => [\n            (await config.regionInfoProvider(region, {\n                useFipsEndpoint: await config.useFipsEndpoint(),\n                useDualstackEndpoint: await config.useDualstackEndpoint(),\n            })) || {},\n            region,\n        ])\n            .then(([regionInfo, region]) => {\n            const { signingRegion, signingService } = regionInfo;\n            config.signingRegion = config.signingRegion || signingRegion || region;\n            config.signingName = config.signingName || signingService || config.serviceId;\n            const params = {\n                ...config,\n                credentials: config.credentials,\n                region: config.signingRegion,\n                service: config.signingName,\n                sha256,\n                uriEscapePath: signingEscapePath,\n            };\n            const SignerCtor = config.signerConstructor || SignatureV4;\n            return new SignerCtor(params);\n        });\n    }\n    else {\n        signer = async (authScheme) => {\n            authScheme = Object.assign({}, {\n                name: \"sigv4\",\n                signingName: config.signingName || config.defaultSigningName,\n                signingRegion: await normalizeProvider(config.region)(),\n                properties: {},\n            }, authScheme);\n            const signingRegion = authScheme.signingRegion;\n            const signingService = authScheme.signingName;\n            config.signingRegion = config.signingRegion || signingRegion;\n            config.signingName = config.signingName || signingService || config.serviceId;\n            const params = {\n                ...config,\n                credentials: config.credentials,\n                region: config.signingRegion,\n                service: config.signingName,\n                sha256,\n                uriEscapePath: signingEscapePath,\n            };\n            const SignerCtor = config.signerConstructor || SignatureV4;\n            return new SignerCtor(params);\n        };\n    }\n    const resolvedConfig = Object.assign(config, {\n        systemClockOffset,\n        signingEscapePath,\n        signer,\n    });\n    return resolvedConfig;\n};\nexport const resolveAWSSDKSigV4Config = resolveAwsSdkSigV4Config;\nfunction normalizeCredentialProvider(config, { credentials, credentialDefaultProvider, }) {\n    let credentialsProvider;\n    if (credentials) {\n        if (!credentials?.memoized) {\n            credentialsProvider = memoizeIdentityProvider(credentials, isIdentityExpired, doesIdentityRequireRefresh);\n        }\n        else {\n            credentialsProvider = credentials;\n        }\n    }\n    else {\n        if (credentialDefaultProvider) {\n            credentialsProvider = normalizeProvider(credentialDefaultProvider(Object.assign({}, config, {\n                parentClientConfig: config,\n            })));\n        }\n        else {\n            credentialsProvider = async () => {\n                throw new Error(\"@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.\");\n            };\n        }\n    }\n    credentialsProvider.memoized = true;\n    return credentialsProvider;\n}\nfunction bindCallerConfig(config, credentialsProvider) {\n    if (credentialsProvider.configBound) {\n        return credentialsProvider;\n    }\n    const fn = async (options) => credentialsProvider({ ...options, callerClientConfig: config });\n    fn.memoized = credentialsProvider.memoized;\n    fn.configBound = true;\n    return fn;\n}\n", "export { AwsSdkSigV4Signer, AWSSDKSigV4Signer, validateSigningProperties } from \"./AwsSdkSigV4Signer\";\nexport { AwsSdkSigV4ASigner } from \"./AwsSdkSigV4ASigner\";\nexport * from \"./NODE_AUTH_SCHEME_PREFERENCE_OPTIONS\";\nexport * from \"./resolveAwsSdkSigV4AConfig\";\nexport * from \"./resolveAwsSdkSigV4Config\";\n", "export * from \"./aws_sdk\";\nexport * from \"./utils/getBearerTokenEnvKey\";\n", "export const majorUint64 = 0;\nexport const majorNegativeInt64 = 1;\nexport const majorUnstructuredByteString = 2;\nexport const majorUtf8String = 3;\nexport const majorList = 4;\nexport const majorMap = 5;\nexport const majorTag = 6;\nexport const majorSpecial = 7;\nexport const specialFalse = 20;\nexport const specialTrue = 21;\nexport const specialNull = 22;\nexport const specialUndefined = 23;\nexport const extendedOneByte = 24;\nexport const extendedFloat16 = 25;\nexport const extendedFloat32 = 26;\nexport const extendedFloat64 = 27;\nexport const minorIndefinite = 31;\nexport function alloc(size) {\n    return typeof Buffer !== \"undefined\" ? Buffer.alloc(size) : new Uint8Array(size);\n}\nexport const tagSymbol = Symbol(\"@smithy/core/cbor::tagSymbol\");\nexport function tag(data) {\n    data[tagSymbol] = true;\n    return data;\n}\n", "import { nv } from \"@smithy/core/serde\";\nimport { toUtf8 } from \"@smithy/util-utf8\";\nimport { alloc, extendedFloat16, extendedFloat32, extendedFloat64, extendedOneByte, majorList, majorMap, majorNegativeInt64, majorTag, majorUint64, majorUnstructuredByteString, majorUtf8String, minorIndefinite, specialFalse, specialNull, specialTrue, specialUndefined, tag, } from \"./cbor-types\";\nconst USE_TEXT_DECODER = typeof TextDecoder !== \"undefined\";\nconst USE_BUFFER = typeof Buffer !== \"undefined\";\nlet payload = alloc(0);\nlet dataView = new DataView(payload.buffer, payload.byteOffset, payload.byteLength);\nconst textDecoder = USE_TEXT_DECODER ? new TextDecoder() : null;\nlet _offset = 0;\nexport function setPayload(bytes) {\n    payload = bytes;\n    dataView = new DataView(payload.buffer, payload.byteOffset, payload.byteLength);\n}\nexport function decode(at, to) {\n    if (at >= to) {\n        throw new Error(\"unexpected end of (decode) payload.\");\n    }\n    const major = (payload[at] & 0b1110_0000) >> 5;\n    const minor = payload[at] & 0b0001_1111;\n    switch (major) {\n        case majorUint64:\n        case majorNegativeInt64:\n        case majorTag:\n            let unsignedInt;\n            let offset;\n            if (minor < 24) {\n                unsignedInt = minor;\n                offset = 1;\n            }\n            else {\n                switch (minor) {\n                    case extendedOneByte:\n                    case extendedFloat16:\n                    case extendedFloat32:\n                    case extendedFloat64:\n                        const countLength = minorValueToArgumentLength[minor];\n                        const countOffset = (countLength + 1);\n                        offset = countOffset;\n                        if (to - at < countOffset) {\n                            throw new Error(`countLength ${countLength} greater than remaining buf len.`);\n                        }\n                        const countIndex = at + 1;\n                        if (countLength === 1) {\n                            unsignedInt = payload[countIndex];\n                        }\n                        else if (countLength === 2) {\n                            unsignedInt = dataView.getUint16(countIndex);\n                        }\n                        else if (countLength === 4) {\n                            unsignedInt = dataView.getUint32(countIndex);\n                        }\n                        else {\n                            unsignedInt = dataView.getBigUint64(countIndex);\n                        }\n                        break;\n                    default:\n                        throw new Error(`unexpected minor value ${minor}.`);\n                }\n            }\n            if (major === majorUint64) {\n                _offset = offset;\n                return castBigInt(unsignedInt);\n            }\n            else if (major === majorNegativeInt64) {\n                let negativeInt;\n                if (typeof unsignedInt === \"bigint\") {\n                    negativeInt = BigInt(-1) - unsignedInt;\n                }\n                else {\n                    negativeInt = -1 - unsignedInt;\n                }\n                _offset = offset;\n                return castBigInt(negativeInt);\n            }\n            else {\n                if (minor === 2 || minor === 3) {\n                    const length = decodeCount(at + offset, to);\n                    let b = BigInt(0);\n                    const start = at + offset + _offset;\n                    for (let i = start; i < start + length; ++i) {\n                        b = (b << BigInt(8)) | BigInt(payload[i]);\n                    }\n                    _offset = offset + _offset + length;\n                    return minor === 3 ? -b - BigInt(1) : b;\n                }\n                else if (minor === 4) {\n                    const decimalFraction = decode(at + offset, to);\n                    const [exponent, mantissa] = decimalFraction;\n                    const normalizer = mantissa < 0 ? -1 : 1;\n                    const mantissaStr = \"0\".repeat(Math.abs(exponent) + 1) + String(BigInt(normalizer) * BigInt(mantissa));\n                    let numericString;\n                    const sign = mantissa < 0 ? \"-\" : \"\";\n                    numericString =\n                        exponent === 0\n                            ? mantissaStr\n                            : mantissaStr.slice(0, mantissaStr.length + exponent) + \".\" + mantissaStr.slice(exponent);\n                    numericString = numericString.replace(/^0+/g, \"\");\n                    if (numericString === \"\") {\n                        numericString = \"0\";\n                    }\n                    if (numericString[0] === \".\") {\n                        numericString = \"0\" + numericString;\n                    }\n                    numericString = sign + numericString;\n                    _offset = offset + _offset;\n                    return nv(numericString);\n                }\n                else {\n                    const value = decode(at + offset, to);\n                    const valueOffset = _offset;\n                    _offset = offset + valueOffset;\n                    return tag({ tag: castBigInt(unsignedInt), value });\n                }\n            }\n        case majorUtf8String:\n        case majorMap:\n        case majorList:\n        case majorUnstructuredByteString:\n            if (minor === minorIndefinite) {\n                switch (major) {\n                    case majorUtf8String:\n                        return decodeUtf8StringIndefinite(at, to);\n                    case majorMap:\n                        return decodeMapIndefinite(at, to);\n                    case majorList:\n                        return decodeListIndefinite(at, to);\n                    case majorUnstructuredByteString:\n                        return decodeUnstructuredByteStringIndefinite(at, to);\n                }\n            }\n            else {\n                switch (major) {\n                    case majorUtf8String:\n                        return decodeUtf8String(at, to);\n                    case majorMap:\n                        return decodeMap(at, to);\n                    case majorList:\n                        return decodeList(at, to);\n                    case majorUnstructuredByteString:\n                        return decodeUnstructuredByteString(at, to);\n                }\n            }\n        default:\n            return decodeSpecial(at, to);\n    }\n}\nfunction bytesToUtf8(bytes, at, to) {\n    if (USE_BUFFER && bytes.constructor?.name === \"Buffer\") {\n        return bytes.toString(\"utf-8\", at, to);\n    }\n    if (textDecoder) {\n        return textDecoder.decode(bytes.subarray(at, to));\n    }\n    return toUtf8(bytes.subarray(at, to));\n}\nfunction demote(bigInteger) {\n    const num = Number(bigInteger);\n    if (num < Number.MIN_SAFE_INTEGER || Number.MAX_SAFE_INTEGER < num) {\n        console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${bigInteger}) to ${num} with loss of precision.`));\n    }\n    return num;\n}\nconst minorValueToArgumentLength = {\n    [extendedOneByte]: 1,\n    [extendedFloat16]: 2,\n    [extendedFloat32]: 4,\n    [extendedFloat64]: 8,\n};\nexport function bytesToFloat16(a, b) {\n    const sign = a >> 7;\n    const exponent = (a & 0b0111_1100) >> 2;\n    const fraction = ((a & 0b0000_0011) << 8) | b;\n    const scalar = sign === 0 ? 1 : -1;\n    let exponentComponent;\n    let summation;\n    if (exponent === 0b00000) {\n        if (fraction === 0b00000_00000) {\n            return 0;\n        }\n        else {\n            exponentComponent = Math.pow(2, 1 - 15);\n            summation = 0;\n        }\n    }\n    else if (exponent === 0b11111) {\n        if (fraction === 0b00000_00000) {\n            return scalar * Infinity;\n        }\n        else {\n            return NaN;\n        }\n    }\n    else {\n        exponentComponent = Math.pow(2, exponent - 15);\n        summation = 1;\n    }\n    summation += fraction / 1024;\n    return scalar * (exponentComponent * summation);\n}\nfunction decodeCount(at, to) {\n    const minor = payload[at] & 0b0001_1111;\n    if (minor < 24) {\n        _offset = 1;\n        return minor;\n    }\n    if (minor === extendedOneByte ||\n        minor === extendedFloat16 ||\n        minor === extendedFloat32 ||\n        minor === extendedFloat64) {\n        const countLength = minorValueToArgumentLength[minor];\n        _offset = (countLength + 1);\n        if (to - at < _offset) {\n            throw new Error(`countLength ${countLength} greater than remaining buf len.`);\n        }\n        const countIndex = at + 1;\n        if (countLength === 1) {\n            return payload[countIndex];\n        }\n        else if (countLength === 2) {\n            return dataView.getUint16(countIndex);\n        }\n        else if (countLength === 4) {\n            return dataView.getUint32(countIndex);\n        }\n        return demote(dataView.getBigUint64(countIndex));\n    }\n    throw new Error(`unexpected minor value ${minor}.`);\n}\nfunction decodeUtf8String(at, to) {\n    const length = decodeCount(at, to);\n    const offset = _offset;\n    at += offset;\n    if (to - at < length) {\n        throw new Error(`string len ${length} greater than remaining buf len.`);\n    }\n    const value = bytesToUtf8(payload, at, at + length);\n    _offset = offset + length;\n    return value;\n}\nfunction decodeUtf8StringIndefinite(at, to) {\n    at += 1;\n    const vector = [];\n    for (const base = at; at < to;) {\n        if (payload[at] === 0b1111_1111) {\n            const data = alloc(vector.length);\n            data.set(vector, 0);\n            _offset = at - base + 2;\n            return bytesToUtf8(data, 0, data.length);\n        }\n        const major = (payload[at] & 0b1110_0000) >> 5;\n        const minor = payload[at] & 0b0001_1111;\n        if (major !== majorUtf8String) {\n            throw new Error(`unexpected major type ${major} in indefinite string.`);\n        }\n        if (minor === minorIndefinite) {\n            throw new Error(\"nested indefinite string.\");\n        }\n        const bytes = decodeUnstructuredByteString(at, to);\n        const length = _offset;\n        at += length;\n        for (let i = 0; i < bytes.length; ++i) {\n            vector.push(bytes[i]);\n        }\n    }\n    throw new Error(\"expected break marker.\");\n}\nfunction decodeUnstructuredByteString(at, to) {\n    const length = decodeCount(at, to);\n    const offset = _offset;\n    at += offset;\n    if (to - at < length) {\n        throw new Error(`unstructured byte string len ${length} greater than remaining buf len.`);\n    }\n    const value = payload.subarray(at, at + length);\n    _offset = offset + length;\n    return value;\n}\nfunction decodeUnstructuredByteStringIndefinite(at, to) {\n    at += 1;\n    const vector = [];\n    for (const base = at; at < to;) {\n        if (payload[at] === 0b1111_1111) {\n            const data = alloc(vector.length);\n            data.set(vector, 0);\n            _offset = at - base + 2;\n            return data;\n        }\n        const major = (payload[at] & 0b1110_0000) >> 5;\n        const minor = payload[at] & 0b0001_1111;\n        if (major !== majorUnstructuredByteString) {\n            throw new Error(`unexpected major type ${major} in indefinite string.`);\n        }\n        if (minor === minorIndefinite) {\n            throw new Error(\"nested indefinite string.\");\n        }\n        const bytes = decodeUnstructuredByteString(at, to);\n        const length = _offset;\n        at += length;\n        for (let i = 0; i < bytes.length; ++i) {\n            vector.push(bytes[i]);\n        }\n    }\n    throw new Error(\"expected break marker.\");\n}\nfunction decodeList(at, to) {\n    const listDataLength = decodeCount(at, to);\n    const offset = _offset;\n    at += offset;\n    const base = at;\n    const list = Array(listDataLength);\n    for (let i = 0; i < listDataLength; ++i) {\n        const item = decode(at, to);\n        const itemOffset = _offset;\n        list[i] = item;\n        at += itemOffset;\n    }\n    _offset = offset + (at - base);\n    return list;\n}\nfunction decodeListIndefinite(at, to) {\n    at += 1;\n    const list = [];\n    for (const base = at; at < to;) {\n        if (payload[at] === 0b1111_1111) {\n            _offset = at - base + 2;\n            return list;\n        }\n        const item = decode(at, to);\n        const n = _offset;\n        at += n;\n        list.push(item);\n    }\n    throw new Error(\"expected break marker.\");\n}\nfunction decodeMap(at, to) {\n    const mapDataLength = decodeCount(at, to);\n    const offset = _offset;\n    at += offset;\n    const base = at;\n    const map = {};\n    for (let i = 0; i < mapDataLength; ++i) {\n        if (at >= to) {\n            throw new Error(\"unexpected end of map payload.\");\n        }\n        const major = (payload[at] & 0b1110_0000) >> 5;\n        if (major !== majorUtf8String) {\n            throw new Error(`unexpected major type ${major} for map key at index ${at}.`);\n        }\n        const key = decode(at, to);\n        at += _offset;\n        const value = decode(at, to);\n        at += _offset;\n        map[key] = value;\n    }\n    _offset = offset + (at - base);\n    return map;\n}\nfunction decodeMapIndefinite(at, to) {\n    at += 1;\n    const base = at;\n    const map = {};\n    for (; at < to;) {\n        if (at >= to) {\n            throw new Error(\"unexpected end of map payload.\");\n        }\n        if (payload[at] === 0b1111_1111) {\n            _offset = at - base + 2;\n            return map;\n        }\n        const major = (payload[at] & 0b1110_0000) >> 5;\n        if (major !== majorUtf8String) {\n            throw new Error(`unexpected major type ${major} for map key.`);\n        }\n        const key = decode(at, to);\n        at += _offset;\n        const value = decode(at, to);\n        at += _offset;\n        map[key] = value;\n    }\n    throw new Error(\"expected break marker.\");\n}\nfunction decodeSpecial(at, to) {\n    const minor = payload[at] & 0b0001_1111;\n    switch (minor) {\n        case specialTrue:\n        case specialFalse:\n            _offset = 1;\n            return minor === specialTrue;\n        case specialNull:\n            _offset = 1;\n            return null;\n        case specialUndefined:\n            _offset = 1;\n            return null;\n        case extendedFloat16:\n            if (to - at < 3) {\n                throw new Error(\"incomplete float16 at end of buf.\");\n            }\n            _offset = 3;\n            return bytesToFloat16(payload[at + 1], payload[at + 2]);\n        case extendedFloat32:\n            if (to - at < 5) {\n                throw new Error(\"incomplete float32 at end of buf.\");\n            }\n            _offset = 5;\n            return dataView.getFloat32(at + 1);\n        case extendedFloat64:\n            if (to - at < 9) {\n                throw new Error(\"incomplete float64 at end of buf.\");\n            }\n            _offset = 9;\n            return dataView.getFloat64(at + 1);\n        default:\n            throw new Error(`unexpected minor value ${minor}.`);\n    }\n}\nfunction castBigInt(bigInt) {\n    if (typeof bigInt === \"number\") {\n        return bigInt;\n    }\n    const num = Number(bigInt);\n    if (Number.MIN_SAFE_INTEGER <= num && num <= Number.MAX_SAFE_INTEGER) {\n        return num;\n    }\n    return bigInt;\n}\n", "import { NumericValue } from \"@smithy/core/serde\";\nimport { fromUtf8 } from \"@smithy/util-utf8\";\nimport { alloc, extendedFloat16, extendedFloat32, extendedFloat64, majorList, majorMap, majorNegativeInt64, majorSpecial, majorTag, majorUint64, majorUnstructuredByteString, majorUtf8String, specialFalse, specialNull, specialTrue, tagSymbol, } from \"./cbor-types\";\nconst USE_BUFFER = typeof Buffer !== \"undefined\";\nconst initialSize = 2048;\nlet data = alloc(initialSize);\nlet dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);\nlet cursor = 0;\nfunction ensureSpace(bytes) {\n    const remaining = data.byteLength - cursor;\n    if (remaining < bytes) {\n        if (cursor < 16_000_000) {\n            resize(Math.max(data.byteLength * 4, data.byteLength + bytes));\n        }\n        else {\n            resize(data.byteLength + bytes + 16_000_000);\n        }\n    }\n}\nexport function toUint8Array() {\n    const out = alloc(cursor);\n    out.set(data.subarray(0, cursor), 0);\n    cursor = 0;\n    return out;\n}\nexport function resize(size) {\n    const old = data;\n    data = alloc(size);\n    if (old) {\n        if (old.copy) {\n            old.copy(data, 0, 0, old.byteLength);\n        }\n        else {\n            data.set(old, 0);\n        }\n    }\n    dataView = new DataView(data.buffer, data.byteOffset, data.byteLength);\n}\nfunction encodeHeader(major, value) {\n    if (value < 24) {\n        data[cursor++] = (major << 5) | value;\n    }\n    else if (value < 1 << 8) {\n        data[cursor++] = (major << 5) | 24;\n        data[cursor++] = value;\n    }\n    else if (value < 1 << 16) {\n        data[cursor++] = (major << 5) | extendedFloat16;\n        dataView.setUint16(cursor, value);\n        cursor += 2;\n    }\n    else if (value < 2 ** 32) {\n        data[cursor++] = (major << 5) | extendedFloat32;\n        dataView.setUint32(cursor, value);\n        cursor += 4;\n    }\n    else {\n        data[cursor++] = (major << 5) | extendedFloat64;\n        dataView.setBigUint64(cursor, typeof value === \"bigint\" ? value : BigInt(value));\n        cursor += 8;\n    }\n}\nexport function encode(_input) {\n    const encodeStack = [_input];\n    while (encodeStack.length) {\n        const input = encodeStack.pop();\n        ensureSpace(typeof input === \"string\" ? input.length * 4 : 64);\n        if (typeof input === \"string\") {\n            if (USE_BUFFER) {\n                encodeHeader(majorUtf8String, Buffer.byteLength(input));\n                cursor += data.write(input, cursor);\n            }\n            else {\n                const bytes = fromUtf8(input);\n                encodeHeader(majorUtf8String, bytes.byteLength);\n                data.set(bytes, cursor);\n                cursor += bytes.byteLength;\n            }\n            continue;\n        }\n        else if (typeof input === \"number\") {\n            if (Number.isInteger(input)) {\n                const nonNegative = input >= 0;\n                const major = nonNegative ? majorUint64 : majorNegativeInt64;\n                const value = nonNegative ? input : -input - 1;\n                if (value < 24) {\n                    data[cursor++] = (major << 5) | value;\n                }\n                else if (value < 256) {\n                    data[cursor++] = (major << 5) | 24;\n                    data[cursor++] = value;\n                }\n                else if (value < 65536) {\n                    data[cursor++] = (major << 5) | extendedFloat16;\n                    data[cursor++] = value >> 8;\n                    data[cursor++] = value;\n                }\n                else if (value < 4294967296) {\n                    data[cursor++] = (major << 5) | extendedFloat32;\n                    dataView.setUint32(cursor, value);\n                    cursor += 4;\n                }\n                else {\n                    data[cursor++] = (major << 5) | extendedFloat64;\n                    dataView.setBigUint64(cursor, BigInt(value));\n                    cursor += 8;\n                }\n                continue;\n            }\n            data[cursor++] = (majorSpecial << 5) | extendedFloat64;\n            dataView.setFloat64(cursor, input);\n            cursor += 8;\n            continue;\n        }\n        else if (typeof input === \"bigint\") {\n            const nonNegative = input >= 0;\n            const major = nonNegative ? majorUint64 : majorNegativeInt64;\n            const value = nonNegative ? input : -input - BigInt(1);\n            const n = Number(value);\n            if (n < 24) {\n                data[cursor++] = (major << 5) | n;\n            }\n            else if (n < 256) {\n                data[cursor++] = (major << 5) | 24;\n                data[cursor++] = n;\n            }\n            else if (n < 65536) {\n                data[cursor++] = (major << 5) | extendedFloat16;\n                data[cursor++] = n >> 8;\n                data[cursor++] = n & 0b1111_1111;\n            }\n            else if (n < 4294967296) {\n                data[cursor++] = (major << 5) | extendedFloat32;\n                dataView.setUint32(cursor, n);\n                cursor += 4;\n            }\n            else if (value < BigInt(\"18446744073709551616\")) {\n                data[cursor++] = (major << 5) | extendedFloat64;\n                dataView.setBigUint64(cursor, value);\n                cursor += 8;\n            }\n            else {\n                const binaryBigInt = value.toString(2);\n                const bigIntBytes = new Uint8Array(Math.ceil(binaryBigInt.length / 8));\n                let b = value;\n                let i = 0;\n                while (bigIntBytes.byteLength - ++i >= 0) {\n                    bigIntBytes[bigIntBytes.byteLength - i] = Number(b & BigInt(255));\n                    b >>= BigInt(8);\n                }\n                ensureSpace(bigIntBytes.byteLength * 2);\n                data[cursor++] = nonNegative ? 0b110_00010 : 0b110_00011;\n                if (USE_BUFFER) {\n                    encodeHeader(majorUnstructuredByteString, Buffer.byteLength(bigIntBytes));\n                }\n                else {\n                    encodeHeader(majorUnstructuredByteString, bigIntBytes.byteLength);\n                }\n                data.set(bigIntBytes, cursor);\n                cursor += bigIntBytes.byteLength;\n            }\n            continue;\n        }\n        else if (input === null) {\n            data[cursor++] = (majorSpecial << 5) | specialNull;\n            continue;\n        }\n        else if (typeof input === \"boolean\") {\n            data[cursor++] = (majorSpecial << 5) | (input ? specialTrue : specialFalse);\n            continue;\n        }\n        else if (typeof input === \"undefined\") {\n            throw new Error(\"@smithy/core/cbor: client may not serialize undefined value.\");\n        }\n        else if (Array.isArray(input)) {\n            for (let i = input.length - 1; i >= 0; --i) {\n                encodeStack.push(input[i]);\n            }\n            encodeHeader(majorList, input.length);\n            continue;\n        }\n        else if (typeof input.byteLength === \"number\") {\n            ensureSpace(input.length * 2);\n            encodeHeader(majorUnstructuredByteString, input.length);\n            data.set(input, cursor);\n            cursor += input.byteLength;\n            continue;\n        }\n        else if (typeof input === \"object\") {\n            if (input instanceof NumericValue) {\n                const decimalIndex = input.string.indexOf(\".\");\n                const exponent = decimalIndex === -1 ? 0 : decimalIndex - input.string.length + 1;\n                const mantissa = BigInt(input.string.replace(\".\", \"\"));\n                data[cursor++] = 0b110_00100;\n                encodeStack.push(mantissa);\n                encodeStack.push(exponent);\n                encodeHeader(majorList, 2);\n                continue;\n            }\n            if (input[tagSymbol]) {\n                if (\"tag\" in input && \"value\" in input) {\n                    encodeStack.push(input.value);\n                    encodeHeader(majorTag, input.tag);\n                    continue;\n                }\n                else {\n                    throw new Error(\"tag encountered with missing fields, need 'tag' and 'value', found: \" + JSON.stringify(input));\n                }\n            }\n            const keys = Object.keys(input);\n            for (let i = keys.length - 1; i >= 0; --i) {\n                const key = keys[i];\n                encodeStack.push(input[key]);\n                encodeStack.push(key);\n            }\n            encodeHeader(majorMap, keys.length);\n            continue;\n        }\n        throw new Error(`data type ${input?.constructor?.name ?? typeof input} not compatible for encoding.`);\n    }\n}\n", "import { decode, setPayload } from \"./cbor-decode\";\nimport { encode, resize, toUint8Array } from \"./cbor-encode\";\nexport const cbor = {\n    deserialize(payload) {\n        setPayload(payload);\n        return decode(0, payload.length);\n    },\n    serialize(input) {\n        try {\n            encode(input);\n            return toUint8Array();\n        }\n        catch (e) {\n            toUint8Array();\n            throw e;\n        }\n    },\n    resizeEncodingBuffer(size) {\n        resize(size);\n    },\n};\n", "import { collectBody } from \"@smithy/core/protocols\";\nimport { HttpRequest as __HttpRequest } from \"@smithy/protocol-http\";\nimport { calculateBodyLength } from \"@smithy/util-body-length-browser\";\nimport { cbor } from \"./cbor\";\nimport { tag } from \"./cbor-types\";\nexport const parseCborBody = (streamBody, context) => {\n    return collectBody(streamBody, context).then(async (bytes) => {\n        if (bytes.length) {\n            try {\n                return cbor.deserialize(bytes);\n            }\n            catch (e) {\n                Object.defineProperty(e, \"$responseBodyText\", {\n                    value: context.utf8Encoder(bytes),\n                });\n                throw e;\n            }\n        }\n        return {};\n    });\n};\nexport const dateToTag = (date) => {\n    return tag({\n        tag: 1,\n        value: date.getTime() / 1000,\n    });\n};\nexport const parseCborErrorBody = async (errorBody, context) => {\n    const value = await parseCborBody(errorBody, context);\n    value.message = value.message ?? value.Message;\n    return value;\n};\nexport const loadSmithyRpcV2CborErrorCode = (output, data) => {\n    const sanitizeErrorCode = (rawValue) => {\n        let cleanValue = rawValue;\n        if (typeof cleanValue === \"number\") {\n            cleanValue = cleanValue.toString();\n        }\n        if (cleanValue.indexOf(\",\") >= 0) {\n            cleanValue = cleanValue.split(\",\")[0];\n        }\n        if (cleanValue.indexOf(\":\") >= 0) {\n            cleanValue = cleanValue.split(\":\")[0];\n        }\n        if (cleanValue.indexOf(\"#\") >= 0) {\n            cleanValue = cleanValue.split(\"#\")[1];\n        }\n        return cleanValue;\n    };\n    if (data[\"__type\"] !== undefined) {\n        return sanitizeErrorCode(data[\"__type\"]);\n    }\n    const codeKey = Object.keys(data).find((key) => key.toLowerCase() === \"code\");\n    if (codeKey && data[codeKey] !== undefined) {\n        return sanitizeErrorCode(data[codeKey]);\n    }\n};\nexport const checkCborResponse = (response) => {\n    if (String(response.headers[\"smithy-protocol\"]).toLowerCase() !== \"rpc-v2-cbor\") {\n        throw new Error(\"Malformed RPCv2 CBOR response, status: \" + response.statusCode);\n    }\n};\nexport const buildHttpRpcRequest = async (context, headers, path, resolvedHostname, body) => {\n    const { hostname, protocol = \"https\", port, path: basePath } = await context.endpoint();\n    const contents = {\n        protocol,\n        hostname,\n        port,\n        method: \"POST\",\n        path: basePath.endsWith(\"/\") ? basePath.slice(0, -1) + path : basePath + path,\n        headers: {\n            ...headers,\n        },\n    };\n    if (resolvedHostname !== undefined) {\n        contents.hostname = resolvedHostname;\n    }\n    if (body !== undefined) {\n        contents.body = body;\n        try {\n            contents.headers[\"content-length\"] = String(calculateBodyLength(body));\n        }\n        catch (e) { }\n    }\n    return new __HttpRequest(contents);\n};\n", "import { SerdeContext } from \"@smithy/core/protocols\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { _parseEpochTimestamp, generateIdempotencyToken } from \"@smithy/core/serde\";\nimport { fromBase64 } from \"@smithy/util-base64\";\nimport { cbor } from \"./cbor\";\nimport { dateToTag } from \"./parseCborBody\";\nexport class CborCodec extends SerdeContext {\n    createSerializer() {\n        const serializer = new CborShapeSerializer();\n        serializer.setSerdeContext(this.serdeContext);\n        return serializer;\n    }\n    createDeserializer() {\n        const deserializer = new CborShapeDeserializer();\n        deserializer.setSerdeContext(this.serdeContext);\n        return deserializer;\n    }\n}\nexport class CborShapeSerializer extends SerdeContext {\n    value;\n    write(schema, value) {\n        this.value = this.serialize(schema, value);\n    }\n    serialize(schema, source) {\n        const ns = NormalizedSchema.of(schema);\n        if (source == null) {\n            if (ns.isIdempotencyToken()) {\n                return generateIdempotencyToken();\n            }\n            return source;\n        }\n        if (ns.isBlobSchema()) {\n            if (typeof source === \"string\") {\n                return (this.serdeContext?.base64Decoder ?? fromBase64)(source);\n            }\n            return source;\n        }\n        if (ns.isTimestampSchema()) {\n            if (typeof source === \"number\" || typeof source === \"bigint\") {\n                return dateToTag(new Date((Number(source) / 1000) | 0));\n            }\n            return dateToTag(source);\n        }\n        if (typeof source === \"function\" || typeof source === \"object\") {\n            const sourceObject = source;\n            if (ns.isListSchema() && Array.isArray(sourceObject)) {\n                const sparse = !!ns.getMergedTraits().sparse;\n                const newArray = [];\n                let i = 0;\n                for (const item of sourceObject) {\n                    const value = this.serialize(ns.getValueSchema(), item);\n                    if (value != null || sparse) {\n                        newArray[i++] = value;\n                    }\n                }\n                return newArray;\n            }\n            if (sourceObject instanceof Date) {\n                return dateToTag(sourceObject);\n            }\n            const newObject = {};\n            if (ns.isMapSchema()) {\n                const sparse = !!ns.getMergedTraits().sparse;\n                for (const key of Object.keys(sourceObject)) {\n                    const value = this.serialize(ns.getValueSchema(), sourceObject[key]);\n                    if (value != null || sparse) {\n                        newObject[key] = value;\n                    }\n                }\n            }\n            else if (ns.isStructSchema()) {\n                for (const [key, memberSchema] of ns.structIterator()) {\n                    const value = this.serialize(memberSchema, sourceObject[key]);\n                    if (value != null) {\n                        newObject[key] = value;\n                    }\n                }\n            }\n            else if (ns.isDocumentSchema()) {\n                for (const key of Object.keys(sourceObject)) {\n                    newObject[key] = this.serialize(ns.getValueSchema(), sourceObject[key]);\n                }\n            }\n            return newObject;\n        }\n        return source;\n    }\n    flush() {\n        const buffer = cbor.serialize(this.value);\n        this.value = undefined;\n        return buffer;\n    }\n}\nexport class CborShapeDeserializer extends SerdeContext {\n    read(schema, bytes) {\n        const data = cbor.deserialize(bytes);\n        return this.readValue(schema, data);\n    }\n    readValue(_schema, value) {\n        const ns = NormalizedSchema.of(_schema);\n        if (ns.isTimestampSchema() && typeof value === \"number\") {\n            return _parseEpochTimestamp(value);\n        }\n        if (ns.isBlobSchema()) {\n            if (typeof value === \"string\") {\n                return (this.serdeContext?.base64Decoder ?? fromBase64)(value);\n            }\n            return value;\n        }\n        if (typeof value === \"undefined\" ||\n            typeof value === \"boolean\" ||\n            typeof value === \"number\" ||\n            typeof value === \"string\" ||\n            typeof value === \"bigint\" ||\n            typeof value === \"symbol\") {\n            return value;\n        }\n        else if (typeof value === \"function\" || typeof value === \"object\") {\n            if (value === null) {\n                return null;\n            }\n            if (\"byteLength\" in value) {\n                return value;\n            }\n            if (value instanceof Date) {\n                return value;\n            }\n            if (ns.isDocumentSchema()) {\n                return value;\n            }\n            if (ns.isListSchema()) {\n                const newArray = [];\n                const memberSchema = ns.getValueSchema();\n                const sparse = !!ns.getMergedTraits().sparse;\n                for (const item of value) {\n                    const itemValue = this.readValue(memberSchema, item);\n                    if (itemValue != null || sparse) {\n                        newArray.push(itemValue);\n                    }\n                }\n                return newArray;\n            }\n            const newObject = {};\n            if (ns.isMapSchema()) {\n                const sparse = !!ns.getMergedTraits().sparse;\n                const targetSchema = ns.getValueSchema();\n                for (const key of Object.keys(value)) {\n                    const itemValue = this.readValue(targetSchema, value[key]);\n                    if (itemValue != null || sparse) {\n                        newObject[key] = itemValue;\n                    }\n                }\n            }\n            else if (ns.isStructSchema()) {\n                for (const [key, memberSchema] of ns.structIterator()) {\n                    const v = this.readValue(memberSchema, value[key]);\n                    if (v != null) {\n                        newObject[key] = v;\n                    }\n                }\n            }\n            return newObject;\n        }\n        else {\n            return value;\n        }\n    }\n}\n", "import { RpcProtocol } from \"@smithy/core/protocols\";\nimport { deref, NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { getSmithyContext } from \"@smithy/util-middleware\";\nimport { CborCodec } from \"./CborCodec\";\nimport { loadSmithyRpcV2CborErrorCode } from \"./parseCborBody\";\nexport class SmithyRpcV2CborProtocol extends RpcProtocol {\n    codec = new CborCodec();\n    serializer = this.codec.createSerializer();\n    deserializer = this.codec.createDeserializer();\n    constructor({ defaultNamespace }) {\n        super({ defaultNamespace });\n    }\n    getShapeId() {\n        return \"smithy.protocols#rpcv2Cbor\";\n    }\n    getPayloadCodec() {\n        return this.codec;\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        Object.assign(request.headers, {\n            \"content-type\": this.getDefaultContentType(),\n            \"smithy-protocol\": \"rpc-v2-cbor\",\n            accept: this.getDefaultContentType(),\n        });\n        if (deref(operationSchema.input) === \"unit\") {\n            delete request.body;\n            delete request.headers[\"content-type\"];\n        }\n        else {\n            if (!request.body) {\n                this.serializer.write(15, {});\n                request.body = this.serializer.flush();\n            }\n            try {\n                request.headers[\"content-length\"] = String(request.body.byteLength);\n            }\n            catch (e) { }\n        }\n        const { service, operation } = getSmithyContext(context);\n        const path = `/service/${service}/operation/${operation}`;\n        if (request.path.endsWith(\"/\")) {\n            request.path += path.slice(1);\n        }\n        else {\n            request.path += path;\n        }\n        return request;\n    }\n    async deserializeResponse(operationSchema, context, response) {\n        return super.deserializeResponse(operationSchema, context, response);\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        const errorName = loadSmithyRpcV2CborErrorCode(response, dataObject) ?? \"Unknown\";\n        let namespace = this.options.defaultNamespace;\n        if (errorName.includes(\"#\")) {\n            [namespace] = errorName.split(\"#\");\n        }\n        const errorMetadata = {\n            $metadata: metadata,\n            $response: response,\n            $fault: response.statusCode <= 500 ? \"client\" : \"server\",\n        };\n        const registry = TypeRegistry.for(namespace);\n        let errorSchema;\n        try {\n            errorSchema = registry.getSchema(errorName);\n        }\n        catch (e) {\n            if (dataObject.Message) {\n                dataObject.message = dataObject.Message;\n            }\n            const synthetic = TypeRegistry.for(\"smithy.ts.sdk.synthetic.\" + namespace);\n            const baseExceptionSchema = synthetic.getBaseException();\n            if (baseExceptionSchema) {\n                const ErrorCtor = synthetic.getErrorCtor(baseExceptionSchema);\n                throw Object.assign(new ErrorCtor({ name: errorName }), errorMetadata, dataObject);\n            }\n            throw Object.assign(new Error(errorName), errorMetadata, dataObject);\n        }\n        const ns = NormalizedSchema.of(errorSchema);\n        const ErrorCtor = registry.getErrorCtor(errorSchema);\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\n        const exception = new ErrorCtor(message);\n        const output = {};\n        for (const [name, member] of ns.structIterator()) {\n            output[name] = this.deserializer.readValue(member, dataObject[name]);\n        }\n        throw Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output);\n    }\n    getDefaultContentType() {\n        return \"application/cbor\";\n    }\n}\n", "export { cbor } from \"./cbor\";\nexport { tag, tagSymbol } from \"./cbor-types\";\nexport * from \"./parseCborBody\";\nexport * from \"./SmithyRpcV2CborProtocol\";\nexport * from \"./CborCodec\";\n", "import { TypeRegistry } from \"@smithy/core/schema\";\nexport class ProtocolLib {\n    resolveRestContentType(defaultContentType, inputSchema) {\n        const members = inputSchema.getMemberSchemas();\n        const httpPayloadMember = Object.values(members).find((m) => {\n            return !!m.getMergedTraits().httpPayload;\n        });\n        if (httpPayloadMember) {\n            const mediaType = httpPayloadMember.getMergedTraits().mediaType;\n            if (mediaType) {\n                return mediaType;\n            }\n            else if (httpPayloadMember.isStringSchema()) {\n                return \"text/plain\";\n            }\n            else if (httpPayloadMember.isBlobSchema()) {\n                return \"application/octet-stream\";\n            }\n            else {\n                return defaultContentType;\n            }\n        }\n        else if (!inputSchema.isUnitSchema()) {\n            const hasBody = Object.values(members).find((m) => {\n                const { httpQuery, httpQueryParams, httpHeader, httpLabel, httpPrefixHeaders } = m.getMergedTraits();\n                const noPrefixHeaders = httpPrefixHeaders === void 0;\n                return !httpQuery && !httpQueryParams && !httpHeader && !httpLabel && noPrefixHeaders;\n            });\n            if (hasBody) {\n                return defaultContentType;\n            }\n        }\n    }\n    async getErrorSchemaOrThrowBaseException(errorIdentifier, defaultNamespace, response, dataObject, metadata, getErrorSchema) {\n        let namespace = defaultNamespace;\n        let errorName = errorIdentifier;\n        if (errorIdentifier.includes(\"#\")) {\n            [namespace, errorName] = errorIdentifier.split(\"#\");\n        }\n        const errorMetadata = {\n            $metadata: metadata,\n            $response: response,\n            $fault: response.statusCode < 500 ? \"client\" : \"server\",\n        };\n        const registry = TypeRegistry.for(namespace);\n        try {\n            const errorSchema = getErrorSchema?.(registry, errorName) ?? registry.getSchema(errorIdentifier);\n            return { errorSchema, errorMetadata };\n        }\n        catch (e) {\n            dataObject.message = dataObject.message ?? dataObject.Message ?? \"UnknownError\";\n            const synthetic = TypeRegistry.for(\"smithy.ts.sdk.synthetic.\" + namespace);\n            const baseExceptionSchema = synthetic.getBaseException();\n            if (baseExceptionSchema) {\n                const ErrorCtor = synthetic.getErrorCtor(baseExceptionSchema) ?? Error;\n                throw Object.assign(new ErrorCtor({ name: errorName }), errorMetadata, dataObject);\n            }\n            throw Object.assign(new Error(errorName), errorMetadata, dataObject);\n        }\n    }\n    setQueryCompatError(output, response) {\n        const queryErrorHeader = response.headers?.[\"x-amzn-query-error\"];\n        if (output !== undefined && queryErrorHeader != null) {\n            const [Code, Type] = queryErrorHeader.split(\";\");\n            const entries = Object.entries(output);\n            const Error = {\n                Code,\n                Type,\n            };\n            Object.assign(output, Error);\n            for (const [k, v] of entries) {\n                Error[k] = v;\n            }\n            delete Error.__type;\n            output.Error = Error;\n        }\n    }\n    queryCompatOutput(queryCompatErrorData, errorData) {\n        if (queryCompatErrorData.Error) {\n            errorData.Error = queryCompatErrorData.Error;\n        }\n        if (queryCompatErrorData.Type) {\n            errorData.Type = queryCompatErrorData.Type;\n        }\n        if (queryCompatErrorData.Code) {\n            errorData.Code = queryCompatErrorData.Code;\n        }\n    }\n}\n", "import { loadSmithyRpcV2CborErrorCode, SmithyRpcV2CborProtocol } from \"@smithy/core/cbor\";\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nexport class AwsSmithyRpcV2CborProtocol extends SmithyRpcV2CborProtocol {\n    awsQueryCompatible;\n    mixin = new ProtocolLib();\n    constructor({ defaultNamespace, awsQueryCompatible, }) {\n        super({ defaultNamespace });\n        this.awsQueryCompatible = !!awsQueryCompatible;\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        if (this.awsQueryCompatible) {\n            request.headers[\"x-amzn-query-mode\"] = \"true\";\n        }\n        return request;\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        if (this.awsQueryCompatible) {\n            this.mixin.setQueryCompatError(dataObject, response);\n        }\n        const errorName = loadSmithyRpcV2CborErrorCode(response, dataObject) ?? \"Unknown\";\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorName, this.options.defaultNamespace, response, dataObject, metadata);\n        const ns = NormalizedSchema.of(errorSchema);\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\n        const exception = new ErrorCtor(message);\n        const output = {};\n        for (const [name, member] of ns.structIterator()) {\n            output[name] = this.deserializer.readValue(member, dataObject[name]);\n        }\n        if (this.awsQueryCompatible) {\n            this.mixin.queryCompatOutput(dataObject, output);\n        }\n        throw Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output);\n    }\n}\n", "export const _toStr = (val) => {\n    if (val == null) {\n        return val;\n    }\n    if (typeof val === \"number\" || typeof val === \"bigint\") {\n        const warning = new Error(`Received number ${val} where a string was expected.`);\n        warning.name = \"Warning\";\n        console.warn(warning);\n        return String(val);\n    }\n    if (typeof val === \"boolean\") {\n        const warning = new Error(`Received boolean ${val} where a string was expected.`);\n        warning.name = \"Warning\";\n        console.warn(warning);\n        return String(val);\n    }\n    return val;\n};\nexport const _toBool = (val) => {\n    if (val == null) {\n        return val;\n    }\n    if (typeof val === \"number\") {\n    }\n    if (typeof val === \"string\") {\n        const lowercase = val.toLowerCase();\n        if (val !== \"\" && lowercase !== \"false\" && lowercase !== \"true\") {\n            const warning = new Error(`Received string \"${val}\" where a boolean was expected.`);\n            warning.name = \"Warning\";\n            console.warn(warning);\n        }\n        return val !== \"\" && lowercase !== \"false\";\n    }\n    return val;\n};\nexport const _toNum = (val) => {\n    if (val == null) {\n        return val;\n    }\n    if (typeof val === \"boolean\") {\n    }\n    if (typeof val === \"string\") {\n        const num = Number(val);\n        if (num.toString() !== val) {\n            const warning = new Error(`Received string \"${val}\" where a number was expected.`);\n            warning.name = \"Warning\";\n            console.warn(warning);\n            return val;\n        }\n        return num;\n    }\n    return val;\n};\n", "export class SerdeContextConfig {\n    serdeContext;\n    setSerdeContext(serdeContext) {\n        this.serdeContext = serdeContext;\n    }\n}\n", "import { NumericValue } from \"@smithy/core/serde\";\nexport function jsonReviver(key, value, context) {\n    if (context?.source) {\n        const numericString = context.source;\n        if (typeof value === \"number\") {\n            if (value > Number.MAX_SAFE_INTEGER || value < Number.MIN_SAFE_INTEGER || numericString !== String(value)) {\n                const isFractional = numericString.includes(\".\");\n                if (isFractional) {\n                    return new NumericValue(numericString, \"bigDecimal\");\n                }\n                else {\n                    return BigInt(numericString);\n                }\n            }\n        }\n    }\n    return value;\n}\n", "'use strict';\n\nconst getAllAliases = (name, aliases) => {\n    const _aliases = [];\n    if (name) {\n        _aliases.push(name);\n    }\n    if (aliases) {\n        for (const alias of aliases) {\n            _aliases.push(alias);\n        }\n    }\n    return _aliases;\n};\nconst getMiddlewareNameWithAliases = (name, aliases) => {\n    return `${name || \"anonymous\"}${aliases && aliases.length > 0 ? ` (a.k.a. ${aliases.join(\",\")})` : \"\"}`;\n};\nconst constructStack = () => {\n    let absoluteEntries = [];\n    let relativeEntries = [];\n    let identifyOnResolve = false;\n    const entriesNameSet = new Set();\n    const sort = (entries) => entries.sort((a, b) => stepWeights[b.step] - stepWeights[a.step] ||\n        priorityWeights[b.priority || \"normal\"] - priorityWeights[a.priority || \"normal\"]);\n    const removeByName = (toRemove) => {\n        let isRemoved = false;\n        const filterCb = (entry) => {\n            const aliases = getAllAliases(entry.name, entry.aliases);\n            if (aliases.includes(toRemove)) {\n                isRemoved = true;\n                for (const alias of aliases) {\n                    entriesNameSet.delete(alias);\n                }\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    const removeByReference = (toRemove) => {\n        let isRemoved = false;\n        const filterCb = (entry) => {\n            if (entry.middleware === toRemove) {\n                isRemoved = true;\n                for (const alias of getAllAliases(entry.name, entry.aliases)) {\n                    entriesNameSet.delete(alias);\n                }\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    const cloneTo = (toStack) => {\n        absoluteEntries.forEach((entry) => {\n            toStack.add(entry.middleware, { ...entry });\n        });\n        relativeEntries.forEach((entry) => {\n            toStack.addRelativeTo(entry.middleware, { ...entry });\n        });\n        toStack.identifyOnResolve?.(stack.identifyOnResolve());\n        return toStack;\n    };\n    const expandRelativeMiddlewareList = (from) => {\n        const expandedMiddlewareList = [];\n        from.before.forEach((entry) => {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push(...expandRelativeMiddlewareList(entry));\n            }\n        });\n        expandedMiddlewareList.push(from);\n        from.after.reverse().forEach((entry) => {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push(...expandRelativeMiddlewareList(entry));\n            }\n        });\n        return expandedMiddlewareList;\n    };\n    const getMiddlewareList = (debug = false) => {\n        const normalizedAbsoluteEntries = [];\n        const normalizedRelativeEntries = [];\n        const normalizedEntriesNameMap = {};\n        absoluteEntries.forEach((entry) => {\n            const normalizedEntry = {\n                ...entry,\n                before: [],\n                after: [],\n            };\n            for (const alias of getAllAliases(normalizedEntry.name, normalizedEntry.aliases)) {\n                normalizedEntriesNameMap[alias] = normalizedEntry;\n            }\n            normalizedAbsoluteEntries.push(normalizedEntry);\n        });\n        relativeEntries.forEach((entry) => {\n            const normalizedEntry = {\n                ...entry,\n                before: [],\n                after: [],\n            };\n            for (const alias of getAllAliases(normalizedEntry.name, normalizedEntry.aliases)) {\n                normalizedEntriesNameMap[alias] = normalizedEntry;\n            }\n            normalizedRelativeEntries.push(normalizedEntry);\n        });\n        normalizedRelativeEntries.forEach((entry) => {\n            if (entry.toMiddleware) {\n                const toMiddleware = normalizedEntriesNameMap[entry.toMiddleware];\n                if (toMiddleware === undefined) {\n                    if (debug) {\n                        return;\n                    }\n                    throw new Error(`${entry.toMiddleware} is not found when adding ` +\n                        `${getMiddlewareNameWithAliases(entry.name, entry.aliases)} ` +\n                        `middleware ${entry.relation} ${entry.toMiddleware}`);\n                }\n                if (entry.relation === \"after\") {\n                    toMiddleware.after.push(entry);\n                }\n                if (entry.relation === \"before\") {\n                    toMiddleware.before.push(entry);\n                }\n            }\n        });\n        const mainChain = sort(normalizedAbsoluteEntries)\n            .map(expandRelativeMiddlewareList)\n            .reduce((wholeList, expandedMiddlewareList) => {\n            wholeList.push(...expandedMiddlewareList);\n            return wholeList;\n        }, []);\n        return mainChain;\n    };\n    const stack = {\n        add: (middleware, options = {}) => {\n            const { name, override, aliases: _aliases } = options;\n            const entry = {\n                step: \"initialize\",\n                priority: \"normal\",\n                middleware,\n                ...options,\n            };\n            const aliases = getAllAliases(name, _aliases);\n            if (aliases.length > 0) {\n                if (aliases.some((alias) => entriesNameSet.has(alias))) {\n                    if (!override)\n                        throw new Error(`Duplicate middleware name '${getMiddlewareNameWithAliases(name, _aliases)}'`);\n                    for (const alias of aliases) {\n                        const toOverrideIndex = absoluteEntries.findIndex((entry) => entry.name === alias || entry.aliases?.some((a) => a === alias));\n                        if (toOverrideIndex === -1) {\n                            continue;\n                        }\n                        const toOverride = absoluteEntries[toOverrideIndex];\n                        if (toOverride.step !== entry.step || entry.priority !== toOverride.priority) {\n                            throw new Error(`\"${getMiddlewareNameWithAliases(toOverride.name, toOverride.aliases)}\" middleware with ` +\n                                `${toOverride.priority} priority in ${toOverride.step} step cannot ` +\n                                `be overridden by \"${getMiddlewareNameWithAliases(name, _aliases)}\" middleware with ` +\n                                `${entry.priority} priority in ${entry.step} step.`);\n                        }\n                        absoluteEntries.splice(toOverrideIndex, 1);\n                    }\n                }\n                for (const alias of aliases) {\n                    entriesNameSet.add(alias);\n                }\n            }\n            absoluteEntries.push(entry);\n        },\n        addRelativeTo: (middleware, options) => {\n            const { name, override, aliases: _aliases } = options;\n            const entry = {\n                middleware,\n                ...options,\n            };\n            const aliases = getAllAliases(name, _aliases);\n            if (aliases.length > 0) {\n                if (aliases.some((alias) => entriesNameSet.has(alias))) {\n                    if (!override)\n                        throw new Error(`Duplicate middleware name '${getMiddlewareNameWithAliases(name, _aliases)}'`);\n                    for (const alias of aliases) {\n                        const toOverrideIndex = relativeEntries.findIndex((entry) => entry.name === alias || entry.aliases?.some((a) => a === alias));\n                        if (toOverrideIndex === -1) {\n                            continue;\n                        }\n                        const toOverride = relativeEntries[toOverrideIndex];\n                        if (toOverride.toMiddleware !== entry.toMiddleware || toOverride.relation !== entry.relation) {\n                            throw new Error(`\"${getMiddlewareNameWithAliases(toOverride.name, toOverride.aliases)}\" middleware ` +\n                                `${toOverride.relation} \"${toOverride.toMiddleware}\" middleware cannot be overridden ` +\n                                `by \"${getMiddlewareNameWithAliases(name, _aliases)}\" middleware ${entry.relation} ` +\n                                `\"${entry.toMiddleware}\" middleware.`);\n                        }\n                        relativeEntries.splice(toOverrideIndex, 1);\n                    }\n                }\n                for (const alias of aliases) {\n                    entriesNameSet.add(alias);\n                }\n            }\n            relativeEntries.push(entry);\n        },\n        clone: () => cloneTo(constructStack()),\n        use: (plugin) => {\n            plugin.applyToStack(stack);\n        },\n        remove: (toRemove) => {\n            if (typeof toRemove === \"string\")\n                return removeByName(toRemove);\n            else\n                return removeByReference(toRemove);\n        },\n        removeByTag: (toRemove) => {\n            let isRemoved = false;\n            const filterCb = (entry) => {\n                const { tags, name, aliases: _aliases } = entry;\n                if (tags && tags.includes(toRemove)) {\n                    const aliases = getAllAliases(name, _aliases);\n                    for (const alias of aliases) {\n                        entriesNameSet.delete(alias);\n                    }\n                    isRemoved = true;\n                    return false;\n                }\n                return true;\n            };\n            absoluteEntries = absoluteEntries.filter(filterCb);\n            relativeEntries = relativeEntries.filter(filterCb);\n            return isRemoved;\n        },\n        concat: (from) => {\n            const cloned = cloneTo(constructStack());\n            cloned.use(from);\n            cloned.identifyOnResolve(identifyOnResolve || cloned.identifyOnResolve() || (from.identifyOnResolve?.() ?? false));\n            return cloned;\n        },\n        applyToStack: cloneTo,\n        identify: () => {\n            return getMiddlewareList(true).map((mw) => {\n                const step = mw.step ??\n                    mw.relation +\n                        \" \" +\n                        mw.toMiddleware;\n                return getMiddlewareNameWithAliases(mw.name, mw.aliases) + \" - \" + step;\n            });\n        },\n        identifyOnResolve(toggle) {\n            if (typeof toggle === \"boolean\")\n                identifyOnResolve = toggle;\n            return identifyOnResolve;\n        },\n        resolve: (handler, context) => {\n            for (const middleware of getMiddlewareList()\n                .map((entry) => entry.middleware)\n                .reverse()) {\n                handler = middleware(handler, context);\n            }\n            if (identifyOnResolve) {\n                console.log(stack.identify());\n            }\n            return handler;\n        },\n    };\n    return stack;\n};\nconst stepWeights = {\n    initialize: 5,\n    serialize: 4,\n    build: 3,\n    finalizeRequest: 2,\n    deserialize: 1,\n};\nconst priorityWeights = {\n    high: 3,\n    normal: 2,\n    low: 1,\n};\n\nexports.constructStack = constructStack;\n", "'use strict';\n\nvar middlewareStack = require('@smithy/middleware-stack');\nvar protocols = require('@smithy/core/protocols');\nvar types = require('@smithy/types');\nvar schema = require('@smithy/core/schema');\nvar serde = require('@smithy/core/serde');\n\nclass Client {\n    config;\n    middlewareStack = middlewareStack.constructStack();\n    initConfig;\n    handlers;\n    constructor(config) {\n        this.config = config;\n    }\n    send(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const useHandlerCache = options === undefined && this.config.cacheMiddleware === true;\n        let handler;\n        if (useHandlerCache) {\n            if (!this.handlers) {\n                this.handlers = new WeakMap();\n            }\n            const handlers = this.handlers;\n            if (handlers.has(command.constructor)) {\n                handler = handlers.get(command.constructor);\n            }\n            else {\n                handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n                handlers.set(command.constructor, handler);\n            }\n        }\n        else {\n            delete this.handlers;\n            handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        }\n        if (callback) {\n            handler(command)\n                .then((result) => callback(null, result.output), (err) => callback(err))\n                .catch(() => { });\n        }\n        else {\n            return handler(command).then((result) => result.output);\n        }\n    }\n    destroy() {\n        this.config?.requestHandler?.destroy?.();\n        delete this.handlers;\n    }\n}\n\nconst SENSITIVE_STRING$1 = \"***SensitiveInformation***\";\nfunction schemaLogFilter(schema$1, data) {\n    if (data == null) {\n        return data;\n    }\n    const ns = schema.NormalizedSchema.of(schema$1);\n    if (ns.getMergedTraits().sensitive) {\n        return SENSITIVE_STRING$1;\n    }\n    if (ns.isListSchema()) {\n        const isSensitive = !!ns.getValueSchema().getMergedTraits().sensitive;\n        if (isSensitive) {\n            return SENSITIVE_STRING$1;\n        }\n    }\n    else if (ns.isMapSchema()) {\n        const isSensitive = !!ns.getKeySchema().getMergedTraits().sensitive || !!ns.getValueSchema().getMergedTraits().sensitive;\n        if (isSensitive) {\n            return SENSITIVE_STRING$1;\n        }\n    }\n    else if (ns.isStructSchema() && typeof data === \"object\") {\n        const object = data;\n        const newObject = {};\n        for (const [member, memberNs] of ns.structIterator()) {\n            if (object[member] != null) {\n                newObject[member] = schemaLogFilter(memberNs, object[member]);\n            }\n        }\n        return newObject;\n    }\n    return data;\n}\n\nclass Command {\n    middlewareStack = middlewareStack.constructStack();\n    schema;\n    static classBuilder() {\n        return new ClassBuilder();\n    }\n    resolveMiddlewareWithContext(clientStack, configuration, options, { middlewareFn, clientName, commandName, inputFilterSensitiveLog, outputFilterSensitiveLog, smithyContext, additionalContext, CommandCtor, }) {\n        for (const mw of middlewareFn.bind(this)(CommandCtor, clientStack, configuration, options)) {\n            this.middlewareStack.use(mw);\n        }\n        const stack = clientStack.concat(this.middlewareStack);\n        const { logger } = configuration;\n        const handlerExecutionContext = {\n            logger,\n            clientName,\n            commandName,\n            inputFilterSensitiveLog,\n            outputFilterSensitiveLog,\n            [types.SMITHY_CONTEXT_KEY]: {\n                commandInstance: this,\n                ...smithyContext,\n            },\n            ...additionalContext,\n        };\n        const { requestHandler } = configuration;\n        return stack.resolve((request) => requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n    }\n}\nclass ClassBuilder {\n    _init = () => { };\n    _ep = {};\n    _middlewareFn = () => [];\n    _commandName = \"\";\n    _clientName = \"\";\n    _additionalContext = {};\n    _smithyContext = {};\n    _inputFilterSensitiveLog = undefined;\n    _outputFilterSensitiveLog = undefined;\n    _serializer = null;\n    _deserializer = null;\n    _operationSchema;\n    init(cb) {\n        this._init = cb;\n    }\n    ep(endpointParameterInstructions) {\n        this._ep = endpointParameterInstructions;\n        return this;\n    }\n    m(middlewareSupplier) {\n        this._middlewareFn = middlewareSupplier;\n        return this;\n    }\n    s(service, operation, smithyContext = {}) {\n        this._smithyContext = {\n            service,\n            operation,\n            ...smithyContext,\n        };\n        return this;\n    }\n    c(additionalContext = {}) {\n        this._additionalContext = additionalContext;\n        return this;\n    }\n    n(clientName, commandName) {\n        this._clientName = clientName;\n        this._commandName = commandName;\n        return this;\n    }\n    f(inputFilter = (_) => _, outputFilter = (_) => _) {\n        this._inputFilterSensitiveLog = inputFilter;\n        this._outputFilterSensitiveLog = outputFilter;\n        return this;\n    }\n    ser(serializer) {\n        this._serializer = serializer;\n        return this;\n    }\n    de(deserializer) {\n        this._deserializer = deserializer;\n        return this;\n    }\n    sc(operation) {\n        this._operationSchema = operation;\n        this._smithyContext.operationSchema = operation;\n        return this;\n    }\n    build() {\n        const closure = this;\n        let CommandRef;\n        return (CommandRef = class extends Command {\n            input;\n            static getEndpointParameterInstructions() {\n                return closure._ep;\n            }\n            constructor(...[input]) {\n                super();\n                this.input = input ?? {};\n                closure._init(this);\n                this.schema = closure._operationSchema;\n            }\n            resolveMiddleware(stack, configuration, options) {\n                const op = closure._operationSchema;\n                const input = op?.[4] ?? op?.input;\n                const output = op?.[5] ?? op?.output;\n                return this.resolveMiddlewareWithContext(stack, configuration, options, {\n                    CommandCtor: CommandRef,\n                    middlewareFn: closure._middlewareFn,\n                    clientName: closure._clientName,\n                    commandName: closure._commandName,\n                    inputFilterSensitiveLog: closure._inputFilterSensitiveLog ?? (op ? schemaLogFilter.bind(null, input) : (_) => _),\n                    outputFilterSensitiveLog: closure._outputFilterSensitiveLog ?? (op ? schemaLogFilter.bind(null, output) : (_) => _),\n                    smithyContext: closure._smithyContext,\n                    additionalContext: closure._additionalContext,\n                });\n            }\n            serialize = closure._serializer;\n            deserialize = closure._deserializer;\n        });\n    }\n}\n\nconst SENSITIVE_STRING = \"***SensitiveInformation***\";\n\nconst createAggregatedClient = (commands, Client) => {\n    for (const command of Object.keys(commands)) {\n        const CommandCtor = commands[command];\n        const methodImpl = async function (args, optionsOrCb, cb) {\n            const command = new CommandCtor(args);\n            if (typeof optionsOrCb === \"function\") {\n                this.send(command, optionsOrCb);\n            }\n            else if (typeof cb === \"function\") {\n                if (typeof optionsOrCb !== \"object\")\n                    throw new Error(`Expected http options but got ${typeof optionsOrCb}`);\n                this.send(command, optionsOrCb || {}, cb);\n            }\n            else {\n                return this.send(command, optionsOrCb);\n            }\n        };\n        const methodName = (command[0].toLowerCase() + command.slice(1)).replace(/Command$/, \"\");\n        Client.prototype[methodName] = methodImpl;\n    }\n};\n\nclass ServiceException extends Error {\n    $fault;\n    $response;\n    $retryable;\n    $metadata;\n    constructor(options) {\n        super(options.message);\n        Object.setPrototypeOf(this, Object.getPrototypeOf(this).constructor.prototype);\n        this.name = options.name;\n        this.$fault = options.$fault;\n        this.$metadata = options.$metadata;\n    }\n    static isInstance(value) {\n        if (!value)\n            return false;\n        const candidate = value;\n        return (ServiceException.prototype.isPrototypeOf(candidate) ||\n            (Boolean(candidate.$fault) &&\n                Boolean(candidate.$metadata) &&\n                (candidate.$fault === \"client\" || candidate.$fault === \"server\")));\n    }\n    static [Symbol.hasInstance](instance) {\n        if (!instance)\n            return false;\n        const candidate = instance;\n        if (this === ServiceException) {\n            return ServiceException.isInstance(instance);\n        }\n        if (ServiceException.isInstance(instance)) {\n            if (candidate.name && this.name) {\n                return this.prototype.isPrototypeOf(instance) || candidate.name === this.name;\n            }\n            return this.prototype.isPrototypeOf(instance);\n        }\n        return false;\n    }\n}\nconst decorateServiceException = (exception, additions = {}) => {\n    Object.entries(additions)\n        .filter(([, v]) => v !== undefined)\n        .forEach(([k, v]) => {\n        if (exception[k] == undefined || exception[k] === \"\") {\n            exception[k] = v;\n        }\n    });\n    const message = exception.message || exception.Message || \"UnknownError\";\n    exception.message = message;\n    delete exception.Message;\n    return exception;\n};\n\nconst throwDefaultError = ({ output, parsedBody, exceptionCtor, errorCode }) => {\n    const $metadata = deserializeMetadata(output);\n    const statusCode = $metadata.httpStatusCode ? $metadata.httpStatusCode + \"\" : undefined;\n    const response = new exceptionCtor({\n        name: parsedBody?.code || parsedBody?.Code || errorCode || statusCode || \"UnknownError\",\n        $fault: \"client\",\n        $metadata,\n    });\n    throw decorateServiceException(response, parsedBody);\n};\nconst withBaseException = (ExceptionCtor) => {\n    return ({ output, parsedBody, errorCode }) => {\n        throwDefaultError({ output, parsedBody, exceptionCtor: ExceptionCtor, errorCode });\n    };\n};\nconst deserializeMetadata = (output) => ({\n    httpStatusCode: output.statusCode,\n    requestId: output.headers[\"x-amzn-requestid\"] ?? output.headers[\"x-amzn-request-id\"] ?? output.headers[\"x-amz-request-id\"],\n    extendedRequestId: output.headers[\"x-amz-id-2\"],\n    cfId: output.headers[\"x-amz-cf-id\"],\n});\n\nconst loadConfigsForDefaultMode = (mode) => {\n    switch (mode) {\n        case \"standard\":\n            return {\n                retryMode: \"standard\",\n                connectionTimeout: 3100,\n            };\n        case \"in-region\":\n            return {\n                retryMode: \"standard\",\n                connectionTimeout: 1100,\n            };\n        case \"cross-region\":\n            return {\n                retryMode: \"standard\",\n                connectionTimeout: 3100,\n            };\n        case \"mobile\":\n            return {\n                retryMode: \"standard\",\n                connectionTimeout: 30000,\n            };\n        default:\n            return {};\n    }\n};\n\nlet warningEmitted = false;\nconst emitWarningIfUnsupportedVersion = (version) => {\n    if (version && !warningEmitted && parseInt(version.substring(1, version.indexOf(\".\"))) < 16) {\n        warningEmitted = true;\n    }\n};\n\nconst getChecksumConfiguration = (runtimeConfig) => {\n    const checksumAlgorithms = [];\n    for (const id in types.AlgorithmId) {\n        const algorithmId = types.AlgorithmId[id];\n        if (runtimeConfig[algorithmId] === undefined) {\n            continue;\n        }\n        checksumAlgorithms.push({\n            algorithmId: () => algorithmId,\n            checksumConstructor: () => runtimeConfig[algorithmId],\n        });\n    }\n    return {\n        addChecksumAlgorithm(algo) {\n            checksumAlgorithms.push(algo);\n        },\n        checksumAlgorithms() {\n            return checksumAlgorithms;\n        },\n    };\n};\nconst resolveChecksumRuntimeConfig = (clientConfig) => {\n    const runtimeConfig = {};\n    clientConfig.checksumAlgorithms().forEach((checksumAlgorithm) => {\n        runtimeConfig[checksumAlgorithm.algorithmId()] = checksumAlgorithm.checksumConstructor();\n    });\n    return runtimeConfig;\n};\n\nconst getRetryConfiguration = (runtimeConfig) => {\n    return {\n        setRetryStrategy(retryStrategy) {\n            runtimeConfig.retryStrategy = retryStrategy;\n        },\n        retryStrategy() {\n            return runtimeConfig.retryStrategy;\n        },\n    };\n};\nconst resolveRetryRuntimeConfig = (retryStrategyConfiguration) => {\n    const runtimeConfig = {};\n    runtimeConfig.retryStrategy = retryStrategyConfiguration.retryStrategy();\n    return runtimeConfig;\n};\n\nconst getDefaultExtensionConfiguration = (runtimeConfig) => {\n    return Object.assign(getChecksumConfiguration(runtimeConfig), getRetryConfiguration(runtimeConfig));\n};\nconst getDefaultClientConfiguration = getDefaultExtensionConfiguration;\nconst resolveDefaultRuntimeConfig = (config) => {\n    return Object.assign(resolveChecksumRuntimeConfig(config), resolveRetryRuntimeConfig(config));\n};\n\nconst getArrayIfSingleItem = (mayBeArray) => Array.isArray(mayBeArray) ? mayBeArray : [mayBeArray];\n\nconst getValueFromTextNode = (obj) => {\n    const textNodeName = \"#text\";\n    for (const key in obj) {\n        if (obj.hasOwnProperty(key) && obj[key][textNodeName] !== undefined) {\n            obj[key] = obj[key][textNodeName];\n        }\n        else if (typeof obj[key] === \"object\" && obj[key] !== null) {\n            obj[key] = getValueFromTextNode(obj[key]);\n        }\n    }\n    return obj;\n};\n\nconst isSerializableHeaderValue = (value) => {\n    return value != null;\n};\n\nclass NoOpLogger {\n    trace() { }\n    debug() { }\n    info() { }\n    warn() { }\n    error() { }\n}\n\nfunction map(arg0, arg1, arg2) {\n    let target;\n    let filter;\n    let instructions;\n    if (typeof arg1 === \"undefined\" && typeof arg2 === \"undefined\") {\n        target = {};\n        instructions = arg0;\n    }\n    else {\n        target = arg0;\n        if (typeof arg1 === \"function\") {\n            filter = arg1;\n            instructions = arg2;\n            return mapWithFilter(target, filter, instructions);\n        }\n        else {\n            instructions = arg1;\n        }\n    }\n    for (const key of Object.keys(instructions)) {\n        if (!Array.isArray(instructions[key])) {\n            target[key] = instructions[key];\n            continue;\n        }\n        applyInstruction(target, null, instructions, key);\n    }\n    return target;\n}\nconst convertMap = (target) => {\n    const output = {};\n    for (const [k, v] of Object.entries(target || {})) {\n        output[k] = [, v];\n    }\n    return output;\n};\nconst take = (source, instructions) => {\n    const out = {};\n    for (const key in instructions) {\n        applyInstruction(out, source, instructions, key);\n    }\n    return out;\n};\nconst mapWithFilter = (target, filter, instructions) => {\n    return map(target, Object.entries(instructions).reduce((_instructions, [key, value]) => {\n        if (Array.isArray(value)) {\n            _instructions[key] = value;\n        }\n        else {\n            if (typeof value === \"function\") {\n                _instructions[key] = [filter, value()];\n            }\n            else {\n                _instructions[key] = [filter, value];\n            }\n        }\n        return _instructions;\n    }, {}));\n};\nconst applyInstruction = (target, source, instructions, targetKey) => {\n    if (source !== null) {\n        let instruction = instructions[targetKey];\n        if (typeof instruction === \"function\") {\n            instruction = [, instruction];\n        }\n        const [filter = nonNullish, valueFn = pass, sourceKey = targetKey] = instruction;\n        if ((typeof filter === \"function\" && filter(source[sourceKey])) || (typeof filter !== \"function\" && !!filter)) {\n            target[targetKey] = valueFn(source[sourceKey]);\n        }\n        return;\n    }\n    let [filter, value] = instructions[targetKey];\n    if (typeof value === \"function\") {\n        let _value;\n        const defaultFilterPassed = filter === undefined && (_value = value()) != null;\n        const customFilterPassed = (typeof filter === \"function\" && !!filter(void 0)) || (typeof filter !== \"function\" && !!filter);\n        if (defaultFilterPassed) {\n            target[targetKey] = _value;\n        }\n        else if (customFilterPassed) {\n            target[targetKey] = value();\n        }\n    }\n    else {\n        const defaultFilterPassed = filter === undefined && value != null;\n        const customFilterPassed = (typeof filter === \"function\" && !!filter(value)) || (typeof filter !== \"function\" && !!filter);\n        if (defaultFilterPassed || customFilterPassed) {\n            target[targetKey] = value;\n        }\n    }\n};\nconst nonNullish = (_) => _ != null;\nconst pass = (_) => _;\n\nconst serializeFloat = (value) => {\n    if (value !== value) {\n        return \"NaN\";\n    }\n    switch (value) {\n        case Infinity:\n            return \"Infinity\";\n        case -Infinity:\n            return \"-Infinity\";\n        default:\n            return value;\n    }\n};\nconst serializeDateTime = (date) => date.toISOString().replace(\".000Z\", \"Z\");\n\nconst _json = (obj) => {\n    if (obj == null) {\n        return {};\n    }\n    if (Array.isArray(obj)) {\n        return obj.filter((_) => _ != null).map(_json);\n    }\n    if (typeof obj === \"object\") {\n        const target = {};\n        for (const key of Object.keys(obj)) {\n            if (obj[key] == null) {\n                continue;\n            }\n            target[key] = _json(obj[key]);\n        }\n        return target;\n    }\n    return obj;\n};\n\nObject.defineProperty(exports, \"collectBody\", {\n    enumerable: true,\n    get: function () { return protocols.collectBody; }\n});\nObject.defineProperty(exports, \"extendedEncodeURIComponent\", {\n    enumerable: true,\n    get: function () { return protocols.extendedEncodeURIComponent; }\n});\nObject.defineProperty(exports, \"resolvedPath\", {\n    enumerable: true,\n    get: function () { return protocols.resolvedPath; }\n});\nexports.Client = Client;\nexports.Command = Command;\nexports.NoOpLogger = NoOpLogger;\nexports.SENSITIVE_STRING = SENSITIVE_STRING;\nexports.ServiceException = ServiceException;\nexports._json = _json;\nexports.convertMap = convertMap;\nexports.createAggregatedClient = createAggregatedClient;\nexports.decorateServiceException = decorateServiceException;\nexports.emitWarningIfUnsupportedVersion = emitWarningIfUnsupportedVersion;\nexports.getArrayIfSingleItem = getArrayIfSingleItem;\nexports.getDefaultClientConfiguration = getDefaultClientConfiguration;\nexports.getDefaultExtensionConfiguration = getDefaultExtensionConfiguration;\nexports.getValueFromTextNode = getValueFromTextNode;\nexports.isSerializableHeaderValue = isSerializableHeaderValue;\nexports.loadConfigsForDefaultMode = loadConfigsForDefaultMode;\nexports.map = map;\nexports.resolveDefaultRuntimeConfig = resolveDefaultRuntimeConfig;\nexports.serializeDateTime = serializeDateTime;\nexports.serializeFloat = serializeFloat;\nexports.take = take;\nexports.throwDefaultError = throwDefaultError;\nexports.withBaseException = withBaseException;\nObject.keys(serde).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return serde[k]; }\n    });\n});\n", "import { collectBody } from \"@smithy/smithy-client\";\nimport { toUtf8 } from \"@smithy/util-utf8\";\nexport const collectBodyString = (streamBody, context) => collectBody(streamBody, context).then((body) => (context?.utf8Encoder ?? toUtf8)(body));\n", "import { collectBodyString } from \"../common\";\nexport const parseJsonBody = (streamBody, context) => collectBodyString(streamBody, context).then((encoded) => {\n    if (encoded.length) {\n        try {\n            return JSON.parse(encoded);\n        }\n        catch (e) {\n            if (e?.name === \"SyntaxError\") {\n                Object.defineProperty(e, \"$responseBodyText\", {\n                    value: encoded,\n                });\n            }\n            throw e;\n        }\n    }\n    return {};\n});\nexport const parseJsonErrorBody = async (errorBody, context) => {\n    const value = await parseJsonBody(errorBody, context);\n    value.message = value.message ?? value.Message;\n    return value;\n};\nexport const loadRestJsonErrorCode = (output, data) => {\n    const findKey = (object, key) => Object.keys(object).find((k) => k.toLowerCase() === key.toLowerCase());\n    const sanitizeErrorCode = (rawValue) => {\n        let cleanValue = rawValue;\n        if (typeof cleanValue === \"number\") {\n            cleanValue = cleanValue.toString();\n        }\n        if (cleanValue.indexOf(\",\") >= 0) {\n            cleanValue = cleanValue.split(\",\")[0];\n        }\n        if (cleanValue.indexOf(\":\") >= 0) {\n            cleanValue = cleanValue.split(\":\")[0];\n        }\n        if (cleanValue.indexOf(\"#\") >= 0) {\n            cleanValue = cleanValue.split(\"#\")[1];\n        }\n        return cleanValue;\n    };\n    const headerKey = findKey(output.headers, \"x-amzn-errortype\");\n    if (headerKey !== undefined) {\n        return sanitizeErrorCode(output.headers[headerKey]);\n    }\n    if (data && typeof data === \"object\") {\n        const codeKey = findKey(data, \"code\");\n        if (codeKey && data[codeKey] !== undefined) {\n            return sanitizeErrorCode(data[codeKey]);\n        }\n        if (data[\"__type\"] !== undefined) {\n            return sanitizeErrorCode(data[\"__type\"]);\n        }\n    }\n};\n", "import { determineTimestampFormat } from \"@smithy/core/protocols\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { LazyJsonString, NumericValue, parseEpochTimestamp, parseRfc3339DateTimeWithOffset, parseRfc7231DateTime, } from \"@smithy/core/serde\";\nimport { fromBase64 } from \"@smithy/util-base64\";\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nimport { jsonReviver } from \"./jsonReviver\";\nimport { parseJsonBody } from \"./parseJsonBody\";\nexport class JsonShapeDeserializer extends SerdeContextConfig {\n    settings;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    async read(schema, data) {\n        return this._read(schema, typeof data === \"string\" ? JSON.parse(data, jsonReviver) : await parseJsonBody(data, this.serdeContext));\n    }\n    readObject(schema, data) {\n        return this._read(schema, data);\n    }\n    _read(schema, value) {\n        const isObject = value !== null && typeof value === \"object\";\n        const ns = NormalizedSchema.of(schema);\n        if (ns.isListSchema() && Array.isArray(value)) {\n            const listMember = ns.getValueSchema();\n            const out = [];\n            const sparse = !!ns.getMergedTraits().sparse;\n            for (const item of value) {\n                if (sparse || item != null) {\n                    out.push(this._read(listMember, item));\n                }\n            }\n            return out;\n        }\n        else if (ns.isMapSchema() && isObject) {\n            const mapMember = ns.getValueSchema();\n            const out = {};\n            const sparse = !!ns.getMergedTraits().sparse;\n            for (const [_k, _v] of Object.entries(value)) {\n                if (sparse || _v != null) {\n                    out[_k] = this._read(mapMember, _v);\n                }\n            }\n            return out;\n        }\n        else if (ns.isStructSchema() && isObject) {\n            const out = {};\n            for (const [memberName, memberSchema] of ns.structIterator()) {\n                const fromKey = this.settings.jsonName ? memberSchema.getMergedTraits().jsonName ?? memberName : memberName;\n                const deserializedValue = this._read(memberSchema, value[fromKey]);\n                if (deserializedValue != null) {\n                    out[memberName] = deserializedValue;\n                }\n            }\n            return out;\n        }\n        if (ns.isBlobSchema() && typeof value === \"string\") {\n            return fromBase64(value);\n        }\n        const mediaType = ns.getMergedTraits().mediaType;\n        if (ns.isStringSchema() && typeof value === \"string\" && mediaType) {\n            const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\n            if (isJson) {\n                return LazyJsonString.from(value);\n            }\n        }\n        if (ns.isTimestampSchema() && value != null) {\n            const format = determineTimestampFormat(ns, this.settings);\n            switch (format) {\n                case 5:\n                    return parseRfc3339DateTimeWithOffset(value);\n                case 6:\n                    return parseRfc7231DateTime(value);\n                case 7:\n                    return parseEpochTimestamp(value);\n                default:\n                    console.warn(\"Missing timestamp format, parsing value with Date constructor:\", value);\n                    return new Date(value);\n            }\n        }\n        if (ns.isBigIntegerSchema() && (typeof value === \"number\" || typeof value === \"string\")) {\n            return BigInt(value);\n        }\n        if (ns.isBigDecimalSchema() && value != undefined) {\n            if (value instanceof NumericValue) {\n                return value;\n            }\n            const untyped = value;\n            if (untyped.type === \"bigDecimal\" && \"string\" in untyped) {\n                return new NumericValue(untyped.string, untyped.type);\n            }\n            return new NumericValue(String(value), \"bigDecimal\");\n        }\n        if (ns.isNumericSchema() && typeof value === \"string\") {\n            switch (value) {\n                case \"Infinity\":\n                    return Infinity;\n                case \"-Infinity\":\n                    return -Infinity;\n                case \"NaN\":\n                    return NaN;\n            }\n        }\n        if (ns.isDocumentSchema()) {\n            if (isObject) {\n                const out = Array.isArray(value) ? [] : {};\n                for (const [k, v] of Object.entries(value)) {\n                    if (v instanceof NumericValue) {\n                        out[k] = v;\n                    }\n                    else {\n                        out[k] = this._read(ns, v);\n                    }\n                }\n                return out;\n            }\n            else {\n                return structuredClone(value);\n            }\n        }\n        return value;\n    }\n}\n", "import { NumericValue } from \"@smithy/core/serde\";\nconst NUMERIC_CONTROL_CHAR = String.fromCharCode(925);\nexport class JsonReplacer {\n    values = new Map();\n    counter = 0;\n    stage = 0;\n    createReplacer() {\n        if (this.stage === 1) {\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer already created.\");\n        }\n        if (this.stage === 2) {\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer exhausted.\");\n        }\n        this.stage = 1;\n        return (key, value) => {\n            if (value instanceof NumericValue) {\n                const v = `${NUMERIC_CONTROL_CHAR + \"nv\" + this.counter++}_` + value.string;\n                this.values.set(`\"${v}\"`, value.string);\n                return v;\n            }\n            if (typeof value === \"bigint\") {\n                const s = value.toString();\n                const v = `${NUMERIC_CONTROL_CHAR + \"b\" + this.counter++}_` + s;\n                this.values.set(`\"${v}\"`, s);\n                return v;\n            }\n            return value;\n        };\n    }\n    replaceInJson(json) {\n        if (this.stage === 0) {\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer not created yet.\");\n        }\n        if (this.stage === 2) {\n            throw new Error(\"@aws-sdk/core/protocols - JsonReplacer exhausted.\");\n        }\n        this.stage = 2;\n        if (this.counter === 0) {\n            return json;\n        }\n        for (const [key, value] of this.values) {\n            json = json.replace(key, value);\n        }\n        return json;\n    }\n}\n", "import { determineTimestampFormat } from \"@smithy/core/protocols\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { dateToUtcString, generateIdempotencyToken, LazyJsonString, NumericValue } from \"@smithy/core/serde\";\nimport { toBase64 } from \"@smithy/util-base64\";\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nimport { JsonReplacer } from \"./jsonReplacer\";\nexport class JsonShapeSerializer extends SerdeContextConfig {\n    settings;\n    buffer;\n    rootSchema;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    write(schema, value) {\n        this.rootSchema = NormalizedSchema.of(schema);\n        this.buffer = this._write(this.rootSchema, value);\n    }\n    writeDiscriminatedDocument(schema, value) {\n        this.write(schema, value);\n        if (typeof this.buffer === \"object\") {\n            this.buffer.__type = NormalizedSchema.of(schema).getName(true);\n        }\n    }\n    flush() {\n        const { rootSchema } = this;\n        this.rootSchema = undefined;\n        if (rootSchema?.isStructSchema() || rootSchema?.isDocumentSchema()) {\n            const replacer = new JsonReplacer();\n            return replacer.replaceInJson(JSON.stringify(this.buffer, replacer.createReplacer(), 0));\n        }\n        return this.buffer;\n    }\n    _write(schema, value, container) {\n        const isObject = value !== null && typeof value === \"object\";\n        const ns = NormalizedSchema.of(schema);\n        if (ns.isListSchema() && Array.isArray(value)) {\n            const listMember = ns.getValueSchema();\n            const out = [];\n            const sparse = !!ns.getMergedTraits().sparse;\n            for (const item of value) {\n                if (sparse || item != null) {\n                    out.push(this._write(listMember, item));\n                }\n            }\n            return out;\n        }\n        else if (ns.isMapSchema() && isObject) {\n            const mapMember = ns.getValueSchema();\n            const out = {};\n            const sparse = !!ns.getMergedTraits().sparse;\n            for (const [_k, _v] of Object.entries(value)) {\n                if (sparse || _v != null) {\n                    out[_k] = this._write(mapMember, _v);\n                }\n            }\n            return out;\n        }\n        else if (ns.isStructSchema() && isObject) {\n            const out = {};\n            for (const [memberName, memberSchema] of ns.structIterator()) {\n                const targetKey = this.settings.jsonName ? memberSchema.getMergedTraits().jsonName ?? memberName : memberName;\n                const serializableValue = this._write(memberSchema, value[memberName], ns);\n                if (serializableValue !== undefined) {\n                    out[targetKey] = serializableValue;\n                }\n            }\n            return out;\n        }\n        if (value === null && container?.isStructSchema()) {\n            return void 0;\n        }\n        if ((ns.isBlobSchema() && (value instanceof Uint8Array || typeof value === \"string\")) ||\n            (ns.isDocumentSchema() && value instanceof Uint8Array)) {\n            if (ns === this.rootSchema) {\n                return value;\n            }\n            return (this.serdeContext?.base64Encoder ?? toBase64)(value);\n        }\n        if ((ns.isTimestampSchema() || ns.isDocumentSchema()) && value instanceof Date) {\n            const format = determineTimestampFormat(ns, this.settings);\n            switch (format) {\n                case 5:\n                    return value.toISOString().replace(\".000Z\", \"Z\");\n                case 6:\n                    return dateToUtcString(value);\n                case 7:\n                    return value.getTime() / 1000;\n                default:\n                    console.warn(\"Missing timestamp format, using epoch seconds\", value);\n                    return value.getTime() / 1000;\n            }\n        }\n        if (ns.isNumericSchema() && typeof value === \"number\") {\n            if (Math.abs(value) === Infinity || isNaN(value)) {\n                return String(value);\n            }\n        }\n        if (ns.isStringSchema()) {\n            if (typeof value === \"undefined\" && ns.isIdempotencyToken()) {\n                return generateIdempotencyToken();\n            }\n            const mediaType = ns.getMergedTraits().mediaType;\n            if (value != null && mediaType) {\n                const isJson = mediaType === \"application/json\" || mediaType.endsWith(\"+json\");\n                if (isJson) {\n                    return LazyJsonString.from(value);\n                }\n            }\n        }\n        if (ns.isDocumentSchema()) {\n            if (isObject) {\n                const out = Array.isArray(value) ? [] : {};\n                for (const [k, v] of Object.entries(value)) {\n                    if (v instanceof NumericValue) {\n                        out[k] = v;\n                    }\n                    else {\n                        out[k] = this._write(ns, v);\n                    }\n                }\n                return out;\n            }\n            else {\n                return structuredClone(value);\n            }\n        }\n        return value;\n    }\n}\n", "import { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nimport { JsonShapeDeserializer } from \"./JsonShapeDeserializer\";\nimport { JsonShapeSerializer } from \"./JsonShapeSerializer\";\nexport class JsonCodec extends SerdeContextConfig {\n    settings;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    createSerializer() {\n        const serializer = new JsonShapeSerializer(this.settings);\n        serializer.setSerdeContext(this.serdeContext);\n        return serializer;\n    }\n    createDeserializer() {\n        const deserializer = new JsonShapeDeserializer(this.settings);\n        deserializer.setSerdeContext(this.serdeContext);\n        return deserializer;\n    }\n}\n", "import { RpcProtocol } from \"@smithy/core/protocols\";\nimport { deref, NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nimport { JsonCodec } from \"./JsonCodec\";\nimport { loadRestJsonErrorCode } from \"./parseJsonBody\";\nexport class AwsJsonRpcProtocol extends RpcProtocol {\n    serializer;\n    deserializer;\n    serviceTarget;\n    codec;\n    mixin = new ProtocolLib();\n    awsQueryCompatible;\n    constructor({ defaultNamespace, serviceTarget, awsQueryCompatible, }) {\n        super({\n            defaultNamespace,\n        });\n        this.serviceTarget = serviceTarget;\n        this.codec = new JsonCodec({\n            timestampFormat: {\n                useTrait: true,\n                default: 7,\n            },\n            jsonName: false,\n        });\n        this.serializer = this.codec.createSerializer();\n        this.deserializer = this.codec.createDeserializer();\n        this.awsQueryCompatible = !!awsQueryCompatible;\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        if (!request.path.endsWith(\"/\")) {\n            request.path += \"/\";\n        }\n        Object.assign(request.headers, {\n            \"content-type\": `application/x-amz-json-${this.getJsonRpcVersion()}`,\n            \"x-amz-target\": `${this.serviceTarget}.${operationSchema.name}`,\n        });\n        if (this.awsQueryCompatible) {\n            request.headers[\"x-amzn-query-mode\"] = \"true\";\n        }\n        if (deref(operationSchema.input) === \"unit\" || !request.body) {\n            request.body = \"{}\";\n        }\n        return request;\n    }\n    getPayloadCodec() {\n        return this.codec;\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        if (this.awsQueryCompatible) {\n            this.mixin.setQueryCompatError(dataObject, response);\n        }\n        const errorIdentifier = loadRestJsonErrorCode(response, dataObject) ?? \"Unknown\";\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\n        const ns = NormalizedSchema.of(errorSchema);\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\n        const exception = new ErrorCtor(message);\n        const output = {};\n        for (const [name, member] of ns.structIterator()) {\n            const target = member.getMergedTraits().jsonName ?? name;\n            output[name] = this.codec.createDeserializer().readObject(member, dataObject[target]);\n        }\n        if (this.awsQueryCompatible) {\n            this.mixin.queryCompatOutput(dataObject, output);\n        }\n        throw Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output);\n    }\n}\n", "import { AwsJsonRpcProtocol } from \"./AwsJsonRpcProtocol\";\nexport class AwsJson1_0Protocol extends AwsJsonRpcProtocol {\n    constructor({ defaultNamespace, serviceTarget, awsQueryCompatible, }) {\n        super({\n            defaultNamespace,\n            serviceTarget,\n            awsQueryCompatible,\n        });\n    }\n    getShapeId() {\n        return \"aws.protocols#awsJson1_0\";\n    }\n    getJsonRpcVersion() {\n        return \"1.0\";\n    }\n    getDefaultContentType() {\n        return \"application/x-amz-json-1.0\";\n    }\n}\n", "import { AwsJsonRpcProtocol } from \"./AwsJsonRpcProtocol\";\nexport class AwsJson1_1Protocol extends AwsJsonRpcProtocol {\n    constructor({ defaultNamespace, serviceTarget, awsQueryCompatible, }) {\n        super({\n            defaultNamespace,\n            serviceTarget,\n            awsQueryCompatible,\n        });\n    }\n    getShapeId() {\n        return \"aws.protocols#awsJson1_1\";\n    }\n    getJsonRpcVersion() {\n        return \"1.1\";\n    }\n    getDefaultContentType() {\n        return \"application/x-amz-json-1.1\";\n    }\n}\n", "import { HttpBindingProtocol, HttpInterceptingShapeDeserializer, HttpInterceptingShapeSerializer, } from \"@smithy/core/protocols\";\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nimport { JsonCodec } from \"./JsonCodec\";\nimport { loadRestJsonErrorCode } from \"./parseJsonBody\";\nexport class AwsRestJsonProtocol extends HttpBindingProtocol {\n    serializer;\n    deserializer;\n    codec;\n    mixin = new ProtocolLib();\n    constructor({ defaultNamespace }) {\n        super({\n            defaultNamespace,\n        });\n        const settings = {\n            timestampFormat: {\n                useTrait: true,\n                default: 7,\n            },\n            httpBindings: true,\n            jsonName: true,\n        };\n        this.codec = new JsonCodec(settings);\n        this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);\n        this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);\n    }\n    getShapeId() {\n        return \"aws.protocols#restJson1\";\n    }\n    getPayloadCodec() {\n        return this.codec;\n    }\n    setSerdeContext(serdeContext) {\n        this.codec.setSerdeContext(serdeContext);\n        super.setSerdeContext(serdeContext);\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        const inputSchema = NormalizedSchema.of(operationSchema.input);\n        if (!request.headers[\"content-type\"]) {\n            const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);\n            if (contentType) {\n                request.headers[\"content-type\"] = contentType;\n            }\n        }\n        if (request.headers[\"content-type\"] && !request.body) {\n            request.body = \"{}\";\n        }\n        return request;\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        const errorIdentifier = loadRestJsonErrorCode(response, dataObject) ?? \"Unknown\";\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\n        const ns = NormalizedSchema.of(errorSchema);\n        const message = dataObject.message ?? dataObject.Message ?? \"Unknown\";\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\n        const exception = new ErrorCtor(message);\n        await this.deserializeHttpMessage(errorSchema, context, response, dataObject);\n        const output = {};\n        for (const [name, member] of ns.structIterator()) {\n            const target = member.getMergedTraits().jsonName ?? name;\n            output[name] = this.codec.createDeserializer().readObject(member, dataObject[target]);\n        }\n        throw Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output);\n    }\n    getDefaultContentType() {\n        return \"application/json\";\n    }\n}\n", "import { expectUnion } from \"@smithy/smithy-client\";\nexport const awsExpectUnion = (value) => {\n    if (value == null) {\n        return undefined;\n    }\n    if (typeof value === \"object\" && \"__type\" in value) {\n        delete value.__type;\n    }\n    return expectUnion(value);\n};\n", "(()=>{\"use strict\";var t={d:(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})}},e={};t.r(e),t.d(e,{XMLBuilder:()=>ft,XMLParser:()=>st,XMLValidator:()=>mt});const n=\":A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\",i=new RegExp(\"^[\"+n+\"][\"+n+\"\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\");function s(t,e){const n=[];let i=e.exec(t);for(;i;){const s=[];s.startIndex=e.lastIndex-i[0].length;const r=i.length;for(let t=0;t<r;t++)s.push(i[t]);n.push(s),i=e.exec(t)}return n}const r=function(t){return!(null==i.exec(t))},o={allowBooleanAttributes:!1,unpairedTags:[]};function a(t,e){e=Object.assign({},o,e);const n=[];let i=!1,s=!1;\"\\ufeff\"===t[0]&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(\"<\"===t[o]&&\"?\"===t[o+1]){if(o+=2,o=u(t,o),o.err)return o}else{if(\"<\"!==t[o]){if(l(t[o]))continue;return x(\"InvalidChar\",\"char '\"+t[o]+\"' is not expected.\",N(t,o))}{let a=o;if(o++,\"!\"===t[o]){o=h(t,o);continue}{let d=!1;\"/\"===t[o]&&(d=!0,o++);let f=\"\";for(;o<t.length&&\">\"!==t[o]&&\" \"!==t[o]&&\"\\t\"!==t[o]&&\"\\n\"!==t[o]&&\"\\r\"!==t[o];o++)f+=t[o];if(f=f.trim(),\"/\"===f[f.length-1]&&(f=f.substring(0,f.length-1),o--),!r(f)){let e;return e=0===f.trim().length?\"Invalid space after '<'.\":\"Tag '\"+f+\"' is an invalid name.\",x(\"InvalidTag\",e,N(t,o))}const p=c(t,o);if(!1===p)return x(\"InvalidAttr\",\"Attributes for '\"+f+\"' have open quote.\",N(t,o));let b=p.value;if(o=p.index,\"/\"===b[b.length-1]){const n=o-b.length;b=b.substring(0,b.length-1);const s=g(b,e);if(!0!==s)return x(s.err.code,s.err.msg,N(t,n+s.err.line));i=!0}else if(d){if(!p.tagClosed)return x(\"InvalidTag\",\"Closing tag '\"+f+\"' doesn't have proper closing.\",N(t,o));if(b.trim().length>0)return x(\"InvalidTag\",\"Closing tag '\"+f+\"' can't have attributes or invalid starting.\",N(t,a));if(0===n.length)return x(\"InvalidTag\",\"Closing tag '\"+f+\"' has not been opened.\",N(t,a));{const e=n.pop();if(f!==e.tagName){let n=N(t,e.tagStartPos);return x(\"InvalidTag\",\"Expected closing tag '\"+e.tagName+\"' (opened in line \"+n.line+\", col \"+n.col+\") instead of closing tag '\"+f+\"'.\",N(t,a))}0==n.length&&(s=!0)}}else{const r=g(b,e);if(!0!==r)return x(r.err.code,r.err.msg,N(t,o-b.length+r.err.line));if(!0===s)return x(\"InvalidXml\",\"Multiple possible root nodes found.\",N(t,o));-1!==e.unpairedTags.indexOf(f)||n.push({tagName:f,tagStartPos:a}),i=!0}for(o++;o<t.length;o++)if(\"<\"===t[o]){if(\"!\"===t[o+1]){o++,o=h(t,o);continue}if(\"?\"!==t[o+1])break;if(o=u(t,++o),o.err)return o}else if(\"&\"===t[o]){const e=m(t,o);if(-1==e)return x(\"InvalidChar\",\"char '&' is not expected.\",N(t,o));o=e}else if(!0===s&&!l(t[o]))return x(\"InvalidXml\",\"Extra text at the end\",N(t,o));\"<\"===t[o]&&o--}}}return i?1==n.length?x(\"InvalidTag\",\"Unclosed tag '\"+n[0].tagName+\"'.\",N(t,n[0].tagStartPos)):!(n.length>0)||x(\"InvalidXml\",\"Invalid '\"+JSON.stringify(n.map((t=>t.tagName)),null,4).replace(/\\r?\\n/g,\"\")+\"' found.\",{line:1,col:1}):x(\"InvalidXml\",\"Start tag expected.\",1)}function l(t){return\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t}function u(t,e){const n=e;for(;e<t.length;e++)if(\"?\"!=t[e]&&\" \"!=t[e]);else{const i=t.substr(n,e-n);if(e>5&&\"xml\"===i)return x(\"InvalidXml\",\"XML declaration allowed only at the start of the document.\",N(t,e));if(\"?\"==t[e]&&\">\"==t[e+1]){e++;break}}return e}function h(t,e){if(t.length>e+5&&\"-\"===t[e+1]&&\"-\"===t[e+2]){for(e+=3;e<t.length;e++)if(\"-\"===t[e]&&\"-\"===t[e+1]&&\">\"===t[e+2]){e+=2;break}}else if(t.length>e+8&&\"D\"===t[e+1]&&\"O\"===t[e+2]&&\"C\"===t[e+3]&&\"T\"===t[e+4]&&\"Y\"===t[e+5]&&\"P\"===t[e+6]&&\"E\"===t[e+7]){let n=1;for(e+=8;e<t.length;e++)if(\"<\"===t[e])n++;else if(\">\"===t[e]&&(n--,0===n))break}else if(t.length>e+9&&\"[\"===t[e+1]&&\"C\"===t[e+2]&&\"D\"===t[e+3]&&\"A\"===t[e+4]&&\"T\"===t[e+5]&&\"A\"===t[e+6]&&\"[\"===t[e+7])for(e+=8;e<t.length;e++)if(\"]\"===t[e]&&\"]\"===t[e+1]&&\">\"===t[e+2]){e+=2;break}return e}const d='\"',f=\"'\";function c(t,e){let n=\"\",i=\"\",s=!1;for(;e<t.length;e++){if(t[e]===d||t[e]===f)\"\"===i?i=t[e]:i!==t[e]||(i=\"\");else if(\">\"===t[e]&&\"\"===i){s=!0;break}n+=t[e]}return\"\"===i&&{value:n,index:e,tagClosed:s}}const p=new RegExp(\"(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*(['\\\"])(([\\\\s\\\\S])*?)\\\\5)?\",\"g\");function g(t,e){const n=s(t,p),i={};for(let t=0;t<n.length;t++){if(0===n[t][1].length)return x(\"InvalidAttr\",\"Attribute '\"+n[t][2]+\"' has no space in starting.\",E(n[t]));if(void 0!==n[t][3]&&void 0===n[t][4])return x(\"InvalidAttr\",\"Attribute '\"+n[t][2]+\"' is without value.\",E(n[t]));if(void 0===n[t][3]&&!e.allowBooleanAttributes)return x(\"InvalidAttr\",\"boolean attribute '\"+n[t][2]+\"' is not allowed.\",E(n[t]));const s=n[t][2];if(!b(s))return x(\"InvalidAttr\",\"Attribute '\"+s+\"' is an invalid name.\",E(n[t]));if(i.hasOwnProperty(s))return x(\"InvalidAttr\",\"Attribute '\"+s+\"' is repeated.\",E(n[t]));i[s]=1}return!0}function m(t,e){if(\";\"===t[++e])return-1;if(\"#\"===t[e])return function(t,e){let n=/\\d/;for(\"x\"===t[e]&&(e++,n=/[\\da-fA-F]/);e<t.length;e++){if(\";\"===t[e])return e;if(!t[e].match(n))break}return-1}(t,++e);let n=0;for(;e<t.length;e++,n++)if(!(t[e].match(/\\w/)&&n<20)){if(\";\"===t[e])break;return-1}return e}function x(t,e,n){return{err:{code:t,msg:e,line:n.line||n,col:n.col}}}function b(t){return r(t)}function N(t,e){const n=t.substring(0,e).split(/\\r?\\n/);return{line:n.length,col:n[n.length-1].length+1}}function E(t){return t.startIndex+t[1].length}const v={preserveOrder:!1,attributeNamePrefix:\"@_\",attributesGroupName:!1,textNodeName:\"#text\",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,n){return t},captureMetaData:!1};let y;y=\"function\"!=typeof Symbol?\"@@xmlMetadata\":Symbol(\"XML Node Metadata\");class T{constructor(t){this.tagname=t,this.child=[],this[\":@\"]={}}add(t,e){\"__proto__\"===t&&(t=\"#__proto__\"),this.child.push({[t]:e})}addChild(t,e){\"__proto__\"===t.tagname&&(t.tagname=\"#__proto__\"),t[\":@\"]&&Object.keys(t[\":@\"]).length>0?this.child.push({[t.tagname]:t.child,\":@\":t[\":@\"]}):this.child.push({[t.tagname]:t.child}),void 0!==e&&(this.child[this.child.length-1][y]={startIndex:e})}static getMetaDataSymbol(){return y}}function w(t,e){const n={};if(\"O\"!==t[e+3]||\"C\"!==t[e+4]||\"T\"!==t[e+5]||\"Y\"!==t[e+6]||\"P\"!==t[e+7]||\"E\"!==t[e+8])throw new Error(\"Invalid Tag instead of DOCTYPE\");{e+=9;let i=1,s=!1,r=!1,o=\"\";for(;e<t.length;e++)if(\"<\"!==t[e]||r)if(\">\"===t[e]){if(r?\"-\"===t[e-1]&&\"-\"===t[e-2]&&(r=!1,i--):i--,0===i)break}else\"[\"===t[e]?s=!0:o+=t[e];else{if(s&&C(t,\"!ENTITY\",e)){let i,s;e+=7,[i,s,e]=O(t,e+1),-1===s.indexOf(\"&\")&&(n[i]={regx:RegExp(`&${i};`,\"g\"),val:s})}else if(s&&C(t,\"!ELEMENT\",e)){e+=8;const{index:n}=S(t,e+1);e=n}else if(s&&C(t,\"!ATTLIST\",e))e+=8;else if(s&&C(t,\"!NOTATION\",e)){e+=9;const{index:n}=A(t,e+1);e=n}else{if(!C(t,\"!--\",e))throw new Error(\"Invalid DOCTYPE\");r=!0}i++,o=\"\"}if(0!==i)throw new Error(\"Unclosed DOCTYPE\")}return{entities:n,i:e}}const P=(t,e)=>{for(;e<t.length&&/\\s/.test(t[e]);)e++;return e};function O(t,e){e=P(t,e);let n=\"\";for(;e<t.length&&!/\\s/.test(t[e])&&'\"'!==t[e]&&\"'\"!==t[e];)n+=t[e],e++;if($(n),e=P(t,e),\"SYSTEM\"===t.substring(e,e+6).toUpperCase())throw new Error(\"External entities are not supported\");if(\"%\"===t[e])throw new Error(\"Parameter entities are not supported\");let i=\"\";return[e,i]=I(t,e,\"entity\"),[n,i,--e]}function A(t,e){e=P(t,e);let n=\"\";for(;e<t.length&&!/\\s/.test(t[e]);)n+=t[e],e++;$(n),e=P(t,e);const i=t.substring(e,e+6).toUpperCase();if(\"SYSTEM\"!==i&&\"PUBLIC\"!==i)throw new Error(`Expected SYSTEM or PUBLIC, found \"${i}\"`);e+=i.length,e=P(t,e);let s=null,r=null;if(\"PUBLIC\"===i)[e,s]=I(t,e,\"publicIdentifier\"),'\"'!==t[e=P(t,e)]&&\"'\"!==t[e]||([e,r]=I(t,e,\"systemIdentifier\"));else if(\"SYSTEM\"===i&&([e,r]=I(t,e,\"systemIdentifier\"),!r))throw new Error(\"Missing mandatory system identifier for SYSTEM notation\");return{notationName:n,publicIdentifier:s,systemIdentifier:r,index:--e}}function I(t,e,n){let i=\"\";const s=t[e];if('\"'!==s&&\"'\"!==s)throw new Error(`Expected quoted string, found \"${s}\"`);for(e++;e<t.length&&t[e]!==s;)i+=t[e],e++;if(t[e]!==s)throw new Error(`Unterminated ${n} value`);return[++e,i]}function S(t,e){e=P(t,e);let n=\"\";for(;e<t.length&&!/\\s/.test(t[e]);)n+=t[e],e++;if(!$(n))throw new Error(`Invalid element name: \"${n}\"`);let i=\"\";if(\"E\"===t[e=P(t,e)]&&C(t,\"MPTY\",e))e+=4;else if(\"A\"===t[e]&&C(t,\"NY\",e))e+=2;else{if(\"(\"!==t[e])throw new Error(`Invalid Element Expression, found \"${t[e]}\"`);for(e++;e<t.length&&\")\"!==t[e];)i+=t[e],e++;if(\")\"!==t[e])throw new Error(\"Unterminated content model\")}return{elementName:n,contentModel:i.trim(),index:e}}function C(t,e,n){for(let i=0;i<e.length;i++)if(e[i]!==t[n+i+1])return!1;return!0}function $(t){if(r(t))return t;throw new Error(`Invalid entity name ${t}`)}const j=/^[-+]?0x[a-fA-F0-9]+$/,D=/^([\\-\\+])?(0*)([0-9]*(\\.[0-9]*)?)$/,V={hex:!0,leadingZeros:!0,decimalPoint:\".\",eNotation:!0};const M=/^([-+])?(0*)(\\d*(\\.\\d*)?[eE][-\\+]?\\d+)$/;function _(t){return\"function\"==typeof t?t:Array.isArray(t)?e=>{for(const n of t){if(\"string\"==typeof n&&e===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}}:()=>!1}class k{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:\"'\"},gt:{regex:/&(gt|#62|#x3E);/g,val:\">\"},lt:{regex:/&(lt|#60|#x3C);/g,val:\"<\"},quot:{regex:/&(quot|#34|#x22);/g,val:'\"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:\"&\"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:\" \"},cent:{regex:/&(cent|#162);/g,val:\"\u00A2\"},pound:{regex:/&(pound|#163);/g,val:\"\u00A3\"},yen:{regex:/&(yen|#165);/g,val:\"\u00A5\"},euro:{regex:/&(euro|#8364);/g,val:\"\u20AC\"},copyright:{regex:/&(copy|#169);/g,val:\"\u00A9\"},reg:{regex:/&(reg|#174);/g,val:\"\u00AE\"},inr:{regex:/&(inr|#8377);/g,val:\"\u20B9\"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(t,e)=>String.fromCodePoint(Number.parseInt(e,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(t,e)=>String.fromCodePoint(Number.parseInt(e,16))}},this.addExternalEntities=F,this.parseXml=X,this.parseTextData=L,this.resolveNameSpace=B,this.buildAttributesMap=G,this.isItStopNode=Z,this.replaceEntitiesValue=R,this.readStopNodeData=J,this.saveTextToParentTag=q,this.addChild=Y,this.ignoreAttributesFn=_(this.options.ignoreAttributes)}}function F(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const i=e[n];this.lastEntities[i]={regex:new RegExp(\"&\"+i+\";\",\"g\"),val:t[i]}}}function L(t,e,n,i,s,r,o){if(void 0!==t&&(this.options.trimValues&&!i&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const i=this.options.tagValueProcessor(e,t,n,s,r);return null==i?t:typeof i!=typeof t||i!==t?i:this.options.trimValues||t.trim()===t?H(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function B(t){if(this.options.removeNSPrefix){const e=t.split(\":\"),n=\"/\"===t.charAt(0)?\"/\":\"\";if(\"xmlns\"===e[0])return\"\";2===e.length&&(t=n+e[1])}return t}const U=new RegExp(\"([^\\\\s=]+)\\\\s*(=\\\\s*(['\\\"])([\\\\s\\\\S]*?)\\\\3)?\",\"gm\");function G(t,e,n){if(!0!==this.options.ignoreAttributes&&\"string\"==typeof t){const n=s(t,U),i=n.length,r={};for(let t=0;t<i;t++){const i=this.resolveNameSpace(n[t][1]);if(this.ignoreAttributesFn(i,e))continue;let s=n[t][4],o=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(o=this.options.transformAttributeName(o)),\"__proto__\"===o&&(o=\"#__proto__\"),void 0!==s){this.options.trimValues&&(s=s.trim()),s=this.replaceEntitiesValue(s);const t=this.options.attributeValueProcessor(i,s,e);r[o]=null==t?s:typeof t!=typeof s||t!==s?t:H(s,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(r[o]=!0)}if(!Object.keys(r).length)return;if(this.options.attributesGroupName){const t={};return t[this.options.attributesGroupName]=r,t}return r}}const X=function(t){t=t.replace(/\\r\\n?/g,\"\\n\");const e=new T(\"!xml\");let n=e,i=\"\",s=\"\";for(let r=0;r<t.length;r++)if(\"<\"===t[r])if(\"/\"===t[r+1]){const e=W(t,\">\",r,\"Closing Tag is not closed.\");let o=t.substring(r+2,e).trim();if(this.options.removeNSPrefix){const t=o.indexOf(\":\");-1!==t&&(o=o.substr(t+1))}this.options.transformTagName&&(o=this.options.transformTagName(o)),n&&(i=this.saveTextToParentTag(i,n,s));const a=s.substring(s.lastIndexOf(\".\")+1);if(o&&-1!==this.options.unpairedTags.indexOf(o))throw new Error(`Unpaired tag can not be used as closing tag: </${o}>`);let l=0;a&&-1!==this.options.unpairedTags.indexOf(a)?(l=s.lastIndexOf(\".\",s.lastIndexOf(\".\")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf(\".\"),s=s.substring(0,l),n=this.tagsNodeStack.pop(),i=\"\",r=e}else if(\"?\"===t[r+1]){let e=z(t,r,!1,\"?>\");if(!e)throw new Error(\"Pi Tag is not closed.\");if(i=this.saveTextToParentTag(i,n,s),this.options.ignoreDeclaration&&\"?xml\"===e.tagName||this.options.ignorePiTags);else{const t=new T(e.tagName);t.add(this.options.textNodeName,\"\"),e.tagName!==e.tagExp&&e.attrExpPresent&&(t[\":@\"]=this.buildAttributesMap(e.tagExp,s,e.tagName)),this.addChild(n,t,s,r)}r=e.closeIndex+1}else if(\"!--\"===t.substr(r+1,3)){const e=W(t,\"--\\x3e\",r+4,\"Comment is not closed.\");if(this.options.commentPropName){const o=t.substring(r+4,e-2);i=this.saveTextToParentTag(i,n,s),n.add(this.options.commentPropName,[{[this.options.textNodeName]:o}])}r=e}else if(\"!D\"===t.substr(r+1,2)){const e=w(t,r);this.docTypeEntities=e.entities,r=e.i}else if(\"![\"===t.substr(r+1,2)){const e=W(t,\"]]>\",r,\"CDATA is not closed.\")-2,o=t.substring(r+9,e);i=this.saveTextToParentTag(i,n,s);let a=this.parseTextData(o,n.tagname,s,!0,!1,!0,!0);null==a&&(a=\"\"),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:o}]):n.add(this.options.textNodeName,a),r=e+2}else{let o=z(t,r,this.options.removeNSPrefix),a=o.tagName;const l=o.rawTagName;let u=o.tagExp,h=o.attrExpPresent,d=o.closeIndex;this.options.transformTagName&&(a=this.options.transformTagName(a)),n&&i&&\"!xml\"!==n.tagname&&(i=this.saveTextToParentTag(i,n,s,!1));const f=n;f&&-1!==this.options.unpairedTags.indexOf(f.tagname)&&(n=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf(\".\"))),a!==e.tagname&&(s+=s?\".\"+a:a);const c=r;if(this.isItStopNode(this.options.stopNodes,s,a)){let e=\"\";if(u.length>0&&u.lastIndexOf(\"/\")===u.length-1)\"/\"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),u=a):u=u.substr(0,u.length-1),r=o.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(a))r=o.closeIndex;else{const n=this.readStopNodeData(t,l,d+1);if(!n)throw new Error(`Unexpected end of ${l}`);r=n.i,e=n.tagContent}const i=new T(a);a!==u&&h&&(i[\":@\"]=this.buildAttributesMap(u,s,a)),e&&(e=this.parseTextData(e,a,s,!0,h,!0,!0)),s=s.substr(0,s.lastIndexOf(\".\")),i.add(this.options.textNodeName,e),this.addChild(n,i,s,c)}else{if(u.length>0&&u.lastIndexOf(\"/\")===u.length-1){\"/\"===a[a.length-1]?(a=a.substr(0,a.length-1),s=s.substr(0,s.length-1),u=a):u=u.substr(0,u.length-1),this.options.transformTagName&&(a=this.options.transformTagName(a));const t=new T(a);a!==u&&h&&(t[\":@\"]=this.buildAttributesMap(u,s,a)),this.addChild(n,t,s,c),s=s.substr(0,s.lastIndexOf(\".\"))}else{const t=new T(a);this.tagsNodeStack.push(n),a!==u&&h&&(t[\":@\"]=this.buildAttributesMap(u,s,a)),this.addChild(n,t,s,c),n=t}i=\"\",r=d}}else i+=t[r];return e.child};function Y(t,e,n,i){this.options.captureMetaData||(i=void 0);const s=this.options.updateTag(e.tagname,n,e[\":@\"]);!1===s||(\"string\"==typeof s?(e.tagname=s,t.addChild(e,i)):t.addChild(e,i))}const R=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const n=this.docTypeEntities[e];t=t.replace(n.regx,n.val)}for(let e in this.lastEntities){const n=this.lastEntities[e];t=t.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const n=this.htmlEntities[e];t=t.replace(n.regex,n.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function q(t,e,n,i){return t&&(void 0===i&&(i=0===e.child.length),void 0!==(t=this.parseTextData(t,e.tagname,n,!1,!!e[\":@\"]&&0!==Object.keys(e[\":@\"]).length,i))&&\"\"!==t&&e.add(this.options.textNodeName,t),t=\"\"),t}function Z(t,e,n){const i=\"*.\"+n;for(const n in t){const s=t[n];if(i===s||e===s)return!0}return!1}function W(t,e,n,i){const s=t.indexOf(e,n);if(-1===s)throw new Error(i);return s+e.length-1}function z(t,e,n,i=\">\"){const s=function(t,e,n=\">\"){let i,s=\"\";for(let r=e;r<t.length;r++){let e=t[r];if(i)e===i&&(i=\"\");else if('\"'===e||\"'\"===e)i=e;else if(e===n[0]){if(!n[1])return{data:s,index:r};if(t[r+1]===n[1])return{data:s,index:r}}else\"\\t\"===e&&(e=\" \");s+=e}}(t,e+1,i);if(!s)return;let r=s.data;const o=s.index,a=r.search(/\\s/);let l=r,u=!0;-1!==a&&(l=r.substring(0,a),r=r.substring(a+1).trimStart());const h=l;if(n){const t=l.indexOf(\":\");-1!==t&&(l=l.substr(t+1),u=l!==s.data.substr(t+1))}return{tagName:l,tagExp:r,closeIndex:o,attrExpPresent:u,rawTagName:h}}function J(t,e,n){const i=n;let s=1;for(;n<t.length;n++)if(\"<\"===t[n])if(\"/\"===t[n+1]){const r=W(t,\">\",n,`${e} is not closed`);if(t.substring(n+2,r).trim()===e&&(s--,0===s))return{tagContent:t.substring(i,n),i:r};n=r}else if(\"?\"===t[n+1])n=W(t,\"?>\",n+1,\"StopNode is not closed.\");else if(\"!--\"===t.substr(n+1,3))n=W(t,\"--\\x3e\",n+3,\"StopNode is not closed.\");else if(\"![\"===t.substr(n+1,2))n=W(t,\"]]>\",n,\"StopNode is not closed.\")-2;else{const i=z(t,n,\">\");i&&((i&&i.tagName)===e&&\"/\"!==i.tagExp[i.tagExp.length-1]&&s++,n=i.closeIndex)}}function H(t,e,n){if(e&&\"string\"==typeof t){const e=t.trim();return\"true\"===e||\"false\"!==e&&function(t,e={}){if(e=Object.assign({},V,e),!t||\"string\"!=typeof t)return t;let n=t.trim();if(void 0!==e.skipLike&&e.skipLike.test(n))return t;if(\"0\"===t)return 0;if(e.hex&&j.test(n))return function(t){if(parseInt)return parseInt(t,16);if(Number.parseInt)return Number.parseInt(t,16);if(window&&window.parseInt)return window.parseInt(t,16);throw new Error(\"parseInt, Number.parseInt, window.parseInt are not supported\")}(n);if(-1!==n.search(/.+[eE].+/))return function(t,e,n){if(!n.eNotation)return t;const i=e.match(M);if(i){let s=i[1]||\"\";const r=-1===i[3].indexOf(\"e\")?\"E\":\"e\",o=i[2],a=s?t[o.length+1]===r:t[o.length]===r;return o.length>1&&a?t:1!==o.length||!i[3].startsWith(`.${r}`)&&i[3][0]!==r?n.leadingZeros&&!a?(e=(i[1]||\"\")+i[3],Number(e)):t:Number(e)}return t}(t,n,e);{const s=D.exec(n);if(s){const r=s[1]||\"\",o=s[2];let a=(i=s[3])&&-1!==i.indexOf(\".\")?(\".\"===(i=i.replace(/0+$/,\"\"))?i=\"0\":\".\"===i[0]?i=\"0\"+i:\".\"===i[i.length-1]&&(i=i.substring(0,i.length-1)),i):i;const l=r?\".\"===t[o.length+1]:\".\"===t[o.length];if(!e.leadingZeros&&(o.length>1||1===o.length&&!l))return t;{const i=Number(n),s=String(i);if(0===i||-0===i)return i;if(-1!==s.search(/[eE]/))return e.eNotation?i:t;if(-1!==n.indexOf(\".\"))return\"0\"===s||s===a||s===`${r}${a}`?i:t;let l=o?a:n;return o?l===s||r+l===s?i:t:l===s||l===r+s?i:t}}return t}var i}(t,n)}return void 0!==t?t:\"\"}const K=T.getMetaDataSymbol();function Q(t,e){return tt(t,e)}function tt(t,e,n){let i;const s={};for(let r=0;r<t.length;r++){const o=t[r],a=et(o);let l=\"\";if(l=void 0===n?a:n+\".\"+a,a===e.textNodeName)void 0===i?i=o[a]:i+=\"\"+o[a];else{if(void 0===a)continue;if(o[a]){let t=tt(o[a],e,l);const n=it(t,e);void 0!==o[K]&&(t[K]=o[K]),o[\":@\"]?nt(t,o[\":@\"],l,e):1!==Object.keys(t).length||void 0===t[e.textNodeName]||e.alwaysCreateTextNode?0===Object.keys(t).length&&(e.alwaysCreateTextNode?t[e.textNodeName]=\"\":t=\"\"):t=t[e.textNodeName],void 0!==s[a]&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(t)):e.isArray(a,l,n)?s[a]=[t]:s[a]=t}}}return\"string\"==typeof i?i.length>0&&(s[e.textNodeName]=i):void 0!==i&&(s[e.textNodeName]=i),s}function et(t){const e=Object.keys(t);for(let t=0;t<e.length;t++){const n=e[t];if(\":@\"!==n)return n}}function nt(t,e,n,i){if(e){const s=Object.keys(e),r=s.length;for(let o=0;o<r;o++){const r=s[o];i.isArray(r,n+\".\"+r,!0,!0)?t[r]=[e[r]]:t[r]=e[r]}}}function it(t,e){const{textNodeName:n}=e,i=Object.keys(t).length;return 0===i||!(1!==i||!t[n]&&\"boolean\"!=typeof t[n]&&0!==t[n])}class st{constructor(t){this.externalEntities={},this.options=function(t){return Object.assign({},v,t)}(t)}parse(t,e){if(\"string\"==typeof t);else{if(!t.toString)throw new Error(\"XML data is accepted in String or Bytes[] form.\");t=t.toString()}if(e){!0===e&&(e={});const n=a(t,e);if(!0!==n)throw Error(`${n.err.msg}:${n.err.line}:${n.err.col}`)}const n=new k(this.options);n.addExternalEntities(this.externalEntities);const i=n.parseXml(t);return this.options.preserveOrder||void 0===i?i:Q(i,this.options)}addEntity(t,e){if(-1!==e.indexOf(\"&\"))throw new Error(\"Entity value can't have '&'\");if(-1!==t.indexOf(\"&\")||-1!==t.indexOf(\";\"))throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\");if(\"&\"===e)throw new Error(\"An entity with value '&' is not permitted\");this.externalEntities[t]=e}static getMetaDataSymbol(){return T.getMetaDataSymbol()}}function rt(t,e){let n=\"\";return e.format&&e.indentBy.length>0&&(n=\"\\n\"),ot(t,e,\"\",n)}function ot(t,e,n,i){let s=\"\",r=!1;for(let o=0;o<t.length;o++){const a=t[o],l=at(a);if(void 0===l)continue;let u=\"\";if(u=0===n.length?l:`${n}.${l}`,l===e.textNodeName){let t=a[l];ut(u,e)||(t=e.tagValueProcessor(l,t),t=ht(t,e)),r&&(s+=i),s+=t,r=!1;continue}if(l===e.cdataPropName){r&&(s+=i),s+=`<![CDATA[${a[l][0][e.textNodeName]}]]>`,r=!1;continue}if(l===e.commentPropName){s+=i+`\\x3c!--${a[l][0][e.textNodeName]}--\\x3e`,r=!0;continue}if(\"?\"===l[0]){const t=lt(a[\":@\"],e),n=\"?xml\"===l?\"\":i;let o=a[l][0][e.textNodeName];o=0!==o.length?\" \"+o:\"\",s+=n+`<${l}${o}${t}?>`,r=!0;continue}let h=i;\"\"!==h&&(h+=e.indentBy);const d=i+`<${l}${lt(a[\":@\"],e)}`,f=ot(a[l],e,u,h);-1!==e.unpairedTags.indexOf(l)?e.suppressUnpairedNode?s+=d+\">\":s+=d+\"/>\":f&&0!==f.length||!e.suppressEmptyNode?f&&f.endsWith(\">\")?s+=d+`>${f}${i}</${l}>`:(s+=d+\">\",f&&\"\"!==i&&(f.includes(\"/>\")||f.includes(\"</\"))?s+=i+e.indentBy+f+i:s+=f,s+=`</${l}>`):s+=d+\"/>\",r=!0}return s}function at(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const i=e[n];if(t.hasOwnProperty(i)&&\":@\"!==i)return i}}function lt(t,e){let n=\"\";if(t&&!e.ignoreAttributes)for(let i in t){if(!t.hasOwnProperty(i))continue;let s=e.attributeValueProcessor(i,t[i]);s=ht(s,e),!0===s&&e.suppressBooleanAttributes?n+=` ${i.substr(e.attributeNamePrefix.length)}`:n+=` ${i.substr(e.attributeNamePrefix.length)}=\"${s}\"`}return n}function ut(t,e){let n=(t=t.substr(0,t.length-e.textNodeName.length-1)).substr(t.lastIndexOf(\".\")+1);for(let i in e.stopNodes)if(e.stopNodes[i]===t||e.stopNodes[i]===\"*.\"+n)return!0;return!1}function ht(t,e){if(t&&t.length>0&&e.processEntities)for(let n=0;n<e.entities.length;n++){const i=e.entities[n];t=t.replace(i.regex,i.val)}return t}const dt={attributeNamePrefix:\"@_\",attributesGroupName:!1,textNodeName:\"#text\",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:\"  \",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp(\"&\",\"g\"),val:\"&amp;\"},{regex:new RegExp(\">\",\"g\"),val:\"&gt;\"},{regex:new RegExp(\"<\",\"g\"),val:\"&lt;\"},{regex:new RegExp(\"'\",\"g\"),val:\"&apos;\"},{regex:new RegExp('\"',\"g\"),val:\"&quot;\"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ft(t){this.options=Object.assign({},dt,t),!0===this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=_(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=gt),this.processTextOrObjNode=ct,this.options.format?(this.indentate=pt,this.tagEndChar=\">\\n\",this.newLine=\"\\n\"):(this.indentate=function(){return\"\"},this.tagEndChar=\">\",this.newLine=\"\")}function ct(t,e,n,i){const s=this.j2x(t,n+1,i.concat(e));return void 0!==t[this.options.textNodeName]&&1===Object.keys(t).length?this.buildTextValNode(t[this.options.textNodeName],e,s.attrStr,n):this.buildObjectNode(s.val,e,s.attrStr,n)}function pt(t){return this.options.indentBy.repeat(t)}function gt(t){return!(!t.startsWith(this.options.attributeNamePrefix)||t===this.options.textNodeName)&&t.substr(this.attrPrefixLen)}ft.prototype.build=function(t){return this.options.preserveOrder?rt(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0,[]).val)},ft.prototype.j2x=function(t,e,n){let i=\"\",s=\"\";const r=n.join(\".\");for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o))if(void 0===t[o])this.isAttribute(o)&&(s+=\"\");else if(null===t[o])this.isAttribute(o)||o===this.options.cdataPropName?s+=\"\":\"?\"===o[0]?s+=this.indentate(e)+\"<\"+o+\"?\"+this.tagEndChar:s+=this.indentate(e)+\"<\"+o+\"/\"+this.tagEndChar;else if(t[o]instanceof Date)s+=this.buildTextValNode(t[o],o,\"\",e);else if(\"object\"!=typeof t[o]){const n=this.isAttribute(o);if(n&&!this.ignoreAttributesFn(n,r))i+=this.buildAttrPairStr(n,\"\"+t[o]);else if(!n)if(o===this.options.textNodeName){let e=this.options.tagValueProcessor(o,\"\"+t[o]);s+=this.replaceEntitiesValue(e)}else s+=this.buildTextValNode(t[o],o,\"\",e)}else if(Array.isArray(t[o])){const i=t[o].length;let r=\"\",a=\"\";for(let l=0;l<i;l++){const i=t[o][l];if(void 0===i);else if(null===i)\"?\"===o[0]?s+=this.indentate(e)+\"<\"+o+\"?\"+this.tagEndChar:s+=this.indentate(e)+\"<\"+o+\"/\"+this.tagEndChar;else if(\"object\"==typeof i)if(this.options.oneListGroup){const t=this.j2x(i,e+1,n.concat(o));r+=t.val,this.options.attributesGroupName&&i.hasOwnProperty(this.options.attributesGroupName)&&(a+=t.attrStr)}else r+=this.processTextOrObjNode(i,o,e,n);else if(this.options.oneListGroup){let t=this.options.tagValueProcessor(o,i);t=this.replaceEntitiesValue(t),r+=t}else r+=this.buildTextValNode(i,o,\"\",e)}this.options.oneListGroup&&(r=this.buildObjectNode(r,o,a,e)),s+=r}else if(this.options.attributesGroupName&&o===this.options.attributesGroupName){const e=Object.keys(t[o]),n=e.length;for(let s=0;s<n;s++)i+=this.buildAttrPairStr(e[s],\"\"+t[o][e[s]])}else s+=this.processTextOrObjNode(t[o],o,e,n);return{attrStr:i,val:s}},ft.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,\"\"+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&\"true\"===e?\" \"+t:\" \"+t+'=\"'+e+'\"'},ft.prototype.buildObjectNode=function(t,e,n,i){if(\"\"===t)return\"?\"===e[0]?this.indentate(i)+\"<\"+e+n+\"?\"+this.tagEndChar:this.indentate(i)+\"<\"+e+n+this.closeTag(e)+this.tagEndChar;{let s=\"</\"+e+this.tagEndChar,r=\"\";return\"?\"===e[0]&&(r=\"?\",s=\"\"),!n&&\"\"!==n||-1!==t.indexOf(\"<\")?!1!==this.options.commentPropName&&e===this.options.commentPropName&&0===r.length?this.indentate(i)+`\\x3c!--${t}--\\x3e`+this.newLine:this.indentate(i)+\"<\"+e+n+r+this.tagEndChar+t+this.indentate(i)+s:this.indentate(i)+\"<\"+e+n+r+\">\"+t+s}},ft.prototype.closeTag=function(t){let e=\"\";return-1!==this.options.unpairedTags.indexOf(t)?this.options.suppressUnpairedNode||(e=\"/\"):e=this.options.suppressEmptyNode?\"/\":`></${t}`,e},ft.prototype.buildTextValNode=function(t,e,n,i){if(!1!==this.options.cdataPropName&&e===this.options.cdataPropName)return this.indentate(i)+`<![CDATA[${t}]]>`+this.newLine;if(!1!==this.options.commentPropName&&e===this.options.commentPropName)return this.indentate(i)+`\\x3c!--${t}--\\x3e`+this.newLine;if(\"?\"===e[0])return this.indentate(i)+\"<\"+e+n+\"?\"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),\"\"===s?this.indentate(i)+\"<\"+e+n+this.closeTag(e)+this.tagEndChar:this.indentate(i)+\"<\"+e+n+\">\"+s+\"</\"+e+this.tagEndChar}},ft.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const n=this.options.entities[e];t=t.replace(n.regex,n.val)}return t};const mt={validate:a};module.exports=e})();", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseXML = parseXML;\nconst fast_xml_parser_1 = require(\"fast-xml-parser\");\nconst parser = new fast_xml_parser_1.XMLParser({\n    attributeNamePrefix: \"\",\n    htmlEntities: true,\n    ignoreAttributes: false,\n    ignoreDeclaration: true,\n    parseTagValue: false,\n    trimValues: false,\n    tagValueProcessor: (_, val) => (val.trim() === \"\" && val.includes(\"\\n\") ? \"\" : undefined),\n});\nparser.addEntity(\"#xD\", \"\\r\");\nparser.addEntity(\"#10\", \"\\n\");\nfunction parseXML(xmlString) {\n    return parser.parse(xmlString, true);\n}\n", "'use strict';\n\nvar xmlParser = require('./xml-parser');\n\nfunction escapeAttribute(value) {\n    return value.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\");\n}\n\nfunction escapeElement(value) {\n    return value\n        .replace(/&/g, \"&amp;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&apos;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\\r/g, \"&#x0D;\")\n        .replace(/\\n/g, \"&#x0A;\")\n        .replace(/\\u0085/g, \"&#x85;\")\n        .replace(/\\u2028/, \"&#x2028;\");\n}\n\nclass XmlText {\n    value;\n    constructor(value) {\n        this.value = value;\n    }\n    toString() {\n        return escapeElement(\"\" + this.value);\n    }\n}\n\nclass XmlNode {\n    name;\n    children;\n    attributes = {};\n    static of(name, childText, withName) {\n        const node = new XmlNode(name);\n        if (childText !== undefined) {\n            node.addChildNode(new XmlText(childText));\n        }\n        if (withName !== undefined) {\n            node.withName(withName);\n        }\n        return node;\n    }\n    constructor(name, children = []) {\n        this.name = name;\n        this.children = children;\n    }\n    withName(name) {\n        this.name = name;\n        return this;\n    }\n    addAttribute(name, value) {\n        this.attributes[name] = value;\n        return this;\n    }\n    addChildNode(child) {\n        this.children.push(child);\n        return this;\n    }\n    removeAttribute(name) {\n        delete this.attributes[name];\n        return this;\n    }\n    n(name) {\n        this.name = name;\n        return this;\n    }\n    c(child) {\n        this.children.push(child);\n        return this;\n    }\n    a(name, value) {\n        if (value != null) {\n            this.attributes[name] = value;\n        }\n        return this;\n    }\n    cc(input, field, withName = field) {\n        if (input[field] != null) {\n            const node = XmlNode.of(field, input[field]).withName(withName);\n            this.c(node);\n        }\n    }\n    l(input, listName, memberName, valueProvider) {\n        if (input[listName] != null) {\n            const nodes = valueProvider();\n            nodes.map((node) => {\n                node.withName(memberName);\n                this.c(node);\n            });\n        }\n    }\n    lc(input, listName, memberName, valueProvider) {\n        if (input[listName] != null) {\n            const nodes = valueProvider();\n            const containerNode = new XmlNode(memberName);\n            nodes.map((node) => {\n                containerNode.c(node);\n            });\n            this.c(containerNode);\n        }\n    }\n    toString() {\n        const hasChildren = Boolean(this.children.length);\n        let xmlText = `<${this.name}`;\n        const attributes = this.attributes;\n        for (const attributeName of Object.keys(attributes)) {\n            const attribute = attributes[attributeName];\n            if (attribute != null) {\n                xmlText += ` ${attributeName}=\"${escapeAttribute(\"\" + attribute)}\"`;\n            }\n        }\n        return (xmlText += !hasChildren ? \"/>\" : `>${this.children.map((c) => c.toString()).join(\"\")}</${this.name}>`);\n    }\n}\n\nObject.defineProperty(exports, \"parseXML\", {\n    enumerable: true,\n    get: function () { return xmlParser.parseXML; }\n});\nexports.XmlNode = XmlNode;\nexports.XmlText = XmlText;\n", "import { parseXML } from \"@aws-sdk/xml-builder\";\nimport { FromStringShapeDeserializer } from \"@smithy/core/protocols\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { getValueFromTextNode } from \"@smithy/smithy-client\";\nimport { toUtf8 } from \"@smithy/util-utf8\";\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nexport class XmlShapeDeserializer extends SerdeContextConfig {\n    settings;\n    stringDeserializer;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n        this.stringDeserializer = new FromStringShapeDeserializer(settings);\n    }\n    setSerdeContext(serdeContext) {\n        this.serdeContext = serdeContext;\n        this.stringDeserializer.setSerdeContext(serdeContext);\n    }\n    read(schema, bytes, key) {\n        const ns = NormalizedSchema.of(schema);\n        const memberSchemas = ns.getMemberSchemas();\n        const isEventPayload = ns.isStructSchema() &&\n            ns.isMemberSchema() &&\n            !!Object.values(memberSchemas).find((memberNs) => {\n                return !!memberNs.getMemberTraits().eventPayload;\n            });\n        if (isEventPayload) {\n            const output = {};\n            const memberName = Object.keys(memberSchemas)[0];\n            const eventMemberSchema = memberSchemas[memberName];\n            if (eventMemberSchema.isBlobSchema()) {\n                output[memberName] = bytes;\n            }\n            else {\n                output[memberName] = this.read(memberSchemas[memberName], bytes);\n            }\n            return output;\n        }\n        const xmlString = (this.serdeContext?.utf8Encoder ?? toUtf8)(bytes);\n        const parsedObject = this.parseXml(xmlString);\n        return this.readSchema(schema, key ? parsedObject[key] : parsedObject);\n    }\n    readSchema(_schema, value) {\n        const ns = NormalizedSchema.of(_schema);\n        if (ns.isUnitSchema()) {\n            return;\n        }\n        const traits = ns.getMergedTraits();\n        if (ns.isListSchema() && !Array.isArray(value)) {\n            return this.readSchema(ns, [value]);\n        }\n        if (value == null) {\n            return value;\n        }\n        if (typeof value === \"object\") {\n            const sparse = !!traits.sparse;\n            const flat = !!traits.xmlFlattened;\n            if (ns.isListSchema()) {\n                const listValue = ns.getValueSchema();\n                const buffer = [];\n                const sourceKey = listValue.getMergedTraits().xmlName ?? \"member\";\n                const source = flat ? value : (value[0] ?? value)[sourceKey];\n                const sourceArray = Array.isArray(source) ? source : [source];\n                for (const v of sourceArray) {\n                    if (v != null || sparse) {\n                        buffer.push(this.readSchema(listValue, v));\n                    }\n                }\n                return buffer;\n            }\n            const buffer = {};\n            if (ns.isMapSchema()) {\n                const keyNs = ns.getKeySchema();\n                const memberNs = ns.getValueSchema();\n                let entries;\n                if (flat) {\n                    entries = Array.isArray(value) ? value : [value];\n                }\n                else {\n                    entries = Array.isArray(value.entry) ? value.entry : [value.entry];\n                }\n                const keyProperty = keyNs.getMergedTraits().xmlName ?? \"key\";\n                const valueProperty = memberNs.getMergedTraits().xmlName ?? \"value\";\n                for (const entry of entries) {\n                    const key = entry[keyProperty];\n                    const value = entry[valueProperty];\n                    if (value != null || sparse) {\n                        buffer[key] = this.readSchema(memberNs, value);\n                    }\n                }\n                return buffer;\n            }\n            if (ns.isStructSchema()) {\n                for (const [memberName, memberSchema] of ns.structIterator()) {\n                    const memberTraits = memberSchema.getMergedTraits();\n                    const xmlObjectKey = !memberTraits.httpPayload\n                        ? memberSchema.getMemberTraits().xmlName ?? memberName\n                        : memberTraits.xmlName ?? memberSchema.getName();\n                    if (value[xmlObjectKey] != null) {\n                        buffer[memberName] = this.readSchema(memberSchema, value[xmlObjectKey]);\n                    }\n                }\n                return buffer;\n            }\n            if (ns.isDocumentSchema()) {\n                return value;\n            }\n            throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${ns.getName(true)}`);\n        }\n        if (ns.isListSchema()) {\n            return [];\n        }\n        if (ns.isMapSchema() || ns.isStructSchema()) {\n            return {};\n        }\n        return this.stringDeserializer.read(ns, value);\n    }\n    parseXml(xml) {\n        if (xml.length) {\n            let parsedObj;\n            try {\n                parsedObj = parseXML(xml);\n            }\n            catch (e) {\n                if (e && typeof e === \"object\") {\n                    Object.defineProperty(e, \"$responseBodyText\", {\n                        value: xml,\n                    });\n                }\n                throw e;\n            }\n            const textNodeName = \"#text\";\n            const key = Object.keys(parsedObj)[0];\n            const parsedObjToReturn = parsedObj[key];\n            if (parsedObjToReturn[textNodeName]) {\n                parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\n                delete parsedObjToReturn[textNodeName];\n            }\n            return getValueFromTextNode(parsedObjToReturn);\n        }\n        return {};\n    }\n}\n", "import { determineTimestampFormat, extendedEncodeURIComponent } from \"@smithy/core/protocols\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { generateIdempotencyToken, NumericValue } from \"@smithy/core/serde\";\nimport { dateToUtcString } from \"@smithy/smithy-client\";\nimport { toBase64 } from \"@smithy/util-base64\";\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nexport class QueryShapeSerializer extends SerdeContextConfig {\n    settings;\n    buffer;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    write(schema, value, prefix = \"\") {\n        if (this.buffer === undefined) {\n            this.buffer = \"\";\n        }\n        const ns = NormalizedSchema.of(schema);\n        if (prefix && !prefix.endsWith(\".\")) {\n            prefix += \".\";\n        }\n        if (ns.isBlobSchema()) {\n            if (typeof value === \"string\" || value instanceof Uint8Array) {\n                this.writeKey(prefix);\n                this.writeValue((this.serdeContext?.base64Encoder ?? toBase64)(value));\n            }\n        }\n        else if (ns.isBooleanSchema() || ns.isNumericSchema() || ns.isStringSchema()) {\n            if (value != null) {\n                this.writeKey(prefix);\n                this.writeValue(String(value));\n            }\n            else if (ns.isIdempotencyToken()) {\n                this.writeKey(prefix);\n                this.writeValue(generateIdempotencyToken());\n            }\n        }\n        else if (ns.isBigIntegerSchema()) {\n            if (value != null) {\n                this.writeKey(prefix);\n                this.writeValue(String(value));\n            }\n        }\n        else if (ns.isBigDecimalSchema()) {\n            if (value != null) {\n                this.writeKey(prefix);\n                this.writeValue(value instanceof NumericValue ? value.string : String(value));\n            }\n        }\n        else if (ns.isTimestampSchema()) {\n            if (value instanceof Date) {\n                this.writeKey(prefix);\n                const format = determineTimestampFormat(ns, this.settings);\n                switch (format) {\n                    case 5:\n                        this.writeValue(value.toISOString().replace(\".000Z\", \"Z\"));\n                        break;\n                    case 6:\n                        this.writeValue(dateToUtcString(value));\n                        break;\n                    case 7:\n                        this.writeValue(String(value.getTime() / 1000));\n                        break;\n                }\n            }\n        }\n        else if (ns.isDocumentSchema()) {\n            throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${ns.getName(true)}`);\n        }\n        else if (ns.isListSchema()) {\n            if (Array.isArray(value)) {\n                if (value.length === 0) {\n                    if (this.settings.serializeEmptyLists) {\n                        this.writeKey(prefix);\n                        this.writeValue(\"\");\n                    }\n                }\n                else {\n                    const member = ns.getValueSchema();\n                    const flat = this.settings.flattenLists || ns.getMergedTraits().xmlFlattened;\n                    let i = 1;\n                    for (const item of value) {\n                        if (item == null) {\n                            continue;\n                        }\n                        const suffix = this.getKey(\"member\", member.getMergedTraits().xmlName);\n                        const key = flat ? `${prefix}${i}` : `${prefix}${suffix}.${i}`;\n                        this.write(member, item, key);\n                        ++i;\n                    }\n                }\n            }\n        }\n        else if (ns.isMapSchema()) {\n            if (value && typeof value === \"object\") {\n                const keySchema = ns.getKeySchema();\n                const memberSchema = ns.getValueSchema();\n                const flat = ns.getMergedTraits().xmlFlattened;\n                let i = 1;\n                for (const [k, v] of Object.entries(value)) {\n                    if (v == null) {\n                        continue;\n                    }\n                    const keySuffix = this.getKey(\"key\", keySchema.getMergedTraits().xmlName);\n                    const key = flat ? `${prefix}${i}.${keySuffix}` : `${prefix}entry.${i}.${keySuffix}`;\n                    const valueSuffix = this.getKey(\"value\", memberSchema.getMergedTraits().xmlName);\n                    const valueKey = flat ? `${prefix}${i}.${valueSuffix}` : `${prefix}entry.${i}.${valueSuffix}`;\n                    this.write(keySchema, k, key);\n                    this.write(memberSchema, v, valueKey);\n                    ++i;\n                }\n            }\n        }\n        else if (ns.isStructSchema()) {\n            if (value && typeof value === \"object\") {\n                for (const [memberName, member] of ns.structIterator()) {\n                    if (value[memberName] == null && !member.isIdempotencyToken()) {\n                        continue;\n                    }\n                    const suffix = this.getKey(memberName, member.getMergedTraits().xmlName);\n                    const key = `${prefix}${suffix}`;\n                    this.write(member, value[memberName], key);\n                }\n            }\n        }\n        else if (ns.isUnitSchema()) {\n        }\n        else {\n            throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${ns.getName(true)}`);\n        }\n    }\n    flush() {\n        if (this.buffer === undefined) {\n            throw new Error(\"@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.\");\n        }\n        const str = this.buffer;\n        delete this.buffer;\n        return str;\n    }\n    getKey(memberName, xmlName) {\n        const key = xmlName ?? memberName;\n        if (this.settings.capitalizeKeys) {\n            return key[0].toUpperCase() + key.slice(1);\n        }\n        return key;\n    }\n    writeKey(key) {\n        if (key.endsWith(\".\")) {\n            key = key.slice(0, key.length - 1);\n        }\n        this.buffer += `&${extendedEncodeURIComponent(key)}=`;\n    }\n    writeValue(value) {\n        this.buffer += extendedEncodeURIComponent(value);\n    }\n}\n", "import { collectBody, RpcProtocol } from \"@smithy/core/protocols\";\nimport { deref, NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nimport { XmlShapeDeserializer } from \"../xml/XmlShapeDeserializer\";\nimport { QueryShapeSerializer } from \"./QueryShapeSerializer\";\nexport class AwsQueryProtocol extends RpcProtocol {\n    options;\n    serializer;\n    deserializer;\n    mixin = new ProtocolLib();\n    constructor(options) {\n        super({\n            defaultNamespace: options.defaultNamespace,\n        });\n        this.options = options;\n        const settings = {\n            timestampFormat: {\n                useTrait: true,\n                default: 5,\n            },\n            httpBindings: false,\n            xmlNamespace: options.xmlNamespace,\n            serviceNamespace: options.defaultNamespace,\n            serializeEmptyLists: true,\n        };\n        this.serializer = new QueryShapeSerializer(settings);\n        this.deserializer = new XmlShapeDeserializer(settings);\n    }\n    getShapeId() {\n        return \"aws.protocols#awsQuery\";\n    }\n    setSerdeContext(serdeContext) {\n        this.serializer.setSerdeContext(serdeContext);\n        this.deserializer.setSerdeContext(serdeContext);\n    }\n    getPayloadCodec() {\n        throw new Error(\"AWSQuery protocol has no payload codec.\");\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        if (!request.path.endsWith(\"/\")) {\n            request.path += \"/\";\n        }\n        Object.assign(request.headers, {\n            \"content-type\": `application/x-www-form-urlencoded`,\n        });\n        if (deref(operationSchema.input) === \"unit\" || !request.body) {\n            request.body = \"\";\n        }\n        const action = operationSchema.name.split(\"#\")[1] ?? operationSchema.name;\n        request.body = `Action=${action}&Version=${this.options.version}` + request.body;\n        if (request.body.endsWith(\"&\")) {\n            request.body = request.body.slice(-1);\n        }\n        return request;\n    }\n    async deserializeResponse(operationSchema, context, response) {\n        const deserializer = this.deserializer;\n        const ns = NormalizedSchema.of(operationSchema.output);\n        const dataObject = {};\n        if (response.statusCode >= 300) {\n            const bytes = await collectBody(response.body, context);\n            if (bytes.byteLength > 0) {\n                Object.assign(dataObject, await deserializer.read(15, bytes));\n            }\n            await this.handleError(operationSchema, context, response, dataObject, this.deserializeMetadata(response));\n        }\n        for (const header in response.headers) {\n            const value = response.headers[header];\n            delete response.headers[header];\n            response.headers[header.toLowerCase()] = value;\n        }\n        const shortName = operationSchema.name.split(\"#\")[1] ?? operationSchema.name;\n        const awsQueryResultKey = ns.isStructSchema() && this.useNestedResult() ? shortName + \"Result\" : undefined;\n        const bytes = await collectBody(response.body, context);\n        if (bytes.byteLength > 0) {\n            Object.assign(dataObject, await deserializer.read(ns, bytes, awsQueryResultKey));\n        }\n        const output = {\n            $metadata: this.deserializeMetadata(response),\n            ...dataObject,\n        };\n        return output;\n    }\n    useNestedResult() {\n        return true;\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        const errorIdentifier = this.loadQueryErrorCode(response, dataObject) ?? \"Unknown\";\n        const errorData = this.loadQueryError(dataObject);\n        const message = this.loadQueryErrorMessage(dataObject);\n        errorData.message = message;\n        errorData.Error = {\n            Type: errorData.Type,\n            Code: errorData.Code,\n            Message: message,\n        };\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, errorData, metadata, (registry, errorName) => {\n            try {\n                return registry.getSchema(errorName);\n            }\n            catch (e) {\n                return registry.find((schema) => NormalizedSchema.of(schema).getMergedTraits().awsQueryError?.[0] === errorName);\n            }\n        });\n        const ns = NormalizedSchema.of(errorSchema);\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\n        const exception = new ErrorCtor(message);\n        const output = {\n            Error: errorData.Error,\n        };\n        for (const [name, member] of ns.structIterator()) {\n            const target = member.getMergedTraits().xmlName ?? name;\n            const value = errorData[target] ?? dataObject[target];\n            output[name] = this.deserializer.readSchema(member, value);\n        }\n        throw Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output);\n    }\n    loadQueryErrorCode(output, data) {\n        const code = (data.Errors?.[0]?.Error ?? data.Errors?.Error ?? data.Error)?.Code;\n        if (code !== undefined) {\n            return code;\n        }\n        if (output.statusCode == 404) {\n            return \"NotFound\";\n        }\n    }\n    loadQueryError(data) {\n        return data.Errors?.[0]?.Error ?? data.Errors?.Error ?? data.Error;\n    }\n    loadQueryErrorMessage(data) {\n        const errorData = this.loadQueryError(data);\n        return errorData?.message ?? errorData?.Message ?? data.message ?? data.Message ?? \"Unknown\";\n    }\n    getDefaultContentType() {\n        return \"application/x-www-form-urlencoded\";\n    }\n}\n", "import { AwsQueryProtocol } from \"./AwsQueryProtocol\";\nexport class AwsEc2QueryProtocol extends AwsQueryProtocol {\n    options;\n    constructor(options) {\n        super(options);\n        this.options = options;\n        const ec2Settings = {\n            capitalizeKeys: true,\n            flattenLists: true,\n            serializeEmptyLists: false,\n        };\n        Object.assign(this.serializer.settings, ec2Settings);\n    }\n    useNestedResult() {\n        return false;\n    }\n}\n", "import { parseXML } from \"@aws-sdk/xml-builder\";\nimport { getValueFromTextNode } from \"@smithy/smithy-client\";\nimport { collectBodyString } from \"../common\";\nexport const parseXmlBody = (streamBody, context) => collectBodyString(streamBody, context).then((encoded) => {\n    if (encoded.length) {\n        let parsedObj;\n        try {\n            parsedObj = parseXML(encoded);\n        }\n        catch (e) {\n            if (e && typeof e === \"object\") {\n                Object.defineProperty(e, \"$responseBodyText\", {\n                    value: encoded,\n                });\n            }\n            throw e;\n        }\n        const textNodeName = \"#text\";\n        const key = Object.keys(parsedObj)[0];\n        const parsedObjToReturn = parsedObj[key];\n        if (parsedObjToReturn[textNodeName]) {\n            parsedObjToReturn[key] = parsedObjToReturn[textNodeName];\n            delete parsedObjToReturn[textNodeName];\n        }\n        return getValueFromTextNode(parsedObjToReturn);\n    }\n    return {};\n});\nexport const parseXmlErrorBody = async (errorBody, context) => {\n    const value = await parseXmlBody(errorBody, context);\n    if (value.Error) {\n        value.Error.message = value.Error.message ?? value.Error.Message;\n    }\n    return value;\n};\nexport const loadRestXmlErrorCode = (output, data) => {\n    if (data?.Error?.Code !== undefined) {\n        return data.Error.Code;\n    }\n    if (data?.Code !== undefined) {\n        return data.Code;\n    }\n    if (output.statusCode == 404) {\n        return \"NotFound\";\n    }\n};\n", "import { XmlNode, XmlText } from \"@aws-sdk/xml-builder\";\nimport { determineTimestampFormat } from \"@smithy/core/protocols\";\nimport { NormalizedSchema } from \"@smithy/core/schema\";\nimport { generateIdempotencyToken, NumericValue } from \"@smithy/core/serde\";\nimport { dateToUtcString } from \"@smithy/smithy-client\";\nimport { fromBase64, toBase64 } from \"@smithy/util-base64\";\nimport { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nexport class XmlShapeSerializer extends SerdeContextConfig {\n    settings;\n    stringBuffer;\n    byteBuffer;\n    buffer;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    write(schema, value) {\n        const ns = NormalizedSchema.of(schema);\n        if (ns.isStringSchema() && typeof value === \"string\") {\n            this.stringBuffer = value;\n        }\n        else if (ns.isBlobSchema()) {\n            this.byteBuffer =\n                \"byteLength\" in value\n                    ? value\n                    : (this.serdeContext?.base64Decoder ?? fromBase64)(value);\n        }\n        else {\n            this.buffer = this.writeStruct(ns, value, undefined);\n            const traits = ns.getMergedTraits();\n            if (traits.httpPayload && !traits.xmlName) {\n                this.buffer.withName(ns.getName());\n            }\n        }\n    }\n    flush() {\n        if (this.byteBuffer !== undefined) {\n            const bytes = this.byteBuffer;\n            delete this.byteBuffer;\n            return bytes;\n        }\n        if (this.stringBuffer !== undefined) {\n            const str = this.stringBuffer;\n            delete this.stringBuffer;\n            return str;\n        }\n        const buffer = this.buffer;\n        if (this.settings.xmlNamespace) {\n            if (!buffer?.attributes?.[\"xmlns\"]) {\n                buffer.addAttribute(\"xmlns\", this.settings.xmlNamespace);\n            }\n        }\n        delete this.buffer;\n        return buffer.toString();\n    }\n    writeStruct(ns, value, parentXmlns) {\n        const traits = ns.getMergedTraits();\n        const name = ns.isMemberSchema() && !traits.httpPayload\n            ? ns.getMemberTraits().xmlName ?? ns.getMemberName()\n            : traits.xmlName ?? ns.getName();\n        if (!name || !ns.isStructSchema()) {\n            throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${ns.getName(true)}.`);\n        }\n        const structXmlNode = XmlNode.of(name);\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(ns, parentXmlns);\n        for (const [memberName, memberSchema] of ns.structIterator()) {\n            const val = value[memberName];\n            if (val != null || memberSchema.isIdempotencyToken()) {\n                if (memberSchema.getMergedTraits().xmlAttribute) {\n                    structXmlNode.addAttribute(memberSchema.getMergedTraits().xmlName ?? memberName, this.writeSimple(memberSchema, val));\n                    continue;\n                }\n                if (memberSchema.isListSchema()) {\n                    this.writeList(memberSchema, val, structXmlNode, xmlns);\n                }\n                else if (memberSchema.isMapSchema()) {\n                    this.writeMap(memberSchema, val, structXmlNode, xmlns);\n                }\n                else if (memberSchema.isStructSchema()) {\n                    structXmlNode.addChildNode(this.writeStruct(memberSchema, val, xmlns));\n                }\n                else {\n                    const memberNode = XmlNode.of(memberSchema.getMergedTraits().xmlName ?? memberSchema.getMemberName());\n                    this.writeSimpleInto(memberSchema, val, memberNode, xmlns);\n                    structXmlNode.addChildNode(memberNode);\n                }\n            }\n        }\n        if (xmlns) {\n            structXmlNode.addAttribute(xmlnsAttr, xmlns);\n        }\n        return structXmlNode;\n    }\n    writeList(listMember, array, container, parentXmlns) {\n        if (!listMember.isMemberSchema()) {\n            throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${listMember.getName(true)}`);\n        }\n        const listTraits = listMember.getMergedTraits();\n        const listValueSchema = listMember.getValueSchema();\n        const listValueTraits = listValueSchema.getMergedTraits();\n        const sparse = !!listValueTraits.sparse;\n        const flat = !!listTraits.xmlFlattened;\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(listMember, parentXmlns);\n        const writeItem = (container, value) => {\n            if (listValueSchema.isListSchema()) {\n                this.writeList(listValueSchema, Array.isArray(value) ? value : [value], container, xmlns);\n            }\n            else if (listValueSchema.isMapSchema()) {\n                this.writeMap(listValueSchema, value, container, xmlns);\n            }\n            else if (listValueSchema.isStructSchema()) {\n                const struct = this.writeStruct(listValueSchema, value, xmlns);\n                container.addChildNode(struct.withName(flat ? listTraits.xmlName ?? listMember.getMemberName() : listValueTraits.xmlName ?? \"member\"));\n            }\n            else {\n                const listItemNode = XmlNode.of(flat ? listTraits.xmlName ?? listMember.getMemberName() : listValueTraits.xmlName ?? \"member\");\n                this.writeSimpleInto(listValueSchema, value, listItemNode, xmlns);\n                container.addChildNode(listItemNode);\n            }\n        };\n        if (flat) {\n            for (const value of array) {\n                if (sparse || value != null) {\n                    writeItem(container, value);\n                }\n            }\n        }\n        else {\n            const listNode = XmlNode.of(listTraits.xmlName ?? listMember.getMemberName());\n            if (xmlns) {\n                listNode.addAttribute(xmlnsAttr, xmlns);\n            }\n            for (const value of array) {\n                if (sparse || value != null) {\n                    writeItem(listNode, value);\n                }\n            }\n            container.addChildNode(listNode);\n        }\n    }\n    writeMap(mapMember, map, container, parentXmlns, containerIsMap = false) {\n        if (!mapMember.isMemberSchema()) {\n            throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${mapMember.getName(true)}`);\n        }\n        const mapTraits = mapMember.getMergedTraits();\n        const mapKeySchema = mapMember.getKeySchema();\n        const mapKeyTraits = mapKeySchema.getMergedTraits();\n        const keyTag = mapKeyTraits.xmlName ?? \"key\";\n        const mapValueSchema = mapMember.getValueSchema();\n        const mapValueTraits = mapValueSchema.getMergedTraits();\n        const valueTag = mapValueTraits.xmlName ?? \"value\";\n        const sparse = !!mapValueTraits.sparse;\n        const flat = !!mapTraits.xmlFlattened;\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(mapMember, parentXmlns);\n        const addKeyValue = (entry, key, val) => {\n            const keyNode = XmlNode.of(keyTag, key);\n            const [keyXmlnsAttr, keyXmlns] = this.getXmlnsAttribute(mapKeySchema, xmlns);\n            if (keyXmlns) {\n                keyNode.addAttribute(keyXmlnsAttr, keyXmlns);\n            }\n            entry.addChildNode(keyNode);\n            let valueNode = XmlNode.of(valueTag);\n            if (mapValueSchema.isListSchema()) {\n                this.writeList(mapValueSchema, val, valueNode, xmlns);\n            }\n            else if (mapValueSchema.isMapSchema()) {\n                this.writeMap(mapValueSchema, val, valueNode, xmlns, true);\n            }\n            else if (mapValueSchema.isStructSchema()) {\n                valueNode = this.writeStruct(mapValueSchema, val, xmlns);\n            }\n            else {\n                this.writeSimpleInto(mapValueSchema, val, valueNode, xmlns);\n            }\n            entry.addChildNode(valueNode);\n        };\n        if (flat) {\n            for (const [key, val] of Object.entries(map)) {\n                if (sparse || val != null) {\n                    const entry = XmlNode.of(mapTraits.xmlName ?? mapMember.getMemberName());\n                    addKeyValue(entry, key, val);\n                    container.addChildNode(entry);\n                }\n            }\n        }\n        else {\n            let mapNode;\n            if (!containerIsMap) {\n                mapNode = XmlNode.of(mapTraits.xmlName ?? mapMember.getMemberName());\n                if (xmlns) {\n                    mapNode.addAttribute(xmlnsAttr, xmlns);\n                }\n                container.addChildNode(mapNode);\n            }\n            for (const [key, val] of Object.entries(map)) {\n                if (sparse || val != null) {\n                    const entry = XmlNode.of(\"entry\");\n                    addKeyValue(entry, key, val);\n                    (containerIsMap ? container : mapNode).addChildNode(entry);\n                }\n            }\n        }\n    }\n    writeSimple(_schema, value) {\n        if (null === value) {\n            throw new Error(\"@aws-sdk/core/protocols - (XML serializer) cannot write null value.\");\n        }\n        const ns = NormalizedSchema.of(_schema);\n        let nodeContents = null;\n        if (value && typeof value === \"object\") {\n            if (ns.isBlobSchema()) {\n                nodeContents = (this.serdeContext?.base64Encoder ?? toBase64)(value);\n            }\n            else if (ns.isTimestampSchema() && value instanceof Date) {\n                const format = determineTimestampFormat(ns, this.settings);\n                switch (format) {\n                    case 5:\n                        nodeContents = value.toISOString().replace(\".000Z\", \"Z\");\n                        break;\n                    case 6:\n                        nodeContents = dateToUtcString(value);\n                        break;\n                    case 7:\n                        nodeContents = String(value.getTime() / 1000);\n                        break;\n                    default:\n                        console.warn(\"Missing timestamp format, using http date\", value);\n                        nodeContents = dateToUtcString(value);\n                        break;\n                }\n            }\n            else if (ns.isBigDecimalSchema() && value) {\n                if (value instanceof NumericValue) {\n                    return value.string;\n                }\n                return String(value);\n            }\n            else if (ns.isMapSchema() || ns.isListSchema()) {\n                throw new Error(\"@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead.\");\n            }\n            else {\n                throw new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${ns.getName(true)}`);\n            }\n        }\n        if (ns.isBooleanSchema() || ns.isNumericSchema() || ns.isBigIntegerSchema() || ns.isBigDecimalSchema()) {\n            nodeContents = String(value);\n        }\n        if (ns.isStringSchema()) {\n            if (value === undefined && ns.isIdempotencyToken()) {\n                nodeContents = generateIdempotencyToken();\n            }\n            else {\n                nodeContents = String(value);\n            }\n        }\n        if (nodeContents === null) {\n            throw new Error(`Unhandled schema-value pair ${ns.getName(true)}=${value}`);\n        }\n        return nodeContents;\n    }\n    writeSimpleInto(_schema, value, into, parentXmlns) {\n        const nodeContents = this.writeSimple(_schema, value);\n        const ns = NormalizedSchema.of(_schema);\n        const content = new XmlText(nodeContents);\n        const [xmlnsAttr, xmlns] = this.getXmlnsAttribute(ns, parentXmlns);\n        if (xmlns) {\n            into.addAttribute(xmlnsAttr, xmlns);\n        }\n        into.addChildNode(content);\n    }\n    getXmlnsAttribute(ns, parentXmlns) {\n        const traits = ns.getMergedTraits();\n        const [prefix, xmlns] = traits.xmlNamespace ?? [];\n        if (xmlns && xmlns !== parentXmlns) {\n            return [prefix ? `xmlns:${prefix}` : \"xmlns\", xmlns];\n        }\n        return [void 0, void 0];\n    }\n}\n", "import { SerdeContextConfig } from \"../ConfigurableSerdeContext\";\nimport { XmlShapeDeserializer } from \"./XmlShapeDeserializer\";\nimport { XmlShapeSerializer } from \"./XmlShapeSerializer\";\nexport class XmlCodec extends SerdeContextConfig {\n    settings;\n    constructor(settings) {\n        super();\n        this.settings = settings;\n    }\n    createSerializer() {\n        const serializer = new XmlShapeSerializer(this.settings);\n        serializer.setSerdeContext(this.serdeContext);\n        return serializer;\n    }\n    createDeserializer() {\n        const deserializer = new XmlShapeDeserializer(this.settings);\n        deserializer.setSerdeContext(this.serdeContext);\n        return deserializer;\n    }\n}\n", "import { HttpBindingProtocol, HttpInterceptingShapeDeserializer, HttpInterceptingShapeSerializer, } from \"@smithy/core/protocols\";\nimport { NormalizedSchema, TypeRegistry } from \"@smithy/core/schema\";\nimport { ProtocolLib } from \"../ProtocolLib\";\nimport { loadRestXmlErrorCode } from \"./parseXmlBody\";\nimport { XmlCodec } from \"./XmlCodec\";\nexport class AwsRestXmlProtocol extends HttpBindingProtocol {\n    codec;\n    serializer;\n    deserializer;\n    mixin = new ProtocolLib();\n    constructor(options) {\n        super(options);\n        const settings = {\n            timestampFormat: {\n                useTrait: true,\n                default: 5,\n            },\n            httpBindings: true,\n            xmlNamespace: options.xmlNamespace,\n            serviceNamespace: options.defaultNamespace,\n        };\n        this.codec = new XmlCodec(settings);\n        this.serializer = new HttpInterceptingShapeSerializer(this.codec.createSerializer(), settings);\n        this.deserializer = new HttpInterceptingShapeDeserializer(this.codec.createDeserializer(), settings);\n    }\n    getPayloadCodec() {\n        return this.codec;\n    }\n    getShapeId() {\n        return \"aws.protocols#restXml\";\n    }\n    async serializeRequest(operationSchema, input, context) {\n        const request = await super.serializeRequest(operationSchema, input, context);\n        const inputSchema = NormalizedSchema.of(operationSchema.input);\n        if (!request.headers[\"content-type\"]) {\n            const contentType = this.mixin.resolveRestContentType(this.getDefaultContentType(), inputSchema);\n            if (contentType) {\n                request.headers[\"content-type\"] = contentType;\n            }\n        }\n        if (request.headers[\"content-type\"] === this.getDefaultContentType()) {\n            if (typeof request.body === \"string\") {\n                request.body = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>' + request.body;\n            }\n        }\n        return request;\n    }\n    async deserializeResponse(operationSchema, context, response) {\n        return super.deserializeResponse(operationSchema, context, response);\n    }\n    async handleError(operationSchema, context, response, dataObject, metadata) {\n        const errorIdentifier = loadRestXmlErrorCode(response, dataObject) ?? \"Unknown\";\n        const { errorSchema, errorMetadata } = await this.mixin.getErrorSchemaOrThrowBaseException(errorIdentifier, this.options.defaultNamespace, response, dataObject, metadata);\n        const ns = NormalizedSchema.of(errorSchema);\n        const message = dataObject.Error?.message ?? dataObject.Error?.Message ?? dataObject.message ?? dataObject.Message ?? \"Unknown\";\n        const ErrorCtor = TypeRegistry.for(errorSchema[1]).getErrorCtor(errorSchema) ?? Error;\n        const exception = new ErrorCtor(message);\n        await this.deserializeHttpMessage(errorSchema, context, response, dataObject);\n        const output = {};\n        for (const [name, member] of ns.structIterator()) {\n            const target = member.getMergedTraits().xmlName ?? name;\n            const value = dataObject.Error?.[target] ?? dataObject[target];\n            output[name] = this.codec.createDeserializer().readSchema(member, value);\n        }\n        throw Object.assign(exception, errorMetadata, {\n            $fault: ns.getMergedTraits().error,\n            message,\n        }, output);\n    }\n    getDefaultContentType() {\n        return \"application/xml\";\n    }\n}\n", "export * from \"./cbor/AwsSmithyRpcV2CborProtocol\";\nexport * from \"./coercing-serializers\";\nexport * from \"./json/AwsJson1_0Protocol\";\nexport * from \"./json/AwsJson1_1Protocol\";\nexport * from \"./json/AwsJsonRpcProtocol\";\nexport * from \"./json/AwsRestJsonProtocol\";\nexport * from \"./json/JsonCodec\";\nexport * from \"./json/JsonShapeDeserializer\";\nexport * from \"./json/JsonShapeSerializer\";\nexport * from \"./json/awsExpectUnion\";\nexport * from \"./json/parseJsonBody\";\nexport * from \"./query/AwsEc2QueryProtocol\";\nexport * from \"./query/AwsQueryProtocol\";\nexport * from \"./xml/AwsRestXmlProtocol\";\nexport * from \"./xml/XmlCodec\";\nexport * from \"./xml/XmlShapeDeserializer\";\nexport * from \"./xml/XmlShapeSerializer\";\nexport * from \"./xml/parseXmlBody\";\n", "export * from \"./submodules/client/index\";\nexport * from \"./submodules/httpAuthSchemes/index\";\nexport * from \"./submodules/protocols/index\";\n", "'use strict';\n\nvar core = require('@smithy/core');\nvar utilEndpoints = require('@aws-sdk/util-endpoints');\nvar protocolHttp = require('@smithy/protocol-http');\nvar core$1 = require('@aws-sdk/core');\n\nconst DEFAULT_UA_APP_ID = undefined;\nfunction isValidUserAgentAppId(appId) {\n    if (appId === undefined) {\n        return true;\n    }\n    return typeof appId === \"string\" && appId.length <= 50;\n}\nfunction resolveUserAgentConfig(input) {\n    const normalizedAppIdProvider = core.normalizeProvider(input.userAgentAppId ?? DEFAULT_UA_APP_ID);\n    const { customUserAgent } = input;\n    return Object.assign(input, {\n        customUserAgent: typeof customUserAgent === \"string\" ? [[customUserAgent]] : customUserAgent,\n        userAgentAppId: async () => {\n            const appId = await normalizedAppIdProvider();\n            if (!isValidUserAgentAppId(appId)) {\n                const logger = input.logger?.constructor?.name === \"NoOpLogger\" || !input.logger ? console : input.logger;\n                if (typeof appId !== \"string\") {\n                    logger?.warn(\"userAgentAppId must be a string or undefined.\");\n                }\n                else if (appId.length > 50) {\n                    logger?.warn(\"The provided userAgentAppId exceeds the maximum length of 50 characters.\");\n                }\n            }\n            return appId;\n        },\n    });\n}\n\nconst ACCOUNT_ID_ENDPOINT_REGEX = /\\d{12}\\.ddb/;\nasync function checkFeatures(context, config, args) {\n    const request = args.request;\n    if (request?.headers?.[\"smithy-protocol\"] === \"rpc-v2-cbor\") {\n        core$1.setFeature(context, \"PROTOCOL_RPC_V2_CBOR\", \"M\");\n    }\n    if (typeof config.retryStrategy === \"function\") {\n        const retryStrategy = await config.retryStrategy();\n        if (typeof retryStrategy.acquireInitialRetryToken === \"function\") {\n            if (retryStrategy.constructor?.name?.includes(\"Adaptive\")) {\n                core$1.setFeature(context, \"RETRY_MODE_ADAPTIVE\", \"F\");\n            }\n            else {\n                core$1.setFeature(context, \"RETRY_MODE_STANDARD\", \"E\");\n            }\n        }\n        else {\n            core$1.setFeature(context, \"RETRY_MODE_LEGACY\", \"D\");\n        }\n    }\n    if (typeof config.accountIdEndpointMode === \"function\") {\n        const endpointV2 = context.endpointV2;\n        if (String(endpointV2?.url?.hostname).match(ACCOUNT_ID_ENDPOINT_REGEX)) {\n            core$1.setFeature(context, \"ACCOUNT_ID_ENDPOINT\", \"O\");\n        }\n        switch (await config.accountIdEndpointMode?.()) {\n            case \"disabled\":\n                core$1.setFeature(context, \"ACCOUNT_ID_MODE_DISABLED\", \"Q\");\n                break;\n            case \"preferred\":\n                core$1.setFeature(context, \"ACCOUNT_ID_MODE_PREFERRED\", \"P\");\n                break;\n            case \"required\":\n                core$1.setFeature(context, \"ACCOUNT_ID_MODE_REQUIRED\", \"R\");\n                break;\n        }\n    }\n    const identity = context.__smithy_context?.selectedHttpAuthScheme?.identity;\n    if (identity?.$source) {\n        const credentials = identity;\n        if (credentials.accountId) {\n            core$1.setFeature(context, \"RESOLVED_ACCOUNT_ID\", \"T\");\n        }\n        for (const [key, value] of Object.entries(credentials.$source ?? {})) {\n            core$1.setFeature(context, key, value);\n        }\n    }\n}\n\nconst USER_AGENT = \"user-agent\";\nconst X_AMZ_USER_AGENT = \"x-amz-user-agent\";\nconst SPACE = \" \";\nconst UA_NAME_SEPARATOR = \"/\";\nconst UA_NAME_ESCAPE_REGEX = /[^!$%&'*+\\-.^_`|~\\w]/g;\nconst UA_VALUE_ESCAPE_REGEX = /[^!$%&'*+\\-.^_`|~\\w#]/g;\nconst UA_ESCAPE_CHAR = \"-\";\n\nconst BYTE_LIMIT = 1024;\nfunction encodeFeatures(features) {\n    let buffer = \"\";\n    for (const key in features) {\n        const val = features[key];\n        if (buffer.length + val.length + 1 <= BYTE_LIMIT) {\n            if (buffer.length) {\n                buffer += \",\" + val;\n            }\n            else {\n                buffer += val;\n            }\n            continue;\n        }\n        break;\n    }\n    return buffer;\n}\n\nconst userAgentMiddleware = (options) => (next, context) => async (args) => {\n    const { request } = args;\n    if (!protocolHttp.HttpRequest.isInstance(request)) {\n        return next(args);\n    }\n    const { headers } = request;\n    const userAgent = context?.userAgent?.map(escapeUserAgent) || [];\n    const defaultUserAgent = (await options.defaultUserAgentProvider()).map(escapeUserAgent);\n    await checkFeatures(context, options, args);\n    const awsContext = context;\n    defaultUserAgent.push(`m/${encodeFeatures(Object.assign({}, context.__smithy_context?.features, awsContext.__aws_sdk_context?.features))}`);\n    const customUserAgent = options?.customUserAgent?.map(escapeUserAgent) || [];\n    const appId = await options.userAgentAppId();\n    if (appId) {\n        defaultUserAgent.push(escapeUserAgent([`app`, `${appId}`]));\n    }\n    const prefix = utilEndpoints.getUserAgentPrefix();\n    const sdkUserAgentValue = (prefix ? [prefix] : [])\n        .concat([...defaultUserAgent, ...userAgent, ...customUserAgent])\n        .join(SPACE);\n    const normalUAValue = [\n        ...defaultUserAgent.filter((section) => section.startsWith(\"aws-sdk-\")),\n        ...customUserAgent,\n    ].join(SPACE);\n    if (options.runtime !== \"browser\") {\n        if (normalUAValue) {\n            headers[X_AMZ_USER_AGENT] = headers[X_AMZ_USER_AGENT]\n                ? `${headers[USER_AGENT]} ${normalUAValue}`\n                : normalUAValue;\n        }\n        headers[USER_AGENT] = sdkUserAgentValue;\n    }\n    else {\n        headers[X_AMZ_USER_AGENT] = sdkUserAgentValue;\n    }\n    return next({\n        ...args,\n        request,\n    });\n};\nconst escapeUserAgent = (userAgentPair) => {\n    const name = userAgentPair[0]\n        .split(UA_NAME_SEPARATOR)\n        .map((part) => part.replace(UA_NAME_ESCAPE_REGEX, UA_ESCAPE_CHAR))\n        .join(UA_NAME_SEPARATOR);\n    const version = userAgentPair[1]?.replace(UA_VALUE_ESCAPE_REGEX, UA_ESCAPE_CHAR);\n    const prefixSeparatorIndex = name.indexOf(UA_NAME_SEPARATOR);\n    const prefix = name.substring(0, prefixSeparatorIndex);\n    let uaName = name.substring(prefixSeparatorIndex + 1);\n    if (prefix === \"api\") {\n        uaName = uaName.toLowerCase();\n    }\n    return [prefix, uaName, version]\n        .filter((item) => item && item.length > 0)\n        .reduce((acc, item, index) => {\n        switch (index) {\n            case 0:\n                return item;\n            case 1:\n                return `${acc}/${item}`;\n            default:\n                return `${acc}#${item}`;\n        }\n    }, \"\");\n};\nconst getUserAgentMiddlewareOptions = {\n    name: \"getUserAgentMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\n    override: true,\n};\nconst getUserAgentPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\n    },\n});\n\nexports.DEFAULT_UA_APP_ID = DEFAULT_UA_APP_ID;\nexports.getUserAgentMiddlewareOptions = getUserAgentMiddlewareOptions;\nexports.getUserAgentPlugin = getUserAgentPlugin;\nexports.resolveUserAgentConfig = resolveUserAgentConfig;\nexports.userAgentMiddleware = userAgentMiddleware;\n", "'use strict';\n\nconst booleanSelector = (obj, key, type) => {\n    if (!(key in obj))\n        return undefined;\n    if (obj[key] === \"true\")\n        return true;\n    if (obj[key] === \"false\")\n        return false;\n    throw new Error(`Cannot load ${type} \"${key}\". Expected \"true\" or \"false\", got ${obj[key]}.`);\n};\n\nconst numberSelector = (obj, key, type) => {\n    if (!(key in obj))\n        return undefined;\n    const numberValue = parseInt(obj[key], 10);\n    if (Number.isNaN(numberValue)) {\n        throw new TypeError(`Cannot load ${type} '${key}'. Expected number, got '${obj[key]}'.`);\n    }\n    return numberValue;\n};\n\nexports.SelectorType = void 0;\n(function (SelectorType) {\n    SelectorType[\"ENV\"] = \"env\";\n    SelectorType[\"CONFIG\"] = \"shared config entry\";\n})(exports.SelectorType || (exports.SelectorType = {}));\n\nexports.booleanSelector = booleanSelector;\nexports.numberSelector = numberSelector;\n", "'use strict';\n\nvar utilConfigProvider = require('@smithy/util-config-provider');\nvar utilMiddleware = require('@smithy/util-middleware');\nvar utilEndpoints = require('@smithy/util-endpoints');\n\nconst ENV_USE_DUALSTACK_ENDPOINT = \"AWS_USE_DUALSTACK_ENDPOINT\";\nconst CONFIG_USE_DUALSTACK_ENDPOINT = \"use_dualstack_endpoint\";\nconst DEFAULT_USE_DUALSTACK_ENDPOINT = false;\nconst NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => utilConfigProvider.booleanSelector(env, ENV_USE_DUALSTACK_ENDPOINT, utilConfigProvider.SelectorType.ENV),\n    configFileSelector: (profile) => utilConfigProvider.booleanSelector(profile, CONFIG_USE_DUALSTACK_ENDPOINT, utilConfigProvider.SelectorType.CONFIG),\n    default: false,\n};\n\nconst ENV_USE_FIPS_ENDPOINT = \"AWS_USE_FIPS_ENDPOINT\";\nconst CONFIG_USE_FIPS_ENDPOINT = \"use_fips_endpoint\";\nconst DEFAULT_USE_FIPS_ENDPOINT = false;\nconst NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => utilConfigProvider.booleanSelector(env, ENV_USE_FIPS_ENDPOINT, utilConfigProvider.SelectorType.ENV),\n    configFileSelector: (profile) => utilConfigProvider.booleanSelector(profile, CONFIG_USE_FIPS_ENDPOINT, utilConfigProvider.SelectorType.CONFIG),\n    default: false,\n};\n\nconst resolveCustomEndpointsConfig = (input) => {\n    const { tls, endpoint, urlParser, useDualstackEndpoint } = input;\n    return Object.assign(input, {\n        tls: tls ?? true,\n        endpoint: utilMiddleware.normalizeProvider(typeof endpoint === \"string\" ? urlParser(endpoint) : endpoint),\n        isCustomEndpoint: true,\n        useDualstackEndpoint: utilMiddleware.normalizeProvider(useDualstackEndpoint ?? false),\n    });\n};\n\nconst getEndpointFromRegion = async (input) => {\n    const { tls = true } = input;\n    const region = await input.region();\n    const dnsHostRegex = new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);\n    if (!dnsHostRegex.test(region)) {\n        throw new Error(\"Invalid region in client config\");\n    }\n    const useDualstackEndpoint = await input.useDualstackEndpoint();\n    const useFipsEndpoint = await input.useFipsEndpoint();\n    const { hostname } = (await input.regionInfoProvider(region, { useDualstackEndpoint, useFipsEndpoint })) ?? {};\n    if (!hostname) {\n        throw new Error(\"Cannot resolve hostname from client config\");\n    }\n    return input.urlParser(`${tls ? \"https:\" : \"http:\"}//${hostname}`);\n};\n\nconst resolveEndpointsConfig = (input) => {\n    const useDualstackEndpoint = utilMiddleware.normalizeProvider(input.useDualstackEndpoint ?? false);\n    const { endpoint, useFipsEndpoint, urlParser, tls } = input;\n    return Object.assign(input, {\n        tls: tls ?? true,\n        endpoint: endpoint\n            ? utilMiddleware.normalizeProvider(typeof endpoint === \"string\" ? urlParser(endpoint) : endpoint)\n            : () => getEndpointFromRegion({ ...input, useDualstackEndpoint, useFipsEndpoint }),\n        isCustomEndpoint: !!endpoint,\n        useDualstackEndpoint,\n    });\n};\n\nconst REGION_ENV_NAME = \"AWS_REGION\";\nconst REGION_INI_NAME = \"region\";\nconst NODE_REGION_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[REGION_ENV_NAME],\n    configFileSelector: (profile) => profile[REGION_INI_NAME],\n    default: () => {\n        throw new Error(\"Region is missing\");\n    },\n};\nconst NODE_REGION_CONFIG_FILE_OPTIONS = {\n    preferredFile: \"credentials\",\n};\n\nconst validRegions = new Set();\nconst checkRegion = (region, check = utilEndpoints.isValidHostLabel) => {\n    if (!validRegions.has(region) && !check(region)) {\n        if (region === \"*\") {\n            console.warn(`@smithy/config-resolver WARN - Please use the caller region instead of \"*\". See \"sigv4a\" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.`);\n        }\n        else {\n            throw new Error(`Region not accepted: region=\"${region}\" is not a valid hostname component.`);\n        }\n    }\n    else {\n        validRegions.add(region);\n    }\n};\n\nconst isFipsRegion = (region) => typeof region === \"string\" && (region.startsWith(\"fips-\") || region.endsWith(\"-fips\"));\n\nconst getRealRegion = (region) => isFipsRegion(region)\n    ? [\"fips-aws-global\", \"aws-fips\"].includes(region)\n        ? \"us-east-1\"\n        : region.replace(/fips-(dkr-|prod-)?|-fips/, \"\")\n    : region;\n\nconst resolveRegionConfig = (input) => {\n    const { region, useFipsEndpoint } = input;\n    if (!region) {\n        throw new Error(\"Region is missing\");\n    }\n    return Object.assign(input, {\n        region: async () => {\n            const providedRegion = typeof region === \"function\" ? await region() : region;\n            const realRegion = getRealRegion(providedRegion);\n            checkRegion(realRegion);\n            return realRegion;\n        },\n        useFipsEndpoint: async () => {\n            const providedRegion = typeof region === \"string\" ? region : await region();\n            if (isFipsRegion(providedRegion)) {\n                return true;\n            }\n            return typeof useFipsEndpoint !== \"function\" ? Promise.resolve(!!useFipsEndpoint) : useFipsEndpoint();\n        },\n    });\n};\n\nconst getHostnameFromVariants = (variants = [], { useFipsEndpoint, useDualstackEndpoint }) => variants.find(({ tags }) => useFipsEndpoint === tags.includes(\"fips\") && useDualstackEndpoint === tags.includes(\"dualstack\"))?.hostname;\n\nconst getResolvedHostname = (resolvedRegion, { regionHostname, partitionHostname }) => regionHostname\n    ? regionHostname\n    : partitionHostname\n        ? partitionHostname.replace(\"{region}\", resolvedRegion)\n        : undefined;\n\nconst getResolvedPartition = (region, { partitionHash }) => Object.keys(partitionHash || {}).find((key) => partitionHash[key].regions.includes(region)) ?? \"aws\";\n\nconst getResolvedSigningRegion = (hostname, { signingRegion, regionRegex, useFipsEndpoint }) => {\n    if (signingRegion) {\n        return signingRegion;\n    }\n    else if (useFipsEndpoint) {\n        const regionRegexJs = regionRegex.replace(\"\\\\\\\\\", \"\\\\\").replace(/^\\^/g, \"\\\\.\").replace(/\\$$/g, \"\\\\.\");\n        const regionRegexmatchArray = hostname.match(regionRegexJs);\n        if (regionRegexmatchArray) {\n            return regionRegexmatchArray[0].slice(1, -1);\n        }\n    }\n};\n\nconst getRegionInfo = (region, { useFipsEndpoint = false, useDualstackEndpoint = false, signingService, regionHash, partitionHash, }) => {\n    const partition = getResolvedPartition(region, { partitionHash });\n    const resolvedRegion = region in regionHash ? region : partitionHash[partition]?.endpoint ?? region;\n    const hostnameOptions = { useFipsEndpoint, useDualstackEndpoint };\n    const regionHostname = getHostnameFromVariants(regionHash[resolvedRegion]?.variants, hostnameOptions);\n    const partitionHostname = getHostnameFromVariants(partitionHash[partition]?.variants, hostnameOptions);\n    const hostname = getResolvedHostname(resolvedRegion, { regionHostname, partitionHostname });\n    if (hostname === undefined) {\n        throw new Error(`Endpoint resolution failed for: ${{ resolvedRegion, useFipsEndpoint, useDualstackEndpoint }}`);\n    }\n    const signingRegion = getResolvedSigningRegion(hostname, {\n        signingRegion: regionHash[resolvedRegion]?.signingRegion,\n        regionRegex: partitionHash[partition].regionRegex,\n        useFipsEndpoint,\n    });\n    return {\n        partition,\n        signingService,\n        hostname,\n        ...(signingRegion && { signingRegion }),\n        ...(regionHash[resolvedRegion]?.signingService && {\n            signingService: regionHash[resolvedRegion].signingService,\n        }),\n    };\n};\n\nexports.CONFIG_USE_DUALSTACK_ENDPOINT = CONFIG_USE_DUALSTACK_ENDPOINT;\nexports.CONFIG_USE_FIPS_ENDPOINT = CONFIG_USE_FIPS_ENDPOINT;\nexports.DEFAULT_USE_DUALSTACK_ENDPOINT = DEFAULT_USE_DUALSTACK_ENDPOINT;\nexports.DEFAULT_USE_FIPS_ENDPOINT = DEFAULT_USE_FIPS_ENDPOINT;\nexports.ENV_USE_DUALSTACK_ENDPOINT = ENV_USE_DUALSTACK_ENDPOINT;\nexports.ENV_USE_FIPS_ENDPOINT = ENV_USE_FIPS_ENDPOINT;\nexports.NODE_REGION_CONFIG_FILE_OPTIONS = NODE_REGION_CONFIG_FILE_OPTIONS;\nexports.NODE_REGION_CONFIG_OPTIONS = NODE_REGION_CONFIG_OPTIONS;\nexports.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS = NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS;\nexports.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS = NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS;\nexports.REGION_ENV_NAME = REGION_ENV_NAME;\nexports.REGION_INI_NAME = REGION_INI_NAME;\nexports.getRegionInfo = getRegionInfo;\nexports.resolveCustomEndpointsConfig = resolveCustomEndpointsConfig;\nexports.resolveEndpointsConfig = resolveEndpointsConfig;\nexports.resolveRegionConfig = resolveRegionConfig;\n", "'use strict';\n\nvar protocolHttp = require('@smithy/protocol-http');\n\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nfunction contentLengthMiddleware(bodyLengthChecker) {\n    return (next) => async (args) => {\n        const request = args.request;\n        if (protocolHttp.HttpRequest.isInstance(request)) {\n            const { body, headers } = request;\n            if (body &&\n                Object.keys(headers)\n                    .map((str) => str.toLowerCase())\n                    .indexOf(CONTENT_LENGTH_HEADER) === -1) {\n                try {\n                    const length = bodyLengthChecker(body);\n                    request.headers = {\n                        ...request.headers,\n                        [CONTENT_LENGTH_HEADER]: String(length),\n                    };\n                }\n                catch (error) {\n                }\n            }\n        }\n        return next({\n            ...args,\n            request,\n        });\n    };\n}\nconst contentLengthMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n    name: \"contentLengthMiddleware\",\n    override: true,\n};\nconst getContentLengthPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n    },\n});\n\nexports.contentLengthMiddleware = contentLengthMiddleware;\nexports.contentLengthMiddlewareOptions = contentLengthMiddlewareOptions;\nexports.getContentLengthPlugin = getContentLengthPlugin;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHomeDir = void 0;\nconst os_1 = require(\"os\");\nconst path_1 = require(\"path\");\nconst homeDirCache = {};\nconst getHomeDirCacheKey = () => {\n    if (process && process.geteuid) {\n        return `${process.geteuid()}`;\n    }\n    return \"DEFAULT\";\n};\nconst getHomeDir = () => {\n    const { HOME, USERPROFILE, HOMEPATH, HOMEDRIVE = `C:${path_1.sep}` } = process.env;\n    if (HOME)\n        return HOME;\n    if (USERPROFILE)\n        return USERPROFILE;\n    if (HOMEPATH)\n        return `${HOMEDRIVE}${HOMEPATH}`;\n    const homeDirCacheKey = getHomeDirCacheKey();\n    if (!homeDirCache[homeDirCacheKey])\n        homeDirCache[homeDirCacheKey] = (0, os_1.homedir)();\n    return homeDirCache[homeDirCacheKey];\n};\nexports.getHomeDir = getHomeDir;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSSOTokenFilepath = void 0;\nconst crypto_1 = require(\"crypto\");\nconst path_1 = require(\"path\");\nconst getHomeDir_1 = require(\"./getHomeDir\");\nconst getSSOTokenFilepath = (id) => {\n    const hasher = (0, crypto_1.createHash)(\"sha1\");\n    const cacheName = hasher.update(id).digest(\"hex\");\n    return (0, path_1.join)((0, getHomeDir_1.getHomeDir)(), \".aws\", \"sso\", \"cache\", `${cacheName}.json`);\n};\nexports.getSSOTokenFilepath = getSSOTokenFilepath;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSSOTokenFromFile = exports.tokenIntercept = void 0;\nconst promises_1 = require(\"fs/promises\");\nconst getSSOTokenFilepath_1 = require(\"./getSSOTokenFilepath\");\nexports.tokenIntercept = {};\nconst getSSOTokenFromFile = async (id) => {\n    if (exports.tokenIntercept[id]) {\n        return exports.tokenIntercept[id];\n    }\n    const ssoTokenFilepath = (0, getSSOTokenFilepath_1.getSSOTokenFilepath)(id);\n    const ssoTokenText = await (0, promises_1.readFile)(ssoTokenFilepath, \"utf8\");\n    return JSON.parse(ssoTokenText);\n};\nexports.getSSOTokenFromFile = getSSOTokenFromFile;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readFile = exports.fileIntercept = exports.filePromises = void 0;\nconst promises_1 = require(\"node:fs/promises\");\nexports.filePromises = {};\nexports.fileIntercept = {};\nconst readFile = (path, options) => {\n    if (exports.fileIntercept[path] !== undefined) {\n        return exports.fileIntercept[path];\n    }\n    if (!exports.filePromises[path] || options?.ignoreCache) {\n        exports.filePromises[path] = (0, promises_1.readFile)(path, \"utf8\");\n    }\n    return exports.filePromises[path];\n};\nexports.readFile = readFile;\n", "'use strict';\n\nvar getHomeDir = require('./getHomeDir');\nvar getSSOTokenFilepath = require('./getSSOTokenFilepath');\nvar getSSOTokenFromFile = require('./getSSOTokenFromFile');\nvar path = require('path');\nvar types = require('@smithy/types');\nvar readFile = require('./readFile');\n\nconst ENV_PROFILE = \"AWS_PROFILE\";\nconst DEFAULT_PROFILE = \"default\";\nconst getProfileName = (init) => init.profile || process.env[ENV_PROFILE] || DEFAULT_PROFILE;\n\nconst CONFIG_PREFIX_SEPARATOR = \".\";\n\nconst getConfigData = (data) => Object.entries(data)\n    .filter(([key]) => {\n    const indexOfSeparator = key.indexOf(CONFIG_PREFIX_SEPARATOR);\n    if (indexOfSeparator === -1) {\n        return false;\n    }\n    return Object.values(types.IniSectionType).includes(key.substring(0, indexOfSeparator));\n})\n    .reduce((acc, [key, value]) => {\n    const indexOfSeparator = key.indexOf(CONFIG_PREFIX_SEPARATOR);\n    const updatedKey = key.substring(0, indexOfSeparator) === types.IniSectionType.PROFILE ? key.substring(indexOfSeparator + 1) : key;\n    acc[updatedKey] = value;\n    return acc;\n}, {\n    ...(data.default && { default: data.default }),\n});\n\nconst ENV_CONFIG_PATH = \"AWS_CONFIG_FILE\";\nconst getConfigFilepath = () => process.env[ENV_CONFIG_PATH] || path.join(getHomeDir.getHomeDir(), \".aws\", \"config\");\n\nconst ENV_CREDENTIALS_PATH = \"AWS_SHARED_CREDENTIALS_FILE\";\nconst getCredentialsFilepath = () => process.env[ENV_CREDENTIALS_PATH] || path.join(getHomeDir.getHomeDir(), \".aws\", \"credentials\");\n\nconst prefixKeyRegex = /^([\\w-]+)\\s([\"'])?([\\w-@\\+\\.%:/]+)\\2$/;\nconst profileNameBlockList = [\"__proto__\", \"profile __proto__\"];\nconst parseIni = (iniData) => {\n    const map = {};\n    let currentSection;\n    let currentSubSection;\n    for (const iniLine of iniData.split(/\\r?\\n/)) {\n        const trimmedLine = iniLine.split(/(^|\\s)[;#]/)[0].trim();\n        const isSection = trimmedLine[0] === \"[\" && trimmedLine[trimmedLine.length - 1] === \"]\";\n        if (isSection) {\n            currentSection = undefined;\n            currentSubSection = undefined;\n            const sectionName = trimmedLine.substring(1, trimmedLine.length - 1);\n            const matches = prefixKeyRegex.exec(sectionName);\n            if (matches) {\n                const [, prefix, , name] = matches;\n                if (Object.values(types.IniSectionType).includes(prefix)) {\n                    currentSection = [prefix, name].join(CONFIG_PREFIX_SEPARATOR);\n                }\n            }\n            else {\n                currentSection = sectionName;\n            }\n            if (profileNameBlockList.includes(sectionName)) {\n                throw new Error(`Found invalid profile name \"${sectionName}\"`);\n            }\n        }\n        else if (currentSection) {\n            const indexOfEqualsSign = trimmedLine.indexOf(\"=\");\n            if (![0, -1].includes(indexOfEqualsSign)) {\n                const [name, value] = [\n                    trimmedLine.substring(0, indexOfEqualsSign).trim(),\n                    trimmedLine.substring(indexOfEqualsSign + 1).trim(),\n                ];\n                if (value === \"\") {\n                    currentSubSection = name;\n                }\n                else {\n                    if (currentSubSection && iniLine.trimStart() === iniLine) {\n                        currentSubSection = undefined;\n                    }\n                    map[currentSection] = map[currentSection] || {};\n                    const key = currentSubSection ? [currentSubSection, name].join(CONFIG_PREFIX_SEPARATOR) : name;\n                    map[currentSection][key] = value;\n                }\n            }\n        }\n    }\n    return map;\n};\n\nconst swallowError$1 = () => ({});\nconst loadSharedConfigFiles = async (init = {}) => {\n    const { filepath = getCredentialsFilepath(), configFilepath = getConfigFilepath() } = init;\n    const homeDir = getHomeDir.getHomeDir();\n    const relativeHomeDirPrefix = \"~/\";\n    let resolvedFilepath = filepath;\n    if (filepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedFilepath = path.join(homeDir, filepath.slice(2));\n    }\n    let resolvedConfigFilepath = configFilepath;\n    if (configFilepath.startsWith(relativeHomeDirPrefix)) {\n        resolvedConfigFilepath = path.join(homeDir, configFilepath.slice(2));\n    }\n    const parsedFiles = await Promise.all([\n        readFile.readFile(resolvedConfigFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .then(getConfigData)\n            .catch(swallowError$1),\n        readFile.readFile(resolvedFilepath, {\n            ignoreCache: init.ignoreCache,\n        })\n            .then(parseIni)\n            .catch(swallowError$1),\n    ]);\n    return {\n        configFile: parsedFiles[0],\n        credentialsFile: parsedFiles[1],\n    };\n};\n\nconst getSsoSessionData = (data) => Object.entries(data)\n    .filter(([key]) => key.startsWith(types.IniSectionType.SSO_SESSION + CONFIG_PREFIX_SEPARATOR))\n    .reduce((acc, [key, value]) => ({ ...acc, [key.substring(key.indexOf(CONFIG_PREFIX_SEPARATOR) + 1)]: value }), {});\n\nconst swallowError = () => ({});\nconst loadSsoSessionData = async (init = {}) => readFile.readFile(init.configFilepath ?? getConfigFilepath())\n    .then(parseIni)\n    .then(getSsoSessionData)\n    .catch(swallowError);\n\nconst mergeConfigFiles = (...files) => {\n    const merged = {};\n    for (const file of files) {\n        for (const [key, values] of Object.entries(file)) {\n            if (merged[key] !== undefined) {\n                Object.assign(merged[key], values);\n            }\n            else {\n                merged[key] = values;\n            }\n        }\n    }\n    return merged;\n};\n\nconst parseKnownFiles = async (init) => {\n    const parsedFiles = await loadSharedConfigFiles(init);\n    return mergeConfigFiles(parsedFiles.configFile, parsedFiles.credentialsFile);\n};\n\nconst externalDataInterceptor = {\n    getFileRecord() {\n        return readFile.fileIntercept;\n    },\n    interceptFile(path, contents) {\n        readFile.fileIntercept[path] = Promise.resolve(contents);\n    },\n    getTokenRecord() {\n        return getSSOTokenFromFile.tokenIntercept;\n    },\n    interceptToken(id, contents) {\n        getSSOTokenFromFile.tokenIntercept[id] = contents;\n    },\n};\n\nObject.defineProperty(exports, \"getSSOTokenFromFile\", {\n    enumerable: true,\n    get: function () { return getSSOTokenFromFile.getSSOTokenFromFile; }\n});\nObject.defineProperty(exports, \"readFile\", {\n    enumerable: true,\n    get: function () { return readFile.readFile; }\n});\nexports.CONFIG_PREFIX_SEPARATOR = CONFIG_PREFIX_SEPARATOR;\nexports.DEFAULT_PROFILE = DEFAULT_PROFILE;\nexports.ENV_PROFILE = ENV_PROFILE;\nexports.externalDataInterceptor = externalDataInterceptor;\nexports.getProfileName = getProfileName;\nexports.loadSharedConfigFiles = loadSharedConfigFiles;\nexports.loadSsoSessionData = loadSsoSessionData;\nexports.parseKnownFiles = parseKnownFiles;\nObject.keys(getHomeDir).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return getHomeDir[k]; }\n    });\n});\nObject.keys(getSSOTokenFilepath).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return getSSOTokenFilepath[k]; }\n    });\n});\n", "'use strict';\n\nvar propertyProvider = require('@smithy/property-provider');\nvar sharedIniFileLoader = require('@smithy/shared-ini-file-loader');\n\nfunction getSelectorName(functionString) {\n    try {\n        const constants = new Set(Array.from(functionString.match(/([A-Z_]){3,}/g) ?? []));\n        constants.delete(\"CONFIG\");\n        constants.delete(\"CONFIG_PREFIX_SEPARATOR\");\n        constants.delete(\"ENV\");\n        return [...constants].join(\", \");\n    }\n    catch (e) {\n        return functionString;\n    }\n}\n\nconst fromEnv = (envVarSelector, options) => async () => {\n    try {\n        const config = envVarSelector(process.env, options);\n        if (config === undefined) {\n            throw new Error();\n        }\n        return config;\n    }\n    catch (e) {\n        throw new propertyProvider.CredentialsProviderError(e.message || `Not found in ENV: ${getSelectorName(envVarSelector.toString())}`, { logger: options?.logger });\n    }\n};\n\nconst fromSharedConfigFiles = (configSelector, { preferredFile = \"config\", ...init } = {}) => async () => {\n    const profile = sharedIniFileLoader.getProfileName(init);\n    const { configFile, credentialsFile } = await sharedIniFileLoader.loadSharedConfigFiles(init);\n    const profileFromCredentials = credentialsFile[profile] || {};\n    const profileFromConfig = configFile[profile] || {};\n    const mergedProfile = preferredFile === \"config\"\n        ? { ...profileFromCredentials, ...profileFromConfig }\n        : { ...profileFromConfig, ...profileFromCredentials };\n    try {\n        const cfgFile = preferredFile === \"config\" ? configFile : credentialsFile;\n        const configValue = configSelector(mergedProfile, cfgFile);\n        if (configValue === undefined) {\n            throw new Error();\n        }\n        return configValue;\n    }\n    catch (e) {\n        throw new propertyProvider.CredentialsProviderError(e.message || `Not found in config files w/ profile [${profile}]: ${getSelectorName(configSelector.toString())}`, { logger: init.logger });\n    }\n};\n\nconst isFunction = (func) => typeof func === \"function\";\nconst fromStatic = (defaultValue) => isFunction(defaultValue) ? async () => await defaultValue() : propertyProvider.fromStatic(defaultValue);\n\nconst loadConfig = ({ environmentVariableSelector, configFileSelector, default: defaultValue }, configuration = {}) => {\n    const { signingName, logger } = configuration;\n    const envOptions = { signingName, logger };\n    return propertyProvider.memoize(propertyProvider.chain(fromEnv(environmentVariableSelector, envOptions), fromSharedConfigFiles(configFileSelector, configuration), fromStatic(defaultValue)));\n};\n\nexports.loadConfig = loadConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEndpointUrlConfig = void 0;\nconst shared_ini_file_loader_1 = require(\"@smithy/shared-ini-file-loader\");\nconst ENV_ENDPOINT_URL = \"AWS_ENDPOINT_URL\";\nconst CONFIG_ENDPOINT_URL = \"endpoint_url\";\nconst getEndpointUrlConfig = (serviceId) => ({\n    environmentVariableSelector: (env) => {\n        const serviceSuffixParts = serviceId.split(\" \").map((w) => w.toUpperCase());\n        const serviceEndpointUrl = env[[ENV_ENDPOINT_URL, ...serviceSuffixParts].join(\"_\")];\n        if (serviceEndpointUrl)\n            return serviceEndpointUrl;\n        const endpointUrl = env[ENV_ENDPOINT_URL];\n        if (endpointUrl)\n            return endpointUrl;\n        return undefined;\n    },\n    configFileSelector: (profile, config) => {\n        if (config && profile.services) {\n            const servicesSection = config[[\"services\", profile.services].join(shared_ini_file_loader_1.CONFIG_PREFIX_SEPARATOR)];\n            if (servicesSection) {\n                const servicePrefixParts = serviceId.split(\" \").map((w) => w.toLowerCase());\n                const endpointUrl = servicesSection[[servicePrefixParts.join(\"_\"), CONFIG_ENDPOINT_URL].join(shared_ini_file_loader_1.CONFIG_PREFIX_SEPARATOR)];\n                if (endpointUrl)\n                    return endpointUrl;\n            }\n        }\n        const endpointUrl = profile[CONFIG_ENDPOINT_URL];\n        if (endpointUrl)\n            return endpointUrl;\n        return undefined;\n    },\n    default: undefined,\n});\nexports.getEndpointUrlConfig = getEndpointUrlConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEndpointFromConfig = void 0;\nconst node_config_provider_1 = require(\"@smithy/node-config-provider\");\nconst getEndpointUrlConfig_1 = require(\"./getEndpointUrlConfig\");\nconst getEndpointFromConfig = async (serviceId) => (0, node_config_provider_1.loadConfig)((0, getEndpointUrlConfig_1.getEndpointUrlConfig)(serviceId ?? \"\"))();\nexports.getEndpointFromConfig = getEndpointFromConfig;\n", "'use strict';\n\nvar getEndpointFromConfig = require('./adaptors/getEndpointFromConfig');\nvar urlParser = require('@smithy/url-parser');\nvar core = require('@smithy/core');\nvar utilMiddleware = require('@smithy/util-middleware');\nvar middlewareSerde = require('@smithy/middleware-serde');\n\nconst resolveParamsForS3 = async (endpointParams) => {\n    const bucket = endpointParams?.Bucket || \"\";\n    if (typeof endpointParams.Bucket === \"string\") {\n        endpointParams.Bucket = bucket.replace(/#/g, encodeURIComponent(\"#\")).replace(/\\?/g, encodeURIComponent(\"?\"));\n    }\n    if (isArnBucketName(bucket)) {\n        if (endpointParams.ForcePathStyle === true) {\n            throw new Error(\"Path-style addressing cannot be used with ARN buckets\");\n        }\n    }\n    else if (!isDnsCompatibleBucketName(bucket) ||\n        (bucket.indexOf(\".\") !== -1 && !String(endpointParams.Endpoint).startsWith(\"http:\")) ||\n        bucket.toLowerCase() !== bucket ||\n        bucket.length < 3) {\n        endpointParams.ForcePathStyle = true;\n    }\n    if (endpointParams.DisableMultiRegionAccessPoints) {\n        endpointParams.disableMultiRegionAccessPoints = true;\n        endpointParams.DisableMRAP = true;\n    }\n    return endpointParams;\n};\nconst DOMAIN_PATTERN = /^[a-z0-9][a-z0-9\\.\\-]{1,61}[a-z0-9]$/;\nconst IP_ADDRESS_PATTERN = /(\\d+\\.){3}\\d+/;\nconst DOTS_PATTERN = /\\.\\./;\nconst isDnsCompatibleBucketName = (bucketName) => DOMAIN_PATTERN.test(bucketName) && !IP_ADDRESS_PATTERN.test(bucketName) && !DOTS_PATTERN.test(bucketName);\nconst isArnBucketName = (bucketName) => {\n    const [arn, partition, service, , , bucket] = bucketName.split(\":\");\n    const isArn = arn === \"arn\" && bucketName.split(\":\").length >= 6;\n    const isValidArn = Boolean(isArn && partition && service && bucket);\n    if (isArn && !isValidArn) {\n        throw new Error(`Invalid ARN: ${bucketName} was an invalid ARN.`);\n    }\n    return isValidArn;\n};\n\nconst createConfigValueProvider = (configKey, canonicalEndpointParamKey, config) => {\n    const configProvider = async () => {\n        const configValue = config[configKey] ?? config[canonicalEndpointParamKey];\n        if (typeof configValue === \"function\") {\n            return configValue();\n        }\n        return configValue;\n    };\n    if (configKey === \"credentialScope\" || canonicalEndpointParamKey === \"CredentialScope\") {\n        return async () => {\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\n            const configValue = credentials?.credentialScope ?? credentials?.CredentialScope;\n            return configValue;\n        };\n    }\n    if (configKey === \"accountId\" || canonicalEndpointParamKey === \"AccountId\") {\n        return async () => {\n            const credentials = typeof config.credentials === \"function\" ? await config.credentials() : config.credentials;\n            const configValue = credentials?.accountId ?? credentials?.AccountId;\n            return configValue;\n        };\n    }\n    if (configKey === \"endpoint\" || canonicalEndpointParamKey === \"endpoint\") {\n        return async () => {\n            if (config.isCustomEndpoint === false) {\n                return undefined;\n            }\n            const endpoint = await configProvider();\n            if (endpoint && typeof endpoint === \"object\") {\n                if (\"url\" in endpoint) {\n                    return endpoint.url.href;\n                }\n                if (\"hostname\" in endpoint) {\n                    const { protocol, hostname, port, path } = endpoint;\n                    return `${protocol}//${hostname}${port ? \":\" + port : \"\"}${path}`;\n                }\n            }\n            return endpoint;\n        };\n    }\n    return configProvider;\n};\n\nconst toEndpointV1 = (endpoint) => {\n    if (typeof endpoint === \"object\") {\n        if (\"url\" in endpoint) {\n            return urlParser.parseUrl(endpoint.url);\n        }\n        return endpoint;\n    }\n    return urlParser.parseUrl(endpoint);\n};\n\nconst getEndpointFromInstructions = async (commandInput, instructionsSupplier, clientConfig, context) => {\n    if (!clientConfig.isCustomEndpoint) {\n        let endpointFromConfig;\n        if (clientConfig.serviceConfiguredEndpoint) {\n            endpointFromConfig = await clientConfig.serviceConfiguredEndpoint();\n        }\n        else {\n            endpointFromConfig = await getEndpointFromConfig.getEndpointFromConfig(clientConfig.serviceId);\n        }\n        if (endpointFromConfig) {\n            clientConfig.endpoint = () => Promise.resolve(toEndpointV1(endpointFromConfig));\n            clientConfig.isCustomEndpoint = true;\n        }\n    }\n    const endpointParams = await resolveParams(commandInput, instructionsSupplier, clientConfig);\n    if (typeof clientConfig.endpointProvider !== \"function\") {\n        throw new Error(\"config.endpointProvider is not set.\");\n    }\n    const endpoint = clientConfig.endpointProvider(endpointParams, context);\n    return endpoint;\n};\nconst resolveParams = async (commandInput, instructionsSupplier, clientConfig) => {\n    const endpointParams = {};\n    const instructions = instructionsSupplier?.getEndpointParameterInstructions?.() || {};\n    for (const [name, instruction] of Object.entries(instructions)) {\n        switch (instruction.type) {\n            case \"staticContextParams\":\n                endpointParams[name] = instruction.value;\n                break;\n            case \"contextParams\":\n                endpointParams[name] = commandInput[instruction.name];\n                break;\n            case \"clientContextParams\":\n            case \"builtInParams\":\n                endpointParams[name] = await createConfigValueProvider(instruction.name, name, clientConfig)();\n                break;\n            case \"operationContextParams\":\n                endpointParams[name] = instruction.get(commandInput);\n                break;\n            default:\n                throw new Error(\"Unrecognized endpoint parameter instruction: \" + JSON.stringify(instruction));\n        }\n    }\n    if (Object.keys(instructions).length === 0) {\n        Object.assign(endpointParams, clientConfig);\n    }\n    if (String(clientConfig.serviceId).toLowerCase() === \"s3\") {\n        await resolveParamsForS3(endpointParams);\n    }\n    return endpointParams;\n};\n\nconst endpointMiddleware = ({ config, instructions, }) => {\n    return (next, context) => async (args) => {\n        if (config.isCustomEndpoint) {\n            core.setFeature(context, \"ENDPOINT_OVERRIDE\", \"N\");\n        }\n        const endpoint = await getEndpointFromInstructions(args.input, {\n            getEndpointParameterInstructions() {\n                return instructions;\n            },\n        }, { ...config }, context);\n        context.endpointV2 = endpoint;\n        context.authSchemes = endpoint.properties?.authSchemes;\n        const authScheme = context.authSchemes?.[0];\n        if (authScheme) {\n            context[\"signing_region\"] = authScheme.signingRegion;\n            context[\"signing_service\"] = authScheme.signingName;\n            const smithyContext = utilMiddleware.getSmithyContext(context);\n            const httpAuthOption = smithyContext?.selectedHttpAuthScheme?.httpAuthOption;\n            if (httpAuthOption) {\n                httpAuthOption.signingProperties = Object.assign(httpAuthOption.signingProperties || {}, {\n                    signing_region: authScheme.signingRegion,\n                    signingRegion: authScheme.signingRegion,\n                    signing_service: authScheme.signingName,\n                    signingName: authScheme.signingName,\n                    signingRegionSet: authScheme.signingRegionSet,\n                }, authScheme.properties);\n            }\n        }\n        return next({\n            ...args,\n        });\n    };\n};\n\nconst endpointMiddlewareOptions = {\n    step: \"serialize\",\n    tags: [\"ENDPOINT_PARAMETERS\", \"ENDPOINT_V2\", \"ENDPOINT\"],\n    name: \"endpointV2Middleware\",\n    override: true,\n    relation: \"before\",\n    toMiddleware: middlewareSerde.serializerMiddlewareOption.name,\n};\nconst getEndpointPlugin = (config, instructions) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(endpointMiddleware({\n            config,\n            instructions,\n        }), endpointMiddlewareOptions);\n    },\n});\n\nconst resolveEndpointConfig = (input) => {\n    const tls = input.tls ?? true;\n    const { endpoint, useDualstackEndpoint, useFipsEndpoint } = input;\n    const customEndpointProvider = endpoint != null ? async () => toEndpointV1(await utilMiddleware.normalizeProvider(endpoint)()) : undefined;\n    const isCustomEndpoint = !!endpoint;\n    const resolvedConfig = Object.assign(input, {\n        endpoint: customEndpointProvider,\n        tls,\n        isCustomEndpoint,\n        useDualstackEndpoint: utilMiddleware.normalizeProvider(useDualstackEndpoint ?? false),\n        useFipsEndpoint: utilMiddleware.normalizeProvider(useFipsEndpoint ?? false),\n    });\n    let configuredEndpointPromise = undefined;\n    resolvedConfig.serviceConfiguredEndpoint = async () => {\n        if (input.serviceId && !configuredEndpointPromise) {\n            configuredEndpointPromise = getEndpointFromConfig.getEndpointFromConfig(input.serviceId);\n        }\n        return configuredEndpointPromise;\n    };\n    return resolvedConfig;\n};\n\nconst resolveEndpointRequiredConfig = (input) => {\n    const { endpoint } = input;\n    if (endpoint === undefined) {\n        input.endpoint = async () => {\n            throw new Error(\"@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.\");\n        };\n    }\n    return input;\n};\n\nexports.endpointMiddleware = endpointMiddleware;\nexports.endpointMiddlewareOptions = endpointMiddlewareOptions;\nexports.getEndpointFromInstructions = getEndpointFromInstructions;\nexports.getEndpointPlugin = getEndpointPlugin;\nexports.resolveEndpointConfig = resolveEndpointConfig;\nexports.resolveEndpointRequiredConfig = resolveEndpointRequiredConfig;\nexports.resolveParams = resolveParams;\nexports.toEndpointV1 = toEndpointV1;\n", "'use strict';\n\nconst CLOCK_SKEW_ERROR_CODES = [\n    \"AuthFailure\",\n    \"InvalidSignatureException\",\n    \"RequestExpired\",\n    \"RequestInTheFuture\",\n    \"RequestTimeTooSkewed\",\n    \"SignatureDoesNotMatch\",\n];\nconst THROTTLING_ERROR_CODES = [\n    \"BandwidthLimitExceeded\",\n    \"EC2ThrottledException\",\n    \"LimitExceededException\",\n    \"PriorRequestNotComplete\",\n    \"ProvisionedThroughputExceededException\",\n    \"RequestLimitExceeded\",\n    \"RequestThrottled\",\n    \"RequestThrottledException\",\n    \"SlowDown\",\n    \"ThrottledException\",\n    \"Throttling\",\n    \"ThrottlingException\",\n    \"TooManyRequestsException\",\n    \"TransactionInProgressException\",\n];\nconst TRANSIENT_ERROR_CODES = [\"TimeoutError\", \"RequestTimeout\", \"RequestTimeoutException\"];\nconst TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];\nconst NODEJS_TIMEOUT_ERROR_CODES = [\"ECONNRESET\", \"ECONNREFUSED\", \"EPIPE\", \"ETIMEDOUT\"];\nconst NODEJS_NETWORK_ERROR_CODES = [\"EHOSTUNREACH\", \"ENETUNREACH\", \"ENOTFOUND\"];\n\nconst isRetryableByTrait = (error) => error?.$retryable !== undefined;\nconst isClockSkewError = (error) => CLOCK_SKEW_ERROR_CODES.includes(error.name);\nconst isClockSkewCorrectedError = (error) => error.$metadata?.clockSkewCorrected;\nconst isBrowserNetworkError = (error) => {\n    const errorMessages = new Set([\n        \"Failed to fetch\",\n        \"NetworkError when attempting to fetch resource\",\n        \"The Internet connection appears to be offline\",\n        \"Load failed\",\n        \"Network request failed\",\n    ]);\n    const isValid = error && error instanceof TypeError;\n    if (!isValid) {\n        return false;\n    }\n    return errorMessages.has(error.message);\n};\nconst isThrottlingError = (error) => error.$metadata?.httpStatusCode === 429 ||\n    THROTTLING_ERROR_CODES.includes(error.name) ||\n    error.$retryable?.throttling == true;\nconst isTransientError = (error, depth = 0) => isRetryableByTrait(error) ||\n    isClockSkewCorrectedError(error) ||\n    TRANSIENT_ERROR_CODES.includes(error.name) ||\n    NODEJS_TIMEOUT_ERROR_CODES.includes(error?.code || \"\") ||\n    NODEJS_NETWORK_ERROR_CODES.includes(error?.code || \"\") ||\n    TRANSIENT_ERROR_STATUS_CODES.includes(error.$metadata?.httpStatusCode || 0) ||\n    isBrowserNetworkError(error) ||\n    (error.cause !== undefined && depth <= 10 && isTransientError(error.cause, depth + 1));\nconst isServerError = (error) => {\n    if (error.$metadata?.httpStatusCode !== undefined) {\n        const statusCode = error.$metadata.httpStatusCode;\n        if (500 <= statusCode && statusCode <= 599 && !isTransientError(error)) {\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\n\nexports.isBrowserNetworkError = isBrowserNetworkError;\nexports.isClockSkewCorrectedError = isClockSkewCorrectedError;\nexports.isClockSkewError = isClockSkewError;\nexports.isRetryableByTrait = isRetryableByTrait;\nexports.isServerError = isServerError;\nexports.isThrottlingError = isThrottlingError;\nexports.isTransientError = isTransientError;\n", "'use strict';\n\nvar serviceErrorClassification = require('@smithy/service-error-classification');\n\nexports.RETRY_MODES = void 0;\n(function (RETRY_MODES) {\n    RETRY_MODES[\"STANDARD\"] = \"standard\";\n    RETRY_MODES[\"ADAPTIVE\"] = \"adaptive\";\n})(exports.RETRY_MODES || (exports.RETRY_MODES = {}));\nconst DEFAULT_MAX_ATTEMPTS = 3;\nconst DEFAULT_RETRY_MODE = exports.RETRY_MODES.STANDARD;\n\nclass DefaultRateLimiter {\n    static setTimeoutFn = setTimeout;\n    beta;\n    minCapacity;\n    minFillRate;\n    scaleConstant;\n    smooth;\n    currentCapacity = 0;\n    enabled = false;\n    lastMaxRate = 0;\n    measuredTxRate = 0;\n    requestCount = 0;\n    fillRate;\n    lastThrottleTime;\n    lastTimestamp = 0;\n    lastTxRateBucket;\n    maxCapacity;\n    timeWindow = 0;\n    constructor(options) {\n        this.beta = options?.beta ?? 0.7;\n        this.minCapacity = options?.minCapacity ?? 1;\n        this.minFillRate = options?.minFillRate ?? 0.5;\n        this.scaleConstant = options?.scaleConstant ?? 0.4;\n        this.smooth = options?.smooth ?? 0.8;\n        const currentTimeInSeconds = this.getCurrentTimeInSeconds();\n        this.lastThrottleTime = currentTimeInSeconds;\n        this.lastTxRateBucket = Math.floor(this.getCurrentTimeInSeconds());\n        this.fillRate = this.minFillRate;\n        this.maxCapacity = this.minCapacity;\n    }\n    getCurrentTimeInSeconds() {\n        return Date.now() / 1000;\n    }\n    async getSendToken() {\n        return this.acquireTokenBucket(1);\n    }\n    async acquireTokenBucket(amount) {\n        if (!this.enabled) {\n            return;\n        }\n        this.refillTokenBucket();\n        if (amount > this.currentCapacity) {\n            const delay = ((amount - this.currentCapacity) / this.fillRate) * 1000;\n            await new Promise((resolve) => DefaultRateLimiter.setTimeoutFn(resolve, delay));\n        }\n        this.currentCapacity = this.currentCapacity - amount;\n    }\n    refillTokenBucket() {\n        const timestamp = this.getCurrentTimeInSeconds();\n        if (!this.lastTimestamp) {\n            this.lastTimestamp = timestamp;\n            return;\n        }\n        const fillAmount = (timestamp - this.lastTimestamp) * this.fillRate;\n        this.currentCapacity = Math.min(this.maxCapacity, this.currentCapacity + fillAmount);\n        this.lastTimestamp = timestamp;\n    }\n    updateClientSendingRate(response) {\n        let calculatedRate;\n        this.updateMeasuredRate();\n        if (serviceErrorClassification.isThrottlingError(response)) {\n            const rateToUse = !this.enabled ? this.measuredTxRate : Math.min(this.measuredTxRate, this.fillRate);\n            this.lastMaxRate = rateToUse;\n            this.calculateTimeWindow();\n            this.lastThrottleTime = this.getCurrentTimeInSeconds();\n            calculatedRate = this.cubicThrottle(rateToUse);\n            this.enableTokenBucket();\n        }\n        else {\n            this.calculateTimeWindow();\n            calculatedRate = this.cubicSuccess(this.getCurrentTimeInSeconds());\n        }\n        const newRate = Math.min(calculatedRate, 2 * this.measuredTxRate);\n        this.updateTokenBucketRate(newRate);\n    }\n    calculateTimeWindow() {\n        this.timeWindow = this.getPrecise(Math.pow((this.lastMaxRate * (1 - this.beta)) / this.scaleConstant, 1 / 3));\n    }\n    cubicThrottle(rateToUse) {\n        return this.getPrecise(rateToUse * this.beta);\n    }\n    cubicSuccess(timestamp) {\n        return this.getPrecise(this.scaleConstant * Math.pow(timestamp - this.lastThrottleTime - this.timeWindow, 3) + this.lastMaxRate);\n    }\n    enableTokenBucket() {\n        this.enabled = true;\n    }\n    updateTokenBucketRate(newRate) {\n        this.refillTokenBucket();\n        this.fillRate = Math.max(newRate, this.minFillRate);\n        this.maxCapacity = Math.max(newRate, this.minCapacity);\n        this.currentCapacity = Math.min(this.currentCapacity, this.maxCapacity);\n    }\n    updateMeasuredRate() {\n        const t = this.getCurrentTimeInSeconds();\n        const timeBucket = Math.floor(t * 2) / 2;\n        this.requestCount++;\n        if (timeBucket > this.lastTxRateBucket) {\n            const currentRate = this.requestCount / (timeBucket - this.lastTxRateBucket);\n            this.measuredTxRate = this.getPrecise(currentRate * this.smooth + this.measuredTxRate * (1 - this.smooth));\n            this.requestCount = 0;\n            this.lastTxRateBucket = timeBucket;\n        }\n    }\n    getPrecise(num) {\n        return parseFloat(num.toFixed(8));\n    }\n}\n\nconst DEFAULT_RETRY_DELAY_BASE = 100;\nconst MAXIMUM_RETRY_DELAY = 20 * 1000;\nconst THROTTLING_RETRY_DELAY_BASE = 500;\nconst INITIAL_RETRY_TOKENS = 500;\nconst RETRY_COST = 5;\nconst TIMEOUT_RETRY_COST = 10;\nconst NO_RETRY_INCREMENT = 1;\nconst INVOCATION_ID_HEADER = \"amz-sdk-invocation-id\";\nconst REQUEST_HEADER = \"amz-sdk-request\";\n\nconst getDefaultRetryBackoffStrategy = () => {\n    let delayBase = DEFAULT_RETRY_DELAY_BASE;\n    const computeNextBackoffDelay = (attempts) => {\n        return Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * 2 ** attempts * delayBase));\n    };\n    const setDelayBase = (delay) => {\n        delayBase = delay;\n    };\n    return {\n        computeNextBackoffDelay,\n        setDelayBase,\n    };\n};\n\nconst createDefaultRetryToken = ({ retryDelay, retryCount, retryCost, }) => {\n    const getRetryCount = () => retryCount;\n    const getRetryDelay = () => Math.min(MAXIMUM_RETRY_DELAY, retryDelay);\n    const getRetryCost = () => retryCost;\n    return {\n        getRetryCount,\n        getRetryDelay,\n        getRetryCost,\n    };\n};\n\nclass StandardRetryStrategy {\n    maxAttempts;\n    mode = exports.RETRY_MODES.STANDARD;\n    capacity = INITIAL_RETRY_TOKENS;\n    retryBackoffStrategy = getDefaultRetryBackoffStrategy();\n    maxAttemptsProvider;\n    constructor(maxAttempts) {\n        this.maxAttempts = maxAttempts;\n        this.maxAttemptsProvider = typeof maxAttempts === \"function\" ? maxAttempts : async () => maxAttempts;\n    }\n    async acquireInitialRetryToken(retryTokenScope) {\n        return createDefaultRetryToken({\n            retryDelay: DEFAULT_RETRY_DELAY_BASE,\n            retryCount: 0,\n        });\n    }\n    async refreshRetryTokenForRetry(token, errorInfo) {\n        const maxAttempts = await this.getMaxAttempts();\n        if (this.shouldRetry(token, errorInfo, maxAttempts)) {\n            const errorType = errorInfo.errorType;\n            this.retryBackoffStrategy.setDelayBase(errorType === \"THROTTLING\" ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE);\n            const delayFromErrorType = this.retryBackoffStrategy.computeNextBackoffDelay(token.getRetryCount());\n            const retryDelay = errorInfo.retryAfterHint\n                ? Math.max(errorInfo.retryAfterHint.getTime() - Date.now() || 0, delayFromErrorType)\n                : delayFromErrorType;\n            const capacityCost = this.getCapacityCost(errorType);\n            this.capacity -= capacityCost;\n            return createDefaultRetryToken({\n                retryDelay,\n                retryCount: token.getRetryCount() + 1,\n                retryCost: capacityCost,\n            });\n        }\n        throw new Error(\"No retry token available\");\n    }\n    recordSuccess(token) {\n        this.capacity = Math.max(INITIAL_RETRY_TOKENS, this.capacity + (token.getRetryCost() ?? NO_RETRY_INCREMENT));\n    }\n    getCapacity() {\n        return this.capacity;\n    }\n    async getMaxAttempts() {\n        try {\n            return await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            console.warn(`Max attempts provider could not resolve. Using default of ${DEFAULT_MAX_ATTEMPTS}`);\n            return DEFAULT_MAX_ATTEMPTS;\n        }\n    }\n    shouldRetry(tokenToRenew, errorInfo, maxAttempts) {\n        const attempts = tokenToRenew.getRetryCount() + 1;\n        return (attempts < maxAttempts &&\n            this.capacity >= this.getCapacityCost(errorInfo.errorType) &&\n            this.isRetryableError(errorInfo.errorType));\n    }\n    getCapacityCost(errorType) {\n        return errorType === \"TRANSIENT\" ? TIMEOUT_RETRY_COST : RETRY_COST;\n    }\n    isRetryableError(errorType) {\n        return errorType === \"THROTTLING\" || errorType === \"TRANSIENT\";\n    }\n}\n\nclass AdaptiveRetryStrategy {\n    maxAttemptsProvider;\n    rateLimiter;\n    standardRetryStrategy;\n    mode = exports.RETRY_MODES.ADAPTIVE;\n    constructor(maxAttemptsProvider, options) {\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        const { rateLimiter } = options ?? {};\n        this.rateLimiter = rateLimiter ?? new DefaultRateLimiter();\n        this.standardRetryStrategy = new StandardRetryStrategy(maxAttemptsProvider);\n    }\n    async acquireInitialRetryToken(retryTokenScope) {\n        await this.rateLimiter.getSendToken();\n        return this.standardRetryStrategy.acquireInitialRetryToken(retryTokenScope);\n    }\n    async refreshRetryTokenForRetry(tokenToRenew, errorInfo) {\n        this.rateLimiter.updateClientSendingRate(errorInfo);\n        return this.standardRetryStrategy.refreshRetryTokenForRetry(tokenToRenew, errorInfo);\n    }\n    recordSuccess(token) {\n        this.rateLimiter.updateClientSendingRate({});\n        this.standardRetryStrategy.recordSuccess(token);\n    }\n}\n\nclass ConfiguredRetryStrategy extends StandardRetryStrategy {\n    computeNextBackoffDelay;\n    constructor(maxAttempts, computeNextBackoffDelay = DEFAULT_RETRY_DELAY_BASE) {\n        super(typeof maxAttempts === \"function\" ? maxAttempts : async () => maxAttempts);\n        if (typeof computeNextBackoffDelay === \"number\") {\n            this.computeNextBackoffDelay = () => computeNextBackoffDelay;\n        }\n        else {\n            this.computeNextBackoffDelay = computeNextBackoffDelay;\n        }\n    }\n    async refreshRetryTokenForRetry(tokenToRenew, errorInfo) {\n        const token = await super.refreshRetryTokenForRetry(tokenToRenew, errorInfo);\n        token.getRetryDelay = () => this.computeNextBackoffDelay(token.getRetryCount());\n        return token;\n    }\n}\n\nexports.AdaptiveRetryStrategy = AdaptiveRetryStrategy;\nexports.ConfiguredRetryStrategy = ConfiguredRetryStrategy;\nexports.DEFAULT_MAX_ATTEMPTS = DEFAULT_MAX_ATTEMPTS;\nexports.DEFAULT_RETRY_DELAY_BASE = DEFAULT_RETRY_DELAY_BASE;\nexports.DEFAULT_RETRY_MODE = DEFAULT_RETRY_MODE;\nexports.DefaultRateLimiter = DefaultRateLimiter;\nexports.INITIAL_RETRY_TOKENS = INITIAL_RETRY_TOKENS;\nexports.INVOCATION_ID_HEADER = INVOCATION_ID_HEADER;\nexports.MAXIMUM_RETRY_DELAY = MAXIMUM_RETRY_DELAY;\nexports.NO_RETRY_INCREMENT = NO_RETRY_INCREMENT;\nexports.REQUEST_HEADER = REQUEST_HEADER;\nexports.RETRY_COST = RETRY_COST;\nexports.StandardRetryStrategy = StandardRetryStrategy;\nexports.THROTTLING_RETRY_DELAY_BASE = THROTTLING_RETRY_DELAY_BASE;\nexports.TIMEOUT_RETRY_COST = TIMEOUT_RETRY_COST;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isStreamingPayload = void 0;\nconst stream_1 = require(\"stream\");\nconst isStreamingPayload = (request) => request?.body instanceof stream_1.Readable ||\n    (typeof ReadableStream !== \"undefined\" && request?.body instanceof ReadableStream);\nexports.isStreamingPayload = isStreamingPayload;\n", "'use strict';\n\nvar utilRetry = require('@smithy/util-retry');\nvar protocolHttp = require('@smithy/protocol-http');\nvar serviceErrorClassification = require('@smithy/service-error-classification');\nvar uuid = require('@smithy/uuid');\nvar utilMiddleware = require('@smithy/util-middleware');\nvar smithyClient = require('@smithy/smithy-client');\nvar isStreamingPayload = require('./isStreamingPayload/isStreamingPayload');\n\nconst getDefaultRetryQuota = (initialRetryTokens, options) => {\n    const MAX_CAPACITY = initialRetryTokens;\n    const noRetryIncrement = utilRetry.NO_RETRY_INCREMENT;\n    const retryCost = utilRetry.RETRY_COST;\n    const timeoutRetryCost = utilRetry.TIMEOUT_RETRY_COST;\n    let availableCapacity = initialRetryTokens;\n    const getCapacityAmount = (error) => (error.name === \"TimeoutError\" ? timeoutRetryCost : retryCost);\n    const hasRetryTokens = (error) => getCapacityAmount(error) <= availableCapacity;\n    const retrieveRetryTokens = (error) => {\n        if (!hasRetryTokens(error)) {\n            throw new Error(\"No retry token available\");\n        }\n        const capacityAmount = getCapacityAmount(error);\n        availableCapacity -= capacityAmount;\n        return capacityAmount;\n    };\n    const releaseRetryTokens = (capacityReleaseAmount) => {\n        availableCapacity += capacityReleaseAmount ?? noRetryIncrement;\n        availableCapacity = Math.min(availableCapacity, MAX_CAPACITY);\n    };\n    return Object.freeze({\n        hasRetryTokens,\n        retrieveRetryTokens,\n        releaseRetryTokens,\n    });\n};\n\nconst defaultDelayDecider = (delayBase, attempts) => Math.floor(Math.min(utilRetry.MAXIMUM_RETRY_DELAY, Math.random() * 2 ** attempts * delayBase));\n\nconst defaultRetryDecider = (error) => {\n    if (!error) {\n        return false;\n    }\n    return serviceErrorClassification.isRetryableByTrait(error) || serviceErrorClassification.isClockSkewError(error) || serviceErrorClassification.isThrottlingError(error) || serviceErrorClassification.isTransientError(error);\n};\n\nconst asSdkError = (error) => {\n    if (error instanceof Error)\n        return error;\n    if (error instanceof Object)\n        return Object.assign(new Error(), error);\n    if (typeof error === \"string\")\n        return new Error(error);\n    return new Error(`AWS SDK error wrapper for ${error}`);\n};\n\nclass StandardRetryStrategy {\n    maxAttemptsProvider;\n    retryDecider;\n    delayDecider;\n    retryQuota;\n    mode = utilRetry.RETRY_MODES.STANDARD;\n    constructor(maxAttemptsProvider, options) {\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.retryDecider = options?.retryDecider ?? defaultRetryDecider;\n        this.delayDecider = options?.delayDecider ?? defaultDelayDecider;\n        this.retryQuota = options?.retryQuota ?? getDefaultRetryQuota(utilRetry.INITIAL_RETRY_TOKENS);\n    }\n    shouldRetry(error, attempts, maxAttempts) {\n        return attempts < maxAttempts && this.retryDecider(error) && this.retryQuota.hasRetryTokens(error);\n    }\n    async getMaxAttempts() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = utilRetry.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    }\n    async retry(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocolHttp.HttpRequest.isInstance(request)) {\n            request.headers[utilRetry.INVOCATION_ID_HEADER] = uuid.v4();\n        }\n        while (true) {\n            try {\n                if (protocolHttp.HttpRequest.isInstance(request)) {\n                    request.headers[utilRetry.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options?.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options?.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = asSdkError(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider(serviceErrorClassification.isThrottlingError(err) ? utilRetry.THROTTLING_RETRY_DELAY_BASE : utilRetry.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) => setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    }\n}\nconst getDelayFromRetryAfterHeader = (response) => {\n    if (!protocolHttp.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) => key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\nclass AdaptiveRetryStrategy extends StandardRetryStrategy {\n    rateLimiter;\n    constructor(maxAttemptsProvider, options) {\n        const { rateLimiter, ...superOptions } = options ?? {};\n        super(maxAttemptsProvider, superOptions);\n        this.rateLimiter = rateLimiter ?? new utilRetry.DefaultRateLimiter();\n        this.mode = utilRetry.RETRY_MODES.ADAPTIVE;\n    }\n    async retry(next, args) {\n        return super.retry(next, args, {\n            beforeRequest: async () => {\n                return this.rateLimiter.getSendToken();\n            },\n            afterRequest: (response) => {\n                this.rateLimiter.updateClientSendingRate(response);\n            },\n        });\n    }\n}\n\nconst ENV_MAX_ATTEMPTS = \"AWS_MAX_ATTEMPTS\";\nconst CONFIG_MAX_ATTEMPTS = \"max_attempts\";\nconst NODE_MAX_ATTEMPT_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => {\n        const value = env[ENV_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        const maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(`Environment variable ${ENV_MAX_ATTEMPTS} mast be a number, got \"${value}\"`);\n        }\n        return maxAttempt;\n    },\n    configFileSelector: (profile) => {\n        const value = profile[CONFIG_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        const maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(`Shared config file entry ${CONFIG_MAX_ATTEMPTS} mast be a number, got \"${value}\"`);\n        }\n        return maxAttempt;\n    },\n    default: utilRetry.DEFAULT_MAX_ATTEMPTS,\n};\nconst resolveRetryConfig = (input) => {\n    const { retryStrategy, retryMode: _retryMode, maxAttempts: _maxAttempts } = input;\n    const maxAttempts = utilMiddleware.normalizeProvider(_maxAttempts ?? utilRetry.DEFAULT_MAX_ATTEMPTS);\n    return Object.assign(input, {\n        maxAttempts,\n        retryStrategy: async () => {\n            if (retryStrategy) {\n                return retryStrategy;\n            }\n            const retryMode = await utilMiddleware.normalizeProvider(_retryMode)();\n            if (retryMode === utilRetry.RETRY_MODES.ADAPTIVE) {\n                return new utilRetry.AdaptiveRetryStrategy(maxAttempts);\n            }\n            return new utilRetry.StandardRetryStrategy(maxAttempts);\n        },\n    });\n};\nconst ENV_RETRY_MODE = \"AWS_RETRY_MODE\";\nconst CONFIG_RETRY_MODE = \"retry_mode\";\nconst NODE_RETRY_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_RETRY_MODE],\n    configFileSelector: (profile) => profile[CONFIG_RETRY_MODE],\n    default: utilRetry.DEFAULT_RETRY_MODE,\n};\n\nconst omitRetryHeadersMiddleware = () => (next) => async (args) => {\n    const { request } = args;\n    if (protocolHttp.HttpRequest.isInstance(request)) {\n        delete request.headers[utilRetry.INVOCATION_ID_HEADER];\n        delete request.headers[utilRetry.REQUEST_HEADER];\n    }\n    return next(args);\n};\nconst omitRetryHeadersMiddlewareOptions = {\n    name: \"omitRetryHeadersMiddleware\",\n    tags: [\"RETRY\", \"HEADERS\", \"OMIT_RETRY_HEADERS\"],\n    relation: \"before\",\n    toMiddleware: \"awsAuthMiddleware\",\n    override: true,\n};\nconst getOmitRetryHeadersPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(omitRetryHeadersMiddleware(), omitRetryHeadersMiddlewareOptions);\n    },\n});\n\nconst retryMiddleware = (options) => (next, context) => async (args) => {\n    let retryStrategy = await options.retryStrategy();\n    const maxAttempts = await options.maxAttempts();\n    if (isRetryStrategyV2(retryStrategy)) {\n        retryStrategy = retryStrategy;\n        let retryToken = await retryStrategy.acquireInitialRetryToken(context[\"partition_id\"]);\n        let lastError = new Error();\n        let attempts = 0;\n        let totalRetryDelay = 0;\n        const { request } = args;\n        const isRequest = protocolHttp.HttpRequest.isInstance(request);\n        if (isRequest) {\n            request.headers[utilRetry.INVOCATION_ID_HEADER] = uuid.v4();\n        }\n        while (true) {\n            try {\n                if (isRequest) {\n                    request.headers[utilRetry.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                const { response, output } = await next(args);\n                retryStrategy.recordSuccess(retryToken);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalRetryDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const retryErrorInfo = getRetryErrorInfo(e);\n                lastError = asSdkError(e);\n                if (isRequest && isStreamingPayload.isStreamingPayload(request)) {\n                    (context.logger instanceof smithyClient.NoOpLogger ? console : context.logger)?.warn(\"An error was encountered in a non-retryable streaming request.\");\n                    throw lastError;\n                }\n                try {\n                    retryToken = await retryStrategy.refreshRetryTokenForRetry(retryToken, retryErrorInfo);\n                }\n                catch (refreshError) {\n                    if (!lastError.$metadata) {\n                        lastError.$metadata = {};\n                    }\n                    lastError.$metadata.attempts = attempts + 1;\n                    lastError.$metadata.totalRetryDelay = totalRetryDelay;\n                    throw lastError;\n                }\n                attempts = retryToken.getRetryCount();\n                const delay = retryToken.getRetryDelay();\n                totalRetryDelay += delay;\n                await new Promise((resolve) => setTimeout(resolve, delay));\n            }\n        }\n    }\n    else {\n        retryStrategy = retryStrategy;\n        if (retryStrategy?.mode)\n            context.userAgent = [...(context.userAgent || []), [\"cfg/retry-mode\", retryStrategy.mode]];\n        return retryStrategy.retry(next, args);\n    }\n};\nconst isRetryStrategyV2 = (retryStrategy) => typeof retryStrategy.acquireInitialRetryToken !== \"undefined\" &&\n    typeof retryStrategy.refreshRetryTokenForRetry !== \"undefined\" &&\n    typeof retryStrategy.recordSuccess !== \"undefined\";\nconst getRetryErrorInfo = (error) => {\n    const errorInfo = {\n        error,\n        errorType: getRetryErrorType(error),\n    };\n    const retryAfterHint = getRetryAfterHint(error.$response);\n    if (retryAfterHint) {\n        errorInfo.retryAfterHint = retryAfterHint;\n    }\n    return errorInfo;\n};\nconst getRetryErrorType = (error) => {\n    if (serviceErrorClassification.isThrottlingError(error))\n        return \"THROTTLING\";\n    if (serviceErrorClassification.isTransientError(error))\n        return \"TRANSIENT\";\n    if (serviceErrorClassification.isServerError(error))\n        return \"SERVER_ERROR\";\n    return \"CLIENT_ERROR\";\n};\nconst retryMiddlewareOptions = {\n    name: \"retryMiddleware\",\n    tags: [\"RETRY\"],\n    step: \"finalizeRequest\",\n    priority: \"high\",\n    override: true,\n};\nconst getRetryPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n    },\n});\nconst getRetryAfterHint = (response) => {\n    if (!protocolHttp.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) => key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return new Date(retryAfterSeconds * 1000);\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate;\n};\n\nexports.AdaptiveRetryStrategy = AdaptiveRetryStrategy;\nexports.CONFIG_MAX_ATTEMPTS = CONFIG_MAX_ATTEMPTS;\nexports.CONFIG_RETRY_MODE = CONFIG_RETRY_MODE;\nexports.ENV_MAX_ATTEMPTS = ENV_MAX_ATTEMPTS;\nexports.ENV_RETRY_MODE = ENV_RETRY_MODE;\nexports.NODE_MAX_ATTEMPT_CONFIG_OPTIONS = NODE_MAX_ATTEMPT_CONFIG_OPTIONS;\nexports.NODE_RETRY_MODE_CONFIG_OPTIONS = NODE_RETRY_MODE_CONFIG_OPTIONS;\nexports.StandardRetryStrategy = StandardRetryStrategy;\nexports.defaultDelayDecider = defaultDelayDecider;\nexports.defaultRetryDecider = defaultRetryDecider;\nexports.getOmitRetryHeadersPlugin = getOmitRetryHeadersPlugin;\nexports.getRetryAfterHint = getRetryAfterHint;\nexports.getRetryPlugin = getRetryPlugin;\nexports.omitRetryHeadersMiddleware = omitRetryHeadersMiddleware;\nexports.omitRetryHeadersMiddlewareOptions = omitRetryHeadersMiddlewareOptions;\nexports.resolveRetryConfig = resolveRetryConfig;\nexports.retryMiddleware = retryMiddleware;\nexports.retryMiddlewareOptions = retryMiddlewareOptions;\n", "\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar index_exports = {};\n__export(index_exports, {\n  build: () => build,\n  parse: () => parse,\n  validate: () => validate\n});\nmodule.exports = __toCommonJS(index_exports);\nvar validate = /* @__PURE__ */ __name((str) => typeof str === \"string\" && str.indexOf(\"arn:\") === 0 && str.split(\":\").length >= 6, \"validate\");\nvar parse = /* @__PURE__ */ __name((arn) => {\n  const segments = arn.split(\":\");\n  if (segments.length < 6 || segments[0] !== \"arn\") throw new Error(\"Malformed ARN\");\n  const [\n    ,\n    //Skip \"arn\" literal\n    partition,\n    service,\n    region,\n    accountId,\n    ...resource\n  ] = segments;\n  return {\n    partition,\n    service,\n    region,\n    accountId,\n    resource: resource.join(\":\")\n  };\n}, \"parse\");\nvar build = /* @__PURE__ */ __name((arnObject) => {\n  const { partition = \"aws\", service, region, accountId, resource } = arnObject;\n  if ([service, region, accountId, resource].some((segment) => typeof segment !== \"string\")) {\n    throw new Error(\"Input ARN object is invalid\");\n  }\n  return `arn:${partition}:${service}:${region}:${accountId}:${resource}`;\n}, \"build\");\n// Annotate the CommonJS export names for ESM import in node:\n\n0 && (module.exports = {\n  validate,\n  parse,\n  build\n});\n\n", "'use strict';\n\nvar protocolHttp = require('@smithy/protocol-http');\nvar smithyClient = require('@smithy/smithy-client');\nvar signatureV4 = require('@smithy/signature-v4');\nvar utilConfigProvider = require('@smithy/util-config-provider');\nvar core = require('@aws-sdk/core');\nvar core$1 = require('@smithy/core');\nrequire('@smithy/types');\nvar utilMiddleware = require('@smithy/util-middleware');\nvar utilStream = require('@smithy/util-stream');\nvar utilArnParser = require('@aws-sdk/util-arn-parser');\n\nconst CONTENT_LENGTH_HEADER = \"content-length\";\nconst DECODED_CONTENT_LENGTH_HEADER = \"x-amz-decoded-content-length\";\nfunction checkContentLengthHeader() {\n    return (next, context) => async (args) => {\n        const { request } = args;\n        if (protocolHttp.HttpRequest.isInstance(request)) {\n            if (!(CONTENT_LENGTH_HEADER in request.headers) && !(DECODED_CONTENT_LENGTH_HEADER in request.headers)) {\n                const message = `Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.`;\n                if (typeof context?.logger?.warn === \"function\" && !(context.logger instanceof smithyClient.NoOpLogger)) {\n                    context.logger.warn(message);\n                }\n                else {\n                    console.warn(message);\n                }\n            }\n        }\n        return next({ ...args });\n    };\n}\nconst checkContentLengthHeaderMiddlewareOptions = {\n    step: \"finalizeRequest\",\n    tags: [\"CHECK_CONTENT_LENGTH_HEADER\"],\n    name: \"getCheckContentLengthHeaderPlugin\",\n    override: true,\n};\nconst getCheckContentLengthHeaderPlugin = (unused) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(checkContentLengthHeader(), checkContentLengthHeaderMiddlewareOptions);\n    },\n});\n\nconst regionRedirectEndpointMiddleware = (config) => {\n    return (next, context) => async (args) => {\n        const originalRegion = await config.region();\n        const regionProviderRef = config.region;\n        let unlock = () => { };\n        if (context.__s3RegionRedirect) {\n            Object.defineProperty(config, \"region\", {\n                writable: false,\n                value: async () => {\n                    return context.__s3RegionRedirect;\n                },\n            });\n            unlock = () => Object.defineProperty(config, \"region\", {\n                writable: true,\n                value: regionProviderRef,\n            });\n        }\n        try {\n            const result = await next(args);\n            if (context.__s3RegionRedirect) {\n                unlock();\n                const region = await config.region();\n                if (originalRegion !== region) {\n                    throw new Error(\"Region was not restored following S3 region redirect.\");\n                }\n            }\n            return result;\n        }\n        catch (e) {\n            unlock();\n            throw e;\n        }\n    };\n};\nconst regionRedirectEndpointMiddlewareOptions = {\n    tags: [\"REGION_REDIRECT\", \"S3\"],\n    name: \"regionRedirectEndpointMiddleware\",\n    override: true,\n    relation: \"before\",\n    toMiddleware: \"endpointV2Middleware\",\n};\n\nfunction regionRedirectMiddleware(clientConfig) {\n    return (next, context) => async (args) => {\n        try {\n            return await next(args);\n        }\n        catch (err) {\n            if (clientConfig.followRegionRedirects) {\n                const statusCode = err?.$metadata?.httpStatusCode;\n                const isHeadBucket = context.commandName === \"HeadBucketCommand\";\n                const bucketRegionHeader = err?.$response?.headers?.[\"x-amz-bucket-region\"];\n                if (bucketRegionHeader) {\n                    if (statusCode === 301 ||\n                        (statusCode === 400 && (err?.name === \"IllegalLocationConstraintException\" || isHeadBucket))) {\n                        try {\n                            const actualRegion = bucketRegionHeader;\n                            context.logger?.debug(`Redirecting from ${await clientConfig.region()} to ${actualRegion}`);\n                            context.__s3RegionRedirect = actualRegion;\n                        }\n                        catch (e) {\n                            throw new Error(\"Region redirect failed: \" + e);\n                        }\n                        return next(args);\n                    }\n                }\n            }\n            throw err;\n        }\n    };\n}\nconst regionRedirectMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"REGION_REDIRECT\", \"S3\"],\n    name: \"regionRedirectMiddleware\",\n    override: true,\n};\nconst getRegionRedirectMiddlewarePlugin = (clientConfig) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(regionRedirectMiddleware(clientConfig), regionRedirectMiddlewareOptions);\n        clientStack.addRelativeTo(regionRedirectEndpointMiddleware(clientConfig), regionRedirectEndpointMiddlewareOptions);\n    },\n});\n\nconst s3ExpiresMiddleware = (config) => {\n    return (next, context) => async (args) => {\n        const result = await next(args);\n        const { response } = result;\n        if (protocolHttp.HttpResponse.isInstance(response)) {\n            if (response.headers.expires) {\n                response.headers.expiresstring = response.headers.expires;\n                try {\n                    smithyClient.parseRfc7231DateTime(response.headers.expires);\n                }\n                catch (e) {\n                    context.logger?.warn(`AWS SDK Warning for ${context.clientName}::${context.commandName} response parsing (${response.headers.expires}): ${e}`);\n                    delete response.headers.expires;\n                }\n            }\n        }\n        return result;\n    };\n};\nconst s3ExpiresMiddlewareOptions = {\n    tags: [\"S3\"],\n    name: \"s3ExpiresMiddleware\",\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"deserializerMiddleware\",\n};\nconst getS3ExpiresMiddlewarePlugin = (clientConfig) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(s3ExpiresMiddleware(), s3ExpiresMiddlewareOptions);\n    },\n});\n\nclass S3ExpressIdentityCache {\n    data;\n    lastPurgeTime = Date.now();\n    static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS = 30_000;\n    constructor(data = {}) {\n        this.data = data;\n    }\n    get(key) {\n        const entry = this.data[key];\n        if (!entry) {\n            return;\n        }\n        return entry;\n    }\n    set(key, entry) {\n        this.data[key] = entry;\n        return entry;\n    }\n    delete(key) {\n        delete this.data[key];\n    }\n    async purgeExpired() {\n        const now = Date.now();\n        if (this.lastPurgeTime + S3ExpressIdentityCache.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS > now) {\n            return;\n        }\n        for (const key in this.data) {\n            const entry = this.data[key];\n            if (!entry.isRefreshing) {\n                const credential = await entry.identity;\n                if (credential.expiration) {\n                    if (credential.expiration.getTime() < now) {\n                        delete this.data[key];\n                    }\n                }\n            }\n        }\n    }\n}\n\nclass S3ExpressIdentityCacheEntry {\n    _identity;\n    isRefreshing;\n    accessed;\n    constructor(_identity, isRefreshing = false, accessed = Date.now()) {\n        this._identity = _identity;\n        this.isRefreshing = isRefreshing;\n        this.accessed = accessed;\n    }\n    get identity() {\n        this.accessed = Date.now();\n        return this._identity;\n    }\n}\n\nclass S3ExpressIdentityProviderImpl {\n    createSessionFn;\n    cache;\n    static REFRESH_WINDOW_MS = 60_000;\n    constructor(createSessionFn, cache = new S3ExpressIdentityCache()) {\n        this.createSessionFn = createSessionFn;\n        this.cache = cache;\n    }\n    async getS3ExpressIdentity(awsIdentity, identityProperties) {\n        const key = identityProperties.Bucket;\n        const { cache } = this;\n        const entry = cache.get(key);\n        if (entry) {\n            return entry.identity.then((identity) => {\n                const isExpired = (identity.expiration?.getTime() ?? 0) < Date.now();\n                if (isExpired) {\n                    return cache.set(key, new S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;\n                }\n                const isExpiringSoon = (identity.expiration?.getTime() ?? 0) < Date.now() + S3ExpressIdentityProviderImpl.REFRESH_WINDOW_MS;\n                if (isExpiringSoon && !entry.isRefreshing) {\n                    entry.isRefreshing = true;\n                    this.getIdentity(key).then((id) => {\n                        cache.set(key, new S3ExpressIdentityCacheEntry(Promise.resolve(id)));\n                    });\n                }\n                return identity;\n            });\n        }\n        return cache.set(key, new S3ExpressIdentityCacheEntry(this.getIdentity(key))).identity;\n    }\n    async getIdentity(key) {\n        await this.cache.purgeExpired().catch((error) => {\n            console.warn(\"Error while clearing expired entries in S3ExpressIdentityCache: \\n\" + error);\n        });\n        const session = await this.createSessionFn(key);\n        if (!session.Credentials?.AccessKeyId || !session.Credentials?.SecretAccessKey) {\n            throw new Error(\"s3#createSession response credential missing AccessKeyId or SecretAccessKey.\");\n        }\n        const identity = {\n            accessKeyId: session.Credentials.AccessKeyId,\n            secretAccessKey: session.Credentials.SecretAccessKey,\n            sessionToken: session.Credentials.SessionToken,\n            expiration: session.Credentials.Expiration ? new Date(session.Credentials.Expiration) : undefined,\n        };\n        return identity;\n    }\n}\n\nconst S3_EXPRESS_BUCKET_TYPE = \"Directory\";\nconst S3_EXPRESS_BACKEND = \"S3Express\";\nconst S3_EXPRESS_AUTH_SCHEME = \"sigv4-s3express\";\nconst SESSION_TOKEN_QUERY_PARAM = \"X-Amz-S3session-Token\";\nconst SESSION_TOKEN_HEADER = SESSION_TOKEN_QUERY_PARAM.toLowerCase();\nconst NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME = \"AWS_S3_DISABLE_EXPRESS_SESSION_AUTH\";\nconst NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME = \"s3_disable_express_session_auth\";\nconst NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS = {\n    environmentVariableSelector: (env) => utilConfigProvider.booleanSelector(env, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME, utilConfigProvider.SelectorType.ENV),\n    configFileSelector: (profile) => utilConfigProvider.booleanSelector(profile, NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME, utilConfigProvider.SelectorType.CONFIG),\n    default: false,\n};\n\nclass SignatureV4S3Express extends signatureV4.SignatureV4 {\n    async signWithCredentials(requestToSign, credentials, options) {\n        const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n        requestToSign.headers[SESSION_TOKEN_HEADER] = credentials.sessionToken;\n        const privateAccess = this;\n        setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n        return privateAccess.signRequest(requestToSign, options ?? {});\n    }\n    async presignWithCredentials(requestToSign, credentials, options) {\n        const credentialsWithoutSessionToken = getCredentialsWithoutSessionToken(credentials);\n        delete requestToSign.headers[SESSION_TOKEN_HEADER];\n        requestToSign.headers[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        requestToSign.query = requestToSign.query ?? {};\n        requestToSign.query[SESSION_TOKEN_QUERY_PARAM] = credentials.sessionToken;\n        const privateAccess = this;\n        setSingleOverride(privateAccess, credentialsWithoutSessionToken);\n        return this.presign(requestToSign, options);\n    }\n}\nfunction getCredentialsWithoutSessionToken(credentials) {\n    const credentialsWithoutSessionToken = {\n        accessKeyId: credentials.accessKeyId,\n        secretAccessKey: credentials.secretAccessKey,\n        expiration: credentials.expiration,\n    };\n    return credentialsWithoutSessionToken;\n}\nfunction setSingleOverride(privateAccess, credentialsWithoutSessionToken) {\n    const id = setTimeout(() => {\n        throw new Error(\"SignatureV4S3Express credential override was created but not called.\");\n    }, 10);\n    const currentCredentialProvider = privateAccess.credentialProvider;\n    const overrideCredentialsProviderOnce = () => {\n        clearTimeout(id);\n        privateAccess.credentialProvider = currentCredentialProvider;\n        return Promise.resolve(credentialsWithoutSessionToken);\n    };\n    privateAccess.credentialProvider = overrideCredentialsProviderOnce;\n}\n\nconst s3ExpressMiddleware = (options) => {\n    return (next, context) => async (args) => {\n        if (context.endpointV2) {\n            const endpoint = context.endpointV2;\n            const isS3ExpressAuth = endpoint.properties?.authSchemes?.[0]?.name === S3_EXPRESS_AUTH_SCHEME;\n            const isS3ExpressBucket = endpoint.properties?.backend === S3_EXPRESS_BACKEND ||\n                endpoint.properties?.bucketType === S3_EXPRESS_BUCKET_TYPE;\n            if (isS3ExpressBucket) {\n                core.setFeature(context, \"S3_EXPRESS_BUCKET\", \"J\");\n                context.isS3ExpressBucket = true;\n            }\n            if (isS3ExpressAuth) {\n                const requestBucket = args.input.Bucket;\n                if (requestBucket) {\n                    const s3ExpressIdentity = await options.s3ExpressIdentityProvider.getS3ExpressIdentity(await options.credentials(), {\n                        Bucket: requestBucket,\n                    });\n                    context.s3ExpressIdentity = s3ExpressIdentity;\n                    if (protocolHttp.HttpRequest.isInstance(args.request) && s3ExpressIdentity.sessionToken) {\n                        args.request.headers[SESSION_TOKEN_HEADER] = s3ExpressIdentity.sessionToken;\n                    }\n                }\n            }\n        }\n        return next(args);\n    };\n};\nconst s3ExpressMiddlewareOptions = {\n    name: \"s3ExpressMiddleware\",\n    step: \"build\",\n    tags: [\"S3\", \"S3_EXPRESS\"],\n    override: true,\n};\nconst getS3ExpressPlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(s3ExpressMiddleware(options), s3ExpressMiddlewareOptions);\n    },\n});\n\nconst signS3Express = async (s3ExpressIdentity, signingOptions, request, sigV4MultiRegionSigner) => {\n    const signedRequest = await sigV4MultiRegionSigner.signWithCredentials(request, s3ExpressIdentity, {});\n    if (signedRequest.headers[\"X-Amz-Security-Token\"] || signedRequest.headers[\"x-amz-security-token\"]) {\n        throw new Error(\"X-Amz-Security-Token must not be set for s3-express requests.\");\n    }\n    return signedRequest;\n};\n\nconst defaultErrorHandler = (signingProperties) => (error) => {\n    throw error;\n};\nconst defaultSuccessHandler = (httpResponse, signingProperties) => { };\nconst s3ExpressHttpSigningMiddlewareOptions = core$1.httpSigningMiddlewareOptions;\nconst s3ExpressHttpSigningMiddleware = (config) => (next, context) => async (args) => {\n    if (!protocolHttp.HttpRequest.isInstance(args.request)) {\n        return next(args);\n    }\n    const smithyContext = utilMiddleware.getSmithyContext(context);\n    const scheme = smithyContext.selectedHttpAuthScheme;\n    if (!scheme) {\n        throw new Error(`No HttpAuthScheme was selected: unable to sign request`);\n    }\n    const { httpAuthOption: { signingProperties = {} }, identity, signer, } = scheme;\n    let request;\n    if (context.s3ExpressIdentity) {\n        request = await signS3Express(context.s3ExpressIdentity, signingProperties, args.request, await config.signer());\n    }\n    else {\n        request = await signer.sign(args.request, identity, signingProperties);\n    }\n    const output = await next({\n        ...args,\n        request,\n    }).catch((signer.errorHandler || defaultErrorHandler)(signingProperties));\n    (signer.successHandler || defaultSuccessHandler)(output.response, signingProperties);\n    return output;\n};\nconst getS3ExpressHttpSigningPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(s3ExpressHttpSigningMiddleware(config), core$1.httpSigningMiddlewareOptions);\n    },\n});\n\nconst resolveS3Config = (input, { session, }) => {\n    const [s3ClientProvider, CreateSessionCommandCtor] = session;\n    const { forcePathStyle, useAccelerateEndpoint, disableMultiregionAccessPoints, followRegionRedirects, s3ExpressIdentityProvider, bucketEndpoint, expectContinueHeader, } = input;\n    return Object.assign(input, {\n        forcePathStyle: forcePathStyle ?? false,\n        useAccelerateEndpoint: useAccelerateEndpoint ?? false,\n        disableMultiregionAccessPoints: disableMultiregionAccessPoints ?? false,\n        followRegionRedirects: followRegionRedirects ?? false,\n        s3ExpressIdentityProvider: s3ExpressIdentityProvider ??\n            new S3ExpressIdentityProviderImpl(async (key) => s3ClientProvider().send(new CreateSessionCommandCtor({\n                Bucket: key,\n            }))),\n        bucketEndpoint: bucketEndpoint ?? false,\n        expectContinueHeader: expectContinueHeader ?? 2_097_152,\n    });\n};\n\nconst THROW_IF_EMPTY_BODY = {\n    CopyObjectCommand: true,\n    UploadPartCopyCommand: true,\n    CompleteMultipartUploadCommand: true,\n};\nconst MAX_BYTES_TO_INSPECT = 3000;\nconst throw200ExceptionsMiddleware = (config) => (next, context) => async (args) => {\n    const result = await next(args);\n    const { response } = result;\n    if (!protocolHttp.HttpResponse.isInstance(response)) {\n        return result;\n    }\n    const { statusCode, body: sourceBody } = response;\n    if (statusCode < 200 || statusCode >= 300) {\n        return result;\n    }\n    const isSplittableStream = typeof sourceBody?.stream === \"function\" ||\n        typeof sourceBody?.pipe === \"function\" ||\n        typeof sourceBody?.tee === \"function\";\n    if (!isSplittableStream) {\n        return result;\n    }\n    let bodyCopy = sourceBody;\n    let body = sourceBody;\n    if (sourceBody && typeof sourceBody === \"object\" && !(sourceBody instanceof Uint8Array)) {\n        [bodyCopy, body] = await utilStream.splitStream(sourceBody);\n    }\n    response.body = body;\n    const bodyBytes = await collectBody(bodyCopy, {\n        streamCollector: async (stream) => {\n            return utilStream.headStream(stream, MAX_BYTES_TO_INSPECT);\n        },\n    });\n    if (typeof bodyCopy?.destroy === \"function\") {\n        bodyCopy.destroy();\n    }\n    const bodyStringTail = config.utf8Encoder(bodyBytes.subarray(bodyBytes.length - 16));\n    if (bodyBytes.length === 0 && THROW_IF_EMPTY_BODY[context.commandName]) {\n        const err = new Error(\"S3 aborted request\");\n        err.name = \"InternalError\";\n        throw err;\n    }\n    if (bodyStringTail && bodyStringTail.endsWith(\"</Error>\")) {\n        response.statusCode = 400;\n    }\n    return result;\n};\nconst collectBody = (streamBody = new Uint8Array(), context) => {\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\nconst throw200ExceptionsMiddlewareOptions = {\n    relation: \"after\",\n    toMiddleware: \"deserializerMiddleware\",\n    tags: [\"THROW_200_EXCEPTIONS\", \"S3\"],\n    name: \"throw200ExceptionsMiddleware\",\n    override: true,\n};\nconst getThrow200ExceptionsPlugin = (config) => ({\n    applyToStack: (clientStack) => {\n        clientStack.addRelativeTo(throw200ExceptionsMiddleware(config), throw200ExceptionsMiddlewareOptions);\n    },\n});\n\nfunction bucketEndpointMiddleware(options) {\n    return (next, context) => async (args) => {\n        if (options.bucketEndpoint) {\n            const endpoint = context.endpointV2;\n            if (endpoint) {\n                const bucket = args.input.Bucket;\n                if (typeof bucket === \"string\") {\n                    try {\n                        const bucketEndpointUrl = new URL(bucket);\n                        context.endpointV2 = {\n                            ...endpoint,\n                            url: bucketEndpointUrl,\n                        };\n                    }\n                    catch (e) {\n                        const warning = `@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${bucket} could not be parsed as URL.`;\n                        if (context.logger?.constructor?.name === \"NoOpLogger\") {\n                            console.warn(warning);\n                        }\n                        else {\n                            context.logger?.warn?.(warning);\n                        }\n                        throw e;\n                    }\n                }\n            }\n        }\n        return next(args);\n    };\n}\nconst bucketEndpointMiddlewareOptions = {\n    name: \"bucketEndpointMiddleware\",\n    override: true,\n    relation: \"after\",\n    toMiddleware: \"endpointV2Middleware\",\n};\n\nfunction validateBucketNameMiddleware({ bucketEndpoint }) {\n    return (next) => async (args) => {\n        const { input: { Bucket }, } = args;\n        if (!bucketEndpoint && typeof Bucket === \"string\" && !utilArnParser.validate(Bucket) && Bucket.indexOf(\"/\") >= 0) {\n            const err = new Error(`Bucket name shouldn't contain '/', received '${Bucket}'`);\n            err.name = \"InvalidBucketName\";\n            throw err;\n        }\n        return next({ ...args });\n    };\n}\nconst validateBucketNameMiddlewareOptions = {\n    step: \"initialize\",\n    tags: [\"VALIDATE_BUCKET_NAME\"],\n    name: \"validateBucketNameMiddleware\",\n    override: true,\n};\nconst getValidateBucketNamePlugin = (options) => ({\n    applyToStack: (clientStack) => {\n        clientStack.add(validateBucketNameMiddleware(options), validateBucketNameMiddlewareOptions);\n        clientStack.addRelativeTo(bucketEndpointMiddleware(options), bucketEndpointMiddlewareOptions);\n    },\n});\n\nexports.NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS = NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS;\nexports.S3ExpressIdentityCache = S3ExpressIdentityCache;\nexports.S3ExpressIdentityCacheEntry = S3ExpressIdentityCacheEntry;\nexports.S3ExpressIdentityProviderImpl = S3ExpressIdentityProviderImpl;\nexports.SignatureV4S3Express = SignatureV4S3Express;\nexports.checkContentLengthHeader = checkContentLengthHeader;\nexports.checkContentLengthHeaderMiddlewareOptions = checkContentLengthHeaderMiddlewareOptions;\nexports.getCheckContentLengthHeaderPlugin = getCheckContentLengthHeaderPlugin;\nexports.getRegionRedirectMiddlewarePlugin = getRegionRedirectMiddlewarePlugin;\nexports.getS3ExpiresMiddlewarePlugin = getS3ExpiresMiddlewarePlugin;\nexports.getS3ExpressHttpSigningPlugin = getS3ExpressHttpSigningPlugin;\nexports.getS3ExpressPlugin = getS3ExpressPlugin;\nexports.getThrow200ExceptionsPlugin = getThrow200ExceptionsPlugin;\nexports.getValidateBucketNamePlugin = getValidateBucketNamePlugin;\nexports.regionRedirectEndpointMiddleware = regionRedirectEndpointMiddleware;\nexports.regionRedirectEndpointMiddlewareOptions = regionRedirectEndpointMiddlewareOptions;\nexports.regionRedirectMiddleware = regionRedirectMiddleware;\nexports.regionRedirectMiddlewareOptions = regionRedirectMiddlewareOptions;\nexports.resolveS3Config = resolveS3Config;\nexports.s3ExpiresMiddleware = s3ExpiresMiddleware;\nexports.s3ExpiresMiddlewareOptions = s3ExpiresMiddlewareOptions;\nexports.s3ExpressHttpSigningMiddleware = s3ExpressHttpSigningMiddleware;\nexports.s3ExpressHttpSigningMiddlewareOptions = s3ExpressHttpSigningMiddlewareOptions;\nexports.s3ExpressMiddleware = s3ExpressMiddleware;\nexports.s3ExpressMiddlewareOptions = s3ExpressMiddlewareOptions;\nexports.throw200ExceptionsMiddleware = throw200ExceptionsMiddleware;\nexports.throw200ExceptionsMiddlewareOptions = throw200ExceptionsMiddlewareOptions;\nexports.validateBucketNameMiddleware = validateBucketNameMiddleware;\nexports.validateBucketNameMiddlewareOptions = validateBucketNameMiddlewareOptions;\n", "'use strict';\n\nvar middlewareSdkS3 = require('@aws-sdk/middleware-sdk-s3');\nvar signatureV4 = require('@smithy/signature-v4');\n\nconst signatureV4CrtContainer = {\n    CrtSignerV4: null,\n};\n\nclass SignatureV4MultiRegion {\n    sigv4aSigner;\n    sigv4Signer;\n    signerOptions;\n    static sigv4aDependency() {\n        if (typeof signatureV4CrtContainer.CrtSignerV4 === \"function\") {\n            return \"crt\";\n        }\n        else if (typeof signatureV4.signatureV4aContainer.SignatureV4a === \"function\") {\n            return \"js\";\n        }\n        return \"none\";\n    }\n    constructor(options) {\n        this.sigv4Signer = new middlewareSdkS3.SignatureV4S3Express(options);\n        this.signerOptions = options;\n    }\n    async sign(requestToSign, options = {}) {\n        if (options.signingRegion === \"*\") {\n            return this.getSigv4aSigner().sign(requestToSign, options);\n        }\n        return this.sigv4Signer.sign(requestToSign, options);\n    }\n    async signWithCredentials(requestToSign, credentials, options = {}) {\n        if (options.signingRegion === \"*\") {\n            const signer = this.getSigv4aSigner();\n            const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;\n            if (CrtSignerV4 && signer instanceof CrtSignerV4) {\n                return signer.signWithCredentials(requestToSign, credentials, options);\n            }\n            else {\n                throw new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. ` +\n                    `Please check whether you have installed the \"@aws-sdk/signature-v4-crt\" package explicitly. ` +\n                    `You must also register the package by calling [require(\"@aws-sdk/signature-v4-crt\");] ` +\n                    `or an ESM equivalent such as [import \"@aws-sdk/signature-v4-crt\";]. ` +\n                    `For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);\n            }\n        }\n        return this.sigv4Signer.signWithCredentials(requestToSign, credentials, options);\n    }\n    async presign(originalRequest, options = {}) {\n        if (options.signingRegion === \"*\") {\n            const signer = this.getSigv4aSigner();\n            const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;\n            if (CrtSignerV4 && signer instanceof CrtSignerV4) {\n                return signer.presign(originalRequest, options);\n            }\n            else {\n                throw new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. ` +\n                    `Please check whether you have installed the \"@aws-sdk/signature-v4-crt\" package explicitly. ` +\n                    `You must also register the package by calling [require(\"@aws-sdk/signature-v4-crt\");] ` +\n                    `or an ESM equivalent such as [import \"@aws-sdk/signature-v4-crt\";]. ` +\n                    `For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);\n            }\n        }\n        return this.sigv4Signer.presign(originalRequest, options);\n    }\n    async presignWithCredentials(originalRequest, credentials, options = {}) {\n        if (options.signingRegion === \"*\") {\n            throw new Error(\"Method presignWithCredentials is not supported for [signingRegion=*].\");\n        }\n        return this.sigv4Signer.presignWithCredentials(originalRequest, credentials, options);\n    }\n    getSigv4aSigner() {\n        if (!this.sigv4aSigner) {\n            const CrtSignerV4 = signatureV4CrtContainer.CrtSignerV4;\n            const JsSigV4aSigner = signatureV4.signatureV4aContainer.SignatureV4a;\n            if (this.signerOptions.runtime === \"node\") {\n                if (!CrtSignerV4 && !JsSigV4aSigner) {\n                    throw new Error(\"Neither CRT nor JS SigV4a implementation is available. \" +\n                        \"Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. \" +\n                        \"For more information please go to \" +\n                        \"https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt\");\n                }\n                if (CrtSignerV4 && typeof CrtSignerV4 === \"function\") {\n                    this.sigv4aSigner = new CrtSignerV4({\n                        ...this.signerOptions,\n                        signingAlgorithm: 1,\n                    });\n                }\n                else if (JsSigV4aSigner && typeof JsSigV4aSigner === \"function\") {\n                    this.sigv4aSigner = new JsSigV4aSigner({\n                        ...this.signerOptions,\n                    });\n                }\n                else {\n                    throw new Error(\"Available SigV4a implementation is not a valid constructor. \" +\n                        \"Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.\" +\n                        \"For more information please go to \" +\n                        \"https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt\");\n                }\n            }\n            else {\n                if (!JsSigV4aSigner || typeof JsSigV4aSigner !== \"function\") {\n                    throw new Error(\"JS SigV4a implementation is not available or not a valid constructor. \" +\n                        \"Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. \" +\n                        \"You must also register the package by calling [require('@aws-sdk/signature-v4a');] \" +\n                        \"or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. \" +\n                        \"For more information please go to \" +\n                        \"https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a\");\n                }\n                this.sigv4aSigner = new JsSigV4aSigner({\n                    ...this.signerOptions,\n                });\n            }\n        }\n        return this.sigv4aSigner;\n    }\n}\n\nexports.SignatureV4MultiRegion = SignatureV4MultiRegion;\nexports.signatureV4CrtContainer = signatureV4CrtContainer;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ruleSet = void 0;\nconst E = \"required\", F = \"type\", G = \"fn\", H = \"argv\", I = \"ref\";\nconst a = false, b = true, c = \"isSet\", d = \"stringEquals\", e = \"getAttr\", f = \"booleanEquals\", g = \"endpoint\", h = \"tree\", i = \"error\", j = { [E]: false, [F]: \"string\" }, k = { [E]: true, \"default\": false, [F]: \"boolean\" }, l = { [I]: \"Endpoint\" }, m = { [G]: c, [H]: [{ [I]: \"Region\" }] }, n = { [I]: \"Region\" }, o = { [G]: \"aws.partition\", [H]: [n], \"assign\": \"PartitionResult\" }, p = { [I]: \"PartitionResult\" }, q = { [G]: f, [H]: [{ [I]: \"UseFIPS\" }, true] }, r = { [I]: \"UseFIPS\" }, s = { [G]: f, [H]: [{ [I]: \"UseDualStack\" }, true] }, t = { \"url\": \"https://events.{Region}.{PartitionResult#dualStackDnsSuffix}\", \"properties\": {}, \"headers\": {} }, u = {}, v = { [I]: \"EndpointId\" }, w = { \"authSchemes\": [{ \"name\": \"sigv4a\", \"signingName\": \"events\", \"signingRegionSet\": [\"*\"] }] }, x = { [G]: f, [H]: [true, { [G]: e, [H]: [p, \"supportsDualStack\"] }] }, y = { [i]: \"DualStack is enabled but this partition does not support DualStack\", [F]: i }, z = { [G]: e, [H]: [p, \"supportsFIPS\"] }, A = [{ [G]: c, [H]: [l] }], B = [s], C = [x], D = [q];\nconst _data = { version: \"1.0\", parameters: { Region: j, UseDualStack: k, UseFIPS: k, Endpoint: j, EndpointId: j }, rules: [{ conditions: [{ [G]: \"not\", [H]: A }, m, o, { [G]: d, [H]: [{ [G]: e, [H]: [p, \"name\"] }, \"aws-us-gov\"] }, q, s], endpoint: t, [F]: g }, { conditions: [{ [G]: c, [H]: [v] }, m, o], rules: [{ conditions: [{ [G]: \"isValidHostLabel\", [H]: [v, b] }], rules: [{ conditions: [{ [G]: f, [H]: [r, a] }], rules: [{ conditions: A, endpoint: { url: l, properties: w, headers: u }, [F]: g }, { conditions: B, rules: [{ conditions: C, rules: [{ endpoint: { url: \"https://{EndpointId}.endpoint.events.{PartitionResult#dualStackDnsSuffix}\", properties: w, headers: u }, [F]: g }], [F]: h }, y], [F]: h }, { endpoint: { url: \"https://{EndpointId}.endpoint.events.{PartitionResult#dnsSuffix}\", properties: w, headers: u }, [F]: g }], [F]: h }, { error: \"Invalid Configuration: FIPS is not supported with EventBridge multi-region endpoints.\", [F]: i }], [F]: h }, { error: \"EndpointId must be a valid host label.\", [F]: i }], [F]: h }, { conditions: A, rules: [{ conditions: D, error: \"Invalid Configuration: FIPS and custom endpoint are not supported\", [F]: i }, { conditions: B, error: \"Invalid Configuration: Dualstack and custom endpoint are not supported\", [F]: i }, { endpoint: { url: l, properties: u, headers: u }, [F]: g }], [F]: h }, { conditions: [m], rules: [{ conditions: [o], rules: [{ conditions: [q, s], rules: [{ conditions: [{ [G]: f, [H]: [b, z] }, x], rules: [{ endpoint: { url: \"https://events-fips.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: u, headers: u }, [F]: g }], [F]: h }, { error: \"FIPS and DualStack are enabled, but this partition does not support one or both\", [F]: i }], [F]: h }, { conditions: D, rules: [{ conditions: [{ [G]: f, [H]: [z, b] }], rules: [{ conditions: [{ [G]: d, [H]: [n, \"us-gov-east-1\"] }], endpoint: { url: \"https://events.us-gov-east-1.amazonaws.com\", properties: u, headers: u }, [F]: g }, { conditions: [{ [G]: d, [H]: [n, \"us-gov-west-1\"] }], endpoint: { url: \"https://events.us-gov-west-1.amazonaws.com\", properties: u, headers: u }, [F]: g }, { endpoint: { url: \"https://events-fips.{Region}.{PartitionResult#dnsSuffix}\", properties: u, headers: u }, [F]: g }], [F]: h }, { error: \"FIPS is enabled but this partition does not support FIPS\", [F]: i }], [F]: h }, { conditions: B, rules: [{ conditions: C, rules: [{ endpoint: t, [F]: g }], [F]: h }, y], [F]: h }, { endpoint: { url: \"https://events.{Region}.{PartitionResult#dnsSuffix}\", properties: u, headers: u }, [F]: g }], [F]: h }], [F]: h }, { error: \"Invalid Configuration: Missing Region\", [F]: i }] };\nexports.ruleSet = _data;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultEndpointResolver = void 0;\nconst util_endpoints_1 = require(\"@aws-sdk/util-endpoints\");\nconst util_endpoints_2 = require(\"@smithy/util-endpoints\");\nconst ruleset_1 = require(\"./ruleset\");\nconst cache = new util_endpoints_2.EndpointCache({\n    size: 50,\n    params: [\"Endpoint\", \"EndpointId\", \"Region\", \"UseDualStack\", \"UseFIPS\"],\n});\nconst defaultEndpointResolver = (endpointParams, context = {}) => {\n    return cache.get(endpointParams, () => (0, util_endpoints_2.resolveEndpoint)(ruleset_1.ruleSet, {\n        endpointParams: endpointParams,\n        logger: context.logger,\n    }));\n};\nexports.defaultEndpointResolver = defaultEndpointResolver;\nutil_endpoints_2.customEndpointFunctions.aws = util_endpoints_1.awsEndpointFunctions;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveHttpAuthSchemeConfig = exports.defaultEventBridgeHttpAuthSchemeProvider = exports.defaultEventBridgeHttpAuthSchemeParametersProvider = void 0;\nconst core_1 = require(\"@aws-sdk/core\");\nconst signature_v4_multi_region_1 = require(\"@aws-sdk/signature-v4-multi-region\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint\");\nconst util_middleware_1 = require(\"@smithy/util-middleware\");\nconst endpointResolver_1 = require(\"../endpoint/endpointResolver\");\nconst createEndpointRuleSetHttpAuthSchemeParametersProvider = (defaultHttpAuthSchemeParametersProvider) => async (config, context, input) => {\n    if (!input) {\n        throw new Error(`Could not find \\`input\\` for \\`defaultEndpointRuleSetHttpAuthSchemeParametersProvider\\``);\n    }\n    const defaultParameters = await defaultHttpAuthSchemeParametersProvider(config, context, input);\n    const instructionsFn = (0, util_middleware_1.getSmithyContext)(context)?.commandInstance?.constructor\n        ?.getEndpointParameterInstructions;\n    if (!instructionsFn) {\n        throw new Error(`getEndpointParameterInstructions() is not defined on \\`${context.commandName}\\``);\n    }\n    const endpointParameters = await (0, middleware_endpoint_1.resolveParams)(input, { getEndpointParameterInstructions: instructionsFn }, config);\n    return Object.assign(defaultParameters, endpointParameters);\n};\nconst _defaultEventBridgeHttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: (0, util_middleware_1.getSmithyContext)(context).operation,\n        region: (await (0, util_middleware_1.normalizeProvider)(config.region)()) ||\n            (() => {\n                throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n            })(),\n    };\n};\nexports.defaultEventBridgeHttpAuthSchemeParametersProvider = createEndpointRuleSetHttpAuthSchemeParametersProvider(_defaultEventBridgeHttpAuthSchemeParametersProvider);\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"events\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nfunction createAwsAuthSigv4aHttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4a\",\n        signingProperties: {\n            name: \"events\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nconst createEndpointRuleSetHttpAuthSchemeProvider = (defaultEndpointResolver, defaultHttpAuthSchemeResolver, createHttpAuthOptionFunctions) => {\n    const endpointRuleSetHttpAuthSchemeProvider = (authParameters) => {\n        const endpoint = defaultEndpointResolver(authParameters);\n        const authSchemes = endpoint.properties?.authSchemes;\n        if (!authSchemes) {\n            return defaultHttpAuthSchemeResolver(authParameters);\n        }\n        const options = [];\n        for (const scheme of authSchemes) {\n            const { name: resolvedName, properties = {}, ...rest } = scheme;\n            const name = resolvedName.toLowerCase();\n            if (resolvedName !== name) {\n                console.warn(`HttpAuthScheme has been normalized with lowercasing: \\`${resolvedName}\\` to \\`${name}\\``);\n            }\n            let schemeId;\n            if (name === \"sigv4a\") {\n                schemeId = \"aws.auth#sigv4a\";\n                const sigv4Present = authSchemes.find((s) => {\n                    const name = s.name.toLowerCase();\n                    return name !== \"sigv4a\" && name.startsWith(\"sigv4\");\n                });\n                if (signature_v4_multi_region_1.SignatureV4MultiRegion.sigv4aDependency() === \"none\" && sigv4Present) {\n                    continue;\n                }\n            }\n            else if (name.startsWith(\"sigv4\")) {\n                schemeId = \"aws.auth#sigv4\";\n            }\n            else {\n                throw new Error(`Unknown HttpAuthScheme found in \\`@smithy.rules#endpointRuleSet\\`: \\`${name}\\``);\n            }\n            const createOption = createHttpAuthOptionFunctions[schemeId];\n            if (!createOption) {\n                throw new Error(`Could not find HttpAuthOption create function for \\`${schemeId}\\``);\n            }\n            const option = createOption(authParameters);\n            option.schemeId = schemeId;\n            option.signingProperties = { ...(option.signingProperties || {}), ...rest, ...properties };\n            options.push(option);\n        }\n        return options;\n    };\n    return endpointRuleSetHttpAuthSchemeProvider;\n};\nconst _defaultEventBridgeHttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n            options.push(createAwsAuthSigv4aHttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexports.defaultEventBridgeHttpAuthSchemeProvider = createEndpointRuleSetHttpAuthSchemeProvider(endpointResolver_1.defaultEndpointResolver, _defaultEventBridgeHttpAuthSchemeProvider, {\n    \"aws.auth#sigv4\": createAwsAuthSigv4HttpAuthOption,\n    \"aws.auth#sigv4a\": createAwsAuthSigv4aHttpAuthOption,\n});\nconst resolveHttpAuthSchemeConfig = (config) => {\n    const config_0 = (0, core_1.resolveAwsSdkSigV4Config)(config);\n    const config_1 = (0, core_1.resolveAwsSdkSigV4AConfig)(config_0);\n    return Object.assign(config_1, {\n        authSchemePreference: (0, util_middleware_1.normalizeProvider)(config.authSchemePreference ?? []),\n    });\n};\nexports.resolveHttpAuthSchemeConfig = resolveHttpAuthSchemeConfig;\n", "{\n  \"name\": \"@aws-sdk/client-eventbridge\",\n  \"description\": \"AWS SDK for JavaScript Eventbridge Client for Node.js, Browser and React Native\",\n  \"version\": \"3.929.0\",\n  \"scripts\": {\n    \"build\": \"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'\",\n    \"build:cjs\": \"node ../../scripts/compilation/inline client-eventbridge\",\n    \"build:es\": \"tsc -p tsconfig.es.json\",\n    \"build:include:deps\": \"lerna run --scope $npm_package_name --include-dependencies build\",\n    \"build:types\": \"tsc -p tsconfig.types.json\",\n    \"build:types:downlevel\": \"downlevel-dts dist-types dist-types/ts3.4\",\n    \"clean\": \"rimraf ./dist-* && rimraf *.tsbuildinfo\",\n    \"extract:docs\": \"api-extractor run --local\",\n    \"generate:client\": \"node ../../scripts/generate-clients/single-service --solo eventbridge\",\n    \"test\": \"yarn g:vitest run\",\n    \"test:watch\": \"yarn g:vitest watch\"\n  },\n  \"main\": \"./dist-cjs/index.js\",\n  \"types\": \"./dist-types/index.d.ts\",\n  \"module\": \"./dist-es/index.js\",\n  \"sideEffects\": false,\n  \"dependencies\": {\n    \"@aws-crypto/sha256-browser\": \"5.2.0\",\n    \"@aws-crypto/sha256-js\": \"5.2.0\",\n    \"@aws-sdk/core\": \"3.928.0\",\n    \"@aws-sdk/credential-provider-node\": \"3.929.0\",\n    \"@aws-sdk/middleware-host-header\": \"3.922.0\",\n    \"@aws-sdk/middleware-logger\": \"3.922.0\",\n    \"@aws-sdk/middleware-recursion-detection\": \"3.922.0\",\n    \"@aws-sdk/middleware-user-agent\": \"3.928.0\",\n    \"@aws-sdk/region-config-resolver\": \"3.925.0\",\n    \"@aws-sdk/signature-v4-multi-region\": \"3.928.0\",\n    \"@aws-sdk/types\": \"3.922.0\",\n    \"@aws-sdk/util-endpoints\": \"3.922.0\",\n    \"@aws-sdk/util-user-agent-browser\": \"3.922.0\",\n    \"@aws-sdk/util-user-agent-node\": \"3.928.0\",\n    \"@smithy/config-resolver\": \"^4.4.2\",\n    \"@smithy/core\": \"^3.17.2\",\n    \"@smithy/fetch-http-handler\": \"^5.3.5\",\n    \"@smithy/hash-node\": \"^4.2.4\",\n    \"@smithy/invalid-dependency\": \"^4.2.4\",\n    \"@smithy/middleware-content-length\": \"^4.2.4\",\n    \"@smithy/middleware-endpoint\": \"^4.3.6\",\n    \"@smithy/middleware-retry\": \"^4.4.6\",\n    \"@smithy/middleware-serde\": \"^4.2.4\",\n    \"@smithy/middleware-stack\": \"^4.2.4\",\n    \"@smithy/node-config-provider\": \"^4.3.4\",\n    \"@smithy/node-http-handler\": \"^4.4.4\",\n    \"@smithy/protocol-http\": \"^5.3.4\",\n    \"@smithy/smithy-client\": \"^4.9.2\",\n    \"@smithy/types\": \"^4.8.1\",\n    \"@smithy/url-parser\": \"^4.2.4\",\n    \"@smithy/util-base64\": \"^4.3.0\",\n    \"@smithy/util-body-length-browser\": \"^4.2.0\",\n    \"@smithy/util-body-length-node\": \"^4.2.1\",\n    \"@smithy/util-defaults-mode-browser\": \"^4.3.5\",\n    \"@smithy/util-defaults-mode-node\": \"^4.2.8\",\n    \"@smithy/util-endpoints\": \"^3.2.4\",\n    \"@smithy/util-middleware\": \"^4.2.4\",\n    \"@smithy/util-retry\": \"^4.2.4\",\n    \"@smithy/util-utf8\": \"^4.2.0\",\n    \"tslib\": \"^2.6.2\"\n  },\n  \"devDependencies\": {\n    \"@aws-sdk/signature-v4-crt\": \"3.928.0\",\n    \"@tsconfig/node18\": \"18.2.4\",\n    \"@types/node\": \"^18.19.69\",\n    \"concurrently\": \"7.0.0\",\n    \"downlevel-dts\": \"0.10.1\",\n    \"rimraf\": \"3.0.2\",\n    \"typescript\": \"~5.8.3\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"typesVersions\": {\n    \"<4.0\": {\n      \"dist-types/*\": [\n        \"dist-types/ts3.4/*\"\n      ]\n    }\n  },\n  \"files\": [\n    \"dist-*/**\"\n  ],\n  \"author\": {\n    \"name\": \"AWS SDK for JavaScript Team\",\n    \"url\": \"https://aws.amazon.com/javascript/\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"browser\": {\n    \"./dist-es/runtimeConfig\": \"./dist-es/runtimeConfig.browser\"\n  },\n  \"react-native\": {\n    \"./dist-es/runtimeConfig\": \"./dist-es/runtimeConfig.native\"\n  },\n  \"homepage\": \"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-eventbridge\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/aws/aws-sdk-js-v3.git\",\n    \"directory\": \"clients/client-eventbridge\"\n  }\n}\n", "'use strict';\n\nvar client = require('@aws-sdk/core/client');\nvar propertyProvider = require('@smithy/property-provider');\n\nconst ENV_KEY = \"AWS_ACCESS_KEY_ID\";\nconst ENV_SECRET = \"AWS_SECRET_ACCESS_KEY\";\nconst ENV_SESSION = \"AWS_SESSION_TOKEN\";\nconst ENV_EXPIRATION = \"AWS_CREDENTIAL_EXPIRATION\";\nconst ENV_CREDENTIAL_SCOPE = \"AWS_CREDENTIAL_SCOPE\";\nconst ENV_ACCOUNT_ID = \"AWS_ACCOUNT_ID\";\nconst fromEnv = (init) => async () => {\n    init?.logger?.debug(\"@aws-sdk/credential-provider-env - fromEnv\");\n    const accessKeyId = process.env[ENV_KEY];\n    const secretAccessKey = process.env[ENV_SECRET];\n    const sessionToken = process.env[ENV_SESSION];\n    const expiry = process.env[ENV_EXPIRATION];\n    const credentialScope = process.env[ENV_CREDENTIAL_SCOPE];\n    const accountId = process.env[ENV_ACCOUNT_ID];\n    if (accessKeyId && secretAccessKey) {\n        const credentials = {\n            accessKeyId,\n            secretAccessKey,\n            ...(sessionToken && { sessionToken }),\n            ...(expiry && { expiration: new Date(expiry) }),\n            ...(credentialScope && { credentialScope }),\n            ...(accountId && { accountId }),\n        };\n        client.setCredentialFeature(credentials, \"CREDENTIALS_ENV_VARS\", \"g\");\n        return credentials;\n    }\n    throw new propertyProvider.CredentialsProviderError(\"Unable to find environment variable credentials.\", { logger: init?.logger });\n};\n\nexports.ENV_ACCOUNT_ID = ENV_ACCOUNT_ID;\nexports.ENV_CREDENTIAL_SCOPE = ENV_CREDENTIAL_SCOPE;\nexports.ENV_EXPIRATION = ENV_EXPIRATION;\nexports.ENV_KEY = ENV_KEY;\nexports.ENV_SECRET = ENV_SECRET;\nexports.ENV_SESSION = ENV_SESSION;\nexports.fromEnv = fromEnv;\n", "'use strict';\n\nvar propertyProvider = require('@smithy/property-provider');\nvar url = require('url');\nvar buffer = require('buffer');\nvar http = require('http');\nvar nodeConfigProvider = require('@smithy/node-config-provider');\nvar urlParser = require('@smithy/url-parser');\n\nfunction httpRequest(options) {\n    return new Promise((resolve, reject) => {\n        const req = http.request({\n            method: \"GET\",\n            ...options,\n            hostname: options.hostname?.replace(/^\\[(.+)\\]$/, \"$1\"),\n        });\n        req.on(\"error\", (err) => {\n            reject(Object.assign(new propertyProvider.ProviderError(\"Unable to connect to instance metadata service\"), err));\n            req.destroy();\n        });\n        req.on(\"timeout\", () => {\n            reject(new propertyProvider.ProviderError(\"TimeoutError from instance metadata service\"));\n            req.destroy();\n        });\n        req.on(\"response\", (res) => {\n            const { statusCode = 400 } = res;\n            if (statusCode < 200 || 300 <= statusCode) {\n                reject(Object.assign(new propertyProvider.ProviderError(\"Error response received from instance metadata service\"), { statusCode }));\n                req.destroy();\n            }\n            const chunks = [];\n            res.on(\"data\", (chunk) => {\n                chunks.push(chunk);\n            });\n            res.on(\"end\", () => {\n                resolve(buffer.Buffer.concat(chunks));\n                req.destroy();\n            });\n        });\n        req.end();\n    });\n}\n\nconst isImdsCredentials = (arg) => Boolean(arg) &&\n    typeof arg === \"object\" &&\n    typeof arg.AccessKeyId === \"string\" &&\n    typeof arg.SecretAccessKey === \"string\" &&\n    typeof arg.Token === \"string\" &&\n    typeof arg.Expiration === \"string\";\nconst fromImdsCredentials = (creds) => ({\n    accessKeyId: creds.AccessKeyId,\n    secretAccessKey: creds.SecretAccessKey,\n    sessionToken: creds.Token,\n    expiration: new Date(creds.Expiration),\n    ...(creds.AccountId && { accountId: creds.AccountId }),\n});\n\nconst DEFAULT_TIMEOUT = 1000;\nconst DEFAULT_MAX_RETRIES = 0;\nconst providerConfigFromInit = ({ maxRetries = DEFAULT_MAX_RETRIES, timeout = DEFAULT_TIMEOUT, }) => ({ maxRetries, timeout });\n\nconst retry = (toRetry, maxRetries) => {\n    let promise = toRetry();\n    for (let i = 0; i < maxRetries; i++) {\n        promise = promise.catch(toRetry);\n    }\n    return promise;\n};\n\nconst ENV_CMDS_FULL_URI = \"AWS_CONTAINER_CREDENTIALS_FULL_URI\";\nconst ENV_CMDS_RELATIVE_URI = \"AWS_CONTAINER_CREDENTIALS_RELATIVE_URI\";\nconst ENV_CMDS_AUTH_TOKEN = \"AWS_CONTAINER_AUTHORIZATION_TOKEN\";\nconst fromContainerMetadata = (init = {}) => {\n    const { timeout, maxRetries } = providerConfigFromInit(init);\n    return () => retry(async () => {\n        const requestOptions = await getCmdsUri({ logger: init.logger });\n        const credsResponse = JSON.parse(await requestFromEcsImds(timeout, requestOptions));\n        if (!isImdsCredentials(credsResponse)) {\n            throw new propertyProvider.CredentialsProviderError(\"Invalid response received from instance metadata service.\", {\n                logger: init.logger,\n            });\n        }\n        return fromImdsCredentials(credsResponse);\n    }, maxRetries);\n};\nconst requestFromEcsImds = async (timeout, options) => {\n    if (process.env[ENV_CMDS_AUTH_TOKEN]) {\n        options.headers = {\n            ...options.headers,\n            Authorization: process.env[ENV_CMDS_AUTH_TOKEN],\n        };\n    }\n    const buffer = await httpRequest({\n        ...options,\n        timeout,\n    });\n    return buffer.toString();\n};\nconst CMDS_IP = \"169.254.170.2\";\nconst GREENGRASS_HOSTS = {\n    localhost: true,\n    \"127.0.0.1\": true,\n};\nconst GREENGRASS_PROTOCOLS = {\n    \"http:\": true,\n    \"https:\": true,\n};\nconst getCmdsUri = async ({ logger }) => {\n    if (process.env[ENV_CMDS_RELATIVE_URI]) {\n        return {\n            hostname: CMDS_IP,\n            path: process.env[ENV_CMDS_RELATIVE_URI],\n        };\n    }\n    if (process.env[ENV_CMDS_FULL_URI]) {\n        const parsed = url.parse(process.env[ENV_CMDS_FULL_URI]);\n        if (!parsed.hostname || !(parsed.hostname in GREENGRASS_HOSTS)) {\n            throw new propertyProvider.CredentialsProviderError(`${parsed.hostname} is not a valid container metadata service hostname`, {\n                tryNextLink: false,\n                logger,\n            });\n        }\n        if (!parsed.protocol || !(parsed.protocol in GREENGRASS_PROTOCOLS)) {\n            throw new propertyProvider.CredentialsProviderError(`${parsed.protocol} is not a valid container metadata service protocol`, {\n                tryNextLink: false,\n                logger,\n            });\n        }\n        return {\n            ...parsed,\n            port: parsed.port ? parseInt(parsed.port, 10) : undefined,\n        };\n    }\n    throw new propertyProvider.CredentialsProviderError(\"The container metadata credential provider cannot be used unless\" +\n        ` the ${ENV_CMDS_RELATIVE_URI} or ${ENV_CMDS_FULL_URI} environment` +\n        \" variable is set\", {\n        tryNextLink: false,\n        logger,\n    });\n};\n\nclass InstanceMetadataV1FallbackError extends propertyProvider.CredentialsProviderError {\n    tryNextLink;\n    name = \"InstanceMetadataV1FallbackError\";\n    constructor(message, tryNextLink = true) {\n        super(message, tryNextLink);\n        this.tryNextLink = tryNextLink;\n        Object.setPrototypeOf(this, InstanceMetadataV1FallbackError.prototype);\n    }\n}\n\nexports.Endpoint = void 0;\n(function (Endpoint) {\n    Endpoint[\"IPv4\"] = \"http://169.254.169.254\";\n    Endpoint[\"IPv6\"] = \"http://[fd00:ec2::254]\";\n})(exports.Endpoint || (exports.Endpoint = {}));\n\nconst ENV_ENDPOINT_NAME = \"AWS_EC2_METADATA_SERVICE_ENDPOINT\";\nconst CONFIG_ENDPOINT_NAME = \"ec2_metadata_service_endpoint\";\nconst ENDPOINT_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_ENDPOINT_NAME],\n    configFileSelector: (profile) => profile[CONFIG_ENDPOINT_NAME],\n    default: undefined,\n};\n\nvar EndpointMode;\n(function (EndpointMode) {\n    EndpointMode[\"IPv4\"] = \"IPv4\";\n    EndpointMode[\"IPv6\"] = \"IPv6\";\n})(EndpointMode || (EndpointMode = {}));\n\nconst ENV_ENDPOINT_MODE_NAME = \"AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE\";\nconst CONFIG_ENDPOINT_MODE_NAME = \"ec2_metadata_service_endpoint_mode\";\nconst ENDPOINT_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_ENDPOINT_MODE_NAME],\n    configFileSelector: (profile) => profile[CONFIG_ENDPOINT_MODE_NAME],\n    default: EndpointMode.IPv4,\n};\n\nconst getInstanceMetadataEndpoint = async () => urlParser.parseUrl((await getFromEndpointConfig()) || (await getFromEndpointModeConfig()));\nconst getFromEndpointConfig = async () => nodeConfigProvider.loadConfig(ENDPOINT_CONFIG_OPTIONS)();\nconst getFromEndpointModeConfig = async () => {\n    const endpointMode = await nodeConfigProvider.loadConfig(ENDPOINT_MODE_CONFIG_OPTIONS)();\n    switch (endpointMode) {\n        case EndpointMode.IPv4:\n            return exports.Endpoint.IPv4;\n        case EndpointMode.IPv6:\n            return exports.Endpoint.IPv6;\n        default:\n            throw new Error(`Unsupported endpoint mode: ${endpointMode}.` + ` Select from ${Object.values(EndpointMode)}`);\n    }\n};\n\nconst STATIC_STABILITY_REFRESH_INTERVAL_SECONDS = 5 * 60;\nconst STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS = 5 * 60;\nconst STATIC_STABILITY_DOC_URL = \"https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html\";\nconst getExtendedInstanceMetadataCredentials = (credentials, logger) => {\n    const refreshInterval = STATIC_STABILITY_REFRESH_INTERVAL_SECONDS +\n        Math.floor(Math.random() * STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS);\n    const newExpiration = new Date(Date.now() + refreshInterval * 1000);\n    logger.warn(\"Attempting credential expiration extension due to a credential service availability issue. A refresh of these \" +\n        `credentials will be attempted after ${new Date(newExpiration)}.\\nFor more information, please visit: ` +\n        STATIC_STABILITY_DOC_URL);\n    const originalExpiration = credentials.originalExpiration ?? credentials.expiration;\n    return {\n        ...credentials,\n        ...(originalExpiration ? { originalExpiration } : {}),\n        expiration: newExpiration,\n    };\n};\n\nconst staticStabilityProvider = (provider, options = {}) => {\n    const logger = options?.logger || console;\n    let pastCredentials;\n    return async () => {\n        let credentials;\n        try {\n            credentials = await provider();\n            if (credentials.expiration && credentials.expiration.getTime() < Date.now()) {\n                credentials = getExtendedInstanceMetadataCredentials(credentials, logger);\n            }\n        }\n        catch (e) {\n            if (pastCredentials) {\n                logger.warn(\"Credential renew failed: \", e);\n                credentials = getExtendedInstanceMetadataCredentials(pastCredentials, logger);\n            }\n            else {\n                throw e;\n            }\n        }\n        pastCredentials = credentials;\n        return credentials;\n    };\n};\n\nconst IMDS_PATH = \"/latest/meta-data/iam/security-credentials/\";\nconst IMDS_TOKEN_PATH = \"/latest/api/token\";\nconst AWS_EC2_METADATA_V1_DISABLED = \"AWS_EC2_METADATA_V1_DISABLED\";\nconst PROFILE_AWS_EC2_METADATA_V1_DISABLED = \"ec2_metadata_v1_disabled\";\nconst X_AWS_EC2_METADATA_TOKEN = \"x-aws-ec2-metadata-token\";\nconst fromInstanceMetadata = (init = {}) => staticStabilityProvider(getInstanceMetadataProvider(init), { logger: init.logger });\nconst getInstanceMetadataProvider = (init = {}) => {\n    let disableFetchToken = false;\n    const { logger, profile } = init;\n    const { timeout, maxRetries } = providerConfigFromInit(init);\n    const getCredentials = async (maxRetries, options) => {\n        const isImdsV1Fallback = disableFetchToken || options.headers?.[X_AWS_EC2_METADATA_TOKEN] == null;\n        if (isImdsV1Fallback) {\n            let fallbackBlockedFromProfile = false;\n            let fallbackBlockedFromProcessEnv = false;\n            const configValue = await nodeConfigProvider.loadConfig({\n                environmentVariableSelector: (env) => {\n                    const envValue = env[AWS_EC2_METADATA_V1_DISABLED];\n                    fallbackBlockedFromProcessEnv = !!envValue && envValue !== \"false\";\n                    if (envValue === undefined) {\n                        throw new propertyProvider.CredentialsProviderError(`${AWS_EC2_METADATA_V1_DISABLED} not set in env, checking config file next.`, { logger: init.logger });\n                    }\n                    return fallbackBlockedFromProcessEnv;\n                },\n                configFileSelector: (profile) => {\n                    const profileValue = profile[PROFILE_AWS_EC2_METADATA_V1_DISABLED];\n                    fallbackBlockedFromProfile = !!profileValue && profileValue !== \"false\";\n                    return fallbackBlockedFromProfile;\n                },\n                default: false,\n            }, {\n                profile,\n            })();\n            if (init.ec2MetadataV1Disabled || configValue) {\n                const causes = [];\n                if (init.ec2MetadataV1Disabled)\n                    causes.push(\"credential provider initialization (runtime option ec2MetadataV1Disabled)\");\n                if (fallbackBlockedFromProfile)\n                    causes.push(`config file profile (${PROFILE_AWS_EC2_METADATA_V1_DISABLED})`);\n                if (fallbackBlockedFromProcessEnv)\n                    causes.push(`process environment variable (${AWS_EC2_METADATA_V1_DISABLED})`);\n                throw new InstanceMetadataV1FallbackError(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${causes.join(\", \")}].`);\n            }\n        }\n        const imdsProfile = (await retry(async () => {\n            let profile;\n            try {\n                profile = await getProfile(options);\n            }\n            catch (err) {\n                if (err.statusCode === 401) {\n                    disableFetchToken = false;\n                }\n                throw err;\n            }\n            return profile;\n        }, maxRetries)).trim();\n        return retry(async () => {\n            let creds;\n            try {\n                creds = await getCredentialsFromProfile(imdsProfile, options, init);\n            }\n            catch (err) {\n                if (err.statusCode === 401) {\n                    disableFetchToken = false;\n                }\n                throw err;\n            }\n            return creds;\n        }, maxRetries);\n    };\n    return async () => {\n        const endpoint = await getInstanceMetadataEndpoint();\n        if (disableFetchToken) {\n            logger?.debug(\"AWS SDK Instance Metadata\", \"using v1 fallback (no token fetch)\");\n            return getCredentials(maxRetries, { ...endpoint, timeout });\n        }\n        else {\n            let token;\n            try {\n                token = (await getMetadataToken({ ...endpoint, timeout })).toString();\n            }\n            catch (error) {\n                if (error?.statusCode === 400) {\n                    throw Object.assign(error, {\n                        message: \"EC2 Metadata token request returned error\",\n                    });\n                }\n                else if (error.message === \"TimeoutError\" || [403, 404, 405].includes(error.statusCode)) {\n                    disableFetchToken = true;\n                }\n                logger?.debug(\"AWS SDK Instance Metadata\", \"using v1 fallback (initial)\");\n                return getCredentials(maxRetries, { ...endpoint, timeout });\n            }\n            return getCredentials(maxRetries, {\n                ...endpoint,\n                headers: {\n                    [X_AWS_EC2_METADATA_TOKEN]: token,\n                },\n                timeout,\n            });\n        }\n    };\n};\nconst getMetadataToken = async (options) => httpRequest({\n    ...options,\n    path: IMDS_TOKEN_PATH,\n    method: \"PUT\",\n    headers: {\n        \"x-aws-ec2-metadata-token-ttl-seconds\": \"21600\",\n    },\n});\nconst getProfile = async (options) => (await httpRequest({ ...options, path: IMDS_PATH })).toString();\nconst getCredentialsFromProfile = async (profile, options, init) => {\n    const credentialsResponse = JSON.parse((await httpRequest({\n        ...options,\n        path: IMDS_PATH + profile,\n    })).toString());\n    if (!isImdsCredentials(credentialsResponse)) {\n        throw new propertyProvider.CredentialsProviderError(\"Invalid response received from instance metadata service.\", {\n            logger: init.logger,\n        });\n    }\n    return fromImdsCredentials(credentialsResponse);\n};\n\nexports.DEFAULT_MAX_RETRIES = DEFAULT_MAX_RETRIES;\nexports.DEFAULT_TIMEOUT = DEFAULT_TIMEOUT;\nexports.ENV_CMDS_AUTH_TOKEN = ENV_CMDS_AUTH_TOKEN;\nexports.ENV_CMDS_FULL_URI = ENV_CMDS_FULL_URI;\nexports.ENV_CMDS_RELATIVE_URI = ENV_CMDS_RELATIVE_URI;\nexports.fromContainerMetadata = fromContainerMetadata;\nexports.fromInstanceMetadata = fromInstanceMetadata;\nexports.getInstanceMetadataEndpoint = getInstanceMetadataEndpoint;\nexports.httpRequest = httpRequest;\nexports.providerConfigFromInit = providerConfigFromInit;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkUrl = void 0;\nconst property_provider_1 = require(\"@smithy/property-provider\");\nconst LOOPBACK_CIDR_IPv4 = \"127.0.0.0/8\";\nconst LOOPBACK_CIDR_IPv6 = \"::1/128\";\nconst ECS_CONTAINER_HOST = \"169.254.170.2\";\nconst EKS_CONTAINER_HOST_IPv4 = \"169.254.170.23\";\nconst EKS_CONTAINER_HOST_IPv6 = \"[fd00:ec2::23]\";\nconst checkUrl = (url, logger) => {\n    if (url.protocol === \"https:\") {\n        return;\n    }\n    if (url.hostname === ECS_CONTAINER_HOST ||\n        url.hostname === EKS_CONTAINER_HOST_IPv4 ||\n        url.hostname === EKS_CONTAINER_HOST_IPv6) {\n        return;\n    }\n    if (url.hostname.includes(\"[\")) {\n        if (url.hostname === \"[::1]\" || url.hostname === \"[0000:0000:0000:0000:0000:0000:0000:0001]\") {\n            return;\n        }\n    }\n    else {\n        if (url.hostname === \"localhost\") {\n            return;\n        }\n        const ipComponents = url.hostname.split(\".\");\n        const inRange = (component) => {\n            const num = parseInt(component, 10);\n            return 0 <= num && num <= 255;\n        };\n        if (ipComponents[0] === \"127\" &&\n            inRange(ipComponents[1]) &&\n            inRange(ipComponents[2]) &&\n            inRange(ipComponents[3]) &&\n            ipComponents.length === 4) {\n            return;\n        }\n    }\n    throw new property_provider_1.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]`, { logger });\n};\nexports.checkUrl = checkUrl;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createGetRequest = createGetRequest;\nexports.getCredentials = getCredentials;\nconst property_provider_1 = require(\"@smithy/property-provider\");\nconst protocol_http_1 = require(\"@smithy/protocol-http\");\nconst smithy_client_1 = require(\"@smithy/smithy-client\");\nconst util_stream_1 = require(\"@smithy/util-stream\");\nfunction createGetRequest(url) {\n    return new protocol_http_1.HttpRequest({\n        protocol: url.protocol,\n        hostname: url.hostname,\n        port: Number(url.port),\n        path: url.pathname,\n        query: Array.from(url.searchParams.entries()).reduce((acc, [k, v]) => {\n            acc[k] = v;\n            return acc;\n        }, {}),\n        fragment: url.hash,\n    });\n}\nasync function getCredentials(response, logger) {\n    const stream = (0, util_stream_1.sdkStreamMixin)(response.body);\n    const str = await stream.transformToString();\n    if (response.statusCode === 200) {\n        const parsed = JSON.parse(str);\n        if (typeof parsed.AccessKeyId !== \"string\" ||\n            typeof parsed.SecretAccessKey !== \"string\" ||\n            typeof parsed.Token !== \"string\" ||\n            typeof parsed.Expiration !== \"string\") {\n            throw new property_provider_1.CredentialsProviderError(\"HTTP credential provider response not of the required format, an object matching: \" +\n                \"{ AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }\", { logger });\n        }\n        return {\n            accessKeyId: parsed.AccessKeyId,\n            secretAccessKey: parsed.SecretAccessKey,\n            sessionToken: parsed.Token,\n            expiration: (0, smithy_client_1.parseRfc3339DateTime)(parsed.Expiration),\n        };\n    }\n    if (response.statusCode >= 400 && response.statusCode < 500) {\n        let parsedBody = {};\n        try {\n            parsedBody = JSON.parse(str);\n        }\n        catch (e) { }\n        throw Object.assign(new property_provider_1.CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger }), {\n            Code: parsedBody.Code,\n            Message: parsedBody.Message,\n        });\n    }\n    throw new property_provider_1.CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger });\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.retryWrapper = void 0;\nconst retryWrapper = (toRetry, maxRetries, delayMs) => {\n    return async () => {\n        for (let i = 0; i < maxRetries; ++i) {\n            try {\n                return await toRetry();\n            }\n            catch (e) {\n                await new Promise((resolve) => setTimeout(resolve, delayMs));\n            }\n        }\n        return await toRetry();\n    };\n};\nexports.retryWrapper = retryWrapper;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromHttp = void 0;\nconst tslib_1 = require(\"tslib\");\nconst client_1 = require(\"@aws-sdk/core/client\");\nconst node_http_handler_1 = require(\"@smithy/node-http-handler\");\nconst property_provider_1 = require(\"@smithy/property-provider\");\nconst promises_1 = tslib_1.__importDefault(require(\"fs/promises\"));\nconst checkUrl_1 = require(\"./checkUrl\");\nconst requestHelpers_1 = require(\"./requestHelpers\");\nconst retry_wrapper_1 = require(\"./retry-wrapper\");\nconst AWS_CONTAINER_CREDENTIALS_RELATIVE_URI = \"AWS_CONTAINER_CREDENTIALS_RELATIVE_URI\";\nconst DEFAULT_LINK_LOCAL_HOST = \"http://169.254.170.2\";\nconst AWS_CONTAINER_CREDENTIALS_FULL_URI = \"AWS_CONTAINER_CREDENTIALS_FULL_URI\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE = \"AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN = \"AWS_CONTAINER_AUTHORIZATION_TOKEN\";\nconst fromHttp = (options = {}) => {\n    options.logger?.debug(\"@aws-sdk/credential-provider-http - fromHttp\");\n    let host;\n    const relative = options.awsContainerCredentialsRelativeUri ?? process.env[AWS_CONTAINER_CREDENTIALS_RELATIVE_URI];\n    const full = options.awsContainerCredentialsFullUri ?? process.env[AWS_CONTAINER_CREDENTIALS_FULL_URI];\n    const token = options.awsContainerAuthorizationToken ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN];\n    const tokenFile = options.awsContainerAuthorizationTokenFile ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE];\n    const warn = options.logger?.constructor?.name === \"NoOpLogger\" || !options.logger?.warn\n        ? console.warn\n        : options.logger.warn.bind(options.logger);\n    if (relative && full) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri.\");\n        warn(\"awsContainerCredentialsFullUri will take precedence.\");\n    }\n    if (token && tokenFile) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile.\");\n        warn(\"awsContainerAuthorizationToken will take precedence.\");\n    }\n    if (full) {\n        host = full;\n    }\n    else if (relative) {\n        host = `${DEFAULT_LINK_LOCAL_HOST}${relative}`;\n    }\n    else {\n        throw new property_provider_1.CredentialsProviderError(`No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`, { logger: options.logger });\n    }\n    const url = new URL(host);\n    (0, checkUrl_1.checkUrl)(url, options.logger);\n    const requestHandler = node_http_handler_1.NodeHttpHandler.create({\n        requestTimeout: options.timeout ?? 1000,\n        connectionTimeout: options.timeout ?? 1000,\n    });\n    return (0, retry_wrapper_1.retryWrapper)(async () => {\n        const request = (0, requestHelpers_1.createGetRequest)(url);\n        if (token) {\n            request.headers.Authorization = token;\n        }\n        else if (tokenFile) {\n            request.headers.Authorization = (await promises_1.default.readFile(tokenFile)).toString();\n        }\n        try {\n            const result = await requestHandler.handle(request);\n            return (0, requestHelpers_1.getCredentials)(result.response).then((creds) => (0, client_1.setCredentialFeature)(creds, \"CREDENTIALS_HTTP\", \"z\"));\n        }\n        catch (e) {\n            throw new property_provider_1.CredentialsProviderError(String(e), { logger: options.logger });\n        }\n    }, options.maxRetries ?? 3, options.timeout ?? 1000);\n};\nexports.fromHttp = fromHttp;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromHttp = void 0;\nvar fromHttp_1 = require(\"./fromHttp/fromHttp\");\nObject.defineProperty(exports, \"fromHttp\", { enumerable: true, get: function () { return fromHttp_1.fromHttp; } });\n", "import { resolveAwsSdkSigV4Config, } from \"@aws-sdk/core\";\nimport { getSmithyContext, normalizeProvider } from \"@smithy/util-middleware\";\nexport const defaultSSOOIDCHttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: getSmithyContext(context).operation,\n        region: (await normalizeProvider(config.region)()) ||\n            (() => {\n                throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n            })(),\n    };\n};\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"sso-oauth\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nfunction createSmithyApiNoAuthHttpAuthOption(authParameters) {\n    return {\n        schemeId: \"smithy.api#noAuth\",\n    };\n}\nexport const defaultSSOOIDCHttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        case \"CreateToken\": {\n            options.push(createSmithyApiNoAuthHttpAuthOption(authParameters));\n            break;\n        }\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexport const resolveHttpAuthSchemeConfig = (config) => {\n    const config_0 = resolveAwsSdkSigV4Config(config);\n    return Object.assign(config_0, {\n        authSchemePreference: normalizeProvider(config.authSchemePreference ?? []),\n    });\n};\n", "export const resolveClientEndpointParameters = (options) => {\n    return Object.assign(options, {\n        useDualstackEndpoint: options.useDualstackEndpoint ?? false,\n        useFipsEndpoint: options.useFipsEndpoint ?? false,\n        defaultSigningName: \"sso-oauth\",\n    });\n};\nexport const commonParams = {\n    UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n    Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n    Region: { type: \"builtInParams\", name: \"region\" },\n    UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n};\n", "{\n  \"name\": \"@aws-sdk/nested-clients\",\n  \"version\": \"3.929.0\",\n  \"description\": \"Nested clients for AWS SDK packages.\",\n  \"main\": \"./dist-cjs/index.js\",\n  \"module\": \"./dist-es/index.js\",\n  \"types\": \"./dist-types/index.d.ts\",\n  \"scripts\": {\n    \"build\": \"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'\",\n    \"build:cjs\": \"node ../../scripts/compilation/inline nested-clients\",\n    \"build:es\": \"tsc -p tsconfig.es.json\",\n    \"build:include:deps\": \"lerna run --scope $npm_package_name --include-dependencies build\",\n    \"build:types\": \"tsc -p tsconfig.types.json\",\n    \"build:types:downlevel\": \"downlevel-dts dist-types dist-types/ts3.4\",\n    \"clean\": \"rimraf ./dist-* && rimraf *.tsbuildinfo\",\n    \"lint\": \"node ../../scripts/validation/submodules-linter.js --pkg nested-clients\",\n    \"test\": \"yarn g:vitest run\",\n    \"test:watch\": \"yarn g:vitest watch\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"sideEffects\": false,\n  \"author\": {\n    \"name\": \"AWS SDK for JavaScript Team\",\n    \"url\": \"https://aws.amazon.com/javascript/\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"dependencies\": {\n    \"@aws-crypto/sha256-browser\": \"5.2.0\",\n    \"@aws-crypto/sha256-js\": \"5.2.0\",\n    \"@aws-sdk/core\": \"3.928.0\",\n    \"@aws-sdk/middleware-host-header\": \"3.922.0\",\n    \"@aws-sdk/middleware-logger\": \"3.922.0\",\n    \"@aws-sdk/middleware-recursion-detection\": \"3.922.0\",\n    \"@aws-sdk/middleware-user-agent\": \"3.928.0\",\n    \"@aws-sdk/region-config-resolver\": \"3.925.0\",\n    \"@aws-sdk/types\": \"3.922.0\",\n    \"@aws-sdk/util-endpoints\": \"3.922.0\",\n    \"@aws-sdk/util-user-agent-browser\": \"3.922.0\",\n    \"@aws-sdk/util-user-agent-node\": \"3.928.0\",\n    \"@smithy/config-resolver\": \"^4.4.2\",\n    \"@smithy/core\": \"^3.17.2\",\n    \"@smithy/fetch-http-handler\": \"^5.3.5\",\n    \"@smithy/hash-node\": \"^4.2.4\",\n    \"@smithy/invalid-dependency\": \"^4.2.4\",\n    \"@smithy/middleware-content-length\": \"^4.2.4\",\n    \"@smithy/middleware-endpoint\": \"^4.3.6\",\n    \"@smithy/middleware-retry\": \"^4.4.6\",\n    \"@smithy/middleware-serde\": \"^4.2.4\",\n    \"@smithy/middleware-stack\": \"^4.2.4\",\n    \"@smithy/node-config-provider\": \"^4.3.4\",\n    \"@smithy/node-http-handler\": \"^4.4.4\",\n    \"@smithy/protocol-http\": \"^5.3.4\",\n    \"@smithy/smithy-client\": \"^4.9.2\",\n    \"@smithy/types\": \"^4.8.1\",\n    \"@smithy/url-parser\": \"^4.2.4\",\n    \"@smithy/util-base64\": \"^4.3.0\",\n    \"@smithy/util-body-length-browser\": \"^4.2.0\",\n    \"@smithy/util-body-length-node\": \"^4.2.1\",\n    \"@smithy/util-defaults-mode-browser\": \"^4.3.5\",\n    \"@smithy/util-defaults-mode-node\": \"^4.2.8\",\n    \"@smithy/util-endpoints\": \"^3.2.4\",\n    \"@smithy/util-middleware\": \"^4.2.4\",\n    \"@smithy/util-retry\": \"^4.2.4\",\n    \"@smithy/util-utf8\": \"^4.2.0\",\n    \"tslib\": \"^2.6.2\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"7.0.0\",\n    \"downlevel-dts\": \"0.10.1\",\n    \"rimraf\": \"3.0.2\",\n    \"typescript\": \"~5.8.3\"\n  },\n  \"typesVersions\": {\n    \"<4.0\": {\n      \"dist-types/*\": [\n        \"dist-types/ts3.4/*\"\n      ]\n    }\n  },\n  \"files\": [\n    \"./sso-oidc.d.ts\",\n    \"./sso-oidc.js\",\n    \"./sts.d.ts\",\n    \"./sts.js\",\n    \"dist-*/**\"\n  ],\n  \"browser\": {\n    \"./dist-es/submodules/sso-oidc/runtimeConfig\": \"./dist-es/submodules/sso-oidc/runtimeConfig.browser\",\n    \"./dist-es/submodules/sts/runtimeConfig\": \"./dist-es/submodules/sts/runtimeConfig.browser\"\n  },\n  \"react-native\": {},\n  \"homepage\": \"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/aws/aws-sdk-js-v3.git\",\n    \"directory\": \"packages/nested-clients\"\n  },\n  \"exports\": {\n    \"./sso-oidc\": {\n      \"types\": \"./dist-types/submodules/sso-oidc/index.d.ts\",\n      \"module\": \"./dist-es/submodules/sso-oidc/index.js\",\n      \"node\": \"./dist-cjs/submodules/sso-oidc/index.js\",\n      \"import\": \"./dist-es/submodules/sso-oidc/index.js\",\n      \"require\": \"./dist-cjs/submodules/sso-oidc/index.js\"\n    },\n    \"./sts\": {\n      \"types\": \"./dist-types/submodules/sts/index.d.ts\",\n      \"module\": \"./dist-es/submodules/sts/index.js\",\n      \"node\": \"./dist-cjs/submodules/sts/index.js\",\n      \"import\": \"./dist-es/submodules/sts/index.js\",\n      \"require\": \"./dist-cjs/submodules/sts/index.js\"\n    }\n  }\n}\n", "'use strict';\n\nvar os = require('os');\nvar process = require('process');\nvar middlewareUserAgent = require('@aws-sdk/middleware-user-agent');\n\nconst crtAvailability = {\n    isCrtAvailable: false,\n};\n\nconst isCrtAvailable = () => {\n    if (crtAvailability.isCrtAvailable) {\n        return [\"md/crt-avail\"];\n    }\n    return null;\n};\n\nconst createDefaultUserAgentProvider = ({ serviceId, clientVersion }) => {\n    return async (config) => {\n        const sections = [\n            [\"aws-sdk-js\", clientVersion],\n            [\"ua\", \"2.1\"],\n            [`os/${os.platform()}`, os.release()],\n            [\"lang/js\"],\n            [\"md/nodejs\", `${process.versions.node}`],\n        ];\n        const crtAvailable = isCrtAvailable();\n        if (crtAvailable) {\n            sections.push(crtAvailable);\n        }\n        if (serviceId) {\n            sections.push([`api/${serviceId}`, clientVersion]);\n        }\n        if (process.env.AWS_EXECUTION_ENV) {\n            sections.push([`exec-env/${process.env.AWS_EXECUTION_ENV}`]);\n        }\n        const appId = await config?.userAgentAppId?.();\n        const resolvedUserAgent = appId ? [...sections, [`app/${appId}`]] : [...sections];\n        return resolvedUserAgent;\n    };\n};\nconst defaultUserAgent = createDefaultUserAgentProvider;\n\nconst UA_APP_ID_ENV_NAME = \"AWS_SDK_UA_APP_ID\";\nconst UA_APP_ID_INI_NAME = \"sdk_ua_app_id\";\nconst UA_APP_ID_INI_NAME_DEPRECATED = \"sdk-ua-app-id\";\nconst NODE_APP_ID_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[UA_APP_ID_ENV_NAME],\n    configFileSelector: (profile) => profile[UA_APP_ID_INI_NAME] ?? profile[UA_APP_ID_INI_NAME_DEPRECATED],\n    default: middlewareUserAgent.DEFAULT_UA_APP_ID,\n};\n\nexports.NODE_APP_ID_CONFIG_OPTIONS = NODE_APP_ID_CONFIG_OPTIONS;\nexports.UA_APP_ID_ENV_NAME = UA_APP_ID_ENV_NAME;\nexports.UA_APP_ID_INI_NAME = UA_APP_ID_INI_NAME;\nexports.createDefaultUserAgentProvider = createDefaultUserAgentProvider;\nexports.crtAvailability = crtAvailability;\nexports.defaultUserAgent = defaultUserAgent;\n", "'use strict';\n\nvar utilBufferFrom = require('@smithy/util-buffer-from');\nvar utilUtf8 = require('@smithy/util-utf8');\nvar buffer = require('buffer');\nvar crypto = require('crypto');\n\nclass Hash {\n    algorithmIdentifier;\n    secret;\n    hash;\n    constructor(algorithmIdentifier, secret) {\n        this.algorithmIdentifier = algorithmIdentifier;\n        this.secret = secret;\n        this.reset();\n    }\n    update(toHash, encoding) {\n        this.hash.update(utilUtf8.toUint8Array(castSourceData(toHash, encoding)));\n    }\n    digest() {\n        return Promise.resolve(this.hash.digest());\n    }\n    reset() {\n        this.hash = this.secret\n            ? crypto.createHmac(this.algorithmIdentifier, castSourceData(this.secret))\n            : crypto.createHash(this.algorithmIdentifier);\n    }\n}\nfunction castSourceData(toCast, encoding) {\n    if (buffer.Buffer.isBuffer(toCast)) {\n        return toCast;\n    }\n    if (typeof toCast === \"string\") {\n        return utilBufferFrom.fromString(toCast, encoding);\n    }\n    if (ArrayBuffer.isView(toCast)) {\n        return utilBufferFrom.fromArrayBuffer(toCast.buffer, toCast.byteOffset, toCast.byteLength);\n    }\n    return utilBufferFrom.fromArrayBuffer(toCast);\n}\n\nexports.Hash = Hash;\n", "'use strict';\n\nvar node_fs = require('node:fs');\n\nconst calculateBodyLength = (body) => {\n    if (!body) {\n        return 0;\n    }\n    if (typeof body === \"string\") {\n        return Buffer.byteLength(body);\n    }\n    else if (typeof body.byteLength === \"number\") {\n        return body.byteLength;\n    }\n    else if (typeof body.size === \"number\") {\n        return body.size;\n    }\n    else if (typeof body.start === \"number\" && typeof body.end === \"number\") {\n        return body.end + 1 - body.start;\n    }\n    else if (body instanceof node_fs.ReadStream) {\n        if (body.path != null) {\n            return node_fs.lstatSync(body.path).size;\n        }\n        else if (typeof body.fd === \"number\") {\n            return node_fs.fstatSync(body.fd).size;\n        }\n    }\n    throw new Error(`Body Length computation failed for ${body}`);\n};\n\nexports.calculateBodyLength = calculateBodyLength;\n", "const u = \"required\", v = \"fn\", w = \"argv\", x = \"ref\";\nconst a = true, b = \"isSet\", c = \"booleanEquals\", d = \"error\", e = \"endpoint\", f = \"tree\", g = \"PartitionResult\", h = \"getAttr\", i = { [u]: false, \"type\": \"string\" }, j = { [u]: true, \"default\": false, \"type\": \"boolean\" }, k = { [x]: \"Endpoint\" }, l = { [v]: c, [w]: [{ [x]: \"UseFIPS\" }, true] }, m = { [v]: c, [w]: [{ [x]: \"UseDualStack\" }, true] }, n = {}, o = { [v]: h, [w]: [{ [x]: g }, \"supportsFIPS\"] }, p = { [x]: g }, q = { [v]: c, [w]: [true, { [v]: h, [w]: [p, \"supportsDualStack\"] }] }, r = [l], s = [m], t = [{ [x]: \"Region\" }];\nconst _data = { version: \"1.0\", parameters: { Region: i, UseDualStack: j, UseFIPS: j, Endpoint: i }, rules: [{ conditions: [{ [v]: b, [w]: [k] }], rules: [{ conditions: r, error: \"Invalid Configuration: FIPS and custom endpoint are not supported\", type: d }, { conditions: s, error: \"Invalid Configuration: Dualstack and custom endpoint are not supported\", type: d }, { endpoint: { url: k, properties: n, headers: n }, type: e }], type: f }, { conditions: [{ [v]: b, [w]: t }], rules: [{ conditions: [{ [v]: \"aws.partition\", [w]: t, assign: g }], rules: [{ conditions: [l, m], rules: [{ conditions: [{ [v]: c, [w]: [a, o] }, q], rules: [{ endpoint: { url: \"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: n, headers: n }, type: e }], type: f }, { error: \"FIPS and DualStack are enabled, but this partition does not support one or both\", type: d }], type: f }, { conditions: r, rules: [{ conditions: [{ [v]: c, [w]: [o, a] }], rules: [{ conditions: [{ [v]: \"stringEquals\", [w]: [{ [v]: h, [w]: [p, \"name\"] }, \"aws-us-gov\"] }], endpoint: { url: \"https://oidc.{Region}.amazonaws.com\", properties: n, headers: n }, type: e }, { endpoint: { url: \"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}\", properties: n, headers: n }, type: e }], type: f }, { error: \"FIPS is enabled but this partition does not support FIPS\", type: d }], type: f }, { conditions: s, rules: [{ conditions: [q], rules: [{ endpoint: { url: \"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: n, headers: n }, type: e }], type: f }, { error: \"DualStack is enabled but this partition does not support DualStack\", type: d }], type: f }, { endpoint: { url: \"https://oidc.{Region}.{PartitionResult#dnsSuffix}\", properties: n, headers: n }, type: e }], type: f }], type: f }, { error: \"Invalid Configuration: Missing Region\", type: d }] };\nexport const ruleSet = _data;\n", "import { awsEndpointFunctions } from \"@aws-sdk/util-endpoints\";\nimport { customEndpointFunctions, EndpointCache, resolveEndpoint } from \"@smithy/util-endpoints\";\nimport { ruleSet } from \"./ruleset\";\nconst cache = new EndpointCache({\n    size: 50,\n    params: [\"Endpoint\", \"Region\", \"UseDualStack\", \"UseFIPS\"],\n});\nexport const defaultEndpointResolver = (endpointParams, context = {}) => {\n    return cache.get(endpointParams, () => resolveEndpoint(ruleSet, {\n        endpointParams: endpointParams,\n        logger: context.logger,\n    }));\n};\ncustomEndpointFunctions.aws = awsEndpointFunctions;\n", "import { AwsSdkSigV4Signer } from \"@aws-sdk/core\";\nimport { AwsRestJsonProtocol } from \"@aws-sdk/core/protocols\";\nimport { NoAuthSigner } from \"@smithy/core\";\nimport { NoOpLogger } from \"@smithy/smithy-client\";\nimport { parseUrl } from \"@smithy/url-parser\";\nimport { fromBase64, toBase64 } from \"@smithy/util-base64\";\nimport { fromUtf8, toUtf8 } from \"@smithy/util-utf8\";\nimport { defaultSSOOIDCHttpAuthSchemeProvider } from \"./auth/httpAuthSchemeProvider\";\nimport { defaultEndpointResolver } from \"./endpoint/endpointResolver\";\nexport const getRuntimeConfig = (config) => {\n    return {\n        apiVersion: \"2019-06-10\",\n        base64Decoder: config?.base64Decoder ?? fromBase64,\n        base64Encoder: config?.base64Encoder ?? toBase64,\n        disableHostPrefix: config?.disableHostPrefix ?? false,\n        endpointProvider: config?.endpointProvider ?? defaultEndpointResolver,\n        extensions: config?.extensions ?? [],\n        httpAuthSchemeProvider: config?.httpAuthSchemeProvider ?? defaultSSOOIDCHttpAuthSchemeProvider,\n        httpAuthSchemes: config?.httpAuthSchemes ?? [\n            {\n                schemeId: \"aws.auth#sigv4\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"aws.auth#sigv4\"),\n                signer: new AwsSdkSigV4Signer(),\n            },\n            {\n                schemeId: \"smithy.api#noAuth\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"smithy.api#noAuth\") || (async () => ({})),\n                signer: new NoAuthSigner(),\n            },\n        ],\n        logger: config?.logger ?? new NoOpLogger(),\n        protocol: config?.protocol ?? new AwsRestJsonProtocol({ defaultNamespace: \"com.amazonaws.ssooidc\" }),\n        serviceId: config?.serviceId ?? \"SSO OIDC\",\n        urlParser: config?.urlParser ?? parseUrl,\n        utf8Decoder: config?.utf8Decoder ?? fromUtf8,\n        utf8Encoder: config?.utf8Encoder ?? toUtf8,\n    };\n};\n", "'use strict';\n\nvar configResolver = require('@smithy/config-resolver');\nvar nodeConfigProvider = require('@smithy/node-config-provider');\nvar propertyProvider = require('@smithy/property-provider');\n\nconst AWS_EXECUTION_ENV = \"AWS_EXECUTION_ENV\";\nconst AWS_REGION_ENV = \"AWS_REGION\";\nconst AWS_DEFAULT_REGION_ENV = \"AWS_DEFAULT_REGION\";\nconst ENV_IMDS_DISABLED = \"AWS_EC2_METADATA_DISABLED\";\nconst DEFAULTS_MODE_OPTIONS = [\"in-region\", \"cross-region\", \"mobile\", \"standard\", \"legacy\"];\nconst IMDS_REGION_PATH = \"/latest/meta-data/placement/region\";\n\nconst AWS_DEFAULTS_MODE_ENV = \"AWS_DEFAULTS_MODE\";\nconst AWS_DEFAULTS_MODE_CONFIG = \"defaults_mode\";\nconst NODE_DEFAULTS_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => {\n        return env[AWS_DEFAULTS_MODE_ENV];\n    },\n    configFileSelector: (profile) => {\n        return profile[AWS_DEFAULTS_MODE_CONFIG];\n    },\n    default: \"legacy\",\n};\n\nconst resolveDefaultsModeConfig = ({ region = nodeConfigProvider.loadConfig(configResolver.NODE_REGION_CONFIG_OPTIONS), defaultsMode = nodeConfigProvider.loadConfig(NODE_DEFAULTS_MODE_CONFIG_OPTIONS), } = {}) => propertyProvider.memoize(async () => {\n    const mode = typeof defaultsMode === \"function\" ? await defaultsMode() : defaultsMode;\n    switch (mode?.toLowerCase()) {\n        case \"auto\":\n            return resolveNodeDefaultsModeAuto(region);\n        case \"in-region\":\n        case \"cross-region\":\n        case \"mobile\":\n        case \"standard\":\n        case \"legacy\":\n            return Promise.resolve(mode?.toLocaleLowerCase());\n        case undefined:\n            return Promise.resolve(\"legacy\");\n        default:\n            throw new Error(`Invalid parameter for \"defaultsMode\", expect ${DEFAULTS_MODE_OPTIONS.join(\", \")}, got ${mode}`);\n    }\n});\nconst resolveNodeDefaultsModeAuto = async (clientRegion) => {\n    if (clientRegion) {\n        const resolvedRegion = typeof clientRegion === \"function\" ? await clientRegion() : clientRegion;\n        const inferredRegion = await inferPhysicalRegion();\n        if (!inferredRegion) {\n            return \"standard\";\n        }\n        if (resolvedRegion === inferredRegion) {\n            return \"in-region\";\n        }\n        else {\n            return \"cross-region\";\n        }\n    }\n    return \"standard\";\n};\nconst inferPhysicalRegion = async () => {\n    if (process.env[AWS_EXECUTION_ENV] && (process.env[AWS_REGION_ENV] || process.env[AWS_DEFAULT_REGION_ENV])) {\n        return process.env[AWS_REGION_ENV] ?? process.env[AWS_DEFAULT_REGION_ENV];\n    }\n    if (!process.env[ENV_IMDS_DISABLED]) {\n        try {\n            const { getInstanceMetadataEndpoint, httpRequest } = await import('@smithy/credential-provider-imds');\n            const endpoint = await getInstanceMetadataEndpoint();\n            return (await httpRequest({ ...endpoint, path: IMDS_REGION_PATH })).toString();\n        }\n        catch (e) {\n        }\n    }\n};\n\nexports.resolveDefaultsModeConfig = resolveDefaultsModeConfig;\n", "import packageInfo from \"../../../package.json\";\nimport { NODE_AUTH_SCHEME_PREFERENCE_OPTIONS, emitWarningIfUnsupportedVersion as awsCheckVersion } from \"@aws-sdk/core\";\nimport { NODE_APP_ID_CONFIG_OPTIONS, createDefaultUserAgentProvider } from \"@aws-sdk/util-user-agent-node\";\nimport { NODE_REGION_CONFIG_FILE_OPTIONS, NODE_REGION_CONFIG_OPTIONS, NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS, NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS, } from \"@smithy/config-resolver\";\nimport { Hash } from \"@smithy/hash-node\";\nimport { NODE_MAX_ATTEMPT_CONFIG_OPTIONS, NODE_RETRY_MODE_CONFIG_OPTIONS } from \"@smithy/middleware-retry\";\nimport { loadConfig as loadNodeConfig } from \"@smithy/node-config-provider\";\nimport { NodeHttpHandler as RequestHandler, streamCollector } from \"@smithy/node-http-handler\";\nimport { calculateBodyLength } from \"@smithy/util-body-length-node\";\nimport { DEFAULT_RETRY_MODE } from \"@smithy/util-retry\";\nimport { getRuntimeConfig as getSharedRuntimeConfig } from \"./runtimeConfig.shared\";\nimport { loadConfigsForDefaultMode } from \"@smithy/smithy-client\";\nimport { resolveDefaultsModeConfig } from \"@smithy/util-defaults-mode-node\";\nimport { emitWarningIfUnsupportedVersion } from \"@smithy/smithy-client\";\nexport const getRuntimeConfig = (config) => {\n    emitWarningIfUnsupportedVersion(process.version);\n    const defaultsMode = resolveDefaultsModeConfig(config);\n    const defaultConfigProvider = () => defaultsMode().then(loadConfigsForDefaultMode);\n    const clientSharedValues = getSharedRuntimeConfig(config);\n    awsCheckVersion(process.version);\n    const loaderConfig = {\n        profile: config?.profile,\n        logger: clientSharedValues.logger,\n    };\n    return {\n        ...clientSharedValues,\n        ...config,\n        runtime: \"node\",\n        defaultsMode,\n        authSchemePreference: config?.authSchemePreference ?? loadNodeConfig(NODE_AUTH_SCHEME_PREFERENCE_OPTIONS, loaderConfig),\n        bodyLengthChecker: config?.bodyLengthChecker ?? calculateBodyLength,\n        defaultUserAgentProvider: config?.defaultUserAgentProvider ??\n            createDefaultUserAgentProvider({ serviceId: clientSharedValues.serviceId, clientVersion: packageInfo.version }),\n        maxAttempts: config?.maxAttempts ?? loadNodeConfig(NODE_MAX_ATTEMPT_CONFIG_OPTIONS, config),\n        region: config?.region ??\n            loadNodeConfig(NODE_REGION_CONFIG_OPTIONS, { ...NODE_REGION_CONFIG_FILE_OPTIONS, ...loaderConfig }),\n        requestHandler: RequestHandler.create(config?.requestHandler ?? defaultConfigProvider),\n        retryMode: config?.retryMode ??\n            loadNodeConfig({\n                ...NODE_RETRY_MODE_CONFIG_OPTIONS,\n                default: async () => (await defaultConfigProvider()).retryMode || DEFAULT_RETRY_MODE,\n            }, config),\n        sha256: config?.sha256 ?? Hash.bind(null, \"sha256\"),\n        streamCollector: config?.streamCollector ?? streamCollector,\n        useDualstackEndpoint: config?.useDualstackEndpoint ?? loadNodeConfig(NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        useFipsEndpoint: config?.useFipsEndpoint ?? loadNodeConfig(NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        userAgentAppId: config?.userAgentAppId ?? loadNodeConfig(NODE_APP_ID_CONFIG_OPTIONS, loaderConfig),\n    };\n};\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.warning = void 0;\nexports.stsRegionDefaultResolver = stsRegionDefaultResolver;\nconst config_resolver_1 = require(\"@smithy/config-resolver\");\nconst node_config_provider_1 = require(\"@smithy/node-config-provider\");\nfunction stsRegionDefaultResolver(loaderConfig = {}) {\n    return (0, node_config_provider_1.loadConfig)({\n        ...config_resolver_1.NODE_REGION_CONFIG_OPTIONS,\n        async default() {\n            if (!exports.warning.silence) {\n                console.warn(\"@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly.\");\n            }\n            return \"us-east-1\";\n        },\n    }, { ...config_resolver_1.NODE_REGION_CONFIG_FILE_OPTIONS, ...loaderConfig });\n}\nexports.warning = {\n    silence: false,\n};\n", "'use strict';\n\nvar configResolver = require('@smithy/config-resolver');\nvar stsRegionDefaultResolver = require('./regionConfig/stsRegionDefaultResolver');\n\nconst getAwsRegionExtensionConfiguration = (runtimeConfig) => {\n    return {\n        setRegion(region) {\n            runtimeConfig.region = region;\n        },\n        region() {\n            return runtimeConfig.region;\n        },\n    };\n};\nconst resolveAwsRegionExtensionConfiguration = (awsRegionExtensionConfiguration) => {\n    return {\n        region: awsRegionExtensionConfiguration.region(),\n    };\n};\n\nObject.defineProperty(exports, \"NODE_REGION_CONFIG_FILE_OPTIONS\", {\n    enumerable: true,\n    get: function () { return configResolver.NODE_REGION_CONFIG_FILE_OPTIONS; }\n});\nObject.defineProperty(exports, \"NODE_REGION_CONFIG_OPTIONS\", {\n    enumerable: true,\n    get: function () { return configResolver.NODE_REGION_CONFIG_OPTIONS; }\n});\nObject.defineProperty(exports, \"REGION_ENV_NAME\", {\n    enumerable: true,\n    get: function () { return configResolver.REGION_ENV_NAME; }\n});\nObject.defineProperty(exports, \"REGION_INI_NAME\", {\n    enumerable: true,\n    get: function () { return configResolver.REGION_INI_NAME; }\n});\nObject.defineProperty(exports, \"resolveRegionConfig\", {\n    enumerable: true,\n    get: function () { return configResolver.resolveRegionConfig; }\n});\nexports.getAwsRegionExtensionConfiguration = getAwsRegionExtensionConfiguration;\nexports.resolveAwsRegionExtensionConfiguration = resolveAwsRegionExtensionConfiguration;\nObject.keys(stsRegionDefaultResolver).forEach(function (k) {\n    if (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n        enumerable: true,\n        get: function () { return stsRegionDefaultResolver[k]; }\n    });\n});\n", "export const getHttpAuthExtensionConfiguration = (runtimeConfig) => {\n    const _httpAuthSchemes = runtimeConfig.httpAuthSchemes;\n    let _httpAuthSchemeProvider = runtimeConfig.httpAuthSchemeProvider;\n    let _credentials = runtimeConfig.credentials;\n    return {\n        setHttpAuthScheme(httpAuthScheme) {\n            const index = _httpAuthSchemes.findIndex((scheme) => scheme.schemeId === httpAuthScheme.schemeId);\n            if (index === -1) {\n                _httpAuthSchemes.push(httpAuthScheme);\n            }\n            else {\n                _httpAuthSchemes.splice(index, 1, httpAuthScheme);\n            }\n        },\n        httpAuthSchemes() {\n            return _httpAuthSchemes;\n        },\n        setHttpAuthSchemeProvider(httpAuthSchemeProvider) {\n            _httpAuthSchemeProvider = httpAuthSchemeProvider;\n        },\n        httpAuthSchemeProvider() {\n            return _httpAuthSchemeProvider;\n        },\n        setCredentials(credentials) {\n            _credentials = credentials;\n        },\n        credentials() {\n            return _credentials;\n        },\n    };\n};\nexport const resolveHttpAuthRuntimeConfig = (config) => {\n    return {\n        httpAuthSchemes: config.httpAuthSchemes(),\n        httpAuthSchemeProvider: config.httpAuthSchemeProvider(),\n        credentials: config.credentials(),\n    };\n};\n", "import { getAwsRegionExtensionConfiguration, resolveAwsRegionExtensionConfiguration, } from \"@aws-sdk/region-config-resolver\";\nimport { getHttpHandlerExtensionConfiguration, resolveHttpHandlerRuntimeConfig } from \"@smithy/protocol-http\";\nimport { getDefaultExtensionConfiguration, resolveDefaultRuntimeConfig } from \"@smithy/smithy-client\";\nimport { getHttpAuthExtensionConfiguration, resolveHttpAuthRuntimeConfig } from \"./auth/httpAuthExtensionConfiguration\";\nexport const resolveRuntimeExtensions = (runtimeConfig, extensions) => {\n    const extensionConfiguration = Object.assign(getAwsRegionExtensionConfiguration(runtimeConfig), getDefaultExtensionConfiguration(runtimeConfig), getHttpHandlerExtensionConfiguration(runtimeConfig), getHttpAuthExtensionConfiguration(runtimeConfig));\n    extensions.forEach((extension) => extension.configure(extensionConfiguration));\n    return Object.assign(runtimeConfig, resolveAwsRegionExtensionConfiguration(extensionConfiguration), resolveDefaultRuntimeConfig(extensionConfiguration), resolveHttpHandlerRuntimeConfig(extensionConfiguration), resolveHttpAuthRuntimeConfig(extensionConfiguration));\n};\n", "import { getHostHeaderPlugin, resolveHostHeaderConfig, } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin } from \"@aws-sdk/middleware-logger\";\nimport { getRecursionDetectionPlugin } from \"@aws-sdk/middleware-recursion-detection\";\nimport { getUserAgentPlugin, resolveUserAgentConfig, } from \"@aws-sdk/middleware-user-agent\";\nimport { resolveRegionConfig } from \"@smithy/config-resolver\";\nimport { DefaultIdentityProviderConfig, getHttpAuthSchemeEndpointRuleSetPlugin, getHttpSigningPlugin, } from \"@smithy/core\";\nimport { getSchemaSerdePlugin } from \"@smithy/core/schema\";\nimport { getContentLengthPlugin } from \"@smithy/middleware-content-length\";\nimport { resolveEndpointConfig } from \"@smithy/middleware-endpoint\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@smithy/middleware-retry\";\nimport { Client as __Client, } from \"@smithy/smithy-client\";\nimport { defaultSSOOIDCHttpAuthSchemeParametersProvider, resolveHttpAuthSchemeConfig, } from \"./auth/httpAuthSchemeProvider\";\nimport { resolveClientEndpointParameters, } from \"./endpoint/EndpointParameters\";\nimport { getRuntimeConfig as __getRuntimeConfig } from \"./runtimeConfig\";\nimport { resolveRuntimeExtensions } from \"./runtimeExtensions\";\nexport { __Client };\nexport class SSOOIDCClient extends __Client {\n    config;\n    constructor(...[configuration]) {\n        const _config_0 = __getRuntimeConfig(configuration || {});\n        super(_config_0);\n        this.initConfig = _config_0;\n        const _config_1 = resolveClientEndpointParameters(_config_0);\n        const _config_2 = resolveUserAgentConfig(_config_1);\n        const _config_3 = resolveRetryConfig(_config_2);\n        const _config_4 = resolveRegionConfig(_config_3);\n        const _config_5 = resolveHostHeaderConfig(_config_4);\n        const _config_6 = resolveEndpointConfig(_config_5);\n        const _config_7 = resolveHttpAuthSchemeConfig(_config_6);\n        const _config_8 = resolveRuntimeExtensions(_config_7, configuration?.extensions || []);\n        this.config = _config_8;\n        this.middlewareStack.use(getSchemaSerdePlugin(this.config));\n        this.middlewareStack.use(getUserAgentPlugin(this.config));\n        this.middlewareStack.use(getRetryPlugin(this.config));\n        this.middlewareStack.use(getContentLengthPlugin(this.config));\n        this.middlewareStack.use(getHostHeaderPlugin(this.config));\n        this.middlewareStack.use(getLoggerPlugin(this.config));\n        this.middlewareStack.use(getRecursionDetectionPlugin(this.config));\n        this.middlewareStack.use(getHttpAuthSchemeEndpointRuleSetPlugin(this.config, {\n            httpAuthSchemeParametersProvider: defaultSSOOIDCHttpAuthSchemeParametersProvider,\n            identityProviderConfigProvider: async (config) => new DefaultIdentityProviderConfig({\n                \"aws.auth#sigv4\": config.credentials,\n            }),\n        }));\n        this.middlewareStack.use(getHttpSigningPlugin(this.config));\n    }\n    destroy() {\n        super.destroy();\n    }\n}\n", "import { ServiceException as __ServiceException, } from \"@smithy/smithy-client\";\nexport { __ServiceException };\nexport class SSOOIDCServiceException extends __ServiceException {\n    constructor(options) {\n        super(options);\n        Object.setPrototypeOf(this, SSOOIDCServiceException.prototype);\n    }\n}\n", "import { SSOOIDCServiceException as __BaseException } from \"./SSOOIDCServiceException\";\nexport const AccessDeniedExceptionReason = {\n    KMS_ACCESS_DENIED: \"KMS_AccessDeniedException\",\n};\nexport class AccessDeniedException extends __BaseException {\n    name = \"AccessDeniedException\";\n    $fault = \"client\";\n    error;\n    reason;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"AccessDeniedException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, AccessDeniedException.prototype);\n        this.error = opts.error;\n        this.reason = opts.reason;\n        this.error_description = opts.error_description;\n    }\n}\nexport class AuthorizationPendingException extends __BaseException {\n    name = \"AuthorizationPendingException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"AuthorizationPendingException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, AuthorizationPendingException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class ExpiredTokenException extends __BaseException {\n    name = \"ExpiredTokenException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"ExpiredTokenException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ExpiredTokenException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class InternalServerException extends __BaseException {\n    name = \"InternalServerException\";\n    $fault = \"server\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"InternalServerException\",\n            $fault: \"server\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InternalServerException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class InvalidClientException extends __BaseException {\n    name = \"InvalidClientException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"InvalidClientException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidClientException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class InvalidGrantException extends __BaseException {\n    name = \"InvalidGrantException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"InvalidGrantException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidGrantException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport const InvalidRequestExceptionReason = {\n    KMS_DISABLED_KEY: \"KMS_DisabledException\",\n    KMS_INVALID_KEY_USAGE: \"KMS_InvalidKeyUsageException\",\n    KMS_INVALID_STATE: \"KMS_InvalidStateException\",\n    KMS_KEY_NOT_FOUND: \"KMS_NotFoundException\",\n};\nexport class InvalidRequestException extends __BaseException {\n    name = \"InvalidRequestException\";\n    $fault = \"client\";\n    error;\n    reason;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"InvalidRequestException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidRequestException.prototype);\n        this.error = opts.error;\n        this.reason = opts.reason;\n        this.error_description = opts.error_description;\n    }\n}\nexport class InvalidScopeException extends __BaseException {\n    name = \"InvalidScopeException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"InvalidScopeException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidScopeException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class SlowDownException extends __BaseException {\n    name = \"SlowDownException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"SlowDownException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, SlowDownException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class UnauthorizedClientException extends __BaseException {\n    name = \"UnauthorizedClientException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"UnauthorizedClientException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, UnauthorizedClientException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\nexport class UnsupportedGrantTypeException extends __BaseException {\n    name = \"UnsupportedGrantTypeException\";\n    $fault = \"client\";\n    error;\n    error_description;\n    constructor(opts) {\n        super({\n            name: \"UnsupportedGrantTypeException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, UnsupportedGrantTypeException.prototype);\n        this.error = opts.error;\n        this.error_description = opts.error_description;\n    }\n}\n", "export * from \"./models_0\";\n", "const _ADE = \"AccessDeniedException\";\nconst _APE = \"AuthorizationPendingException\";\nconst _AT = \"AccessToken\";\nconst _CS = \"ClientSecret\";\nconst _CT = \"CreateToken\";\nconst _CTR = \"CreateTokenRequest\";\nconst _CTRr = \"CreateTokenResponse\";\nconst _CV = \"CodeVerifier\";\nconst _ETE = \"ExpiredTokenException\";\nconst _ICE = \"InvalidClientException\";\nconst _IGE = \"InvalidGrantException\";\nconst _IRE = \"InvalidRequestException\";\nconst _ISE = \"InternalServerException\";\nconst _ISEn = \"InvalidScopeException\";\nconst _IT = \"IdToken\";\nconst _RT = \"RefreshToken\";\nconst _SDE = \"SlowDownException\";\nconst _UCE = \"UnauthorizedClientException\";\nconst _UGTE = \"UnsupportedGrantTypeException\";\nconst _aT = \"accessToken\";\nconst _c = \"client\";\nconst _cI = \"clientId\";\nconst _cS = \"clientSecret\";\nconst _cV = \"codeVerifier\";\nconst _co = \"code\";\nconst _dC = \"deviceCode\";\nconst _e = \"error\";\nconst _eI = \"expiresIn\";\nconst _ed = \"error_description\";\nconst _gT = \"grantType\";\nconst _h = \"http\";\nconst _hE = \"httpError\";\nconst _iT = \"idToken\";\nconst _r = \"reason\";\nconst _rT = \"refreshToken\";\nconst _rU = \"redirectUri\";\nconst _s = \"scope\";\nconst _se = \"server\";\nconst _sm = \"smithy.ts.sdk.synthetic.com.amazonaws.ssooidc\";\nconst _tT = \"tokenType\";\nconst n0 = \"com.amazonaws.ssooidc\";\nimport { TypeRegistry } from \"@smithy/core/schema\";\nimport { AccessDeniedException as __AccessDeniedException, AuthorizationPendingException as __AuthorizationPendingException, ExpiredTokenException as __ExpiredTokenException, InternalServerException as __InternalServerException, InvalidClientException as __InvalidClientException, InvalidGrantException as __InvalidGrantException, InvalidRequestException as __InvalidRequestException, InvalidScopeException as __InvalidScopeException, SlowDownException as __SlowDownException, UnauthorizedClientException as __UnauthorizedClientException, UnsupportedGrantTypeException as __UnsupportedGrantTypeException, } from \"../models/index\";\nimport { SSOOIDCServiceException as __SSOOIDCServiceException } from \"../models/SSOOIDCServiceException\";\nexport var AccessToken = [0, n0, _AT, 8, 0];\nexport var ClientSecret = [0, n0, _CS, 8, 0];\nexport var CodeVerifier = [0, n0, _CV, 8, 0];\nexport var IdToken = [0, n0, _IT, 8, 0];\nexport var RefreshToken = [0, n0, _RT, 8, 0];\nexport var AccessDeniedException = [\n    -3,\n    n0,\n    _ADE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _r, _ed],\n    [0, 0, 0],\n];\nTypeRegistry.for(n0).registerError(AccessDeniedException, __AccessDeniedException);\nexport var AuthorizationPendingException = [\n    -3,\n    n0,\n    _APE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(AuthorizationPendingException, __AuthorizationPendingException);\nexport var CreateTokenRequest = [\n    3,\n    n0,\n    _CTR,\n    0,\n    [_cI, _cS, _gT, _dC, _co, _rT, _s, _rU, _cV],\n    [0, [() => ClientSecret, 0], 0, 0, 0, [() => RefreshToken, 0], 64 | 0, 0, [() => CodeVerifier, 0]],\n];\nexport var CreateTokenResponse = [\n    3,\n    n0,\n    _CTRr,\n    0,\n    [_aT, _tT, _eI, _rT, _iT],\n    [[() => AccessToken, 0], 0, 1, [() => RefreshToken, 0], [() => IdToken, 0]],\n];\nexport var ExpiredTokenException = [\n    -3,\n    n0,\n    _ETE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(ExpiredTokenException, __ExpiredTokenException);\nexport var InternalServerException = [\n    -3,\n    n0,\n    _ISE,\n    {\n        [_e]: _se,\n        [_hE]: 500,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(InternalServerException, __InternalServerException);\nexport var InvalidClientException = [\n    -3,\n    n0,\n    _ICE,\n    {\n        [_e]: _c,\n        [_hE]: 401,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(InvalidClientException, __InvalidClientException);\nexport var InvalidGrantException = [\n    -3,\n    n0,\n    _IGE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(InvalidGrantException, __InvalidGrantException);\nexport var InvalidRequestException = [\n    -3,\n    n0,\n    _IRE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _r, _ed],\n    [0, 0, 0],\n];\nTypeRegistry.for(n0).registerError(InvalidRequestException, __InvalidRequestException);\nexport var InvalidScopeException = [\n    -3,\n    n0,\n    _ISEn,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(InvalidScopeException, __InvalidScopeException);\nexport var SlowDownException = [\n    -3,\n    n0,\n    _SDE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(SlowDownException, __SlowDownException);\nexport var UnauthorizedClientException = [\n    -3,\n    n0,\n    _UCE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(UnauthorizedClientException, __UnauthorizedClientException);\nexport var UnsupportedGrantTypeException = [\n    -3,\n    n0,\n    _UGTE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_e, _ed],\n    [0, 0],\n];\nTypeRegistry.for(n0).registerError(UnsupportedGrantTypeException, __UnsupportedGrantTypeException);\nexport var __Unit = \"unit\";\nexport var SSOOIDCServiceException = [-3, _sm, \"SSOOIDCServiceException\", 0, [], []];\nTypeRegistry.for(_sm).registerError(SSOOIDCServiceException, __SSOOIDCServiceException);\nexport var Scopes = 64 | 0;\nexport var CreateToken = [\n    9,\n    n0,\n    _CT,\n    {\n        [_h]: [\"POST\", \"/token\", 200],\n    },\n    () => CreateTokenRequest,\n    () => CreateTokenResponse,\n];\n", "import { getEndpointPlugin } from \"@smithy/middleware-endpoint\";\nimport { Command as $Command } from \"@smithy/smithy-client\";\nimport { commonParams } from \"../endpoint/EndpointParameters\";\nimport { CreateToken } from \"../schemas/schemas_0\";\nexport { $Command };\nexport class CreateTokenCommand extends $Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSSSOOIDCService\", \"CreateToken\", {})\n    .n(\"SSOOIDCClient\", \"CreateTokenCommand\")\n    .sc(CreateToken)\n    .build() {\n}\n", "import { createAggregatedClient } from \"@smithy/smithy-client\";\nimport { CreateTokenCommand } from \"./commands/CreateTokenCommand\";\nimport { SSOOIDCClient } from \"./SSOOIDCClient\";\nconst commands = {\n    CreateTokenCommand,\n};\nexport class SSOOIDC extends SSOOIDCClient {\n}\ncreateAggregatedClient(commands, SSOOIDC);\n", "export * from \"./CreateTokenCommand\";\n", "export * from \"./SSOOIDCClient\";\nexport * from \"./SSOOIDC\";\nexport * from \"./commands\";\nexport * from \"./models\";\nexport { SSOOIDCServiceException } from \"./models/SSOOIDCServiceException\";\n", "'use strict';\n\nvar client = require('@aws-sdk/core/client');\nvar httpAuthSchemes = require('@aws-sdk/core/httpAuthSchemes');\nvar propertyProvider = require('@smithy/property-provider');\nvar sharedIniFileLoader = require('@smithy/shared-ini-file-loader');\nvar fs = require('fs');\n\nconst fromEnvSigningName = ({ logger, signingName } = {}) => async () => {\n    logger?.debug?.(\"@aws-sdk/token-providers - fromEnvSigningName\");\n    if (!signingName) {\n        throw new propertyProvider.TokenProviderError(\"Please pass 'signingName' to compute environment variable key\", { logger });\n    }\n    const bearerTokenKey = httpAuthSchemes.getBearerTokenEnvKey(signingName);\n    if (!(bearerTokenKey in process.env)) {\n        throw new propertyProvider.TokenProviderError(`Token not present in '${bearerTokenKey}' environment variable`, { logger });\n    }\n    const token = { token: process.env[bearerTokenKey] };\n    client.setTokenFeature(token, \"BEARER_SERVICE_ENV_VARS\", \"3\");\n    return token;\n};\n\nconst EXPIRE_WINDOW_MS = 5 * 60 * 1000;\nconst REFRESH_MESSAGE = `To refresh this SSO session run 'aws sso login' with the corresponding profile.`;\n\nconst getSsoOidcClient = async (ssoRegion, init = {}) => {\n    const { SSOOIDCClient } = await import('@aws-sdk/nested-clients/sso-oidc');\n    const coalesce = (prop) => init.clientConfig?.[prop] ?? init.parentClientConfig?.[prop];\n    const ssoOidcClient = new SSOOIDCClient(Object.assign({}, init.clientConfig ?? {}, {\n        region: ssoRegion ?? init.clientConfig?.region,\n        logger: coalesce(\"logger\"),\n        userAgentAppId: coalesce(\"userAgentAppId\"),\n    }));\n    return ssoOidcClient;\n};\n\nconst getNewSsoOidcToken = async (ssoToken, ssoRegion, init = {}) => {\n    const { CreateTokenCommand } = await import('@aws-sdk/nested-clients/sso-oidc');\n    const ssoOidcClient = await getSsoOidcClient(ssoRegion, init);\n    return ssoOidcClient.send(new CreateTokenCommand({\n        clientId: ssoToken.clientId,\n        clientSecret: ssoToken.clientSecret,\n        refreshToken: ssoToken.refreshToken,\n        grantType: \"refresh_token\",\n    }));\n};\n\nconst validateTokenExpiry = (token) => {\n    if (token.expiration && token.expiration.getTime() < Date.now()) {\n        throw new propertyProvider.TokenProviderError(`Token is expired. ${REFRESH_MESSAGE}`, false);\n    }\n};\n\nconst validateTokenKey = (key, value, forRefresh = false) => {\n    if (typeof value === \"undefined\") {\n        throw new propertyProvider.TokenProviderError(`Value not present for '${key}' in SSO Token${forRefresh ? \". Cannot refresh\" : \"\"}. ${REFRESH_MESSAGE}`, false);\n    }\n};\n\nconst { writeFile } = fs.promises;\nconst writeSSOTokenToFile = (id, ssoToken) => {\n    const tokenFilepath = sharedIniFileLoader.getSSOTokenFilepath(id);\n    const tokenString = JSON.stringify(ssoToken, null, 2);\n    return writeFile(tokenFilepath, tokenString);\n};\n\nconst lastRefreshAttemptTime = new Date(0);\nconst fromSso = (_init = {}) => async ({ callerClientConfig } = {}) => {\n    const init = {\n        ..._init,\n        parentClientConfig: {\n            ...callerClientConfig,\n            ..._init.parentClientConfig,\n        },\n    };\n    init.logger?.debug(\"@aws-sdk/token-providers - fromSso\");\n    const profiles = await sharedIniFileLoader.parseKnownFiles(init);\n    const profileName = sharedIniFileLoader.getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    });\n    const profile = profiles[profileName];\n    if (!profile) {\n        throw new propertyProvider.TokenProviderError(`Profile '${profileName}' could not be found in shared credentials file.`, false);\n    }\n    else if (!profile[\"sso_session\"]) {\n        throw new propertyProvider.TokenProviderError(`Profile '${profileName}' is missing required property 'sso_session'.`);\n    }\n    const ssoSessionName = profile[\"sso_session\"];\n    const ssoSessions = await sharedIniFileLoader.loadSsoSessionData(init);\n    const ssoSession = ssoSessions[ssoSessionName];\n    if (!ssoSession) {\n        throw new propertyProvider.TokenProviderError(`Sso session '${ssoSessionName}' could not be found in shared credentials file.`, false);\n    }\n    for (const ssoSessionRequiredKey of [\"sso_start_url\", \"sso_region\"]) {\n        if (!ssoSession[ssoSessionRequiredKey]) {\n            throw new propertyProvider.TokenProviderError(`Sso session '${ssoSessionName}' is missing required property '${ssoSessionRequiredKey}'.`, false);\n        }\n    }\n    ssoSession[\"sso_start_url\"];\n    const ssoRegion = ssoSession[\"sso_region\"];\n    let ssoToken;\n    try {\n        ssoToken = await sharedIniFileLoader.getSSOTokenFromFile(ssoSessionName);\n    }\n    catch (e) {\n        throw new propertyProvider.TokenProviderError(`The SSO session token associated with profile=${profileName} was not found or is invalid. ${REFRESH_MESSAGE}`, false);\n    }\n    validateTokenKey(\"accessToken\", ssoToken.accessToken);\n    validateTokenKey(\"expiresAt\", ssoToken.expiresAt);\n    const { accessToken, expiresAt } = ssoToken;\n    const existingToken = { token: accessToken, expiration: new Date(expiresAt) };\n    if (existingToken.expiration.getTime() - Date.now() > EXPIRE_WINDOW_MS) {\n        return existingToken;\n    }\n    if (Date.now() - lastRefreshAttemptTime.getTime() < 30 * 1000) {\n        validateTokenExpiry(existingToken);\n        return existingToken;\n    }\n    validateTokenKey(\"clientId\", ssoToken.clientId, true);\n    validateTokenKey(\"clientSecret\", ssoToken.clientSecret, true);\n    validateTokenKey(\"refreshToken\", ssoToken.refreshToken, true);\n    try {\n        lastRefreshAttemptTime.setTime(Date.now());\n        const newSsoOidcToken = await getNewSsoOidcToken(ssoToken, ssoRegion, init);\n        validateTokenKey(\"accessToken\", newSsoOidcToken.accessToken);\n        validateTokenKey(\"expiresIn\", newSsoOidcToken.expiresIn);\n        const newTokenExpiration = new Date(Date.now() + newSsoOidcToken.expiresIn * 1000);\n        try {\n            await writeSSOTokenToFile(ssoSessionName, {\n                ...ssoToken,\n                accessToken: newSsoOidcToken.accessToken,\n                expiresAt: newTokenExpiration.toISOString(),\n                refreshToken: newSsoOidcToken.refreshToken,\n            });\n        }\n        catch (error) {\n        }\n        return {\n            token: newSsoOidcToken.accessToken,\n            expiration: newTokenExpiration,\n        };\n    }\n    catch (error) {\n        validateTokenExpiry(existingToken);\n        return existingToken;\n    }\n};\n\nconst fromStatic = ({ token, logger }) => async () => {\n    logger?.debug(\"@aws-sdk/token-providers - fromStatic\");\n    if (!token || !token.token) {\n        throw new propertyProvider.TokenProviderError(`Please pass a valid token to fromStatic`, false);\n    }\n    return token;\n};\n\nconst nodeProvider = (init = {}) => propertyProvider.memoize(propertyProvider.chain(fromSso(init), async () => {\n    throw new propertyProvider.TokenProviderError(\"Could not load token from any providers\", false);\n}), (token) => token.expiration !== undefined && token.expiration.getTime() - Date.now() < 300000, (token) => token.expiration !== undefined);\n\nexports.fromEnvSigningName = fromEnvSigningName;\nexports.fromSso = fromSso;\nexports.fromStatic = fromStatic;\nexports.nodeProvider = nodeProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveHttpAuthSchemeConfig = exports.defaultSSOHttpAuthSchemeProvider = exports.defaultSSOHttpAuthSchemeParametersProvider = void 0;\nconst core_1 = require(\"@aws-sdk/core\");\nconst util_middleware_1 = require(\"@smithy/util-middleware\");\nconst defaultSSOHttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: (0, util_middleware_1.getSmithyContext)(context).operation,\n        region: (await (0, util_middleware_1.normalizeProvider)(config.region)()) ||\n            (() => {\n                throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n            })(),\n    };\n};\nexports.defaultSSOHttpAuthSchemeParametersProvider = defaultSSOHttpAuthSchemeParametersProvider;\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"awsssoportal\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nfunction createSmithyApiNoAuthHttpAuthOption(authParameters) {\n    return {\n        schemeId: \"smithy.api#noAuth\",\n    };\n}\nconst defaultSSOHttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        case \"GetRoleCredentials\": {\n            options.push(createSmithyApiNoAuthHttpAuthOption(authParameters));\n            break;\n        }\n        case \"ListAccountRoles\": {\n            options.push(createSmithyApiNoAuthHttpAuthOption(authParameters));\n            break;\n        }\n        case \"ListAccounts\": {\n            options.push(createSmithyApiNoAuthHttpAuthOption(authParameters));\n            break;\n        }\n        case \"Logout\": {\n            options.push(createSmithyApiNoAuthHttpAuthOption(authParameters));\n            break;\n        }\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexports.defaultSSOHttpAuthSchemeProvider = defaultSSOHttpAuthSchemeProvider;\nconst resolveHttpAuthSchemeConfig = (config) => {\n    const config_0 = (0, core_1.resolveAwsSdkSigV4Config)(config);\n    return Object.assign(config_0, {\n        authSchemePreference: (0, util_middleware_1.normalizeProvider)(config.authSchemePreference ?? []),\n    });\n};\nexports.resolveHttpAuthSchemeConfig = resolveHttpAuthSchemeConfig;\n", "{\n  \"name\": \"@aws-sdk/client-sso\",\n  \"description\": \"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native\",\n  \"version\": \"3.929.0\",\n  \"scripts\": {\n    \"build\": \"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'\",\n    \"build:cjs\": \"node ../../scripts/compilation/inline client-sso\",\n    \"build:es\": \"tsc -p tsconfig.es.json\",\n    \"build:include:deps\": \"lerna run --scope $npm_package_name --include-dependencies build\",\n    \"build:types\": \"tsc -p tsconfig.types.json\",\n    \"build:types:downlevel\": \"downlevel-dts dist-types dist-types/ts3.4\",\n    \"clean\": \"rimraf ./dist-* && rimraf *.tsbuildinfo\",\n    \"extract:docs\": \"api-extractor run --local\",\n    \"generate:client\": \"node ../../scripts/generate-clients/single-service --solo sso\"\n  },\n  \"main\": \"./dist-cjs/index.js\",\n  \"types\": \"./dist-types/index.d.ts\",\n  \"module\": \"./dist-es/index.js\",\n  \"sideEffects\": false,\n  \"dependencies\": {\n    \"@aws-crypto/sha256-browser\": \"5.2.0\",\n    \"@aws-crypto/sha256-js\": \"5.2.0\",\n    \"@aws-sdk/core\": \"3.928.0\",\n    \"@aws-sdk/middleware-host-header\": \"3.922.0\",\n    \"@aws-sdk/middleware-logger\": \"3.922.0\",\n    \"@aws-sdk/middleware-recursion-detection\": \"3.922.0\",\n    \"@aws-sdk/middleware-user-agent\": \"3.928.0\",\n    \"@aws-sdk/region-config-resolver\": \"3.925.0\",\n    \"@aws-sdk/types\": \"3.922.0\",\n    \"@aws-sdk/util-endpoints\": \"3.922.0\",\n    \"@aws-sdk/util-user-agent-browser\": \"3.922.0\",\n    \"@aws-sdk/util-user-agent-node\": \"3.928.0\",\n    \"@smithy/config-resolver\": \"^4.4.2\",\n    \"@smithy/core\": \"^3.17.2\",\n    \"@smithy/fetch-http-handler\": \"^5.3.5\",\n    \"@smithy/hash-node\": \"^4.2.4\",\n    \"@smithy/invalid-dependency\": \"^4.2.4\",\n    \"@smithy/middleware-content-length\": \"^4.2.4\",\n    \"@smithy/middleware-endpoint\": \"^4.3.6\",\n    \"@smithy/middleware-retry\": \"^4.4.6\",\n    \"@smithy/middleware-serde\": \"^4.2.4\",\n    \"@smithy/middleware-stack\": \"^4.2.4\",\n    \"@smithy/node-config-provider\": \"^4.3.4\",\n    \"@smithy/node-http-handler\": \"^4.4.4\",\n    \"@smithy/protocol-http\": \"^5.3.4\",\n    \"@smithy/smithy-client\": \"^4.9.2\",\n    \"@smithy/types\": \"^4.8.1\",\n    \"@smithy/url-parser\": \"^4.2.4\",\n    \"@smithy/util-base64\": \"^4.3.0\",\n    \"@smithy/util-body-length-browser\": \"^4.2.0\",\n    \"@smithy/util-body-length-node\": \"^4.2.1\",\n    \"@smithy/util-defaults-mode-browser\": \"^4.3.5\",\n    \"@smithy/util-defaults-mode-node\": \"^4.2.8\",\n    \"@smithy/util-endpoints\": \"^3.2.4\",\n    \"@smithy/util-middleware\": \"^4.2.4\",\n    \"@smithy/util-retry\": \"^4.2.4\",\n    \"@smithy/util-utf8\": \"^4.2.0\",\n    \"tslib\": \"^2.6.2\"\n  },\n  \"devDependencies\": {\n    \"@tsconfig/node18\": \"18.2.4\",\n    \"@types/node\": \"^18.19.69\",\n    \"concurrently\": \"7.0.0\",\n    \"downlevel-dts\": \"0.10.1\",\n    \"rimraf\": \"3.0.2\",\n    \"typescript\": \"~5.8.3\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  },\n  \"typesVersions\": {\n    \"<4.0\": {\n      \"dist-types/*\": [\n        \"dist-types/ts3.4/*\"\n      ]\n    }\n  },\n  \"files\": [\n    \"dist-*/**\"\n  ],\n  \"author\": {\n    \"name\": \"AWS SDK for JavaScript Team\",\n    \"url\": \"https://aws.amazon.com/javascript/\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"browser\": {\n    \"./dist-es/runtimeConfig\": \"./dist-es/runtimeConfig.browser\"\n  },\n  \"react-native\": {\n    \"./dist-es/runtimeConfig\": \"./dist-es/runtimeConfig.native\"\n  },\n  \"homepage\": \"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/aws/aws-sdk-js-v3.git\",\n    \"directory\": \"clients/client-sso\"\n  }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ruleSet = void 0;\nconst u = \"required\", v = \"fn\", w = \"argv\", x = \"ref\";\nconst a = true, b = \"isSet\", c = \"booleanEquals\", d = \"error\", e = \"endpoint\", f = \"tree\", g = \"PartitionResult\", h = \"getAttr\", i = { [u]: false, \"type\": \"string\" }, j = { [u]: true, \"default\": false, \"type\": \"boolean\" }, k = { [x]: \"Endpoint\" }, l = { [v]: c, [w]: [{ [x]: \"UseFIPS\" }, true] }, m = { [v]: c, [w]: [{ [x]: \"UseDualStack\" }, true] }, n = {}, o = { [v]: h, [w]: [{ [x]: g }, \"supportsFIPS\"] }, p = { [x]: g }, q = { [v]: c, [w]: [true, { [v]: h, [w]: [p, \"supportsDualStack\"] }] }, r = [l], s = [m], t = [{ [x]: \"Region\" }];\nconst _data = { version: \"1.0\", parameters: { Region: i, UseDualStack: j, UseFIPS: j, Endpoint: i }, rules: [{ conditions: [{ [v]: b, [w]: [k] }], rules: [{ conditions: r, error: \"Invalid Configuration: FIPS and custom endpoint are not supported\", type: d }, { conditions: s, error: \"Invalid Configuration: Dualstack and custom endpoint are not supported\", type: d }, { endpoint: { url: k, properties: n, headers: n }, type: e }], type: f }, { conditions: [{ [v]: b, [w]: t }], rules: [{ conditions: [{ [v]: \"aws.partition\", [w]: t, assign: g }], rules: [{ conditions: [l, m], rules: [{ conditions: [{ [v]: c, [w]: [a, o] }, q], rules: [{ endpoint: { url: \"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: n, headers: n }, type: e }], type: f }, { error: \"FIPS and DualStack are enabled, but this partition does not support one or both\", type: d }], type: f }, { conditions: r, rules: [{ conditions: [{ [v]: c, [w]: [o, a] }], rules: [{ conditions: [{ [v]: \"stringEquals\", [w]: [{ [v]: h, [w]: [p, \"name\"] }, \"aws-us-gov\"] }], endpoint: { url: \"https://portal.sso.{Region}.amazonaws.com\", properties: n, headers: n }, type: e }, { endpoint: { url: \"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}\", properties: n, headers: n }, type: e }], type: f }, { error: \"FIPS is enabled but this partition does not support FIPS\", type: d }], type: f }, { conditions: s, rules: [{ conditions: [q], rules: [{ endpoint: { url: \"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: n, headers: n }, type: e }], type: f }, { error: \"DualStack is enabled but this partition does not support DualStack\", type: d }], type: f }, { endpoint: { url: \"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}\", properties: n, headers: n }, type: e }], type: f }], type: f }, { error: \"Invalid Configuration: Missing Region\", type: d }] };\nexports.ruleSet = _data;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultEndpointResolver = void 0;\nconst util_endpoints_1 = require(\"@aws-sdk/util-endpoints\");\nconst util_endpoints_2 = require(\"@smithy/util-endpoints\");\nconst ruleset_1 = require(\"./ruleset\");\nconst cache = new util_endpoints_2.EndpointCache({\n    size: 50,\n    params: [\"Endpoint\", \"Region\", \"UseDualStack\", \"UseFIPS\"],\n});\nconst defaultEndpointResolver = (endpointParams, context = {}) => {\n    return cache.get(endpointParams, () => (0, util_endpoints_2.resolveEndpoint)(ruleset_1.ruleSet, {\n        endpointParams: endpointParams,\n        logger: context.logger,\n    }));\n};\nexports.defaultEndpointResolver = defaultEndpointResolver;\nutil_endpoints_2.customEndpointFunctions.aws = util_endpoints_1.awsEndpointFunctions;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRuntimeConfig = void 0;\nconst core_1 = require(\"@aws-sdk/core\");\nconst protocols_1 = require(\"@aws-sdk/core/protocols\");\nconst core_2 = require(\"@smithy/core\");\nconst smithy_client_1 = require(\"@smithy/smithy-client\");\nconst url_parser_1 = require(\"@smithy/url-parser\");\nconst util_base64_1 = require(\"@smithy/util-base64\");\nconst util_utf8_1 = require(\"@smithy/util-utf8\");\nconst httpAuthSchemeProvider_1 = require(\"./auth/httpAuthSchemeProvider\");\nconst endpointResolver_1 = require(\"./endpoint/endpointResolver\");\nconst getRuntimeConfig = (config) => {\n    return {\n        apiVersion: \"2019-06-10\",\n        base64Decoder: config?.base64Decoder ?? util_base64_1.fromBase64,\n        base64Encoder: config?.base64Encoder ?? util_base64_1.toBase64,\n        disableHostPrefix: config?.disableHostPrefix ?? false,\n        endpointProvider: config?.endpointProvider ?? endpointResolver_1.defaultEndpointResolver,\n        extensions: config?.extensions ?? [],\n        httpAuthSchemeProvider: config?.httpAuthSchemeProvider ?? httpAuthSchemeProvider_1.defaultSSOHttpAuthSchemeProvider,\n        httpAuthSchemes: config?.httpAuthSchemes ?? [\n            {\n                schemeId: \"aws.auth#sigv4\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"aws.auth#sigv4\"),\n                signer: new core_1.AwsSdkSigV4Signer(),\n            },\n            {\n                schemeId: \"smithy.api#noAuth\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"smithy.api#noAuth\") || (async () => ({})),\n                signer: new core_2.NoAuthSigner(),\n            },\n        ],\n        logger: config?.logger ?? new smithy_client_1.NoOpLogger(),\n        protocol: config?.protocol ?? new protocols_1.AwsRestJsonProtocol({ defaultNamespace: \"com.amazonaws.sso\" }),\n        serviceId: config?.serviceId ?? \"SSO\",\n        urlParser: config?.urlParser ?? url_parser_1.parseUrl,\n        utf8Decoder: config?.utf8Decoder ?? util_utf8_1.fromUtf8,\n        utf8Encoder: config?.utf8Encoder ?? util_utf8_1.toUtf8,\n    };\n};\nexports.getRuntimeConfig = getRuntimeConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRuntimeConfig = void 0;\nconst tslib_1 = require(\"tslib\");\nconst package_json_1 = tslib_1.__importDefault(require(\"../package.json\"));\nconst core_1 = require(\"@aws-sdk/core\");\nconst util_user_agent_node_1 = require(\"@aws-sdk/util-user-agent-node\");\nconst config_resolver_1 = require(\"@smithy/config-resolver\");\nconst hash_node_1 = require(\"@smithy/hash-node\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry\");\nconst node_config_provider_1 = require(\"@smithy/node-config-provider\");\nconst node_http_handler_1 = require(\"@smithy/node-http-handler\");\nconst util_body_length_node_1 = require(\"@smithy/util-body-length-node\");\nconst util_retry_1 = require(\"@smithy/util-retry\");\nconst runtimeConfig_shared_1 = require(\"./runtimeConfig.shared\");\nconst smithy_client_1 = require(\"@smithy/smithy-client\");\nconst util_defaults_mode_node_1 = require(\"@smithy/util-defaults-mode-node\");\nconst smithy_client_2 = require(\"@smithy/smithy-client\");\nconst getRuntimeConfig = (config) => {\n    (0, smithy_client_2.emitWarningIfUnsupportedVersion)(process.version);\n    const defaultsMode = (0, util_defaults_mode_node_1.resolveDefaultsModeConfig)(config);\n    const defaultConfigProvider = () => defaultsMode().then(smithy_client_1.loadConfigsForDefaultMode);\n    const clientSharedValues = (0, runtimeConfig_shared_1.getRuntimeConfig)(config);\n    (0, core_1.emitWarningIfUnsupportedVersion)(process.version);\n    const loaderConfig = {\n        profile: config?.profile,\n        logger: clientSharedValues.logger,\n    };\n    return {\n        ...clientSharedValues,\n        ...config,\n        runtime: \"node\",\n        defaultsMode,\n        authSchemePreference: config?.authSchemePreference ?? (0, node_config_provider_1.loadConfig)(core_1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS, loaderConfig),\n        bodyLengthChecker: config?.bodyLengthChecker ?? util_body_length_node_1.calculateBodyLength,\n        defaultUserAgentProvider: config?.defaultUserAgentProvider ??\n            (0, util_user_agent_node_1.createDefaultUserAgentProvider)({ serviceId: clientSharedValues.serviceId, clientVersion: package_json_1.default.version }),\n        maxAttempts: config?.maxAttempts ?? (0, node_config_provider_1.loadConfig)(middleware_retry_1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS, config),\n        region: config?.region ??\n            (0, node_config_provider_1.loadConfig)(config_resolver_1.NODE_REGION_CONFIG_OPTIONS, { ...config_resolver_1.NODE_REGION_CONFIG_FILE_OPTIONS, ...loaderConfig }),\n        requestHandler: node_http_handler_1.NodeHttpHandler.create(config?.requestHandler ?? defaultConfigProvider),\n        retryMode: config?.retryMode ??\n            (0, node_config_provider_1.loadConfig)({\n                ...middleware_retry_1.NODE_RETRY_MODE_CONFIG_OPTIONS,\n                default: async () => (await defaultConfigProvider()).retryMode || util_retry_1.DEFAULT_RETRY_MODE,\n            }, config),\n        sha256: config?.sha256 ?? hash_node_1.Hash.bind(null, \"sha256\"),\n        streamCollector: config?.streamCollector ?? node_http_handler_1.streamCollector,\n        useDualstackEndpoint: config?.useDualstackEndpoint ?? (0, node_config_provider_1.loadConfig)(config_resolver_1.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        useFipsEndpoint: config?.useFipsEndpoint ?? (0, node_config_provider_1.loadConfig)(config_resolver_1.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        userAgentAppId: config?.userAgentAppId ?? (0, node_config_provider_1.loadConfig)(util_user_agent_node_1.NODE_APP_ID_CONFIG_OPTIONS, loaderConfig),\n    };\n};\nexports.getRuntimeConfig = getRuntimeConfig;\n", "'use strict';\n\nvar middlewareHostHeader = require('@aws-sdk/middleware-host-header');\nvar middlewareLogger = require('@aws-sdk/middleware-logger');\nvar middlewareRecursionDetection = require('@aws-sdk/middleware-recursion-detection');\nvar middlewareUserAgent = require('@aws-sdk/middleware-user-agent');\nvar configResolver = require('@smithy/config-resolver');\nvar core = require('@smithy/core');\nvar schema = require('@smithy/core/schema');\nvar middlewareContentLength = require('@smithy/middleware-content-length');\nvar middlewareEndpoint = require('@smithy/middleware-endpoint');\nvar middlewareRetry = require('@smithy/middleware-retry');\nvar smithyClient = require('@smithy/smithy-client');\nvar httpAuthSchemeProvider = require('./auth/httpAuthSchemeProvider');\nvar runtimeConfig = require('./runtimeConfig');\nvar regionConfigResolver = require('@aws-sdk/region-config-resolver');\nvar protocolHttp = require('@smithy/protocol-http');\n\nconst resolveClientEndpointParameters = (options) => {\n    return Object.assign(options, {\n        useDualstackEndpoint: options.useDualstackEndpoint ?? false,\n        useFipsEndpoint: options.useFipsEndpoint ?? false,\n        defaultSigningName: \"awsssoportal\",\n    });\n};\nconst commonParams = {\n    UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n    Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n    Region: { type: \"builtInParams\", name: \"region\" },\n    UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n};\n\nconst getHttpAuthExtensionConfiguration = (runtimeConfig) => {\n    const _httpAuthSchemes = runtimeConfig.httpAuthSchemes;\n    let _httpAuthSchemeProvider = runtimeConfig.httpAuthSchemeProvider;\n    let _credentials = runtimeConfig.credentials;\n    return {\n        setHttpAuthScheme(httpAuthScheme) {\n            const index = _httpAuthSchemes.findIndex((scheme) => scheme.schemeId === httpAuthScheme.schemeId);\n            if (index === -1) {\n                _httpAuthSchemes.push(httpAuthScheme);\n            }\n            else {\n                _httpAuthSchemes.splice(index, 1, httpAuthScheme);\n            }\n        },\n        httpAuthSchemes() {\n            return _httpAuthSchemes;\n        },\n        setHttpAuthSchemeProvider(httpAuthSchemeProvider) {\n            _httpAuthSchemeProvider = httpAuthSchemeProvider;\n        },\n        httpAuthSchemeProvider() {\n            return _httpAuthSchemeProvider;\n        },\n        setCredentials(credentials) {\n            _credentials = credentials;\n        },\n        credentials() {\n            return _credentials;\n        },\n    };\n};\nconst resolveHttpAuthRuntimeConfig = (config) => {\n    return {\n        httpAuthSchemes: config.httpAuthSchemes(),\n        httpAuthSchemeProvider: config.httpAuthSchemeProvider(),\n        credentials: config.credentials(),\n    };\n};\n\nconst resolveRuntimeExtensions = (runtimeConfig, extensions) => {\n    const extensionConfiguration = Object.assign(regionConfigResolver.getAwsRegionExtensionConfiguration(runtimeConfig), smithyClient.getDefaultExtensionConfiguration(runtimeConfig), protocolHttp.getHttpHandlerExtensionConfiguration(runtimeConfig), getHttpAuthExtensionConfiguration(runtimeConfig));\n    extensions.forEach((extension) => extension.configure(extensionConfiguration));\n    return Object.assign(runtimeConfig, regionConfigResolver.resolveAwsRegionExtensionConfiguration(extensionConfiguration), smithyClient.resolveDefaultRuntimeConfig(extensionConfiguration), protocolHttp.resolveHttpHandlerRuntimeConfig(extensionConfiguration), resolveHttpAuthRuntimeConfig(extensionConfiguration));\n};\n\nclass SSOClient extends smithyClient.Client {\n    config;\n    constructor(...[configuration]) {\n        const _config_0 = runtimeConfig.getRuntimeConfig(configuration || {});\n        super(_config_0);\n        this.initConfig = _config_0;\n        const _config_1 = resolveClientEndpointParameters(_config_0);\n        const _config_2 = middlewareUserAgent.resolveUserAgentConfig(_config_1);\n        const _config_3 = middlewareRetry.resolveRetryConfig(_config_2);\n        const _config_4 = configResolver.resolveRegionConfig(_config_3);\n        const _config_5 = middlewareHostHeader.resolveHostHeaderConfig(_config_4);\n        const _config_6 = middlewareEndpoint.resolveEndpointConfig(_config_5);\n        const _config_7 = httpAuthSchemeProvider.resolveHttpAuthSchemeConfig(_config_6);\n        const _config_8 = resolveRuntimeExtensions(_config_7, configuration?.extensions || []);\n        this.config = _config_8;\n        this.middlewareStack.use(schema.getSchemaSerdePlugin(this.config));\n        this.middlewareStack.use(middlewareUserAgent.getUserAgentPlugin(this.config));\n        this.middlewareStack.use(middlewareRetry.getRetryPlugin(this.config));\n        this.middlewareStack.use(middlewareContentLength.getContentLengthPlugin(this.config));\n        this.middlewareStack.use(middlewareHostHeader.getHostHeaderPlugin(this.config));\n        this.middlewareStack.use(middlewareLogger.getLoggerPlugin(this.config));\n        this.middlewareStack.use(middlewareRecursionDetection.getRecursionDetectionPlugin(this.config));\n        this.middlewareStack.use(core.getHttpAuthSchemeEndpointRuleSetPlugin(this.config, {\n            httpAuthSchemeParametersProvider: httpAuthSchemeProvider.defaultSSOHttpAuthSchemeParametersProvider,\n            identityProviderConfigProvider: async (config) => new core.DefaultIdentityProviderConfig({\n                \"aws.auth#sigv4\": config.credentials,\n            }),\n        }));\n        this.middlewareStack.use(core.getHttpSigningPlugin(this.config));\n    }\n    destroy() {\n        super.destroy();\n    }\n}\n\nlet SSOServiceException$1 = class SSOServiceException extends smithyClient.ServiceException {\n    constructor(options) {\n        super(options);\n        Object.setPrototypeOf(this, SSOServiceException.prototype);\n    }\n};\n\nlet InvalidRequestException$1 = class InvalidRequestException extends SSOServiceException$1 {\n    name = \"InvalidRequestException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"InvalidRequestException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidRequestException.prototype);\n    }\n};\nlet ResourceNotFoundException$1 = class ResourceNotFoundException extends SSOServiceException$1 {\n    name = \"ResourceNotFoundException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ResourceNotFoundException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ResourceNotFoundException.prototype);\n    }\n};\nlet TooManyRequestsException$1 = class TooManyRequestsException extends SSOServiceException$1 {\n    name = \"TooManyRequestsException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"TooManyRequestsException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, TooManyRequestsException.prototype);\n    }\n};\nlet UnauthorizedException$1 = class UnauthorizedException extends SSOServiceException$1 {\n    name = \"UnauthorizedException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"UnauthorizedException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, UnauthorizedException.prototype);\n    }\n};\n\nconst _AI = \"AccountInfo\";\nconst _ALT = \"AccountListType\";\nconst _ATT = \"AccessTokenType\";\nconst _GRC = \"GetRoleCredentials\";\nconst _GRCR = \"GetRoleCredentialsRequest\";\nconst _GRCRe = \"GetRoleCredentialsResponse\";\nconst _IRE = \"InvalidRequestException\";\nconst _L = \"Logout\";\nconst _LA = \"ListAccounts\";\nconst _LAR = \"ListAccountsRequest\";\nconst _LARR = \"ListAccountRolesRequest\";\nconst _LARRi = \"ListAccountRolesResponse\";\nconst _LARi = \"ListAccountsResponse\";\nconst _LARis = \"ListAccountRoles\";\nconst _LR = \"LogoutRequest\";\nconst _RC = \"RoleCredentials\";\nconst _RI = \"RoleInfo\";\nconst _RLT = \"RoleListType\";\nconst _RNFE = \"ResourceNotFoundException\";\nconst _SAKT = \"SecretAccessKeyType\";\nconst _STT = \"SessionTokenType\";\nconst _TMRE = \"TooManyRequestsException\";\nconst _UE = \"UnauthorizedException\";\nconst _aI = \"accountId\";\nconst _aKI = \"accessKeyId\";\nconst _aL = \"accountList\";\nconst _aN = \"accountName\";\nconst _aT = \"accessToken\";\nconst _ai = \"account_id\";\nconst _c = \"client\";\nconst _e = \"error\";\nconst _eA = \"emailAddress\";\nconst _ex = \"expiration\";\nconst _h = \"http\";\nconst _hE = \"httpError\";\nconst _hH = \"httpHeader\";\nconst _hQ = \"httpQuery\";\nconst _m = \"message\";\nconst _mR = \"maxResults\";\nconst _mr = \"max_result\";\nconst _nT = \"nextToken\";\nconst _nt = \"next_token\";\nconst _rC = \"roleCredentials\";\nconst _rL = \"roleList\";\nconst _rN = \"roleName\";\nconst _rn = \"role_name\";\nconst _s = \"smithy.ts.sdk.synthetic.com.amazonaws.sso\";\nconst _sAK = \"secretAccessKey\";\nconst _sT = \"sessionToken\";\nconst _xasbt = \"x-amz-sso_bearer_token\";\nconst n0 = \"com.amazonaws.sso\";\nvar AccessTokenType = [0, n0, _ATT, 8, 0];\nvar SecretAccessKeyType = [0, n0, _SAKT, 8, 0];\nvar SessionTokenType = [0, n0, _STT, 8, 0];\nvar AccountInfo = [3, n0, _AI, 0, [_aI, _aN, _eA], [0, 0, 0]];\nvar GetRoleCredentialsRequest = [\n    3,\n    n0,\n    _GRCR,\n    0,\n    [_rN, _aI, _aT],\n    [\n        [\n            0,\n            {\n                [_hQ]: _rn,\n            },\n        ],\n        [\n            0,\n            {\n                [_hQ]: _ai,\n            },\n        ],\n        [\n            () => AccessTokenType,\n            {\n                [_hH]: _xasbt,\n            },\n        ],\n    ],\n];\nvar GetRoleCredentialsResponse = [3, n0, _GRCRe, 0, [_rC], [[() => RoleCredentials, 0]]];\nvar InvalidRequestException = [\n    -3,\n    n0,\n    _IRE,\n    {\n        [_e]: _c,\n        [_hE]: 400,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(InvalidRequestException, InvalidRequestException$1);\nvar ListAccountRolesRequest = [\n    3,\n    n0,\n    _LARR,\n    0,\n    [_nT, _mR, _aT, _aI],\n    [\n        [\n            0,\n            {\n                [_hQ]: _nt,\n            },\n        ],\n        [\n            1,\n            {\n                [_hQ]: _mr,\n            },\n        ],\n        [\n            () => AccessTokenType,\n            {\n                [_hH]: _xasbt,\n            },\n        ],\n        [\n            0,\n            {\n                [_hQ]: _ai,\n            },\n        ],\n    ],\n];\nvar ListAccountRolesResponse = [3, n0, _LARRi, 0, [_nT, _rL], [0, () => RoleListType]];\nvar ListAccountsRequest = [\n    3,\n    n0,\n    _LAR,\n    0,\n    [_nT, _mR, _aT],\n    [\n        [\n            0,\n            {\n                [_hQ]: _nt,\n            },\n        ],\n        [\n            1,\n            {\n                [_hQ]: _mr,\n            },\n        ],\n        [\n            () => AccessTokenType,\n            {\n                [_hH]: _xasbt,\n            },\n        ],\n    ],\n];\nvar ListAccountsResponse = [3, n0, _LARi, 0, [_nT, _aL], [0, () => AccountListType]];\nvar LogoutRequest = [\n    3,\n    n0,\n    _LR,\n    0,\n    [_aT],\n    [\n        [\n            () => AccessTokenType,\n            {\n                [_hH]: _xasbt,\n            },\n        ],\n    ],\n];\nvar ResourceNotFoundException = [\n    -3,\n    n0,\n    _RNFE,\n    {\n        [_e]: _c,\n        [_hE]: 404,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(ResourceNotFoundException, ResourceNotFoundException$1);\nvar RoleCredentials = [\n    3,\n    n0,\n    _RC,\n    0,\n    [_aKI, _sAK, _sT, _ex],\n    [0, [() => SecretAccessKeyType, 0], [() => SessionTokenType, 0], 1],\n];\nvar RoleInfo = [3, n0, _RI, 0, [_rN, _aI], [0, 0]];\nvar TooManyRequestsException = [\n    -3,\n    n0,\n    _TMRE,\n    {\n        [_e]: _c,\n        [_hE]: 429,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(TooManyRequestsException, TooManyRequestsException$1);\nvar UnauthorizedException = [\n    -3,\n    n0,\n    _UE,\n    {\n        [_e]: _c,\n        [_hE]: 401,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(UnauthorizedException, UnauthorizedException$1);\nvar __Unit = \"unit\";\nvar SSOServiceException = [-3, _s, \"SSOServiceException\", 0, [], []];\nschema.TypeRegistry.for(_s).registerError(SSOServiceException, SSOServiceException$1);\nvar AccountListType = [1, n0, _ALT, 0, () => AccountInfo];\nvar RoleListType = [1, n0, _RLT, 0, () => RoleInfo];\nvar GetRoleCredentials = [\n    9,\n    n0,\n    _GRC,\n    {\n        [_h]: [\"GET\", \"/federation/credentials\", 200],\n    },\n    () => GetRoleCredentialsRequest,\n    () => GetRoleCredentialsResponse,\n];\nvar ListAccountRoles = [\n    9,\n    n0,\n    _LARis,\n    {\n        [_h]: [\"GET\", \"/assignment/roles\", 200],\n    },\n    () => ListAccountRolesRequest,\n    () => ListAccountRolesResponse,\n];\nvar ListAccounts = [\n    9,\n    n0,\n    _LA,\n    {\n        [_h]: [\"GET\", \"/assignment/accounts\", 200],\n    },\n    () => ListAccountsRequest,\n    () => ListAccountsResponse,\n];\nvar Logout = [\n    9,\n    n0,\n    _L,\n    {\n        [_h]: [\"POST\", \"/logout\", 200],\n    },\n    () => LogoutRequest,\n    () => __Unit,\n];\n\nclass GetRoleCredentialsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"SWBPortalService\", \"GetRoleCredentials\", {})\n    .n(\"SSOClient\", \"GetRoleCredentialsCommand\")\n    .sc(GetRoleCredentials)\n    .build() {\n}\n\nclass ListAccountRolesCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"SWBPortalService\", \"ListAccountRoles\", {})\n    .n(\"SSOClient\", \"ListAccountRolesCommand\")\n    .sc(ListAccountRoles)\n    .build() {\n}\n\nclass ListAccountsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"SWBPortalService\", \"ListAccounts\", {})\n    .n(\"SSOClient\", \"ListAccountsCommand\")\n    .sc(ListAccounts)\n    .build() {\n}\n\nclass LogoutCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"SWBPortalService\", \"Logout\", {})\n    .n(\"SSOClient\", \"LogoutCommand\")\n    .sc(Logout)\n    .build() {\n}\n\nconst commands = {\n    GetRoleCredentialsCommand,\n    ListAccountRolesCommand,\n    ListAccountsCommand,\n    LogoutCommand,\n};\nclass SSO extends SSOClient {\n}\nsmithyClient.createAggregatedClient(commands, SSO);\n\nconst paginateListAccountRoles = core.createPaginator(SSOClient, ListAccountRolesCommand, \"nextToken\", \"nextToken\", \"maxResults\");\n\nconst paginateListAccounts = core.createPaginator(SSOClient, ListAccountsCommand, \"nextToken\", \"nextToken\", \"maxResults\");\n\nObject.defineProperty(exports, \"$Command\", {\n    enumerable: true,\n    get: function () { return smithyClient.Command; }\n});\nObject.defineProperty(exports, \"__Client\", {\n    enumerable: true,\n    get: function () { return smithyClient.Client; }\n});\nexports.GetRoleCredentialsCommand = GetRoleCredentialsCommand;\nexports.InvalidRequestException = InvalidRequestException$1;\nexports.ListAccountRolesCommand = ListAccountRolesCommand;\nexports.ListAccountsCommand = ListAccountsCommand;\nexports.LogoutCommand = LogoutCommand;\nexports.ResourceNotFoundException = ResourceNotFoundException$1;\nexports.SSO = SSO;\nexports.SSOClient = SSOClient;\nexports.SSOServiceException = SSOServiceException$1;\nexports.TooManyRequestsException = TooManyRequestsException$1;\nexports.UnauthorizedException = UnauthorizedException$1;\nexports.paginateListAccountRoles = paginateListAccountRoles;\nexports.paginateListAccounts = paginateListAccounts;\n", "'use strict';\n\nvar clientSso = require('@aws-sdk/client-sso');\n\n\n\nObject.defineProperty(exports, \"GetRoleCredentialsCommand\", {\n\tenumerable: true,\n\tget: function () { return clientSso.GetRoleCredentialsCommand; }\n});\nObject.defineProperty(exports, \"SSOClient\", {\n\tenumerable: true,\n\tget: function () { return clientSso.SSOClient; }\n});\n", "'use strict';\n\nvar propertyProvider = require('@smithy/property-provider');\nvar sharedIniFileLoader = require('@smithy/shared-ini-file-loader');\nvar client = require('@aws-sdk/core/client');\nvar tokenProviders = require('@aws-sdk/token-providers');\n\nconst isSsoProfile = (arg) => arg &&\n    (typeof arg.sso_start_url === \"string\" ||\n        typeof arg.sso_account_id === \"string\" ||\n        typeof arg.sso_session === \"string\" ||\n        typeof arg.sso_region === \"string\" ||\n        typeof arg.sso_role_name === \"string\");\n\nconst SHOULD_FAIL_CREDENTIAL_CHAIN = false;\nconst resolveSSOCredentials = async ({ ssoStartUrl, ssoSession, ssoAccountId, ssoRegion, ssoRoleName, ssoClient, clientConfig, parentClientConfig, profile, filepath, configFilepath, ignoreCache, logger, }) => {\n    let token;\n    const refreshMessage = `To refresh this SSO session run aws sso login with the corresponding profile.`;\n    if (ssoSession) {\n        try {\n            const _token = await tokenProviders.fromSso({\n                profile,\n                filepath,\n                configFilepath,\n                ignoreCache,\n            })();\n            token = {\n                accessToken: _token.token,\n                expiresAt: new Date(_token.expiration).toISOString(),\n            };\n        }\n        catch (e) {\n            throw new propertyProvider.CredentialsProviderError(e.message, {\n                tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n                logger,\n            });\n        }\n    }\n    else {\n        try {\n            token = await sharedIniFileLoader.getSSOTokenFromFile(ssoStartUrl);\n        }\n        catch (e) {\n            throw new propertyProvider.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${refreshMessage}`, {\n                tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n                logger,\n            });\n        }\n    }\n    if (new Date(token.expiresAt).getTime() - Date.now() <= 0) {\n        throw new propertyProvider.CredentialsProviderError(`The SSO session associated with this profile has expired. ${refreshMessage}`, {\n            tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n            logger,\n        });\n    }\n    const { accessToken } = token;\n    const { SSOClient, GetRoleCredentialsCommand } = await Promise.resolve().then(function () { return require('./loadSso-CVy8iqsZ.js'); });\n    const sso = ssoClient ||\n        new SSOClient(Object.assign({}, clientConfig ?? {}, {\n            logger: clientConfig?.logger ?? parentClientConfig?.logger,\n            region: clientConfig?.region ?? ssoRegion,\n            userAgentAppId: clientConfig?.userAgentAppId ?? parentClientConfig?.userAgentAppId,\n        }));\n    let ssoResp;\n    try {\n        ssoResp = await sso.send(new GetRoleCredentialsCommand({\n            accountId: ssoAccountId,\n            roleName: ssoRoleName,\n            accessToken,\n        }));\n    }\n    catch (e) {\n        throw new propertyProvider.CredentialsProviderError(e, {\n            tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n            logger,\n        });\n    }\n    const { roleCredentials: { accessKeyId, secretAccessKey, sessionToken, expiration, credentialScope, accountId } = {}, } = ssoResp;\n    if (!accessKeyId || !secretAccessKey || !sessionToken || !expiration) {\n        throw new propertyProvider.CredentialsProviderError(\"SSO returns an invalid temporary credential.\", {\n            tryNextLink: SHOULD_FAIL_CREDENTIAL_CHAIN,\n            logger,\n        });\n    }\n    const credentials = {\n        accessKeyId,\n        secretAccessKey,\n        sessionToken,\n        expiration: new Date(expiration),\n        ...(credentialScope && { credentialScope }),\n        ...(accountId && { accountId }),\n    };\n    if (ssoSession) {\n        client.setCredentialFeature(credentials, \"CREDENTIALS_SSO\", \"s\");\n    }\n    else {\n        client.setCredentialFeature(credentials, \"CREDENTIALS_SSO_LEGACY\", \"u\");\n    }\n    return credentials;\n};\n\nconst validateSsoProfile = (profile, logger) => {\n    const { sso_start_url, sso_account_id, sso_region, sso_role_name } = profile;\n    if (!sso_start_url || !sso_account_id || !sso_region || !sso_role_name) {\n        throw new propertyProvider.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters \"sso_account_id\", ` +\n            `\"sso_region\", \"sso_role_name\", \"sso_start_url\". Got ${Object.keys(profile).join(\", \")}\\nReference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`, { tryNextLink: false, logger });\n    }\n    return profile;\n};\n\nconst fromSSO = (init = {}) => async ({ callerClientConfig } = {}) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-sso - fromSSO\");\n    const { ssoStartUrl, ssoAccountId, ssoRegion, ssoRoleName, ssoSession } = init;\n    const { ssoClient } = init;\n    const profileName = sharedIniFileLoader.getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    });\n    if (!ssoStartUrl && !ssoAccountId && !ssoRegion && !ssoRoleName && !ssoSession) {\n        const profiles = await sharedIniFileLoader.parseKnownFiles(init);\n        const profile = profiles[profileName];\n        if (!profile) {\n            throw new propertyProvider.CredentialsProviderError(`Profile ${profileName} was not found.`, { logger: init.logger });\n        }\n        if (!isSsoProfile(profile)) {\n            throw new propertyProvider.CredentialsProviderError(`Profile ${profileName} is not configured with SSO credentials.`, {\n                logger: init.logger,\n            });\n        }\n        if (profile?.sso_session) {\n            const ssoSessions = await sharedIniFileLoader.loadSsoSessionData(init);\n            const session = ssoSessions[profile.sso_session];\n            const conflictMsg = ` configurations in profile ${profileName} and sso-session ${profile.sso_session}`;\n            if (ssoRegion && ssoRegion !== session.sso_region) {\n                throw new propertyProvider.CredentialsProviderError(`Conflicting SSO region` + conflictMsg, {\n                    tryNextLink: false,\n                    logger: init.logger,\n                });\n            }\n            if (ssoStartUrl && ssoStartUrl !== session.sso_start_url) {\n                throw new propertyProvider.CredentialsProviderError(`Conflicting SSO start_url` + conflictMsg, {\n                    tryNextLink: false,\n                    logger: init.logger,\n                });\n            }\n            profile.sso_region = session.sso_region;\n            profile.sso_start_url = session.sso_start_url;\n        }\n        const { sso_start_url, sso_account_id, sso_region, sso_role_name, sso_session } = validateSsoProfile(profile, init.logger);\n        return resolveSSOCredentials({\n            ssoStartUrl: sso_start_url,\n            ssoSession: sso_session,\n            ssoAccountId: sso_account_id,\n            ssoRegion: sso_region,\n            ssoRoleName: sso_role_name,\n            ssoClient: ssoClient,\n            clientConfig: init.clientConfig,\n            parentClientConfig: init.parentClientConfig,\n            profile: profileName,\n            filepath: init.filepath,\n            configFilepath: init.configFilepath,\n            ignoreCache: init.ignoreCache,\n            logger: init.logger,\n        });\n    }\n    else if (!ssoStartUrl || !ssoAccountId || !ssoRegion || !ssoRoleName) {\n        throw new propertyProvider.CredentialsProviderError(\"Incomplete configuration. The fromSSO() argument hash must include \" +\n            '\"ssoStartUrl\", \"ssoAccountId\", \"ssoRegion\", \"ssoRoleName\"', { tryNextLink: false, logger: init.logger });\n    }\n    else {\n        return resolveSSOCredentials({\n            ssoStartUrl,\n            ssoSession,\n            ssoAccountId,\n            ssoRegion,\n            ssoRoleName,\n            ssoClient,\n            clientConfig: init.clientConfig,\n            parentClientConfig: init.parentClientConfig,\n            profile: profileName,\n            filepath: init.filepath,\n            configFilepath: init.configFilepath,\n            ignoreCache: init.ignoreCache,\n            logger: init.logger,\n        });\n    }\n};\n\nexports.fromSSO = fromSSO;\nexports.isSsoProfile = isSsoProfile;\nexports.validateSsoProfile = validateSsoProfile;\n", "import { resolveAwsSdkSigV4Config, } from \"@aws-sdk/core\";\nimport { getSmithyContext, normalizeProvider } from \"@smithy/util-middleware\";\nimport { STSClient } from \"../STSClient\";\nexport const defaultSTSHttpAuthSchemeParametersProvider = async (config, context, input) => {\n    return {\n        operation: getSmithyContext(context).operation,\n        region: (await normalizeProvider(config.region)()) ||\n            (() => {\n                throw new Error(\"expected `region` to be configured for `aws.auth#sigv4`\");\n            })(),\n    };\n};\nfunction createAwsAuthSigv4HttpAuthOption(authParameters) {\n    return {\n        schemeId: \"aws.auth#sigv4\",\n        signingProperties: {\n            name: \"sts\",\n            region: authParameters.region,\n        },\n        propertiesExtractor: (config, context) => ({\n            signingProperties: {\n                config,\n                context,\n            },\n        }),\n    };\n}\nfunction createSmithyApiNoAuthHttpAuthOption(authParameters) {\n    return {\n        schemeId: \"smithy.api#noAuth\",\n    };\n}\nexport const defaultSTSHttpAuthSchemeProvider = (authParameters) => {\n    const options = [];\n    switch (authParameters.operation) {\n        case \"AssumeRoleWithWebIdentity\": {\n            options.push(createSmithyApiNoAuthHttpAuthOption(authParameters));\n            break;\n        }\n        default: {\n            options.push(createAwsAuthSigv4HttpAuthOption(authParameters));\n        }\n    }\n    return options;\n};\nexport const resolveStsAuthConfig = (input) => Object.assign(input, {\n    stsClientCtor: STSClient,\n});\nexport const resolveHttpAuthSchemeConfig = (config) => {\n    const config_0 = resolveStsAuthConfig(config);\n    const config_1 = resolveAwsSdkSigV4Config(config_0);\n    return Object.assign(config_1, {\n        authSchemePreference: normalizeProvider(config.authSchemePreference ?? []),\n    });\n};\n", "export const resolveClientEndpointParameters = (options) => {\n    return Object.assign(options, {\n        useDualstackEndpoint: options.useDualstackEndpoint ?? false,\n        useFipsEndpoint: options.useFipsEndpoint ?? false,\n        useGlobalEndpoint: options.useGlobalEndpoint ?? false,\n        defaultSigningName: \"sts\",\n    });\n};\nexport const commonParams = {\n    UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n    UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n    Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n    Region: { type: \"builtInParams\", name: \"region\" },\n    UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n};\n", "const F = \"required\", G = \"type\", H = \"fn\", I = \"argv\", J = \"ref\";\nconst a = false, b = true, c = \"booleanEquals\", d = \"stringEquals\", e = \"sigv4\", f = \"sts\", g = \"us-east-1\", h = \"endpoint\", i = \"https://sts.{Region}.{PartitionResult#dnsSuffix}\", j = \"tree\", k = \"error\", l = \"getAttr\", m = { [F]: false, [G]: \"string\" }, n = { [F]: true, \"default\": false, [G]: \"boolean\" }, o = { [J]: \"Endpoint\" }, p = { [H]: \"isSet\", [I]: [{ [J]: \"Region\" }] }, q = { [J]: \"Region\" }, r = { [H]: \"aws.partition\", [I]: [q], \"assign\": \"PartitionResult\" }, s = { [J]: \"UseFIPS\" }, t = { [J]: \"UseDualStack\" }, u = { \"url\": \"https://sts.amazonaws.com\", \"properties\": { \"authSchemes\": [{ \"name\": e, \"signingName\": f, \"signingRegion\": g }] }, \"headers\": {} }, v = {}, w = { \"conditions\": [{ [H]: d, [I]: [q, \"aws-global\"] }], [h]: u, [G]: h }, x = { [H]: c, [I]: [s, true] }, y = { [H]: c, [I]: [t, true] }, z = { [H]: l, [I]: [{ [J]: \"PartitionResult\" }, \"supportsFIPS\"] }, A = { [J]: \"PartitionResult\" }, B = { [H]: c, [I]: [true, { [H]: l, [I]: [A, \"supportsDualStack\"] }] }, C = [{ [H]: \"isSet\", [I]: [o] }], D = [x], E = [y];\nconst _data = { version: \"1.0\", parameters: { Region: m, UseDualStack: n, UseFIPS: n, Endpoint: m, UseGlobalEndpoint: n }, rules: [{ conditions: [{ [H]: c, [I]: [{ [J]: \"UseGlobalEndpoint\" }, b] }, { [H]: \"not\", [I]: C }, p, r, { [H]: c, [I]: [s, a] }, { [H]: c, [I]: [t, a] }], rules: [{ conditions: [{ [H]: d, [I]: [q, \"ap-northeast-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"ap-south-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"ap-southeast-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"ap-southeast-2\"] }], endpoint: u, [G]: h }, w, { conditions: [{ [H]: d, [I]: [q, \"ca-central-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"eu-central-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"eu-north-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"eu-west-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"eu-west-2\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"eu-west-3\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"sa-east-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, g] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"us-east-2\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"us-west-1\"] }], endpoint: u, [G]: h }, { conditions: [{ [H]: d, [I]: [q, \"us-west-2\"] }], endpoint: u, [G]: h }, { endpoint: { url: i, properties: { authSchemes: [{ name: e, signingName: f, signingRegion: \"{Region}\" }] }, headers: v }, [G]: h }], [G]: j }, { conditions: C, rules: [{ conditions: D, error: \"Invalid Configuration: FIPS and custom endpoint are not supported\", [G]: k }, { conditions: E, error: \"Invalid Configuration: Dualstack and custom endpoint are not supported\", [G]: k }, { endpoint: { url: o, properties: v, headers: v }, [G]: h }], [G]: j }, { conditions: [p], rules: [{ conditions: [r], rules: [{ conditions: [x, y], rules: [{ conditions: [{ [H]: c, [I]: [b, z] }, B], rules: [{ endpoint: { url: \"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: v, headers: v }, [G]: h }], [G]: j }, { error: \"FIPS and DualStack are enabled, but this partition does not support one or both\", [G]: k }], [G]: j }, { conditions: D, rules: [{ conditions: [{ [H]: c, [I]: [z, b] }], rules: [{ conditions: [{ [H]: d, [I]: [{ [H]: l, [I]: [A, \"name\"] }, \"aws-us-gov\"] }], endpoint: { url: \"https://sts.{Region}.amazonaws.com\", properties: v, headers: v }, [G]: h }, { endpoint: { url: \"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}\", properties: v, headers: v }, [G]: h }], [G]: j }, { error: \"FIPS is enabled but this partition does not support FIPS\", [G]: k }], [G]: j }, { conditions: E, rules: [{ conditions: [B], rules: [{ endpoint: { url: \"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}\", properties: v, headers: v }, [G]: h }], [G]: j }, { error: \"DualStack is enabled but this partition does not support DualStack\", [G]: k }], [G]: j }, w, { endpoint: { url: i, properties: v, headers: v }, [G]: h }], [G]: j }], [G]: j }, { error: \"Invalid Configuration: Missing Region\", [G]: k }] };\nexport const ruleSet = _data;\n", "import { awsEndpointFunctions } from \"@aws-sdk/util-endpoints\";\nimport { customEndpointFunctions, EndpointCache, resolveEndpoint } from \"@smithy/util-endpoints\";\nimport { ruleSet } from \"./ruleset\";\nconst cache = new EndpointCache({\n    size: 50,\n    params: [\"Endpoint\", \"Region\", \"UseDualStack\", \"UseFIPS\", \"UseGlobalEndpoint\"],\n});\nexport const defaultEndpointResolver = (endpointParams, context = {}) => {\n    return cache.get(endpointParams, () => resolveEndpoint(ruleSet, {\n        endpointParams: endpointParams,\n        logger: context.logger,\n    }));\n};\ncustomEndpointFunctions.aws = awsEndpointFunctions;\n", "import { AwsSdkSigV4Signer } from \"@aws-sdk/core\";\nimport { NoAuthSigner } from \"@smithy/core\";\nimport { NoOpLogger } from \"@smithy/smithy-client\";\nimport { parseUrl } from \"@smithy/url-parser\";\nimport { fromBase64, toBase64 } from \"@smithy/util-base64\";\nimport { fromUtf8, toUtf8 } from \"@smithy/util-utf8\";\nimport { defaultSTSHttpAuthSchemeProvider } from \"./auth/httpAuthSchemeProvider\";\nimport { defaultEndpointResolver } from \"./endpoint/endpointResolver\";\nexport const getRuntimeConfig = (config) => {\n    return {\n        apiVersion: \"2011-06-15\",\n        base64Decoder: config?.base64Decoder ?? fromBase64,\n        base64Encoder: config?.base64Encoder ?? toBase64,\n        disableHostPrefix: config?.disableHostPrefix ?? false,\n        endpointProvider: config?.endpointProvider ?? defaultEndpointResolver,\n        extensions: config?.extensions ?? [],\n        httpAuthSchemeProvider: config?.httpAuthSchemeProvider ?? defaultSTSHttpAuthSchemeProvider,\n        httpAuthSchemes: config?.httpAuthSchemes ?? [\n            {\n                schemeId: \"aws.auth#sigv4\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"aws.auth#sigv4\"),\n                signer: new AwsSdkSigV4Signer(),\n            },\n            {\n                schemeId: \"smithy.api#noAuth\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"smithy.api#noAuth\") || (async () => ({})),\n                signer: new NoAuthSigner(),\n            },\n        ],\n        logger: config?.logger ?? new NoOpLogger(),\n        serviceId: config?.serviceId ?? \"STS\",\n        urlParser: config?.urlParser ?? parseUrl,\n        utf8Decoder: config?.utf8Decoder ?? fromUtf8,\n        utf8Encoder: config?.utf8Encoder ?? toUtf8,\n    };\n};\n", "import packageInfo from \"../../../package.json\";\nimport { AwsSdkSigV4Signer, NODE_AUTH_SCHEME_PREFERENCE_OPTIONS, emitWarningIfUnsupportedVersion as awsCheckVersion, } from \"@aws-sdk/core\";\nimport { NODE_APP_ID_CONFIG_OPTIONS, createDefaultUserAgentProvider } from \"@aws-sdk/util-user-agent-node\";\nimport { NODE_REGION_CONFIG_FILE_OPTIONS, NODE_REGION_CONFIG_OPTIONS, NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS, NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS, } from \"@smithy/config-resolver\";\nimport { NoAuthSigner } from \"@smithy/core\";\nimport { Hash } from \"@smithy/hash-node\";\nimport { NODE_MAX_ATTEMPT_CONFIG_OPTIONS, NODE_RETRY_MODE_CONFIG_OPTIONS } from \"@smithy/middleware-retry\";\nimport { loadConfig as loadNodeConfig } from \"@smithy/node-config-provider\";\nimport { NodeHttpHandler as RequestHandler, streamCollector } from \"@smithy/node-http-handler\";\nimport { calculateBodyLength } from \"@smithy/util-body-length-node\";\nimport { DEFAULT_RETRY_MODE } from \"@smithy/util-retry\";\nimport { getRuntimeConfig as getSharedRuntimeConfig } from \"./runtimeConfig.shared\";\nimport { loadConfigsForDefaultMode } from \"@smithy/smithy-client\";\nimport { resolveDefaultsModeConfig } from \"@smithy/util-defaults-mode-node\";\nimport { emitWarningIfUnsupportedVersion } from \"@smithy/smithy-client\";\nexport const getRuntimeConfig = (config) => {\n    emitWarningIfUnsupportedVersion(process.version);\n    const defaultsMode = resolveDefaultsModeConfig(config);\n    const defaultConfigProvider = () => defaultsMode().then(loadConfigsForDefaultMode);\n    const clientSharedValues = getSharedRuntimeConfig(config);\n    awsCheckVersion(process.version);\n    const loaderConfig = {\n        profile: config?.profile,\n        logger: clientSharedValues.logger,\n    };\n    return {\n        ...clientSharedValues,\n        ...config,\n        runtime: \"node\",\n        defaultsMode,\n        authSchemePreference: config?.authSchemePreference ?? loadNodeConfig(NODE_AUTH_SCHEME_PREFERENCE_OPTIONS, loaderConfig),\n        bodyLengthChecker: config?.bodyLengthChecker ?? calculateBodyLength,\n        defaultUserAgentProvider: config?.defaultUserAgentProvider ??\n            createDefaultUserAgentProvider({ serviceId: clientSharedValues.serviceId, clientVersion: packageInfo.version }),\n        httpAuthSchemes: config?.httpAuthSchemes ?? [\n            {\n                schemeId: \"aws.auth#sigv4\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"aws.auth#sigv4\") ||\n                    (async (idProps) => await config.credentialDefaultProvider(idProps?.__config || {})()),\n                signer: new AwsSdkSigV4Signer(),\n            },\n            {\n                schemeId: \"smithy.api#noAuth\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"smithy.api#noAuth\") || (async () => ({})),\n                signer: new NoAuthSigner(),\n            },\n        ],\n        maxAttempts: config?.maxAttempts ?? loadNodeConfig(NODE_MAX_ATTEMPT_CONFIG_OPTIONS, config),\n        region: config?.region ??\n            loadNodeConfig(NODE_REGION_CONFIG_OPTIONS, { ...NODE_REGION_CONFIG_FILE_OPTIONS, ...loaderConfig }),\n        requestHandler: RequestHandler.create(config?.requestHandler ?? defaultConfigProvider),\n        retryMode: config?.retryMode ??\n            loadNodeConfig({\n                ...NODE_RETRY_MODE_CONFIG_OPTIONS,\n                default: async () => (await defaultConfigProvider()).retryMode || DEFAULT_RETRY_MODE,\n            }, config),\n        sha256: config?.sha256 ?? Hash.bind(null, \"sha256\"),\n        streamCollector: config?.streamCollector ?? streamCollector,\n        useDualstackEndpoint: config?.useDualstackEndpoint ?? loadNodeConfig(NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        useFipsEndpoint: config?.useFipsEndpoint ?? loadNodeConfig(NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        userAgentAppId: config?.userAgentAppId ?? loadNodeConfig(NODE_APP_ID_CONFIG_OPTIONS, loaderConfig),\n    };\n};\n", "export const getHttpAuthExtensionConfiguration = (runtimeConfig) => {\n    const _httpAuthSchemes = runtimeConfig.httpAuthSchemes;\n    let _httpAuthSchemeProvider = runtimeConfig.httpAuthSchemeProvider;\n    let _credentials = runtimeConfig.credentials;\n    return {\n        setHttpAuthScheme(httpAuthScheme) {\n            const index = _httpAuthSchemes.findIndex((scheme) => scheme.schemeId === httpAuthScheme.schemeId);\n            if (index === -1) {\n                _httpAuthSchemes.push(httpAuthScheme);\n            }\n            else {\n                _httpAuthSchemes.splice(index, 1, httpAuthScheme);\n            }\n        },\n        httpAuthSchemes() {\n            return _httpAuthSchemes;\n        },\n        setHttpAuthSchemeProvider(httpAuthSchemeProvider) {\n            _httpAuthSchemeProvider = httpAuthSchemeProvider;\n        },\n        httpAuthSchemeProvider() {\n            return _httpAuthSchemeProvider;\n        },\n        setCredentials(credentials) {\n            _credentials = credentials;\n        },\n        credentials() {\n            return _credentials;\n        },\n    };\n};\nexport const resolveHttpAuthRuntimeConfig = (config) => {\n    return {\n        httpAuthSchemes: config.httpAuthSchemes(),\n        httpAuthSchemeProvider: config.httpAuthSchemeProvider(),\n        credentials: config.credentials(),\n    };\n};\n", "import { getAwsRegionExtensionConfiguration, resolveAwsRegionExtensionConfiguration, } from \"@aws-sdk/region-config-resolver\";\nimport { getHttpHandlerExtensionConfiguration, resolveHttpHandlerRuntimeConfig } from \"@smithy/protocol-http\";\nimport { getDefaultExtensionConfiguration, resolveDefaultRuntimeConfig } from \"@smithy/smithy-client\";\nimport { getHttpAuthExtensionConfiguration, resolveHttpAuthRuntimeConfig } from \"./auth/httpAuthExtensionConfiguration\";\nexport const resolveRuntimeExtensions = (runtimeConfig, extensions) => {\n    const extensionConfiguration = Object.assign(getAwsRegionExtensionConfiguration(runtimeConfig), getDefaultExtensionConfiguration(runtimeConfig), getHttpHandlerExtensionConfiguration(runtimeConfig), getHttpAuthExtensionConfiguration(runtimeConfig));\n    extensions.forEach((extension) => extension.configure(extensionConfiguration));\n    return Object.assign(runtimeConfig, resolveAwsRegionExtensionConfiguration(extensionConfiguration), resolveDefaultRuntimeConfig(extensionConfiguration), resolveHttpHandlerRuntimeConfig(extensionConfiguration), resolveHttpAuthRuntimeConfig(extensionConfiguration));\n};\n", "import { getHostHeaderPlugin, resolveHostHeaderConfig, } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin } from \"@aws-sdk/middleware-logger\";\nimport { getRecursionDetectionPlugin } from \"@aws-sdk/middleware-recursion-detection\";\nimport { getUserAgentPlugin, resolveUserAgentConfig, } from \"@aws-sdk/middleware-user-agent\";\nimport { resolveRegionConfig } from \"@smithy/config-resolver\";\nimport { DefaultIdentityProviderConfig, getHttpAuthSchemeEndpointRuleSetPlugin, getHttpSigningPlugin, } from \"@smithy/core\";\nimport { getContentLengthPlugin } from \"@smithy/middleware-content-length\";\nimport { resolveEndpointConfig } from \"@smithy/middleware-endpoint\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@smithy/middleware-retry\";\nimport { Client as __Client, } from \"@smithy/smithy-client\";\nimport { defaultSTSHttpAuthSchemeParametersProvider, resolveHttpAuthSchemeConfig, } from \"./auth/httpAuthSchemeProvider\";\nimport { resolveClientEndpointParameters, } from \"./endpoint/EndpointParameters\";\nimport { getRuntimeConfig as __getRuntimeConfig } from \"./runtimeConfig\";\nimport { resolveRuntimeExtensions } from \"./runtimeExtensions\";\nexport { __Client };\nexport class STSClient extends __Client {\n    config;\n    constructor(...[configuration]) {\n        const _config_0 = __getRuntimeConfig(configuration || {});\n        super(_config_0);\n        this.initConfig = _config_0;\n        const _config_1 = resolveClientEndpointParameters(_config_0);\n        const _config_2 = resolveUserAgentConfig(_config_1);\n        const _config_3 = resolveRetryConfig(_config_2);\n        const _config_4 = resolveRegionConfig(_config_3);\n        const _config_5 = resolveHostHeaderConfig(_config_4);\n        const _config_6 = resolveEndpointConfig(_config_5);\n        const _config_7 = resolveHttpAuthSchemeConfig(_config_6);\n        const _config_8 = resolveRuntimeExtensions(_config_7, configuration?.extensions || []);\n        this.config = _config_8;\n        this.middlewareStack.use(getUserAgentPlugin(this.config));\n        this.middlewareStack.use(getRetryPlugin(this.config));\n        this.middlewareStack.use(getContentLengthPlugin(this.config));\n        this.middlewareStack.use(getHostHeaderPlugin(this.config));\n        this.middlewareStack.use(getLoggerPlugin(this.config));\n        this.middlewareStack.use(getRecursionDetectionPlugin(this.config));\n        this.middlewareStack.use(getHttpAuthSchemeEndpointRuleSetPlugin(this.config, {\n            httpAuthSchemeParametersProvider: defaultSTSHttpAuthSchemeParametersProvider,\n            identityProviderConfigProvider: async (config) => new DefaultIdentityProviderConfig({\n                \"aws.auth#sigv4\": config.credentials,\n            }),\n        }));\n        this.middlewareStack.use(getHttpSigningPlugin(this.config));\n    }\n    destroy() {\n        super.destroy();\n    }\n}\n", "import { ServiceException as __ServiceException, } from \"@smithy/smithy-client\";\nexport { __ServiceException };\nexport class STSServiceException extends __ServiceException {\n    constructor(options) {\n        super(options);\n        Object.setPrototypeOf(this, STSServiceException.prototype);\n    }\n}\n", "import { SENSITIVE_STRING } from \"@smithy/smithy-client\";\nimport { STSServiceException as __BaseException } from \"./STSServiceException\";\nexport const CredentialsFilterSensitiveLog = (obj) => ({\n    ...obj,\n    ...(obj.SecretAccessKey && { SecretAccessKey: SENSITIVE_STRING }),\n});\nexport const AssumeRoleResponseFilterSensitiveLog = (obj) => ({\n    ...obj,\n    ...(obj.Credentials && { Credentials: CredentialsFilterSensitiveLog(obj.Credentials) }),\n});\nexport class ExpiredTokenException extends __BaseException {\n    name = \"ExpiredTokenException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ExpiredTokenException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ExpiredTokenException.prototype);\n    }\n}\nexport class MalformedPolicyDocumentException extends __BaseException {\n    name = \"MalformedPolicyDocumentException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"MalformedPolicyDocumentException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, MalformedPolicyDocumentException.prototype);\n    }\n}\nexport class PackedPolicyTooLargeException extends __BaseException {\n    name = \"PackedPolicyTooLargeException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"PackedPolicyTooLargeException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, PackedPolicyTooLargeException.prototype);\n    }\n}\nexport class RegionDisabledException extends __BaseException {\n    name = \"RegionDisabledException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"RegionDisabledException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, RegionDisabledException.prototype);\n    }\n}\nexport class IDPRejectedClaimException extends __BaseException {\n    name = \"IDPRejectedClaimException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"IDPRejectedClaimException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, IDPRejectedClaimException.prototype);\n    }\n}\nexport class InvalidIdentityTokenException extends __BaseException {\n    name = \"InvalidIdentityTokenException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"InvalidIdentityTokenException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidIdentityTokenException.prototype);\n    }\n}\nexport const AssumeRoleWithWebIdentityRequestFilterSensitiveLog = (obj) => ({\n    ...obj,\n    ...(obj.WebIdentityToken && { WebIdentityToken: SENSITIVE_STRING }),\n});\nexport const AssumeRoleWithWebIdentityResponseFilterSensitiveLog = (obj) => ({\n    ...obj,\n    ...(obj.Credentials && { Credentials: CredentialsFilterSensitiveLog(obj.Credentials) }),\n});\nexport class IDPCommunicationErrorException extends __BaseException {\n    name = \"IDPCommunicationErrorException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"IDPCommunicationErrorException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, IDPCommunicationErrorException.prototype);\n    }\n}\n", "import { parseXmlBody as parseBody, parseXmlErrorBody as parseErrorBody } from \"@aws-sdk/core\";\nimport { HttpRequest as __HttpRequest } from \"@smithy/protocol-http\";\nimport { collectBody, decorateServiceException as __decorateServiceException, expectNonNull as __expectNonNull, expectString as __expectString, extendedEncodeURIComponent as __extendedEncodeURIComponent, parseRfc3339DateTimeWithOffset as __parseRfc3339DateTimeWithOffset, strictParseInt32 as __strictParseInt32, withBaseException, } from \"@smithy/smithy-client\";\nimport { ExpiredTokenException, IDPCommunicationErrorException, IDPRejectedClaimException, InvalidIdentityTokenException, MalformedPolicyDocumentException, PackedPolicyTooLargeException, RegionDisabledException, } from \"../models/models_0\";\nimport { STSServiceException as __BaseException } from \"../models/STSServiceException\";\nexport const se_AssumeRoleCommand = async (input, context) => {\n    const headers = SHARED_HEADERS;\n    let body;\n    body = buildFormUrlencodedString({\n        ...se_AssumeRoleRequest(input, context),\n        [_A]: _AR,\n        [_V]: _,\n    });\n    return buildHttpRpcRequest(context, headers, \"/\", undefined, body);\n};\nexport const se_AssumeRoleWithWebIdentityCommand = async (input, context) => {\n    const headers = SHARED_HEADERS;\n    let body;\n    body = buildFormUrlencodedString({\n        ...se_AssumeRoleWithWebIdentityRequest(input, context),\n        [_A]: _ARWWI,\n        [_V]: _,\n    });\n    return buildHttpRpcRequest(context, headers, \"/\", undefined, body);\n};\nexport const de_AssumeRoleCommand = async (output, context) => {\n    if (output.statusCode >= 300) {\n        return de_CommandError(output, context);\n    }\n    const data = await parseBody(output.body, context);\n    let contents = {};\n    contents = de_AssumeRoleResponse(data.AssumeRoleResult, context);\n    const response = {\n        $metadata: deserializeMetadata(output),\n        ...contents,\n    };\n    return response;\n};\nexport const de_AssumeRoleWithWebIdentityCommand = async (output, context) => {\n    if (output.statusCode >= 300) {\n        return de_CommandError(output, context);\n    }\n    const data = await parseBody(output.body, context);\n    let contents = {};\n    contents = de_AssumeRoleWithWebIdentityResponse(data.AssumeRoleWithWebIdentityResult, context);\n    const response = {\n        $metadata: deserializeMetadata(output),\n        ...contents,\n    };\n    return response;\n};\nconst de_CommandError = async (output, context) => {\n    const parsedOutput = {\n        ...output,\n        body: await parseErrorBody(output.body, context),\n    };\n    const errorCode = loadQueryErrorCode(output, parsedOutput.body);\n    switch (errorCode) {\n        case \"ExpiredTokenException\":\n        case \"com.amazonaws.sts#ExpiredTokenException\":\n            throw await de_ExpiredTokenExceptionRes(parsedOutput, context);\n        case \"MalformedPolicyDocument\":\n        case \"com.amazonaws.sts#MalformedPolicyDocumentException\":\n            throw await de_MalformedPolicyDocumentExceptionRes(parsedOutput, context);\n        case \"PackedPolicyTooLarge\":\n        case \"com.amazonaws.sts#PackedPolicyTooLargeException\":\n            throw await de_PackedPolicyTooLargeExceptionRes(parsedOutput, context);\n        case \"RegionDisabledException\":\n        case \"com.amazonaws.sts#RegionDisabledException\":\n            throw await de_RegionDisabledExceptionRes(parsedOutput, context);\n        case \"IDPCommunicationError\":\n        case \"com.amazonaws.sts#IDPCommunicationErrorException\":\n            throw await de_IDPCommunicationErrorExceptionRes(parsedOutput, context);\n        case \"IDPRejectedClaim\":\n        case \"com.amazonaws.sts#IDPRejectedClaimException\":\n            throw await de_IDPRejectedClaimExceptionRes(parsedOutput, context);\n        case \"InvalidIdentityToken\":\n        case \"com.amazonaws.sts#InvalidIdentityTokenException\":\n            throw await de_InvalidIdentityTokenExceptionRes(parsedOutput, context);\n        default:\n            const parsedBody = parsedOutput.body;\n            return throwDefaultError({\n                output,\n                parsedBody: parsedBody.Error,\n                errorCode,\n            });\n    }\n};\nconst de_ExpiredTokenExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_ExpiredTokenException(body.Error, context);\n    const exception = new ExpiredTokenException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst de_IDPCommunicationErrorExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_IDPCommunicationErrorException(body.Error, context);\n    const exception = new IDPCommunicationErrorException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst de_IDPRejectedClaimExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_IDPRejectedClaimException(body.Error, context);\n    const exception = new IDPRejectedClaimException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst de_InvalidIdentityTokenExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_InvalidIdentityTokenException(body.Error, context);\n    const exception = new InvalidIdentityTokenException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst de_MalformedPolicyDocumentExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_MalformedPolicyDocumentException(body.Error, context);\n    const exception = new MalformedPolicyDocumentException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst de_PackedPolicyTooLargeExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_PackedPolicyTooLargeException(body.Error, context);\n    const exception = new PackedPolicyTooLargeException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst de_RegionDisabledExceptionRes = async (parsedOutput, context) => {\n    const body = parsedOutput.body;\n    const deserialized = de_RegionDisabledException(body.Error, context);\n    const exception = new RegionDisabledException({\n        $metadata: deserializeMetadata(parsedOutput),\n        ...deserialized,\n    });\n    return __decorateServiceException(exception, body);\n};\nconst se_AssumeRoleRequest = (input, context) => {\n    const entries = {};\n    if (input[_RA] != null) {\n        entries[_RA] = input[_RA];\n    }\n    if (input[_RSN] != null) {\n        entries[_RSN] = input[_RSN];\n    }\n    if (input[_PA] != null) {\n        const memberEntries = se_policyDescriptorListType(input[_PA], context);\n        if (input[_PA]?.length === 0) {\n            entries.PolicyArns = [];\n        }\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            const loc = `PolicyArns.${key}`;\n            entries[loc] = value;\n        });\n    }\n    if (input[_P] != null) {\n        entries[_P] = input[_P];\n    }\n    if (input[_DS] != null) {\n        entries[_DS] = input[_DS];\n    }\n    if (input[_T] != null) {\n        const memberEntries = se_tagListType(input[_T], context);\n        if (input[_T]?.length === 0) {\n            entries.Tags = [];\n        }\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            const loc = `Tags.${key}`;\n            entries[loc] = value;\n        });\n    }\n    if (input[_TTK] != null) {\n        const memberEntries = se_tagKeyListType(input[_TTK], context);\n        if (input[_TTK]?.length === 0) {\n            entries.TransitiveTagKeys = [];\n        }\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            const loc = `TransitiveTagKeys.${key}`;\n            entries[loc] = value;\n        });\n    }\n    if (input[_EI] != null) {\n        entries[_EI] = input[_EI];\n    }\n    if (input[_SN] != null) {\n        entries[_SN] = input[_SN];\n    }\n    if (input[_TC] != null) {\n        entries[_TC] = input[_TC];\n    }\n    if (input[_SI] != null) {\n        entries[_SI] = input[_SI];\n    }\n    if (input[_PC] != null) {\n        const memberEntries = se_ProvidedContextsListType(input[_PC], context);\n        if (input[_PC]?.length === 0) {\n            entries.ProvidedContexts = [];\n        }\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            const loc = `ProvidedContexts.${key}`;\n            entries[loc] = value;\n        });\n    }\n    return entries;\n};\nconst se_AssumeRoleWithWebIdentityRequest = (input, context) => {\n    const entries = {};\n    if (input[_RA] != null) {\n        entries[_RA] = input[_RA];\n    }\n    if (input[_RSN] != null) {\n        entries[_RSN] = input[_RSN];\n    }\n    if (input[_WIT] != null) {\n        entries[_WIT] = input[_WIT];\n    }\n    if (input[_PI] != null) {\n        entries[_PI] = input[_PI];\n    }\n    if (input[_PA] != null) {\n        const memberEntries = se_policyDescriptorListType(input[_PA], context);\n        if (input[_PA]?.length === 0) {\n            entries.PolicyArns = [];\n        }\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            const loc = `PolicyArns.${key}`;\n            entries[loc] = value;\n        });\n    }\n    if (input[_P] != null) {\n        entries[_P] = input[_P];\n    }\n    if (input[_DS] != null) {\n        entries[_DS] = input[_DS];\n    }\n    return entries;\n};\nconst se_policyDescriptorListType = (input, context) => {\n    const entries = {};\n    let counter = 1;\n    for (const entry of input) {\n        if (entry === null) {\n            continue;\n        }\n        const memberEntries = se_PolicyDescriptorType(entry, context);\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            entries[`member.${counter}.${key}`] = value;\n        });\n        counter++;\n    }\n    return entries;\n};\nconst se_PolicyDescriptorType = (input, context) => {\n    const entries = {};\n    if (input[_a] != null) {\n        entries[_a] = input[_a];\n    }\n    return entries;\n};\nconst se_ProvidedContext = (input, context) => {\n    const entries = {};\n    if (input[_PAr] != null) {\n        entries[_PAr] = input[_PAr];\n    }\n    if (input[_CA] != null) {\n        entries[_CA] = input[_CA];\n    }\n    return entries;\n};\nconst se_ProvidedContextsListType = (input, context) => {\n    const entries = {};\n    let counter = 1;\n    for (const entry of input) {\n        if (entry === null) {\n            continue;\n        }\n        const memberEntries = se_ProvidedContext(entry, context);\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            entries[`member.${counter}.${key}`] = value;\n        });\n        counter++;\n    }\n    return entries;\n};\nconst se_Tag = (input, context) => {\n    const entries = {};\n    if (input[_K] != null) {\n        entries[_K] = input[_K];\n    }\n    if (input[_Va] != null) {\n        entries[_Va] = input[_Va];\n    }\n    return entries;\n};\nconst se_tagKeyListType = (input, context) => {\n    const entries = {};\n    let counter = 1;\n    for (const entry of input) {\n        if (entry === null) {\n            continue;\n        }\n        entries[`member.${counter}`] = entry;\n        counter++;\n    }\n    return entries;\n};\nconst se_tagListType = (input, context) => {\n    const entries = {};\n    let counter = 1;\n    for (const entry of input) {\n        if (entry === null) {\n            continue;\n        }\n        const memberEntries = se_Tag(entry, context);\n        Object.entries(memberEntries).forEach(([key, value]) => {\n            entries[`member.${counter}.${key}`] = value;\n        });\n        counter++;\n    }\n    return entries;\n};\nconst de_AssumedRoleUser = (output, context) => {\n    const contents = {};\n    if (output[_ARI] != null) {\n        contents[_ARI] = __expectString(output[_ARI]);\n    }\n    if (output[_Ar] != null) {\n        contents[_Ar] = __expectString(output[_Ar]);\n    }\n    return contents;\n};\nconst de_AssumeRoleResponse = (output, context) => {\n    const contents = {};\n    if (output[_C] != null) {\n        contents[_C] = de_Credentials(output[_C], context);\n    }\n    if (output[_ARU] != null) {\n        contents[_ARU] = de_AssumedRoleUser(output[_ARU], context);\n    }\n    if (output[_PPS] != null) {\n        contents[_PPS] = __strictParseInt32(output[_PPS]);\n    }\n    if (output[_SI] != null) {\n        contents[_SI] = __expectString(output[_SI]);\n    }\n    return contents;\n};\nconst de_AssumeRoleWithWebIdentityResponse = (output, context) => {\n    const contents = {};\n    if (output[_C] != null) {\n        contents[_C] = de_Credentials(output[_C], context);\n    }\n    if (output[_SFWIT] != null) {\n        contents[_SFWIT] = __expectString(output[_SFWIT]);\n    }\n    if (output[_ARU] != null) {\n        contents[_ARU] = de_AssumedRoleUser(output[_ARU], context);\n    }\n    if (output[_PPS] != null) {\n        contents[_PPS] = __strictParseInt32(output[_PPS]);\n    }\n    if (output[_Pr] != null) {\n        contents[_Pr] = __expectString(output[_Pr]);\n    }\n    if (output[_Au] != null) {\n        contents[_Au] = __expectString(output[_Au]);\n    }\n    if (output[_SI] != null) {\n        contents[_SI] = __expectString(output[_SI]);\n    }\n    return contents;\n};\nconst de_Credentials = (output, context) => {\n    const contents = {};\n    if (output[_AKI] != null) {\n        contents[_AKI] = __expectString(output[_AKI]);\n    }\n    if (output[_SAK] != null) {\n        contents[_SAK] = __expectString(output[_SAK]);\n    }\n    if (output[_ST] != null) {\n        contents[_ST] = __expectString(output[_ST]);\n    }\n    if (output[_E] != null) {\n        contents[_E] = __expectNonNull(__parseRfc3339DateTimeWithOffset(output[_E]));\n    }\n    return contents;\n};\nconst de_ExpiredTokenException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst de_IDPCommunicationErrorException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst de_IDPRejectedClaimException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst de_InvalidIdentityTokenException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst de_MalformedPolicyDocumentException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst de_PackedPolicyTooLargeException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst de_RegionDisabledException = (output, context) => {\n    const contents = {};\n    if (output[_m] != null) {\n        contents[_m] = __expectString(output[_m]);\n    }\n    return contents;\n};\nconst deserializeMetadata = (output) => ({\n    httpStatusCode: output.statusCode,\n    requestId: output.headers[\"x-amzn-requestid\"] ?? output.headers[\"x-amzn-request-id\"] ?? output.headers[\"x-amz-request-id\"],\n    extendedRequestId: output.headers[\"x-amz-id-2\"],\n    cfId: output.headers[\"x-amz-cf-id\"],\n});\nconst collectBodyString = (streamBody, context) => collectBody(streamBody, context).then((body) => context.utf8Encoder(body));\nconst throwDefaultError = withBaseException(__BaseException);\nconst buildHttpRpcRequest = async (context, headers, path, resolvedHostname, body) => {\n    const { hostname, protocol = \"https\", port, path: basePath } = await context.endpoint();\n    const contents = {\n        protocol,\n        hostname,\n        port,\n        method: \"POST\",\n        path: basePath.endsWith(\"/\") ? basePath.slice(0, -1) + path : basePath + path,\n        headers,\n    };\n    if (resolvedHostname !== undefined) {\n        contents.hostname = resolvedHostname;\n    }\n    if (body !== undefined) {\n        contents.body = body;\n    }\n    return new __HttpRequest(contents);\n};\nconst SHARED_HEADERS = {\n    \"content-type\": \"application/x-www-form-urlencoded\",\n};\nconst _ = \"2011-06-15\";\nconst _A = \"Action\";\nconst _AKI = \"AccessKeyId\";\nconst _AR = \"AssumeRole\";\nconst _ARI = \"AssumedRoleId\";\nconst _ARU = \"AssumedRoleUser\";\nconst _ARWWI = \"AssumeRoleWithWebIdentity\";\nconst _Ar = \"Arn\";\nconst _Au = \"Audience\";\nconst _C = \"Credentials\";\nconst _CA = \"ContextAssertion\";\nconst _DS = \"DurationSeconds\";\nconst _E = \"Expiration\";\nconst _EI = \"ExternalId\";\nconst _K = \"Key\";\nconst _P = \"Policy\";\nconst _PA = \"PolicyArns\";\nconst _PAr = \"ProviderArn\";\nconst _PC = \"ProvidedContexts\";\nconst _PI = \"ProviderId\";\nconst _PPS = \"PackedPolicySize\";\nconst _Pr = \"Provider\";\nconst _RA = \"RoleArn\";\nconst _RSN = \"RoleSessionName\";\nconst _SAK = \"SecretAccessKey\";\nconst _SFWIT = \"SubjectFromWebIdentityToken\";\nconst _SI = \"SourceIdentity\";\nconst _SN = \"SerialNumber\";\nconst _ST = \"SessionToken\";\nconst _T = \"Tags\";\nconst _TC = \"TokenCode\";\nconst _TTK = \"TransitiveTagKeys\";\nconst _V = \"Version\";\nconst _Va = \"Value\";\nconst _WIT = \"WebIdentityToken\";\nconst _a = \"arn\";\nconst _m = \"message\";\nconst buildFormUrlencodedString = (formEntries) => Object.entries(formEntries)\n    .map(([key, value]) => __extendedEncodeURIComponent(key) + \"=\" + __extendedEncodeURIComponent(value))\n    .join(\"&\");\nconst loadQueryErrorCode = (output, data) => {\n    if (data.Error?.Code !== undefined) {\n        return data.Error.Code;\n    }\n    if (output.statusCode == 404) {\n        return \"NotFound\";\n    }\n};\n", "import { getEndpointPlugin } from \"@smithy/middleware-endpoint\";\nimport { getSerdePlugin } from \"@smithy/middleware-serde\";\nimport { Command as $Command } from \"@smithy/smithy-client\";\nimport { commonParams } from \"../endpoint/EndpointParameters\";\nimport { AssumeRoleResponseFilterSensitiveLog } from \"../models/models_0\";\nimport { de_AssumeRoleCommand, se_AssumeRoleCommand } from \"../protocols/Aws_query\";\nexport { $Command };\nexport class AssumeRoleCommand extends $Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [\n        getSerdePlugin(config, this.serialize, this.deserialize),\n        getEndpointPlugin(config, Command.getEndpointParameterInstructions()),\n    ];\n})\n    .s(\"AWSSecurityTokenServiceV20110615\", \"AssumeRole\", {})\n    .n(\"STSClient\", \"AssumeRoleCommand\")\n    .f(void 0, AssumeRoleResponseFilterSensitiveLog)\n    .ser(se_AssumeRoleCommand)\n    .de(de_AssumeRoleCommand)\n    .build() {\n}\n", "import { getEndpointPlugin } from \"@smithy/middleware-endpoint\";\nimport { getSerdePlugin } from \"@smithy/middleware-serde\";\nimport { Command as $Command } from \"@smithy/smithy-client\";\nimport { commonParams } from \"../endpoint/EndpointParameters\";\nimport { AssumeRoleWithWebIdentityRequestFilterSensitiveLog, AssumeRoleWithWebIdentityResponseFilterSensitiveLog, } from \"../models/models_0\";\nimport { de_AssumeRoleWithWebIdentityCommand, se_AssumeRoleWithWebIdentityCommand } from \"../protocols/Aws_query\";\nexport { $Command };\nexport class AssumeRoleWithWebIdentityCommand extends $Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [\n        getSerdePlugin(config, this.serialize, this.deserialize),\n        getEndpointPlugin(config, Command.getEndpointParameterInstructions()),\n    ];\n})\n    .s(\"AWSSecurityTokenServiceV20110615\", \"AssumeRoleWithWebIdentity\", {})\n    .n(\"STSClient\", \"AssumeRoleWithWebIdentityCommand\")\n    .f(AssumeRoleWithWebIdentityRequestFilterSensitiveLog, AssumeRoleWithWebIdentityResponseFilterSensitiveLog)\n    .ser(se_AssumeRoleWithWebIdentityCommand)\n    .de(de_AssumeRoleWithWebIdentityCommand)\n    .build() {\n}\n", "import { createAggregatedClient } from \"@smithy/smithy-client\";\nimport { AssumeRoleCommand } from \"./commands/AssumeRoleCommand\";\nimport { AssumeRoleWithWebIdentityCommand, } from \"./commands/AssumeRoleWithWebIdentityCommand\";\nimport { STSClient } from \"./STSClient\";\nconst commands = {\n    AssumeRoleCommand,\n    AssumeRoleWithWebIdentityCommand,\n};\nexport class STS extends STSClient {\n}\ncreateAggregatedClient(commands, STS);\n", "export * from \"./AssumeRoleCommand\";\nexport * from \"./AssumeRoleWithWebIdentityCommand\";\n", "export * from \"./models_0\";\n", "import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { stsRegionDefaultResolver } from \"@aws-sdk/region-config-resolver\";\nimport { AssumeRoleCommand } from \"./commands/AssumeRoleCommand\";\nimport { AssumeRoleWithWebIdentityCommand, } from \"./commands/AssumeRoleWithWebIdentityCommand\";\nconst getAccountIdFromAssumedRoleUser = (assumedRoleUser) => {\n    if (typeof assumedRoleUser?.Arn === \"string\") {\n        const arnComponents = assumedRoleUser.Arn.split(\":\");\n        if (arnComponents.length > 4 && arnComponents[4] !== \"\") {\n            return arnComponents[4];\n        }\n    }\n    return undefined;\n};\nconst resolveRegion = async (_region, _parentRegion, credentialProviderLogger, loaderConfig = {}) => {\n    const region = typeof _region === \"function\" ? await _region() : _region;\n    const parentRegion = typeof _parentRegion === \"function\" ? await _parentRegion() : _parentRegion;\n    const stsDefaultRegion = await stsRegionDefaultResolver(loaderConfig)();\n    credentialProviderLogger?.debug?.(\"@aws-sdk/client-sts::resolveRegion\", \"accepting first of:\", `${region} (credential provider clientConfig)`, `${parentRegion} (contextual client)`, `${stsDefaultRegion} (STS default: AWS_REGION, profile region, or us-east-1)`);\n    return region ?? parentRegion ?? stsDefaultRegion;\n};\nexport const getDefaultRoleAssumer = (stsOptions, STSClient) => {\n    let stsClient;\n    let closureSourceCreds;\n    return async (sourceCreds, params) => {\n        closureSourceCreds = sourceCreds;\n        if (!stsClient) {\n            const { logger = stsOptions?.parentClientConfig?.logger, profile = stsOptions?.parentClientConfig?.profile, region, requestHandler = stsOptions?.parentClientConfig?.requestHandler, credentialProviderLogger, userAgentAppId = stsOptions?.parentClientConfig?.userAgentAppId, } = stsOptions;\n            const resolvedRegion = await resolveRegion(region, stsOptions?.parentClientConfig?.region, credentialProviderLogger, {\n                logger,\n                profile,\n            });\n            const isCompatibleRequestHandler = !isH2(requestHandler);\n            stsClient = new STSClient({\n                ...stsOptions,\n                userAgentAppId,\n                profile,\n                credentialDefaultProvider: () => async () => closureSourceCreds,\n                region: resolvedRegion,\n                requestHandler: isCompatibleRequestHandler ? requestHandler : undefined,\n                logger: logger,\n            });\n        }\n        const { Credentials, AssumedRoleUser } = await stsClient.send(new AssumeRoleCommand(params));\n        if (!Credentials || !Credentials.AccessKeyId || !Credentials.SecretAccessKey) {\n            throw new Error(`Invalid response from STS.assumeRole call with role ${params.RoleArn}`);\n        }\n        const accountId = getAccountIdFromAssumedRoleUser(AssumedRoleUser);\n        const credentials = {\n            accessKeyId: Credentials.AccessKeyId,\n            secretAccessKey: Credentials.SecretAccessKey,\n            sessionToken: Credentials.SessionToken,\n            expiration: Credentials.Expiration,\n            ...(Credentials.CredentialScope && { credentialScope: Credentials.CredentialScope }),\n            ...(accountId && { accountId }),\n        };\n        setCredentialFeature(credentials, \"CREDENTIALS_STS_ASSUME_ROLE\", \"i\");\n        return credentials;\n    };\n};\nexport const getDefaultRoleAssumerWithWebIdentity = (stsOptions, STSClient) => {\n    let stsClient;\n    return async (params) => {\n        if (!stsClient) {\n            const { logger = stsOptions?.parentClientConfig?.logger, profile = stsOptions?.parentClientConfig?.profile, region, requestHandler = stsOptions?.parentClientConfig?.requestHandler, credentialProviderLogger, userAgentAppId = stsOptions?.parentClientConfig?.userAgentAppId, } = stsOptions;\n            const resolvedRegion = await resolveRegion(region, stsOptions?.parentClientConfig?.region, credentialProviderLogger, {\n                logger,\n                profile,\n            });\n            const isCompatibleRequestHandler = !isH2(requestHandler);\n            stsClient = new STSClient({\n                ...stsOptions,\n                userAgentAppId,\n                profile,\n                region: resolvedRegion,\n                requestHandler: isCompatibleRequestHandler ? requestHandler : undefined,\n                logger: logger,\n            });\n        }\n        const { Credentials, AssumedRoleUser } = await stsClient.send(new AssumeRoleWithWebIdentityCommand(params));\n        if (!Credentials || !Credentials.AccessKeyId || !Credentials.SecretAccessKey) {\n            throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${params.RoleArn}`);\n        }\n        const accountId = getAccountIdFromAssumedRoleUser(AssumedRoleUser);\n        const credentials = {\n            accessKeyId: Credentials.AccessKeyId,\n            secretAccessKey: Credentials.SecretAccessKey,\n            sessionToken: Credentials.SessionToken,\n            expiration: Credentials.Expiration,\n            ...(Credentials.CredentialScope && { credentialScope: Credentials.CredentialScope }),\n            ...(accountId && { accountId }),\n        };\n        if (accountId) {\n            setCredentialFeature(credentials, \"RESOLVED_ACCOUNT_ID\", \"T\");\n        }\n        setCredentialFeature(credentials, \"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID\", \"k\");\n        return credentials;\n    };\n};\nexport const decorateDefaultCredentialProvider = (provider) => (input) => provider({\n    roleAssumer: getDefaultRoleAssumer(input, input.stsClientCtor),\n    roleAssumerWithWebIdentity: getDefaultRoleAssumerWithWebIdentity(input, input.stsClientCtor),\n    ...input,\n});\nconst isH2 = (requestHandler) => {\n    return requestHandler?.metadata?.handlerProtocol === \"h2\";\n};\n", "import { getDefaultRoleAssumer as StsGetDefaultRoleAssumer, getDefaultRoleAssumerWithWebIdentity as StsGetDefaultRoleAssumerWithWebIdentity, } from \"./defaultStsRoleAssumers\";\nimport { STSClient } from \"./STSClient\";\nconst getCustomizableStsClientCtor = (baseCtor, customizations) => {\n    if (!customizations)\n        return baseCtor;\n    else\n        return class CustomizableSTSClient extends baseCtor {\n            constructor(config) {\n                super(config);\n                for (const customization of customizations) {\n                    this.middlewareStack.use(customization);\n                }\n            }\n        };\n};\nexport const getDefaultRoleAssumer = (stsOptions = {}, stsPlugins) => StsGetDefaultRoleAssumer(stsOptions, getCustomizableStsClientCtor(STSClient, stsPlugins));\nexport const getDefaultRoleAssumerWithWebIdentity = (stsOptions = {}, stsPlugins) => StsGetDefaultRoleAssumerWithWebIdentity(stsOptions, getCustomizableStsClientCtor(STSClient, stsPlugins));\nexport const decorateDefaultCredentialProvider = (provider) => (input) => provider({\n    roleAssumer: getDefaultRoleAssumer(input),\n    roleAssumerWithWebIdentity: getDefaultRoleAssumerWithWebIdentity(input),\n    ...input,\n});\n", "export * from \"./STSClient\";\nexport * from \"./STS\";\nexport * from \"./commands\";\nexport * from \"./models\";\nexport * from \"./defaultRoleAssumers\";\nexport { STSServiceException } from \"./models/STSServiceException\";\n", "'use strict';\n\nvar sharedIniFileLoader = require('@smithy/shared-ini-file-loader');\nvar propertyProvider = require('@smithy/property-provider');\nvar child_process = require('child_process');\nvar util = require('util');\nvar client = require('@aws-sdk/core/client');\n\nconst getValidatedProcessCredentials = (profileName, data, profiles) => {\n    if (data.Version !== 1) {\n        throw Error(`Profile ${profileName} credential_process did not return Version 1.`);\n    }\n    if (data.AccessKeyId === undefined || data.SecretAccessKey === undefined) {\n        throw Error(`Profile ${profileName} credential_process returned invalid credentials.`);\n    }\n    if (data.Expiration) {\n        const currentTime = new Date();\n        const expireTime = new Date(data.Expiration);\n        if (expireTime < currentTime) {\n            throw Error(`Profile ${profileName} credential_process returned expired credentials.`);\n        }\n    }\n    let accountId = data.AccountId;\n    if (!accountId && profiles?.[profileName]?.aws_account_id) {\n        accountId = profiles[profileName].aws_account_id;\n    }\n    const credentials = {\n        accessKeyId: data.AccessKeyId,\n        secretAccessKey: data.SecretAccessKey,\n        ...(data.SessionToken && { sessionToken: data.SessionToken }),\n        ...(data.Expiration && { expiration: new Date(data.Expiration) }),\n        ...(data.CredentialScope && { credentialScope: data.CredentialScope }),\n        ...(accountId && { accountId }),\n    };\n    client.setCredentialFeature(credentials, \"CREDENTIALS_PROCESS\", \"w\");\n    return credentials;\n};\n\nconst resolveProcessCredentials = async (profileName, profiles, logger) => {\n    const profile = profiles[profileName];\n    if (profiles[profileName]) {\n        const credentialProcess = profile[\"credential_process\"];\n        if (credentialProcess !== undefined) {\n            const execPromise = util.promisify(sharedIniFileLoader.externalDataInterceptor?.getTokenRecord?.().exec ?? child_process.exec);\n            try {\n                const { stdout } = await execPromise(credentialProcess);\n                let data;\n                try {\n                    data = JSON.parse(stdout.trim());\n                }\n                catch {\n                    throw Error(`Profile ${profileName} credential_process returned invalid JSON.`);\n                }\n                return getValidatedProcessCredentials(profileName, data, profiles);\n            }\n            catch (error) {\n                throw new propertyProvider.CredentialsProviderError(error.message, { logger });\n            }\n        }\n        else {\n            throw new propertyProvider.CredentialsProviderError(`Profile ${profileName} did not contain credential_process.`, { logger });\n        }\n    }\n    else {\n        throw new propertyProvider.CredentialsProviderError(`Profile ${profileName} could not be found in shared credentials file.`, {\n            logger,\n        });\n    }\n};\n\nconst fromProcess = (init = {}) => async ({ callerClientConfig } = {}) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-process - fromProcess\");\n    const profiles = await sharedIniFileLoader.parseKnownFiles(init);\n    return resolveProcessCredentials(sharedIniFileLoader.getProfileName({\n        profile: init.profile ?? callerClientConfig?.profile,\n    }), profiles, init.logger);\n};\n\nexports.fromProcess = fromProcess;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || (function () {\n    var ownKeys = function(o) {\n        ownKeys = Object.getOwnPropertyNames || function (o) {\n            var ar = [];\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\n            return ar;\n        };\n        return ownKeys(o);\n    };\n    return function (mod) {\n        if (mod && mod.__esModule) return mod;\n        var result = {};\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\n        __setModuleDefault(result, mod);\n        return result;\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromWebToken = void 0;\nconst fromWebToken = (init) => async (awsIdentityProperties) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-web-identity - fromWebToken\");\n    const { roleArn, roleSessionName, webIdentityToken, providerId, policyArns, policy, durationSeconds } = init;\n    let { roleAssumerWithWebIdentity } = init;\n    if (!roleAssumerWithWebIdentity) {\n        const { getDefaultRoleAssumerWithWebIdentity } = await Promise.resolve().then(() => __importStar(require(\"@aws-sdk/nested-clients/sts\")));\n        roleAssumerWithWebIdentity = getDefaultRoleAssumerWithWebIdentity({\n            ...init.clientConfig,\n            credentialProviderLogger: init.logger,\n            parentClientConfig: {\n                ...awsIdentityProperties?.callerClientConfig,\n                ...init.parentClientConfig,\n            },\n        }, init.clientPlugins);\n    }\n    return roleAssumerWithWebIdentity({\n        RoleArn: roleArn,\n        RoleSessionName: roleSessionName ?? `aws-sdk-js-session-${Date.now()}`,\n        WebIdentityToken: webIdentityToken,\n        ProviderId: providerId,\n        PolicyArns: policyArns,\n        Policy: policy,\n        DurationSeconds: durationSeconds,\n    });\n};\nexports.fromWebToken = fromWebToken;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromTokenFile = void 0;\nconst client_1 = require(\"@aws-sdk/core/client\");\nconst property_provider_1 = require(\"@smithy/property-provider\");\nconst shared_ini_file_loader_1 = require(\"@smithy/shared-ini-file-loader\");\nconst fs_1 = require(\"fs\");\nconst fromWebToken_1 = require(\"./fromWebToken\");\nconst ENV_TOKEN_FILE = \"AWS_WEB_IDENTITY_TOKEN_FILE\";\nconst ENV_ROLE_ARN = \"AWS_ROLE_ARN\";\nconst ENV_ROLE_SESSION_NAME = \"AWS_ROLE_SESSION_NAME\";\nconst fromTokenFile = (init = {}) => async (awsIdentityProperties) => {\n    init.logger?.debug(\"@aws-sdk/credential-provider-web-identity - fromTokenFile\");\n    const webIdentityTokenFile = init?.webIdentityTokenFile ?? process.env[ENV_TOKEN_FILE];\n    const roleArn = init?.roleArn ?? process.env[ENV_ROLE_ARN];\n    const roleSessionName = init?.roleSessionName ?? process.env[ENV_ROLE_SESSION_NAME];\n    if (!webIdentityTokenFile || !roleArn) {\n        throw new property_provider_1.CredentialsProviderError(\"Web identity configuration not specified\", {\n            logger: init.logger,\n        });\n    }\n    const credentials = await (0, fromWebToken_1.fromWebToken)({\n        ...init,\n        webIdentityToken: shared_ini_file_loader_1.externalDataInterceptor?.getTokenRecord?.()[webIdentityTokenFile] ??\n            (0, fs_1.readFileSync)(webIdentityTokenFile, { encoding: \"ascii\" }),\n        roleArn,\n        roleSessionName,\n    })(awsIdentityProperties);\n    if (webIdentityTokenFile === process.env[ENV_TOKEN_FILE]) {\n        (0, client_1.setCredentialFeature)(credentials, \"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN\", \"h\");\n    }\n    return credentials;\n};\nexports.fromTokenFile = fromTokenFile;\n", "'use strict';\n\nvar fromTokenFile = require('./fromTokenFile');\nvar fromWebToken = require('./fromWebToken');\n\n\n\nObject.keys(fromTokenFile).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return fromTokenFile[k]; }\n\t});\n});\nObject.keys(fromWebToken).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return fromWebToken[k]; }\n\t});\n});\n", "'use strict';\n\nvar sharedIniFileLoader = require('@smithy/shared-ini-file-loader');\nvar propertyProvider = require('@smithy/property-provider');\nvar client = require('@aws-sdk/core/client');\n\nconst resolveCredentialSource = (credentialSource, profileName, logger) => {\n    const sourceProvidersMap = {\n        EcsContainer: async (options) => {\n            const { fromHttp } = await import('@aws-sdk/credential-provider-http');\n            const { fromContainerMetadata } = await import('@smithy/credential-provider-imds');\n            logger?.debug(\"@aws-sdk/credential-provider-ini - credential_source is EcsContainer\");\n            return async () => propertyProvider.chain(fromHttp(options ?? {}), fromContainerMetadata(options))().then(setNamedProvider);\n        },\n        Ec2InstanceMetadata: async (options) => {\n            logger?.debug(\"@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata\");\n            const { fromInstanceMetadata } = await import('@smithy/credential-provider-imds');\n            return async () => fromInstanceMetadata(options)().then(setNamedProvider);\n        },\n        Environment: async (options) => {\n            logger?.debug(\"@aws-sdk/credential-provider-ini - credential_source is Environment\");\n            const { fromEnv } = await import('@aws-sdk/credential-provider-env');\n            return async () => fromEnv(options)().then(setNamedProvider);\n        },\n    };\n    if (credentialSource in sourceProvidersMap) {\n        return sourceProvidersMap[credentialSource];\n    }\n    else {\n        throw new propertyProvider.CredentialsProviderError(`Unsupported credential source in profile ${profileName}. Got ${credentialSource}, ` +\n            `expected EcsContainer or Ec2InstanceMetadata or Environment.`, { logger });\n    }\n};\nconst setNamedProvider = (creds) => client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_NAMED_PROVIDER\", \"p\");\n\nconst isAssumeRoleProfile = (arg, { profile = \"default\", logger } = {}) => {\n    return (Boolean(arg) &&\n        typeof arg === \"object\" &&\n        typeof arg.role_arn === \"string\" &&\n        [\"undefined\", \"string\"].indexOf(typeof arg.role_session_name) > -1 &&\n        [\"undefined\", \"string\"].indexOf(typeof arg.external_id) > -1 &&\n        [\"undefined\", \"string\"].indexOf(typeof arg.mfa_serial) > -1 &&\n        (isAssumeRoleWithSourceProfile(arg, { profile, logger }) || isCredentialSourceProfile(arg, { profile, logger })));\n};\nconst isAssumeRoleWithSourceProfile = (arg, { profile, logger }) => {\n    const withSourceProfile = typeof arg.source_profile === \"string\" && typeof arg.credential_source === \"undefined\";\n    if (withSourceProfile) {\n        logger?.debug?.(`    ${profile} isAssumeRoleWithSourceProfile source_profile=${arg.source_profile}`);\n    }\n    return withSourceProfile;\n};\nconst isCredentialSourceProfile = (arg, { profile, logger }) => {\n    const withProviderProfile = typeof arg.credential_source === \"string\" && typeof arg.source_profile === \"undefined\";\n    if (withProviderProfile) {\n        logger?.debug?.(`    ${profile} isCredentialSourceProfile credential_source=${arg.credential_source}`);\n    }\n    return withProviderProfile;\n};\nconst resolveAssumeRoleCredentials = async (profileName, profiles, options, visitedProfiles = {}, resolveProfileData) => {\n    options.logger?.debug(\"@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)\");\n    const profileData = profiles[profileName];\n    const { source_profile, region } = profileData;\n    if (!options.roleAssumer) {\n        const { getDefaultRoleAssumer } = await import('@aws-sdk/nested-clients/sts');\n        options.roleAssumer = getDefaultRoleAssumer({\n            ...options.clientConfig,\n            credentialProviderLogger: options.logger,\n            parentClientConfig: {\n                ...options?.parentClientConfig,\n                region: region ?? options?.parentClientConfig?.region,\n            },\n        }, options.clientPlugins);\n    }\n    if (source_profile && source_profile in visitedProfiles) {\n        throw new propertyProvider.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile` +\n            ` ${sharedIniFileLoader.getProfileName(options)}. Profiles visited: ` +\n            Object.keys(visitedProfiles).join(\", \"), { logger: options.logger });\n    }\n    options.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${source_profile ? `source_profile=[${source_profile}]` : `profile=[${profileName}]`}`);\n    const sourceCredsProvider = source_profile\n        ? resolveProfileData(source_profile, profiles, options, {\n            ...visitedProfiles,\n            [source_profile]: true,\n        }, isCredentialSourceWithoutRoleArn(profiles[source_profile] ?? {}))\n        : (await resolveCredentialSource(profileData.credential_source, profileName, options.logger)(options))();\n    if (isCredentialSourceWithoutRoleArn(profileData)) {\n        return sourceCredsProvider.then((creds) => client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SOURCE_PROFILE\", \"o\"));\n    }\n    else {\n        const params = {\n            RoleArn: profileData.role_arn,\n            RoleSessionName: profileData.role_session_name || `aws-sdk-js-${Date.now()}`,\n            ExternalId: profileData.external_id,\n            DurationSeconds: parseInt(profileData.duration_seconds || \"3600\", 10),\n        };\n        const { mfa_serial } = profileData;\n        if (mfa_serial) {\n            if (!options.mfaCodeProvider) {\n                throw new propertyProvider.CredentialsProviderError(`Profile ${profileName} requires multi-factor authentication, but no MFA code callback was provided.`, { logger: options.logger, tryNextLink: false });\n            }\n            params.SerialNumber = mfa_serial;\n            params.TokenCode = await options.mfaCodeProvider(mfa_serial);\n        }\n        const sourceCreds = await sourceCredsProvider;\n        return options.roleAssumer(sourceCreds, params).then((creds) => client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SOURCE_PROFILE\", \"o\"));\n    }\n};\nconst isCredentialSourceWithoutRoleArn = (section) => {\n    return !section.role_arn && !!section.credential_source;\n};\n\nconst isProcessProfile = (arg) => Boolean(arg) && typeof arg === \"object\" && typeof arg.credential_process === \"string\";\nconst resolveProcessCredentials = async (options, profile) => import('@aws-sdk/credential-provider-process').then(({ fromProcess }) => fromProcess({\n    ...options,\n    profile,\n})().then((creds) => client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_PROCESS\", \"v\")));\n\nconst resolveSsoCredentials = async (profile, profileData, options = {}) => {\n    const { fromSSO } = await import('@aws-sdk/credential-provider-sso');\n    return fromSSO({\n        profile,\n        logger: options.logger,\n        parentClientConfig: options.parentClientConfig,\n        clientConfig: options.clientConfig,\n    })().then((creds) => {\n        if (profileData.sso_session) {\n            return client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SSO\", \"r\");\n        }\n        else {\n            return client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_SSO_LEGACY\", \"t\");\n        }\n    });\n};\nconst isSsoProfile = (arg) => arg &&\n    (typeof arg.sso_start_url === \"string\" ||\n        typeof arg.sso_account_id === \"string\" ||\n        typeof arg.sso_session === \"string\" ||\n        typeof arg.sso_region === \"string\" ||\n        typeof arg.sso_role_name === \"string\");\n\nconst isStaticCredsProfile = (arg) => Boolean(arg) &&\n    typeof arg === \"object\" &&\n    typeof arg.aws_access_key_id === \"string\" &&\n    typeof arg.aws_secret_access_key === \"string\" &&\n    [\"undefined\", \"string\"].indexOf(typeof arg.aws_session_token) > -1 &&\n    [\"undefined\", \"string\"].indexOf(typeof arg.aws_account_id) > -1;\nconst resolveStaticCredentials = async (profile, options) => {\n    options?.logger?.debug(\"@aws-sdk/credential-provider-ini - resolveStaticCredentials\");\n    const credentials = {\n        accessKeyId: profile.aws_access_key_id,\n        secretAccessKey: profile.aws_secret_access_key,\n        sessionToken: profile.aws_session_token,\n        ...(profile.aws_credential_scope && { credentialScope: profile.aws_credential_scope }),\n        ...(profile.aws_account_id && { accountId: profile.aws_account_id }),\n    };\n    return client.setCredentialFeature(credentials, \"CREDENTIALS_PROFILE\", \"n\");\n};\n\nconst isWebIdentityProfile = (arg) => Boolean(arg) &&\n    typeof arg === \"object\" &&\n    typeof arg.web_identity_token_file === \"string\" &&\n    typeof arg.role_arn === \"string\" &&\n    [\"undefined\", \"string\"].indexOf(typeof arg.role_session_name) > -1;\nconst resolveWebIdentityCredentials = async (profile, options) => import('@aws-sdk/credential-provider-web-identity').then(({ fromTokenFile }) => fromTokenFile({\n    webIdentityTokenFile: profile.web_identity_token_file,\n    roleArn: profile.role_arn,\n    roleSessionName: profile.role_session_name,\n    roleAssumerWithWebIdentity: options.roleAssumerWithWebIdentity,\n    logger: options.logger,\n    parentClientConfig: options.parentClientConfig,\n})().then((creds) => client.setCredentialFeature(creds, \"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN\", \"q\")));\n\nconst resolveProfileData = async (profileName, profiles, options, visitedProfiles = {}, isAssumeRoleRecursiveCall = false) => {\n    const data = profiles[profileName];\n    if (Object.keys(visitedProfiles).length > 0 && isStaticCredsProfile(data)) {\n        return resolveStaticCredentials(data, options);\n    }\n    if (isAssumeRoleRecursiveCall || isAssumeRoleProfile(data, { profile: profileName, logger: options.logger })) {\n        return resolveAssumeRoleCredentials(profileName, profiles, options, visitedProfiles, resolveProfileData);\n    }\n    if (isStaticCredsProfile(data)) {\n        return resolveStaticCredentials(data, options);\n    }\n    if (isWebIdentityProfile(data)) {\n        return resolveWebIdentityCredentials(data, options);\n    }\n    if (isProcessProfile(data)) {\n        return resolveProcessCredentials(options, profileName);\n    }\n    if (isSsoProfile(data)) {\n        return await resolveSsoCredentials(profileName, data, options);\n    }\n    throw new propertyProvider.CredentialsProviderError(`Could not resolve credentials using profile: [${profileName}] in configuration/credentials file(s).`, { logger: options.logger });\n};\n\nconst fromIni = (_init = {}) => async ({ callerClientConfig } = {}) => {\n    const init = {\n        ..._init,\n        parentClientConfig: {\n            ...callerClientConfig,\n            ..._init.parentClientConfig,\n        },\n    };\n    init.logger?.debug(\"@aws-sdk/credential-provider-ini - fromIni\");\n    const profiles = await sharedIniFileLoader.parseKnownFiles(init);\n    return resolveProfileData(sharedIniFileLoader.getProfileName({\n        profile: _init.profile ?? callerClientConfig?.profile,\n    }), profiles, init);\n};\n\nexports.fromIni = fromIni;\n", "'use strict';\n\nvar credentialProviderEnv = require('@aws-sdk/credential-provider-env');\nvar propertyProvider = require('@smithy/property-provider');\nvar sharedIniFileLoader = require('@smithy/shared-ini-file-loader');\n\nconst ENV_IMDS_DISABLED = \"AWS_EC2_METADATA_DISABLED\";\nconst remoteProvider = async (init) => {\n    const { ENV_CMDS_FULL_URI, ENV_CMDS_RELATIVE_URI, fromContainerMetadata, fromInstanceMetadata } = await import('@smithy/credential-provider-imds');\n    if (process.env[ENV_CMDS_RELATIVE_URI] || process.env[ENV_CMDS_FULL_URI]) {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata\");\n        const { fromHttp } = await import('@aws-sdk/credential-provider-http');\n        return propertyProvider.chain(fromHttp(init), fromContainerMetadata(init));\n    }\n    if (process.env[ENV_IMDS_DISABLED] && process.env[ENV_IMDS_DISABLED] !== \"false\") {\n        return async () => {\n            throw new propertyProvider.CredentialsProviderError(\"EC2 Instance Metadata Service access disabled\", { logger: init.logger });\n        };\n    }\n    init.logger?.debug(\"@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata\");\n    return fromInstanceMetadata(init);\n};\n\nfunction memoizeChain(providers, treatAsExpired) {\n    const chain = internalCreateChain(providers);\n    let activeLock;\n    let passiveLock;\n    let credentials;\n    const provider = async (options) => {\n        if (options?.forceRefresh) {\n            return await chain(options);\n        }\n        if (credentials?.expiration) {\n            if (credentials?.expiration?.getTime() < Date.now()) {\n                credentials = undefined;\n            }\n        }\n        if (activeLock) {\n            await activeLock;\n        }\n        else if (!credentials || treatAsExpired?.(credentials)) {\n            if (credentials) {\n                if (!passiveLock) {\n                    passiveLock = chain(options).then((c) => {\n                        credentials = c;\n                        passiveLock = undefined;\n                    });\n                }\n            }\n            else {\n                activeLock = chain(options).then((c) => {\n                    credentials = c;\n                    activeLock = undefined;\n                });\n                return provider(options);\n            }\n        }\n        return credentials;\n    };\n    return provider;\n}\nconst internalCreateChain = (providers) => async (awsIdentityProperties) => {\n    let lastProviderError;\n    for (const provider of providers) {\n        try {\n            return await provider(awsIdentityProperties);\n        }\n        catch (err) {\n            lastProviderError = err;\n            if (err?.tryNextLink) {\n                continue;\n            }\n            throw err;\n        }\n    }\n    throw lastProviderError;\n};\n\nlet multipleCredentialSourceWarningEmitted = false;\nconst defaultProvider = (init = {}) => memoizeChain([\n    async () => {\n        const profile = init.profile ?? process.env[sharedIniFileLoader.ENV_PROFILE];\n        if (profile) {\n            const envStaticCredentialsAreSet = process.env[credentialProviderEnv.ENV_KEY] && process.env[credentialProviderEnv.ENV_SECRET];\n            if (envStaticCredentialsAreSet) {\n                if (!multipleCredentialSourceWarningEmitted) {\n                    const warnFn = init.logger?.warn && init.logger?.constructor?.name !== \"NoOpLogger\"\n                        ? init.logger.warn.bind(init.logger)\n                        : console.warn;\n                    warnFn(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:\n    Multiple credential sources detected: \n    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.\n    This SDK will proceed with the AWS_PROFILE value.\n    \n    However, a future version may change this behavior to prefer the ENV static credentials.\n    Please ensure that your environment only sets either the AWS_PROFILE or the\n    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.\n`);\n                    multipleCredentialSourceWarningEmitted = true;\n                }\n            }\n            throw new propertyProvider.CredentialsProviderError(\"AWS_PROFILE is set, skipping fromEnv provider.\", {\n                logger: init.logger,\n                tryNextLink: true,\n            });\n        }\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromEnv\");\n        return credentialProviderEnv.fromEnv(init)();\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromSSO\");\n        const { ssoStartUrl, ssoAccountId, ssoRegion, ssoRoleName, ssoSession } = init;\n        if (!ssoStartUrl && !ssoAccountId && !ssoRegion && !ssoRoleName && !ssoSession) {\n            throw new propertyProvider.CredentialsProviderError(\"Skipping SSO provider in default chain (inputs do not include SSO fields).\", { logger: init.logger });\n        }\n        const { fromSSO } = await import('@aws-sdk/credential-provider-sso');\n        return fromSSO(init)(awsIdentityProperties);\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromIni\");\n        const { fromIni } = await import('@aws-sdk/credential-provider-ini');\n        return fromIni(init)(awsIdentityProperties);\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromProcess\");\n        const { fromProcess } = await import('@aws-sdk/credential-provider-process');\n        return fromProcess(init)(awsIdentityProperties);\n    },\n    async (awsIdentityProperties) => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile\");\n        const { fromTokenFile } = await import('@aws-sdk/credential-provider-web-identity');\n        return fromTokenFile(init)(awsIdentityProperties);\n    },\n    async () => {\n        init.logger?.debug(\"@aws-sdk/credential-provider-node - defaultProvider::remoteProvider\");\n        return (await remoteProvider(init))();\n    },\n    async () => {\n        throw new propertyProvider.CredentialsProviderError(\"Could not load credentials from any providers\", {\n            tryNextLink: false,\n            logger: init.logger,\n        });\n    },\n], credentialsTreatedAsExpired);\nconst credentialsWillNeedRefresh = (credentials) => credentials?.expiration !== undefined;\nconst credentialsTreatedAsExpired = (credentials) => credentials?.expiration !== undefined && credentials.expiration.getTime() - Date.now() < 300000;\n\nexports.credentialsTreatedAsExpired = credentialsTreatedAsExpired;\nexports.credentialsWillNeedRefresh = credentialsWillNeedRefresh;\nexports.defaultProvider = defaultProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRuntimeConfig = void 0;\nconst core_1 = require(\"@aws-sdk/core\");\nconst protocols_1 = require(\"@aws-sdk/core/protocols\");\nconst signature_v4_multi_region_1 = require(\"@aws-sdk/signature-v4-multi-region\");\nconst smithy_client_1 = require(\"@smithy/smithy-client\");\nconst url_parser_1 = require(\"@smithy/url-parser\");\nconst util_base64_1 = require(\"@smithy/util-base64\");\nconst util_utf8_1 = require(\"@smithy/util-utf8\");\nconst httpAuthSchemeProvider_1 = require(\"./auth/httpAuthSchemeProvider\");\nconst endpointResolver_1 = require(\"./endpoint/endpointResolver\");\nconst getRuntimeConfig = (config) => {\n    return {\n        apiVersion: \"2015-10-07\",\n        base64Decoder: config?.base64Decoder ?? util_base64_1.fromBase64,\n        base64Encoder: config?.base64Encoder ?? util_base64_1.toBase64,\n        disableHostPrefix: config?.disableHostPrefix ?? false,\n        endpointProvider: config?.endpointProvider ?? endpointResolver_1.defaultEndpointResolver,\n        extensions: config?.extensions ?? [],\n        httpAuthSchemeProvider: config?.httpAuthSchemeProvider ?? httpAuthSchemeProvider_1.defaultEventBridgeHttpAuthSchemeProvider,\n        httpAuthSchemes: config?.httpAuthSchemes ?? [\n            {\n                schemeId: \"aws.auth#sigv4\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"aws.auth#sigv4\"),\n                signer: new core_1.AwsSdkSigV4Signer(),\n            },\n            {\n                schemeId: \"aws.auth#sigv4a\",\n                identityProvider: (ipc) => ipc.getIdentityProvider(\"aws.auth#sigv4a\"),\n                signer: new core_1.AwsSdkSigV4ASigner(),\n            },\n        ],\n        logger: config?.logger ?? new smithy_client_1.NoOpLogger(),\n        protocol: config?.protocol ??\n            new protocols_1.AwsJson1_1Protocol({\n                defaultNamespace: \"com.amazonaws.eventbridge\",\n                serviceTarget: \"AWSEvents\",\n                awsQueryCompatible: false,\n            }),\n        serviceId: config?.serviceId ?? \"EventBridge\",\n        signerConstructor: config?.signerConstructor ?? signature_v4_multi_region_1.SignatureV4MultiRegion,\n        urlParser: config?.urlParser ?? url_parser_1.parseUrl,\n        utf8Decoder: config?.utf8Decoder ?? util_utf8_1.fromUtf8,\n        utf8Encoder: config?.utf8Encoder ?? util_utf8_1.toUtf8,\n    };\n};\nexports.getRuntimeConfig = getRuntimeConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRuntimeConfig = void 0;\nconst tslib_1 = require(\"tslib\");\nconst package_json_1 = tslib_1.__importDefault(require(\"../package.json\"));\nconst core_1 = require(\"@aws-sdk/core\");\nconst credential_provider_node_1 = require(\"@aws-sdk/credential-provider-node\");\nconst util_user_agent_node_1 = require(\"@aws-sdk/util-user-agent-node\");\nconst config_resolver_1 = require(\"@smithy/config-resolver\");\nconst hash_node_1 = require(\"@smithy/hash-node\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry\");\nconst node_config_provider_1 = require(\"@smithy/node-config-provider\");\nconst node_http_handler_1 = require(\"@smithy/node-http-handler\");\nconst util_body_length_node_1 = require(\"@smithy/util-body-length-node\");\nconst util_retry_1 = require(\"@smithy/util-retry\");\nconst runtimeConfig_shared_1 = require(\"./runtimeConfig.shared\");\nconst smithy_client_1 = require(\"@smithy/smithy-client\");\nconst util_defaults_mode_node_1 = require(\"@smithy/util-defaults-mode-node\");\nconst smithy_client_2 = require(\"@smithy/smithy-client\");\nconst getRuntimeConfig = (config) => {\n    (0, smithy_client_2.emitWarningIfUnsupportedVersion)(process.version);\n    const defaultsMode = (0, util_defaults_mode_node_1.resolveDefaultsModeConfig)(config);\n    const defaultConfigProvider = () => defaultsMode().then(smithy_client_1.loadConfigsForDefaultMode);\n    const clientSharedValues = (0, runtimeConfig_shared_1.getRuntimeConfig)(config);\n    (0, core_1.emitWarningIfUnsupportedVersion)(process.version);\n    const loaderConfig = {\n        profile: config?.profile,\n        logger: clientSharedValues.logger,\n    };\n    return {\n        ...clientSharedValues,\n        ...config,\n        runtime: \"node\",\n        defaultsMode,\n        authSchemePreference: config?.authSchemePreference ?? (0, node_config_provider_1.loadConfig)(core_1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS, loaderConfig),\n        bodyLengthChecker: config?.bodyLengthChecker ?? util_body_length_node_1.calculateBodyLength,\n        credentialDefaultProvider: config?.credentialDefaultProvider ?? credential_provider_node_1.defaultProvider,\n        defaultUserAgentProvider: config?.defaultUserAgentProvider ??\n            (0, util_user_agent_node_1.createDefaultUserAgentProvider)({ serviceId: clientSharedValues.serviceId, clientVersion: package_json_1.default.version }),\n        maxAttempts: config?.maxAttempts ?? (0, node_config_provider_1.loadConfig)(middleware_retry_1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS, config),\n        region: config?.region ??\n            (0, node_config_provider_1.loadConfig)(config_resolver_1.NODE_REGION_CONFIG_OPTIONS, { ...config_resolver_1.NODE_REGION_CONFIG_FILE_OPTIONS, ...loaderConfig }),\n        requestHandler: node_http_handler_1.NodeHttpHandler.create(config?.requestHandler ?? defaultConfigProvider),\n        retryMode: config?.retryMode ??\n            (0, node_config_provider_1.loadConfig)({\n                ...middleware_retry_1.NODE_RETRY_MODE_CONFIG_OPTIONS,\n                default: async () => (await defaultConfigProvider()).retryMode || util_retry_1.DEFAULT_RETRY_MODE,\n            }, config),\n        sha256: config?.sha256 ?? hash_node_1.Hash.bind(null, \"sha256\"),\n        sigv4aSigningRegionSet: config?.sigv4aSigningRegionSet ?? (0, node_config_provider_1.loadConfig)(core_1.NODE_SIGV4A_CONFIG_OPTIONS, loaderConfig),\n        streamCollector: config?.streamCollector ?? node_http_handler_1.streamCollector,\n        useDualstackEndpoint: config?.useDualstackEndpoint ?? (0, node_config_provider_1.loadConfig)(config_resolver_1.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        useFipsEndpoint: config?.useFipsEndpoint ?? (0, node_config_provider_1.loadConfig)(config_resolver_1.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS, loaderConfig),\n        userAgentAppId: config?.userAgentAppId ?? (0, node_config_provider_1.loadConfig)(util_user_agent_node_1.NODE_APP_ID_CONFIG_OPTIONS, loaderConfig),\n    };\n};\nexports.getRuntimeConfig = getRuntimeConfig;\n", "'use strict';\n\nvar middlewareHostHeader = require('@aws-sdk/middleware-host-header');\nvar middlewareLogger = require('@aws-sdk/middleware-logger');\nvar middlewareRecursionDetection = require('@aws-sdk/middleware-recursion-detection');\nvar middlewareUserAgent = require('@aws-sdk/middleware-user-agent');\nvar configResolver = require('@smithy/config-resolver');\nvar core = require('@smithy/core');\nvar schema = require('@smithy/core/schema');\nvar middlewareContentLength = require('@smithy/middleware-content-length');\nvar middlewareEndpoint = require('@smithy/middleware-endpoint');\nvar middlewareRetry = require('@smithy/middleware-retry');\nvar smithyClient = require('@smithy/smithy-client');\nvar httpAuthSchemeProvider = require('./auth/httpAuthSchemeProvider');\nvar runtimeConfig = require('./runtimeConfig');\nvar regionConfigResolver = require('@aws-sdk/region-config-resolver');\nvar protocolHttp = require('@smithy/protocol-http');\n\nconst resolveClientEndpointParameters = (options) => {\n    return Object.assign(options, {\n        useDualstackEndpoint: options.useDualstackEndpoint ?? false,\n        useFipsEndpoint: options.useFipsEndpoint ?? false,\n        defaultSigningName: \"events\",\n    });\n};\nconst commonParams = {\n    UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n    Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n    Region: { type: \"builtInParams\", name: \"region\" },\n    UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n};\n\nconst getHttpAuthExtensionConfiguration = (runtimeConfig) => {\n    const _httpAuthSchemes = runtimeConfig.httpAuthSchemes;\n    let _httpAuthSchemeProvider = runtimeConfig.httpAuthSchemeProvider;\n    let _credentials = runtimeConfig.credentials;\n    return {\n        setHttpAuthScheme(httpAuthScheme) {\n            const index = _httpAuthSchemes.findIndex((scheme) => scheme.schemeId === httpAuthScheme.schemeId);\n            if (index === -1) {\n                _httpAuthSchemes.push(httpAuthScheme);\n            }\n            else {\n                _httpAuthSchemes.splice(index, 1, httpAuthScheme);\n            }\n        },\n        httpAuthSchemes() {\n            return _httpAuthSchemes;\n        },\n        setHttpAuthSchemeProvider(httpAuthSchemeProvider) {\n            _httpAuthSchemeProvider = httpAuthSchemeProvider;\n        },\n        httpAuthSchemeProvider() {\n            return _httpAuthSchemeProvider;\n        },\n        setCredentials(credentials) {\n            _credentials = credentials;\n        },\n        credentials() {\n            return _credentials;\n        },\n    };\n};\nconst resolveHttpAuthRuntimeConfig = (config) => {\n    return {\n        httpAuthSchemes: config.httpAuthSchemes(),\n        httpAuthSchemeProvider: config.httpAuthSchemeProvider(),\n        credentials: config.credentials(),\n    };\n};\n\nconst resolveRuntimeExtensions = (runtimeConfig, extensions) => {\n    const extensionConfiguration = Object.assign(regionConfigResolver.getAwsRegionExtensionConfiguration(runtimeConfig), smithyClient.getDefaultExtensionConfiguration(runtimeConfig), protocolHttp.getHttpHandlerExtensionConfiguration(runtimeConfig), getHttpAuthExtensionConfiguration(runtimeConfig));\n    extensions.forEach((extension) => extension.configure(extensionConfiguration));\n    return Object.assign(runtimeConfig, regionConfigResolver.resolveAwsRegionExtensionConfiguration(extensionConfiguration), smithyClient.resolveDefaultRuntimeConfig(extensionConfiguration), protocolHttp.resolveHttpHandlerRuntimeConfig(extensionConfiguration), resolveHttpAuthRuntimeConfig(extensionConfiguration));\n};\n\nclass EventBridgeClient extends smithyClient.Client {\n    config;\n    constructor(...[configuration]) {\n        const _config_0 = runtimeConfig.getRuntimeConfig(configuration || {});\n        super(_config_0);\n        this.initConfig = _config_0;\n        const _config_1 = resolveClientEndpointParameters(_config_0);\n        const _config_2 = middlewareUserAgent.resolveUserAgentConfig(_config_1);\n        const _config_3 = middlewareRetry.resolveRetryConfig(_config_2);\n        const _config_4 = configResolver.resolveRegionConfig(_config_3);\n        const _config_5 = middlewareHostHeader.resolveHostHeaderConfig(_config_4);\n        const _config_6 = middlewareEndpoint.resolveEndpointConfig(_config_5);\n        const _config_7 = httpAuthSchemeProvider.resolveHttpAuthSchemeConfig(_config_6);\n        const _config_8 = resolveRuntimeExtensions(_config_7, configuration?.extensions || []);\n        this.config = _config_8;\n        this.middlewareStack.use(schema.getSchemaSerdePlugin(this.config));\n        this.middlewareStack.use(middlewareUserAgent.getUserAgentPlugin(this.config));\n        this.middlewareStack.use(middlewareRetry.getRetryPlugin(this.config));\n        this.middlewareStack.use(middlewareContentLength.getContentLengthPlugin(this.config));\n        this.middlewareStack.use(middlewareHostHeader.getHostHeaderPlugin(this.config));\n        this.middlewareStack.use(middlewareLogger.getLoggerPlugin(this.config));\n        this.middlewareStack.use(middlewareRecursionDetection.getRecursionDetectionPlugin(this.config));\n        this.middlewareStack.use(core.getHttpAuthSchemeEndpointRuleSetPlugin(this.config, {\n            httpAuthSchemeParametersProvider: httpAuthSchemeProvider.defaultEventBridgeHttpAuthSchemeParametersProvider,\n            identityProviderConfigProvider: async (config) => new core.DefaultIdentityProviderConfig({\n                \"aws.auth#sigv4\": config.credentials,\n                \"aws.auth#sigv4a\": config.credentials,\n            }),\n        }));\n        this.middlewareStack.use(core.getHttpSigningPlugin(this.config));\n    }\n    destroy() {\n        super.destroy();\n    }\n}\n\nlet EventBridgeServiceException$1 = class EventBridgeServiceException extends smithyClient.ServiceException {\n    constructor(options) {\n        super(options);\n        Object.setPrototypeOf(this, EventBridgeServiceException.prototype);\n    }\n};\n\nlet AccessDeniedException$1 = class AccessDeniedException extends EventBridgeServiceException$1 {\n    name = \"AccessDeniedException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"AccessDeniedException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, AccessDeniedException.prototype);\n    }\n};\nlet ConcurrentModificationException$1 = class ConcurrentModificationException extends EventBridgeServiceException$1 {\n    name = \"ConcurrentModificationException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ConcurrentModificationException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ConcurrentModificationException.prototype);\n    }\n};\nlet InternalException$1 = class InternalException extends EventBridgeServiceException$1 {\n    name = \"InternalException\";\n    $fault = \"server\";\n    constructor(opts) {\n        super({\n            name: \"InternalException\",\n            $fault: \"server\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InternalException.prototype);\n    }\n};\nlet InvalidStateException$1 = class InvalidStateException extends EventBridgeServiceException$1 {\n    name = \"InvalidStateException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"InvalidStateException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidStateException.prototype);\n    }\n};\nlet OperationDisabledException$1 = class OperationDisabledException extends EventBridgeServiceException$1 {\n    name = \"OperationDisabledException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"OperationDisabledException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, OperationDisabledException.prototype);\n    }\n};\nlet ResourceNotFoundException$1 = class ResourceNotFoundException extends EventBridgeServiceException$1 {\n    name = \"ResourceNotFoundException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ResourceNotFoundException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ResourceNotFoundException.prototype);\n    }\n};\nconst ApiDestinationState = {\n    ACTIVE: \"ACTIVE\",\n    INACTIVE: \"INACTIVE\",\n};\nconst ApiDestinationHttpMethod = {\n    DELETE: \"DELETE\",\n    GET: \"GET\",\n    HEAD: \"HEAD\",\n    OPTIONS: \"OPTIONS\",\n    PATCH: \"PATCH\",\n    POST: \"POST\",\n    PUT: \"PUT\",\n};\nconst ArchiveState = {\n    CREATE_FAILED: \"CREATE_FAILED\",\n    CREATING: \"CREATING\",\n    DISABLED: \"DISABLED\",\n    ENABLED: \"ENABLED\",\n    UPDATE_FAILED: \"UPDATE_FAILED\",\n    UPDATING: \"UPDATING\",\n};\nconst AssignPublicIp = {\n    DISABLED: \"DISABLED\",\n    ENABLED: \"ENABLED\",\n};\nconst ReplayState = {\n    CANCELLED: \"CANCELLED\",\n    CANCELLING: \"CANCELLING\",\n    COMPLETED: \"COMPLETED\",\n    FAILED: \"FAILED\",\n    RUNNING: \"RUNNING\",\n    STARTING: \"STARTING\",\n};\nlet IllegalStatusException$1 = class IllegalStatusException extends EventBridgeServiceException$1 {\n    name = \"IllegalStatusException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"IllegalStatusException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, IllegalStatusException.prototype);\n    }\n};\nlet LimitExceededException$1 = class LimitExceededException extends EventBridgeServiceException$1 {\n    name = \"LimitExceededException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"LimitExceededException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, LimitExceededException.prototype);\n    }\n};\nlet ResourceAlreadyExistsException$1 = class ResourceAlreadyExistsException extends EventBridgeServiceException$1 {\n    name = \"ResourceAlreadyExistsException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ResourceAlreadyExistsException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ResourceAlreadyExistsException.prototype);\n    }\n};\nlet InvalidEventPatternException$1 = class InvalidEventPatternException extends EventBridgeServiceException$1 {\n    name = \"InvalidEventPatternException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"InvalidEventPatternException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, InvalidEventPatternException.prototype);\n    }\n};\nconst ConnectionAuthorizationType = {\n    API_KEY: \"API_KEY\",\n    BASIC: \"BASIC\",\n    OAUTH_CLIENT_CREDENTIALS: \"OAUTH_CLIENT_CREDENTIALS\",\n};\nconst ConnectionOAuthHttpMethod = {\n    GET: \"GET\",\n    POST: \"POST\",\n    PUT: \"PUT\",\n};\nconst ConnectionState = {\n    ACTIVE: \"ACTIVE\",\n    AUTHORIZED: \"AUTHORIZED\",\n    AUTHORIZING: \"AUTHORIZING\",\n    CREATING: \"CREATING\",\n    DEAUTHORIZED: \"DEAUTHORIZED\",\n    DEAUTHORIZING: \"DEAUTHORIZING\",\n    DELETING: \"DELETING\",\n    FAILED_CONNECTIVITY: \"FAILED_CONNECTIVITY\",\n    UPDATING: \"UPDATING\",\n};\nlet ThrottlingException$1 = class ThrottlingException extends EventBridgeServiceException$1 {\n    name = \"ThrottlingException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ThrottlingException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ThrottlingException.prototype);\n    }\n};\nconst ReplicationState = {\n    DISABLED: \"DISABLED\",\n    ENABLED: \"ENABLED\",\n};\nconst EndpointState = {\n    ACTIVE: \"ACTIVE\",\n    CREATE_FAILED: \"CREATE_FAILED\",\n    CREATING: \"CREATING\",\n    DELETE_FAILED: \"DELETE_FAILED\",\n    DELETING: \"DELETING\",\n    UPDATE_FAILED: \"UPDATE_FAILED\",\n    UPDATING: \"UPDATING\",\n};\nconst IncludeDetail = {\n    FULL: \"FULL\",\n    NONE: \"NONE\",\n};\nconst Level = {\n    ERROR: \"ERROR\",\n    INFO: \"INFO\",\n    OFF: \"OFF\",\n    TRACE: \"TRACE\",\n};\nlet ManagedRuleException$1 = class ManagedRuleException extends EventBridgeServiceException$1 {\n    name = \"ManagedRuleException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"ManagedRuleException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, ManagedRuleException.prototype);\n    }\n};\nconst EventSourceState = {\n    ACTIVE: \"ACTIVE\",\n    DELETED: \"DELETED\",\n    PENDING: \"PENDING\",\n};\nconst RuleState = {\n    DISABLED: \"DISABLED\",\n    ENABLED: \"ENABLED\",\n    ENABLED_WITH_ALL_CLOUDTRAIL_MANAGEMENT_EVENTS: \"ENABLED_WITH_ALL_CLOUDTRAIL_MANAGEMENT_EVENTS\",\n};\nconst LaunchType = {\n    EC2: \"EC2\",\n    EXTERNAL: \"EXTERNAL\",\n    FARGATE: \"FARGATE\",\n};\nconst PlacementConstraintType = {\n    DISTINCT_INSTANCE: \"distinctInstance\",\n    MEMBER_OF: \"memberOf\",\n};\nconst PlacementStrategyType = {\n    BINPACK: \"binpack\",\n    RANDOM: \"random\",\n    SPREAD: \"spread\",\n};\nconst PropagateTags = {\n    TASK_DEFINITION: \"TASK_DEFINITION\",\n};\nlet PolicyLengthExceededException$1 = class PolicyLengthExceededException extends EventBridgeServiceException$1 {\n    name = \"PolicyLengthExceededException\";\n    $fault = \"client\";\n    constructor(opts) {\n        super({\n            name: \"PolicyLengthExceededException\",\n            $fault: \"client\",\n            ...opts,\n        });\n        Object.setPrototypeOf(this, PolicyLengthExceededException.prototype);\n    }\n};\n\nconst _A = \"Archive\";\nconst _AA = \"ArchiveArn\";\nconst _AD = \"ApiDestination\";\nconst _ADA = \"ApiDestinationArn\";\nconst _ADE = \"AccessDeniedException\";\nconst _ADRL = \"ApiDestinationResponseList\";\nconst _ADS = \"ApiDestinationState\";\nconst _ADp = \"ApiDestinations\";\nconst _AE = \"AuthorizationEndpoint\";\nconst _AES = \"ActivateEventSource\";\nconst _AESR = \"ActivateEventSourceRequest\";\nconst _AHPS = \"AuthHeaderParametersSensitive\";\nconst _AKAP = \"ApiKeyAuthParameters\";\nconst _AKN = \"ApiKeyName\";\nconst _AKV = \"ApiKeyValue\";\nconst _AN = \"ArchiveName\";\nconst _AP = \"ArrayProperties\";\nconst _API = \"AssignPublicIp\";\nconst _APu = \"AuthParameters\";\nconst _ARL = \"ArchiveResponseList\";\nconst _ASP = \"AppSyncParameters\";\nconst _AT = \"AuthorizationType\";\nconst _AVC = \"AwsVpcConfiguration\";\nconst _Ac = \"Account\";\nconst _Act = \"Action\";\nconst _Ar = \"Arn\";\nconst _Arc = \"Archives\";\nconst _At = \"Attempts\";\nconst _BAP = \"BatchArrayProperties\";\nconst _BAPa = \"BasicAuthParameters\";\nconst _BP = \"BatchParameters\";\nconst _BPo = \"BodyParameters\";\nconst _BRS = \"BatchRetryStrategy\";\nconst _C = \"Condition\";\nconst _CA = \"ConnectionArn\";\nconst _CAD = \"CreateApiDestination\";\nconst _CADR = \"CreateApiDestinationRequest\";\nconst _CADRr = \"CreateApiDestinationResponse\";\nconst _CAKARP = \"ConnectionApiKeyAuthResponseParameters\";\nconst _CAR = \"CreateArchiveRequest\";\nconst _CARP = \"ConnectionAuthResponseParameters\";\nconst _CARr = \"CreateArchiveResponse\";\nconst _CAr = \"CreateArchive\";\nconst _CB = \"CreatedBy\";\nconst _CBARP = \"ConnectionBasicAuthResponseParameters\";\nconst _CBP = \"ConnectionBodyParameter\";\nconst _CBPL = \"ConnectionBodyParametersList\";\nconst _CC = \"CreateConnection\";\nconst _CCAKARP = \"CreateConnectionApiKeyAuthRequestParameters\";\nconst _CCARP = \"CreateConnectionAuthRequestParameters\";\nconst _CCBARP = \"CreateConnectionBasicAuthRequestParameters\";\nconst _CCOACRP = \"CreateConnectionOAuthClientRequestParameters\";\nconst _CCOARP = \"CreateConnectionOAuthRequestParameters\";\nconst _CCR = \"CreateConnectionRequest\";\nconst _CCRr = \"CreateConnectionResponse\";\nconst _CE = \"CreateEndpoint\";\nconst _CEB = \"CreateEventBus\";\nconst _CEBR = \"CreateEventBusRequest\";\nconst _CEBRr = \"CreateEventBusResponse\";\nconst _CER = \"CreateEndpointRequest\";\nconst _CERr = \"CreateEndpointResponse\";\nconst _CHP = \"ConnectionHeaderParameter\";\nconst _CHPL = \"ConnectionHeaderParametersList\";\nconst _CHPo = \"ConnectionHttpParameters\";\nconst _CID = \"ClientID\";\nconst _CME = \"ConcurrentModificationException\";\nconst _COACRP = \"ConnectionOAuthClientResponseParameters\";\nconst _COARP = \"ConnectionOAuthResponseParameters\";\nconst _CP = \"ConnectivityParameters\";\nconst _CPES = \"CreatePartnerEventSource\";\nconst _CPESR = \"CreatePartnerEventSourceRequest\";\nconst _CPESRr = \"CreatePartnerEventSourceResponse\";\nconst _CPS = \"CapacityProviderStrategy\";\nconst _CPSI = \"CapacityProviderStrategyItem\";\nconst _CPl = \"ClientParameters\";\nconst _CQSP = \"ConnectionQueryStringParameter\";\nconst _CQSPL = \"ConnectionQueryStringParametersList\";\nconst _CR = \"CancelReplay\";\nconst _CRCA = \"ConnectivityResourceConfigurationArn\";\nconst _CRL = \"ConnectionResponseList\";\nconst _CRP = \"ConnectivityResourceParameters\";\nconst _CRR = \"CancelReplayRequest\";\nconst _CRRa = \"CancelReplayResponse\";\nconst _CS = \"ConnectionState\";\nconst _CSl = \"ClientSecret\";\nconst _CT = \"CreationTime\";\nconst _Co = \"Connection\";\nconst _Con = \"Connections\";\nconst _D = \"Description\";\nconst _DA = \"DeleteArchive\";\nconst _DAD = \"DeleteApiDestination\";\nconst _DADR = \"DeleteApiDestinationRequest\";\nconst _DADRe = \"DeleteApiDestinationResponse\";\nconst _DADRes = \"DescribeApiDestinationRequest\";\nconst _DADResc = \"DescribeApiDestinationResponse\";\nconst _DADe = \"DescribeApiDestination\";\nconst _DAR = \"DeleteArchiveRequest\";\nconst _DARe = \"DeleteArchiveResponse\";\nconst _DARes = \"DescribeArchiveRequest\";\nconst _DAResc = \"DescribeArchiveResponse\";\nconst _DAe = \"DescribeArchive\";\nconst _DC = \"DeauthorizeConnection\";\nconst _DCCP = \"DescribeConnectionConnectivityParameters\";\nconst _DCR = \"DeauthorizeConnectionRequest\";\nconst _DCRP = \"DescribeConnectionResourceParameters\";\nconst _DCRe = \"DeauthorizeConnectionResponse\";\nconst _DCRel = \"DeleteConnectionRequest\";\nconst _DCRele = \"DeleteConnectionResponse\";\nconst _DCRes = \"DescribeConnectionRequest\";\nconst _DCResc = \"DescribeConnectionResponse\";\nconst _DCe = \"DeleteConnection\";\nconst _DCes = \"DescribeConnection\";\nconst _DE = \"DeleteEndpoint\";\nconst _DEB = \"DeleteEventBus\";\nconst _DEBR = \"DeleteEventBusRequest\";\nconst _DEBRe = \"DescribeEventBusRequest\";\nconst _DEBRes = \"DescribeEventBusResponse\";\nconst _DEBe = \"DescribeEventBus\";\nconst _DER = \"DeleteEndpointRequest\";\nconst _DERe = \"DeleteEndpointResponse\";\nconst _DERes = \"DescribeEndpointRequest\";\nconst _DEResc = \"DescribeEndpointResponse\";\nconst _DES = \"DeactivateEventSource\";\nconst _DESR = \"DeactivateEventSourceRequest\";\nconst _DESRe = \"DescribeEventSourceRequest\";\nconst _DESRes = \"DescribeEventSourceResponse\";\nconst _DESe = \"DescribeEventSource\";\nconst _DEe = \"DescribeEndpoint\";\nconst _DLC = \"DeadLetterConfig\";\nconst _DPES = \"DeletePartnerEventSource\";\nconst _DPESR = \"DeletePartnerEventSourceRequest\";\nconst _DPESRe = \"DescribePartnerEventSourceRequest\";\nconst _DPESRes = \"DescribePartnerEventSourceResponse\";\nconst _DPESe = \"DescribePartnerEventSource\";\nconst _DR = \"DeleteRule\";\nconst _DRR = \"DeleteRuleRequest\";\nconst _DRRe = \"DescribeReplayRequest\";\nconst _DRRes = \"DescribeReplayResponse\";\nconst _DRResc = \"DescribeRuleRequest\";\nconst _DRRescr = \"DescribeRuleResponse\";\nconst _DRRi = \"DisableRuleRequest\";\nconst _DRe = \"DescribeReplay\";\nconst _DRes = \"DescribeRule\";\nconst _DRi = \"DisableRule\";\nconst _DT = \"DetailType\";\nconst _DU = \"DbUser\";\nconst _Da = \"Database\";\nconst _De = \"Destination\";\nconst _Det = \"Detail\";\nconst _E = \"Endpoint\";\nconst _EB = \"EventBuses\";\nconst _EBA = \"EventBusArn\";\nconst _EBL = \"EventBusList\";\nconst _EBN = \"EventBusName\";\nconst _EBv = \"EventBus\";\nconst _EC = \"EventCount\";\nconst _ECr = \"ErrorCode\";\nconst _EEB = \"EndpointEventBus\";\nconst _EEBL = \"EndpointEventBusList\";\nconst _EEC = \"EnableExecuteCommand\";\nconst _EECSMT = \"EnableECSManagedTags\";\nconst _EET = \"EventEndTime\";\nconst _EI = \"EndpointId\";\nconst _EIv = \"EventId\";\nconst _EL = \"EndpointList\";\nconst _ELRT = \"EventLastReplayedTime\";\nconst _EM = \"ErrorMessage\";\nconst _EP = \"EventPattern\";\nconst _EPc = \"EcsParameters\";\nconst _ER = \"EnableRule\";\nconst _ERR = \"EnableRuleRequest\";\nconst _ES = \"EventSource\";\nconst _ESA = \"EventSourceArn\";\nconst _ESL = \"EventSourceList\";\nconst _ESN = \"EventSourceName\";\nconst _EST = \"EventStartTime\";\nconst _ESv = \"EventSources\";\nconst _ET = \"ExpirationTime\";\nconst _EU = \"EndpointUrl\";\nconst _En = \"Endpoints\";\nconst _Ent = \"Entries\";\nconst _Ev = \"Event\";\nconst _F = \"Force\";\nconst _FA = \"FilterArns\";\nconst _FC = \"FailoverConfig\";\nconst _FE = \"FailedEntries\";\nconst _FEC = \"FailedEntryCount\";\nconst _G = \"Group\";\nconst _GQLO = \"GraphQLOperation\";\nconst _HC = \"HealthCheck\";\nconst _HM = \"HttpMethod\";\nconst _HP = \"HeaderParameters\";\nconst _HPt = \"HttpParameters\";\nconst _HR = \"HomeRegion\";\nconst _HVS = \"HeaderValueSensitive\";\nconst _I = \"Ids\";\nconst _ICP = \"InvocationConnectivityParameters\";\nconst _ID = \"IncludeDetail\";\nconst _IE = \"InvocationEndpoint\";\nconst _IEPE = \"InvalidEventPatternException\";\nconst _IEn = \"InternalException\";\nconst _IHP = \"InvocationHttpParameters\";\nconst _IP = \"InputPath\";\nconst _IPM = \"InputPathsMap\";\nconst _IRLPS = \"InvocationRateLimitPerSecond\";\nconst _ISE = \"IllegalStatusException\";\nconst _ISEn = \"InvalidStateException\";\nconst _IT = \"InputTransformer\";\nconst _ITn = \"InputTemplate\";\nconst _IVS = \"IsValueSecret\";\nconst _Id = \"Id\";\nconst _In = \"Input\";\nconst _JD = \"JobDefinition\";\nconst _JN = \"JobName\";\nconst _K = \"Key\";\nconst _KKI = \"KmsKeyIdentifier\";\nconst _KP = \"KinesisParameters\";\nconst _L = \"Limit\";\nconst _LA = \"ListArchives\";\nconst _LAD = \"ListApiDestinations\";\nconst _LADR = \"ListApiDestinationsRequest\";\nconst _LADRi = \"ListApiDestinationsResponse\";\nconst _LAR = \"ListArchivesRequest\";\nconst _LARi = \"ListArchivesResponse\";\nconst _LAT = \"LastAuthorizedTime\";\nconst _LC = \"LogConfig\";\nconst _LCR = \"ListConnectionsRequest\";\nconst _LCRi = \"ListConnectionsResponse\";\nconst _LCi = \"ListConnections\";\nconst _LE = \"ListEndpoints\";\nconst _LEB = \"ListEventBuses\";\nconst _LEBR = \"ListEventBusesRequest\";\nconst _LEBRi = \"ListEventBusesResponse\";\nconst _LEE = \"LimitExceededException\";\nconst _LER = \"ListEndpointsRequest\";\nconst _LERi = \"ListEndpointsResponse\";\nconst _LES = \"ListEventSources\";\nconst _LESR = \"ListEventSourcesRequest\";\nconst _LESRi = \"ListEventSourcesResponse\";\nconst _LMT = \"LastModifiedTime\";\nconst _LPES = \"ListPartnerEventSources\";\nconst _LPESA = \"ListPartnerEventSourceAccounts\";\nconst _LPESAR = \"ListPartnerEventSourceAccountsRequest\";\nconst _LPESARi = \"ListPartnerEventSourceAccountsResponse\";\nconst _LPESR = \"ListPartnerEventSourcesRequest\";\nconst _LPESRi = \"ListPartnerEventSourcesResponse\";\nconst _LR = \"ListReplays\";\nconst _LRNBT = \"ListRuleNamesByTarget\";\nconst _LRNBTR = \"ListRuleNamesByTargetRequest\";\nconst _LRNBTRi = \"ListRuleNamesByTargetResponse\";\nconst _LRR = \"ListReplaysRequest\";\nconst _LRRi = \"ListReplaysResponse\";\nconst _LRRis = \"ListRulesRequest\";\nconst _LRRist = \"ListRulesResponse\";\nconst _LRi = \"ListRules\";\nconst _LT = \"LaunchType\";\nconst _LTBR = \"ListTargetsByRule\";\nconst _LTBRR = \"ListTargetsByRuleRequest\";\nconst _LTBRRi = \"ListTargetsByRuleResponse\";\nconst _LTFR = \"ListTagsForResource\";\nconst _LTFRR = \"ListTagsForResourceRequest\";\nconst _LTFRRi = \"ListTagsForResourceResponse\";\nconst _Le = \"Level\";\nconst _MB = \"ManagedBy\";\nconst _MEAIS = \"MaximumEventAgeInSeconds\";\nconst _MGI = \"MessageGroupId\";\nconst _MR = \"MaxResults\";\nconst _MRA = \"MaximumRetryAttempts\";\nconst _MRE = \"ManagedRuleException\";\nconst _N = \"Name\";\nconst _NC = \"NetworkConfiguration\";\nconst _NP = \"NamePrefix\";\nconst _NT = \"NextToken\";\nconst _OAHP = \"OAuthHttpParameters\";\nconst _OAP = \"OAuthParameters\";\nconst _ODE = \"OperationDisabledException\";\nconst _P = \"Password\";\nconst _PC = \"PlacementConstraints\";\nconst _PCl = \"PlacementConstraint\";\nconst _PE = \"PutEvents\";\nconst _PER = \"PutEventsRequest\";\nconst _PERE = \"PutEventsRequestEntry\";\nconst _PEREL = \"PutEventsRequestEntryList\";\nconst _PERELu = \"PutEventsResultEntryList\";\nconst _PEREu = \"PutEventsResultEntry\";\nconst _PERu = \"PutEventsResponse\";\nconst _PES = \"PartnerEventSources\";\nconst _PESA = \"PartnerEventSourceAccounts\";\nconst _PESAL = \"PartnerEventSourceAccountList\";\nconst _PESAa = \"PartnerEventSourceAccount\";\nconst _PESL = \"PartnerEventSourceList\";\nconst _PESa = \"PartnerEventSource\";\nconst _PKP = \"PartitionKeyPath\";\nconst _PLEE = \"PolicyLengthExceededException\";\nconst _PP = \"PutPermission\";\nconst _PPE = \"PutPartnerEvents\";\nconst _PPER = \"PutPartnerEventsRequest\";\nconst _PPERE = \"PutPartnerEventsRequestEntry\";\nconst _PPEREL = \"PutPartnerEventsRequestEntryList\";\nconst _PPERELu = \"PutPartnerEventsResultEntryList\";\nconst _PPEREu = \"PutPartnerEventsResultEntry\";\nconst _PPERu = \"PutPartnerEventsResponse\";\nconst _PPL = \"PipelineParameterList\";\nconst _PPR = \"PutPermissionRequest\";\nconst _PPV = \"PathParameterValues\";\nconst _PR = \"PutRule\";\nconst _PRR = \"PutRuleRequest\";\nconst _PRRu = \"PutRuleResponse\";\nconst _PS = \"PlacementStrategy\";\nconst _PSl = \"PlacementStrategies\";\nconst _PT = \"PropagateTags\";\nconst _PTR = \"PutTargetsRequest\";\nconst _PTRE = \"PutTargetsResultEntry\";\nconst _PTREL = \"PutTargetsResultEntryList\";\nconst _PTRu = \"PutTargetsResponse\";\nconst _PTu = \"PutTargets\";\nconst _PV = \"PlatformVersion\";\nconst _Po = \"Policy\";\nconst _Pr = \"Primary\";\nconst _Pri = \"Principal\";\nconst _QSP = \"QueryStringParameters\";\nconst _QSVS = \"QueryStringValueSensitive\";\nconst _R = \"Replays\";\nconst _RA = \"ReplayArn\";\nconst _RAA = \"ResourceAssociationArn\";\nconst _RAEE = \"ResourceAlreadyExistsException\";\nconst _RAP = \"RemoveAllPermissions\";\nconst _RARN = \"ResourceARN\";\nconst _RAo = \"RoleArn\";\nconst _RAu = \"RuleArn\";\nconst _RC = \"RoutingConfig\";\nconst _RCA = \"ResourceConfigurationArn\";\nconst _RCP = \"RunCommandParameters\";\nconst _RCT = \"RunCommandTargets\";\nconst _RCTu = \"RunCommandTarget\";\nconst _RCe = \"ReplicationConfig\";\nconst _RD = \"RetentionDays\";\nconst _RDP = \"RedshiftDataParameters\";\nconst _RDe = \"ReplayDestination\";\nconst _RET = \"ReplayEndTime\";\nconst _RI = \"ReferenceId\";\nconst _RL = \"ReplayList\";\nconst _RN = \"ReplayName\";\nconst _RNFE = \"ResourceNotFoundException\";\nconst _RNu = \"RuleNames\";\nconst _RP = \"ResourceParameters\";\nconst _RPR = \"RemovePermissionRequest\";\nconst _RPe = \"RetryPolicy\";\nconst _RPem = \"RemovePermission\";\nconst _RRL = \"RuleResponseList\";\nconst _RS = \"RetryStrategy\";\nconst _RST = \"ReplayStartTime\";\nconst _RT = \"RemoveTargets\";\nconst _RTR = \"RemoveTargetsRequest\";\nconst _RTRE = \"RemoveTargetsResultEntry\";\nconst _RTREL = \"RemoveTargetsResultEntryList\";\nconst _RTRe = \"RemoveTargetsResponse\";\nconst _Re = \"Resources\";\nconst _Rep = \"Replay\";\nconst _Res = \"Result\";\nconst _Ro = \"Route\";\nconst _Ru = \"Rules\";\nconst _Rul = \"Rule\";\nconst _S = \"Sql\";\nconst _SA = \"SecretArn\";\nconst _SB = \"SizeBytes\";\nconst _SE = \"ScheduleExpression\";\nconst _SG = \"SecurityGroups\";\nconst _SI = \"StatementId\";\nconst _SMA = \"SecretManagerArn\";\nconst _SMPP = \"SageMakerPipelineParameter\";\nconst _SMPPL = \"SageMakerPipelineParameterList\";\nconst _SMPPa = \"SageMakerPipelineParameters\";\nconst _SN = \"StatementName\";\nconst _SP = \"SqsParameters\";\nconst _SR = \"StateReason\";\nconst _SRR = \"StartReplayRequest\";\nconst _SRRt = \"StartReplayResponse\";\nconst _SRt = \"StartReplay\";\nconst _SS = \"SensitiveString\";\nconst _Se = \"Secondary\";\nconst _Si = \"Size\";\nconst _So = \"Source\";\nconst _Sq = \"Sqls\";\nconst _St = \"State\";\nconst _Su = \"Subnets\";\nconst _T = \"Type\";\nconst _TA = \"TargetArn\";\nconst _TC = \"TaskCount\";\nconst _TDA = \"TaskDefinitionArn\";\nconst _TE = \"ThrottlingException\";\nconst _TEP = \"TestEventPattern\";\nconst _TEPR = \"TestEventPatternRequest\";\nconst _TEPRe = \"TestEventPatternResponse\";\nconst _TH = \"TraceHeader\";\nconst _TI = \"TargetId\";\nconst _TK = \"TagKeys\";\nconst _TL = \"TagList\";\nconst _TLa = \"TargetList\";\nconst _TR = \"TagResource\";\nconst _TRR = \"TagResourceRequest\";\nconst _TRRa = \"TagResourceResponse\";\nconst _Ta = \"Tags\";\nconst _Tag = \"Tag\";\nconst _Tar = \"Targets\";\nconst _Targ = \"Target\";\nconst _Ti = \"Time\";\nconst _U = \"Username\";\nconst _UA = \"UpdateArchive\";\nconst _UAD = \"UpdateApiDestination\";\nconst _UADR = \"UpdateApiDestinationRequest\";\nconst _UADRp = \"UpdateApiDestinationResponse\";\nconst _UAR = \"UpdateArchiveRequest\";\nconst _UARp = \"UpdateArchiveResponse\";\nconst _UC = \"UpdateConnection\";\nconst _UCAKARP = \"UpdateConnectionApiKeyAuthRequestParameters\";\nconst _UCARP = \"UpdateConnectionAuthRequestParameters\";\nconst _UCBARP = \"UpdateConnectionBasicAuthRequestParameters\";\nconst _UCOACRP = \"UpdateConnectionOAuthClientRequestParameters\";\nconst _UCOARP = \"UpdateConnectionOAuthRequestParameters\";\nconst _UCR = \"UpdateConnectionRequest\";\nconst _UCRp = \"UpdateConnectionResponse\";\nconst _UE = \"UpdateEndpoint\";\nconst _UEB = \"UpdateEventBus\";\nconst _UEBR = \"UpdateEventBusRequest\";\nconst _UEBRp = \"UpdateEventBusResponse\";\nconst _UER = \"UpdateEndpointRequest\";\nconst _UERp = \"UpdateEndpointResponse\";\nconst _UR = \"UntagResource\";\nconst _URR = \"UntagResourceRequest\";\nconst _URRn = \"UntagResourceResponse\";\nconst _V = \"Value\";\nconst _Va = \"Values\";\nconst _WE = \"WithEvent\";\nconst _aC = \"awsvpcConfiguration\";\nconst _b = \"base\";\nconst _c = \"client\";\nconst _cP = \"capacityProvider\";\nconst _e = \"error\";\nconst _ex = \"expression\";\nconst _f = \"field\";\nconst _m = \"message\";\nconst _s = \"server\";\nconst _sm = \"smithy.ts.sdk.synthetic.com.amazonaws.eventbridge\";\nconst _t = \"type\";\nconst _w = \"weight\";\nconst n0 = \"com.amazonaws.eventbridge\";\nvar AuthHeaderParametersSensitive = [0, n0, _AHPS, 8, 0];\nvar GraphQLOperation = [0, n0, _GQLO, 8, 0];\nvar HeaderValueSensitive = [0, n0, _HVS, 8, 0];\nvar QueryStringValueSensitive = [0, n0, _QSVS, 8, 0];\nvar SensitiveString = [0, n0, _SS, 8, 0];\nvar Sql = [0, n0, _S, 8, 0];\nvar AccessDeniedException = [\n    -3,\n    n0,\n    _ADE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(AccessDeniedException, AccessDeniedException$1);\nvar ActivateEventSourceRequest = [3, n0, _AESR, 0, [_N], [0]];\nvar ApiDestination = [\n    3,\n    n0,\n    _AD,\n    0,\n    [_ADA, _N, _ADS, _CA, _IE, _HM, _IRLPS, _CT, _LMT],\n    [0, 0, 0, 0, 0, 0, 1, 4, 4],\n];\nvar AppSyncParameters = [3, n0, _ASP, 0, [_GQLO], [[() => GraphQLOperation, 0]]];\nvar Archive = [\n    3,\n    n0,\n    _A,\n    0,\n    [_AN, _ESA, _St, _SR, _RD, _SB, _EC, _CT],\n    [0, 0, 0, 0, 1, 1, 1, 4],\n];\nvar AwsVpcConfiguration = [3, n0, _AVC, 0, [_Su, _SG, _API], [64 | 0, 64 | 0, 0]];\nvar BatchArrayProperties = [3, n0, _BAP, 0, [_Si], [1]];\nvar BatchParameters = [\n    3,\n    n0,\n    _BP,\n    0,\n    [_JD, _JN, _AP, _RS],\n    [0, 0, () => BatchArrayProperties, () => BatchRetryStrategy],\n];\nvar BatchRetryStrategy = [3, n0, _BRS, 0, [_At], [1]];\nvar CancelReplayRequest = [3, n0, _CRR, 0, [_RN], [0]];\nvar CancelReplayResponse = [3, n0, _CRRa, 0, [_RA, _St, _SR], [0, 0, 0]];\nvar CapacityProviderStrategyItem = [3, n0, _CPSI, 0, [_cP, _w, _b], [0, 1, 1]];\nvar ConcurrentModificationException = [\n    -3,\n    n0,\n    _CME,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(ConcurrentModificationException, ConcurrentModificationException$1);\nvar Condition = [3, n0, _C, 0, [_T, _K, _V], [0, 0, 0]];\nvar Connection = [\n    3,\n    n0,\n    _Co,\n    0,\n    [_CA, _N, _CS, _SR, _AT, _CT, _LMT, _LAT],\n    [0, 0, 0, 0, 0, 4, 4, 4],\n];\nvar ConnectionApiKeyAuthResponseParameters = [3, n0, _CAKARP, 0, [_AKN], [0]];\nvar ConnectionAuthResponseParameters = [\n    3,\n    n0,\n    _CARP,\n    0,\n    [_BAPa, _OAP, _AKAP, _IHP, _CP],\n    [\n        () => ConnectionBasicAuthResponseParameters,\n        [() => ConnectionOAuthResponseParameters, 0],\n        () => ConnectionApiKeyAuthResponseParameters,\n        [() => ConnectionHttpParameters, 0],\n        () => DescribeConnectionConnectivityParameters,\n    ],\n];\nvar ConnectionBasicAuthResponseParameters = [3, n0, _CBARP, 0, [_U], [0]];\nvar ConnectionBodyParameter = [\n    3,\n    n0,\n    _CBP,\n    0,\n    [_K, _V, _IVS],\n    [0, [() => SensitiveString, 0], 2],\n];\nvar ConnectionHeaderParameter = [\n    3,\n    n0,\n    _CHP,\n    0,\n    [_K, _V, _IVS],\n    [0, [() => HeaderValueSensitive, 0], 2],\n];\nvar ConnectionHttpParameters = [\n    3,\n    n0,\n    _CHPo,\n    0,\n    [_HP, _QSP, _BPo],\n    [\n        [() => ConnectionHeaderParametersList, 0],\n        [() => ConnectionQueryStringParametersList, 0],\n        [() => ConnectionBodyParametersList, 0],\n    ],\n];\nvar ConnectionOAuthClientResponseParameters = [3, n0, _COACRP, 0, [_CID], [0]];\nvar ConnectionOAuthResponseParameters = [\n    3,\n    n0,\n    _COARP,\n    0,\n    [_CPl, _AE, _HM, _OAHP],\n    [() => ConnectionOAuthClientResponseParameters, 0, 0, [() => ConnectionHttpParameters, 0]],\n];\nvar ConnectionQueryStringParameter = [\n    3,\n    n0,\n    _CQSP,\n    0,\n    [_K, _V, _IVS],\n    [0, [() => QueryStringValueSensitive, 0], 2],\n];\nvar ConnectivityResourceConfigurationArn = [3, n0, _CRCA, 0, [_RCA], [0]];\nvar ConnectivityResourceParameters = [\n    3,\n    n0,\n    _CRP,\n    0,\n    [_RP],\n    [() => ConnectivityResourceConfigurationArn],\n];\nvar CreateApiDestinationRequest = [\n    3,\n    n0,\n    _CADR,\n    0,\n    [_N, _D, _CA, _IE, _HM, _IRLPS],\n    [0, 0, 0, 0, 0, 1],\n];\nvar CreateApiDestinationResponse = [\n    3,\n    n0,\n    _CADRr,\n    0,\n    [_ADA, _ADS, _CT, _LMT],\n    [0, 0, 4, 4],\n];\nvar CreateArchiveRequest = [\n    3,\n    n0,\n    _CAR,\n    0,\n    [_AN, _ESA, _D, _EP, _RD, _KKI],\n    [0, 0, 0, 0, 1, 0],\n];\nvar CreateArchiveResponse = [3, n0, _CARr, 0, [_AA, _St, _SR, _CT], [0, 0, 0, 4]];\nvar CreateConnectionApiKeyAuthRequestParameters = [\n    3,\n    n0,\n    _CCAKARP,\n    0,\n    [_AKN, _AKV],\n    [0, [() => AuthHeaderParametersSensitive, 0]],\n];\nvar CreateConnectionAuthRequestParameters = [\n    3,\n    n0,\n    _CCARP,\n    0,\n    [_BAPa, _OAP, _AKAP, _IHP, _CP],\n    [\n        [() => CreateConnectionBasicAuthRequestParameters, 0],\n        [() => CreateConnectionOAuthRequestParameters, 0],\n        [() => CreateConnectionApiKeyAuthRequestParameters, 0],\n        [() => ConnectionHttpParameters, 0],\n        () => ConnectivityResourceParameters,\n    ],\n];\nvar CreateConnectionBasicAuthRequestParameters = [\n    3,\n    n0,\n    _CCBARP,\n    0,\n    [_U, _P],\n    [0, [() => AuthHeaderParametersSensitive, 0]],\n];\nvar CreateConnectionOAuthClientRequestParameters = [\n    3,\n    n0,\n    _CCOACRP,\n    0,\n    [_CID, _CSl],\n    [0, [() => AuthHeaderParametersSensitive, 0]],\n];\nvar CreateConnectionOAuthRequestParameters = [\n    3,\n    n0,\n    _CCOARP,\n    0,\n    [_CPl, _AE, _HM, _OAHP],\n    [[() => CreateConnectionOAuthClientRequestParameters, 0], 0, 0, [() => ConnectionHttpParameters, 0]],\n];\nvar CreateConnectionRequest = [\n    3,\n    n0,\n    _CCR,\n    0,\n    [_N, _D, _AT, _APu, _ICP, _KKI],\n    [0, 0, 0, [() => CreateConnectionAuthRequestParameters, 0], () => ConnectivityResourceParameters, 0],\n];\nvar CreateConnectionResponse = [3, n0, _CCRr, 0, [_CA, _CS, _CT, _LMT], [0, 0, 4, 4]];\nvar CreateEndpointRequest = [\n    3,\n    n0,\n    _CER,\n    0,\n    [_N, _D, _RC, _RCe, _EB, _RAo],\n    [0, 0, () => RoutingConfig, () => ReplicationConfig, () => EndpointEventBusList, 0],\n];\nvar CreateEndpointResponse = [\n    3,\n    n0,\n    _CERr,\n    0,\n    [_N, _Ar, _RC, _RCe, _EB, _RAo, _St],\n    [0, 0, () => RoutingConfig, () => ReplicationConfig, () => EndpointEventBusList, 0, 0],\n];\nvar CreateEventBusRequest = [\n    3,\n    n0,\n    _CEBR,\n    0,\n    [_N, _ESN, _D, _KKI, _DLC, _LC, _Ta],\n    [0, 0, 0, 0, () => DeadLetterConfig, () => LogConfig, () => TagList],\n];\nvar CreateEventBusResponse = [\n    3,\n    n0,\n    _CEBRr,\n    0,\n    [_EBA, _D, _KKI, _DLC, _LC],\n    [0, 0, 0, () => DeadLetterConfig, () => LogConfig],\n];\nvar CreatePartnerEventSourceRequest = [3, n0, _CPESR, 0, [_N, _Ac], [0, 0]];\nvar CreatePartnerEventSourceResponse = [3, n0, _CPESRr, 0, [_ESA], [0]];\nvar DeactivateEventSourceRequest = [3, n0, _DESR, 0, [_N], [0]];\nvar DeadLetterConfig = [3, n0, _DLC, 0, [_Ar], [0]];\nvar DeauthorizeConnectionRequest = [3, n0, _DCR, 0, [_N], [0]];\nvar DeauthorizeConnectionResponse = [\n    3,\n    n0,\n    _DCRe,\n    0,\n    [_CA, _CS, _CT, _LMT, _LAT],\n    [0, 0, 4, 4, 4],\n];\nvar DeleteApiDestinationRequest = [3, n0, _DADR, 0, [_N], [0]];\nvar DeleteApiDestinationResponse = [3, n0, _DADRe, 0, [], []];\nvar DeleteArchiveRequest = [3, n0, _DAR, 0, [_AN], [0]];\nvar DeleteArchiveResponse = [3, n0, _DARe, 0, [], []];\nvar DeleteConnectionRequest = [3, n0, _DCRel, 0, [_N], [0]];\nvar DeleteConnectionResponse = [\n    3,\n    n0,\n    _DCRele,\n    0,\n    [_CA, _CS, _CT, _LMT, _LAT],\n    [0, 0, 4, 4, 4],\n];\nvar DeleteEndpointRequest = [3, n0, _DER, 0, [_N], [0]];\nvar DeleteEndpointResponse = [3, n0, _DERe, 0, [], []];\nvar DeleteEventBusRequest = [3, n0, _DEBR, 0, [_N], [0]];\nvar DeletePartnerEventSourceRequest = [3, n0, _DPESR, 0, [_N, _Ac], [0, 0]];\nvar DeleteRuleRequest = [3, n0, _DRR, 0, [_N, _EBN, _F], [0, 0, 2]];\nvar DescribeApiDestinationRequest = [3, n0, _DADRes, 0, [_N], [0]];\nvar DescribeApiDestinationResponse = [\n    3,\n    n0,\n    _DADResc,\n    0,\n    [_ADA, _N, _D, _ADS, _CA, _IE, _HM, _IRLPS, _CT, _LMT],\n    [0, 0, 0, 0, 0, 0, 0, 1, 4, 4],\n];\nvar DescribeArchiveRequest = [3, n0, _DARes, 0, [_AN], [0]];\nvar DescribeArchiveResponse = [\n    3,\n    n0,\n    _DAResc,\n    0,\n    [_AA, _AN, _ESA, _D, _EP, _St, _SR, _KKI, _RD, _SB, _EC, _CT],\n    [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 4],\n];\nvar DescribeConnectionConnectivityParameters = [\n    3,\n    n0,\n    _DCCP,\n    0,\n    [_RP],\n    [() => DescribeConnectionResourceParameters],\n];\nvar DescribeConnectionRequest = [3, n0, _DCRes, 0, [_N], [0]];\nvar DescribeConnectionResourceParameters = [3, n0, _DCRP, 0, [_RCA, _RAA], [0, 0]];\nvar DescribeConnectionResponse = [\n    3,\n    n0,\n    _DCResc,\n    0,\n    [_CA, _N, _D, _ICP, _CS, _SR, _AT, _SA, _KKI, _APu, _CT, _LMT, _LAT],\n    [\n        0,\n        0,\n        0,\n        () => DescribeConnectionConnectivityParameters,\n        0,\n        0,\n        0,\n        0,\n        0,\n        [() => ConnectionAuthResponseParameters, 0],\n        4,\n        4,\n        4,\n    ],\n];\nvar DescribeEndpointRequest = [3, n0, _DERes, 0, [_N, _HR], [0, 0]];\nvar DescribeEndpointResponse = [\n    3,\n    n0,\n    _DEResc,\n    0,\n    [_N, _D, _Ar, _RC, _RCe, _EB, _RAo, _EI, _EU, _St, _SR, _CT, _LMT],\n    [0, 0, 0, () => RoutingConfig, () => ReplicationConfig, () => EndpointEventBusList, 0, 0, 0, 0, 0, 4, 4],\n];\nvar DescribeEventBusRequest = [3, n0, _DEBRe, 0, [_N], [0]];\nvar DescribeEventBusResponse = [\n    3,\n    n0,\n    _DEBRes,\n    0,\n    [_N, _Ar, _D, _KKI, _DLC, _Po, _LC, _CT, _LMT],\n    [0, 0, 0, 0, () => DeadLetterConfig, 0, () => LogConfig, 4, 4],\n];\nvar DescribeEventSourceRequest = [3, n0, _DESRe, 0, [_N], [0]];\nvar DescribeEventSourceResponse = [\n    3,\n    n0,\n    _DESRes,\n    0,\n    [_Ar, _CB, _CT, _ET, _N, _St],\n    [0, 0, 4, 4, 0, 0],\n];\nvar DescribePartnerEventSourceRequest = [3, n0, _DPESRe, 0, [_N], [0]];\nvar DescribePartnerEventSourceResponse = [3, n0, _DPESRes, 0, [_Ar, _N], [0, 0]];\nvar DescribeReplayRequest = [3, n0, _DRRe, 0, [_RN], [0]];\nvar DescribeReplayResponse = [\n    3,\n    n0,\n    _DRRes,\n    0,\n    [_RN, _RA, _D, _St, _SR, _ESA, _De, _EST, _EET, _ELRT, _RST, _RET],\n    [0, 0, 0, 0, 0, 0, () => ReplayDestination, 4, 4, 4, 4, 4],\n];\nvar DescribeRuleRequest = [3, n0, _DRResc, 0, [_N, _EBN], [0, 0]];\nvar DescribeRuleResponse = [\n    3,\n    n0,\n    _DRRescr,\n    0,\n    [_N, _Ar, _EP, _SE, _St, _D, _RAo, _MB, _EBN, _CB],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n];\nvar DisableRuleRequest = [3, n0, _DRRi, 0, [_N, _EBN], [0, 0]];\nvar EcsParameters = [\n    3,\n    n0,\n    _EPc,\n    0,\n    [_TDA, _TC, _LT, _NC, _PV, _G, _CPS, _EECSMT, _EEC, _PC, _PS, _PT, _RI, _Ta],\n    [\n        0,\n        1,\n        0,\n        () => NetworkConfiguration,\n        0,\n        0,\n        () => CapacityProviderStrategy,\n        2,\n        2,\n        () => PlacementConstraints,\n        () => PlacementStrategies,\n        0,\n        0,\n        () => TagList,\n    ],\n];\nvar EnableRuleRequest = [3, n0, _ERR, 0, [_N, _EBN], [0, 0]];\nvar Endpoint = [\n    3,\n    n0,\n    _E,\n    0,\n    [_N, _D, _Ar, _RC, _RCe, _EB, _RAo, _EI, _EU, _St, _SR, _CT, _LMT],\n    [0, 0, 0, () => RoutingConfig, () => ReplicationConfig, () => EndpointEventBusList, 0, 0, 0, 0, 0, 4, 4],\n];\nvar EndpointEventBus = [3, n0, _EEB, 0, [_EBA], [0]];\nvar EventBus = [3, n0, _EBv, 0, [_N, _Ar, _D, _Po, _CT, _LMT], [0, 0, 0, 0, 4, 4]];\nvar EventSource = [3, n0, _ES, 0, [_Ar, _CB, _CT, _ET, _N, _St], [0, 0, 4, 4, 0, 0]];\nvar FailoverConfig = [3, n0, _FC, 0, [_Pr, _Se], [() => Primary, () => Secondary]];\nvar HttpParameters = [3, n0, _HPt, 0, [_PPV, _HP, _QSP], [64 | 0, 128 | 0, 128 | 0]];\nvar IllegalStatusException = [\n    -3,\n    n0,\n    _ISE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(IllegalStatusException, IllegalStatusException$1);\nvar InputTransformer = [3, n0, _IT, 0, [_IPM, _ITn], [128 | 0, 0]];\nvar InternalException = [\n    -3,\n    n0,\n    _IEn,\n    {\n        [_e]: _s,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(InternalException, InternalException$1);\nvar InvalidEventPatternException = [\n    -3,\n    n0,\n    _IEPE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(InvalidEventPatternException, InvalidEventPatternException$1);\nvar InvalidStateException = [\n    -3,\n    n0,\n    _ISEn,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(InvalidStateException, InvalidStateException$1);\nvar KinesisParameters = [3, n0, _KP, 0, [_PKP], [0]];\nvar LimitExceededException = [\n    -3,\n    n0,\n    _LEE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(LimitExceededException, LimitExceededException$1);\nvar ListApiDestinationsRequest = [3, n0, _LADR, 0, [_NP, _CA, _NT, _L], [0, 0, 0, 1]];\nvar ListApiDestinationsResponse = [\n    3,\n    n0,\n    _LADRi,\n    0,\n    [_ADp, _NT],\n    [() => ApiDestinationResponseList, 0],\n];\nvar ListArchivesRequest = [3, n0, _LAR, 0, [_NP, _ESA, _St, _NT, _L], [0, 0, 0, 0, 1]];\nvar ListArchivesResponse = [3, n0, _LARi, 0, [_Arc, _NT], [() => ArchiveResponseList, 0]];\nvar ListConnectionsRequest = [3, n0, _LCR, 0, [_NP, _CS, _NT, _L], [0, 0, 0, 1]];\nvar ListConnectionsResponse = [\n    3,\n    n0,\n    _LCRi,\n    0,\n    [_Con, _NT],\n    [() => ConnectionResponseList, 0],\n];\nvar ListEndpointsRequest = [3, n0, _LER, 0, [_NP, _HR, _NT, _MR], [0, 0, 0, 1]];\nvar ListEndpointsResponse = [3, n0, _LERi, 0, [_En, _NT], [() => EndpointList, 0]];\nvar ListEventBusesRequest = [3, n0, _LEBR, 0, [_NP, _NT, _L], [0, 0, 1]];\nvar ListEventBusesResponse = [3, n0, _LEBRi, 0, [_EB, _NT], [() => EventBusList, 0]];\nvar ListEventSourcesRequest = [3, n0, _LESR, 0, [_NP, _NT, _L], [0, 0, 1]];\nvar ListEventSourcesResponse = [\n    3,\n    n0,\n    _LESRi,\n    0,\n    [_ESv, _NT],\n    [() => EventSourceList, 0],\n];\nvar ListPartnerEventSourceAccountsRequest = [\n    3,\n    n0,\n    _LPESAR,\n    0,\n    [_ESN, _NT, _L],\n    [0, 0, 1],\n];\nvar ListPartnerEventSourceAccountsResponse = [\n    3,\n    n0,\n    _LPESARi,\n    0,\n    [_PESA, _NT],\n    [() => PartnerEventSourceAccountList, 0],\n];\nvar ListPartnerEventSourcesRequest = [3, n0, _LPESR, 0, [_NP, _NT, _L], [0, 0, 1]];\nvar ListPartnerEventSourcesResponse = [\n    3,\n    n0,\n    _LPESRi,\n    0,\n    [_PES, _NT],\n    [() => PartnerEventSourceList, 0],\n];\nvar ListReplaysRequest = [3, n0, _LRR, 0, [_NP, _St, _ESA, _NT, _L], [0, 0, 0, 0, 1]];\nvar ListReplaysResponse = [3, n0, _LRRi, 0, [_R, _NT], [() => ReplayList, 0]];\nvar ListRuleNamesByTargetRequest = [\n    3,\n    n0,\n    _LRNBTR,\n    0,\n    [_TA, _EBN, _NT, _L],\n    [0, 0, 0, 1],\n];\nvar ListRuleNamesByTargetResponse = [3, n0, _LRNBTRi, 0, [_RNu, _NT], [64 | 0, 0]];\nvar ListRulesRequest = [3, n0, _LRRis, 0, [_NP, _EBN, _NT, _L], [0, 0, 0, 1]];\nvar ListRulesResponse = [3, n0, _LRRist, 0, [_Ru, _NT], [() => RuleResponseList, 0]];\nvar ListTagsForResourceRequest = [3, n0, _LTFRR, 0, [_RARN], [0]];\nvar ListTagsForResourceResponse = [3, n0, _LTFRRi, 0, [_Ta], [() => TagList]];\nvar ListTargetsByRuleRequest = [3, n0, _LTBRR, 0, [_Rul, _EBN, _NT, _L], [0, 0, 0, 1]];\nvar ListTargetsByRuleResponse = [\n    3,\n    n0,\n    _LTBRRi,\n    0,\n    [_Tar, _NT],\n    [[() => TargetList, 0], 0],\n];\nvar LogConfig = [3, n0, _LC, 0, [_ID, _Le], [0, 0]];\nvar ManagedRuleException = [\n    -3,\n    n0,\n    _MRE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(ManagedRuleException, ManagedRuleException$1);\nvar NetworkConfiguration = [3, n0, _NC, 0, [_aC], [() => AwsVpcConfiguration]];\nvar OperationDisabledException = [\n    -3,\n    n0,\n    _ODE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(OperationDisabledException, OperationDisabledException$1);\nvar PartnerEventSource = [3, n0, _PESa, 0, [_Ar, _N], [0, 0]];\nvar PartnerEventSourceAccount = [3, n0, _PESAa, 0, [_Ac, _CT, _ET, _St], [0, 4, 4, 0]];\nvar PlacementConstraint = [3, n0, _PCl, 0, [_t, _ex], [0, 0]];\nvar PlacementStrategy = [3, n0, _PS, 0, [_t, _f], [0, 0]];\nvar PolicyLengthExceededException = [\n    -3,\n    n0,\n    _PLEE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(PolicyLengthExceededException, PolicyLengthExceededException$1);\nvar Primary = [3, n0, _Pr, 0, [_HC], [0]];\nvar PutEventsRequest = [\n    3,\n    n0,\n    _PER,\n    0,\n    [_Ent, _EI],\n    [() => PutEventsRequestEntryList, 0],\n];\nvar PutEventsRequestEntry = [\n    3,\n    n0,\n    _PERE,\n    0,\n    [_Ti, _So, _Re, _DT, _Det, _EBN, _TH],\n    [4, 0, 64 | 0, 0, 0, 0, 0],\n];\nvar PutEventsResponse = [\n    3,\n    n0,\n    _PERu,\n    0,\n    [_FEC, _Ent],\n    [1, () => PutEventsResultEntryList],\n];\nvar PutEventsResultEntry = [3, n0, _PEREu, 0, [_EIv, _ECr, _EM], [0, 0, 0]];\nvar PutPartnerEventsRequest = [\n    3,\n    n0,\n    _PPER,\n    0,\n    [_Ent],\n    [() => PutPartnerEventsRequestEntryList],\n];\nvar PutPartnerEventsRequestEntry = [\n    3,\n    n0,\n    _PPERE,\n    0,\n    [_Ti, _So, _Re, _DT, _Det],\n    [4, 0, 64 | 0, 0, 0],\n];\nvar PutPartnerEventsResponse = [\n    3,\n    n0,\n    _PPERu,\n    0,\n    [_FEC, _Ent],\n    [1, () => PutPartnerEventsResultEntryList],\n];\nvar PutPartnerEventsResultEntry = [3, n0, _PPEREu, 0, [_EIv, _ECr, _EM], [0, 0, 0]];\nvar PutPermissionRequest = [\n    3,\n    n0,\n    _PPR,\n    0,\n    [_EBN, _Act, _Pri, _SI, _C, _Po],\n    [0, 0, 0, 0, () => Condition, 0],\n];\nvar PutRuleRequest = [\n    3,\n    n0,\n    _PRR,\n    0,\n    [_N, _SE, _EP, _St, _D, _RAo, _Ta, _EBN],\n    [0, 0, 0, 0, 0, 0, () => TagList, 0],\n];\nvar PutRuleResponse = [3, n0, _PRRu, 0, [_RAu], [0]];\nvar PutTargetsRequest = [\n    3,\n    n0,\n    _PTR,\n    0,\n    [_Rul, _EBN, _Tar],\n    [0, 0, [() => TargetList, 0]],\n];\nvar PutTargetsResponse = [\n    3,\n    n0,\n    _PTRu,\n    0,\n    [_FEC, _FE],\n    [1, () => PutTargetsResultEntryList],\n];\nvar PutTargetsResultEntry = [3, n0, _PTRE, 0, [_TI, _ECr, _EM], [0, 0, 0]];\nvar RedshiftDataParameters = [\n    3,\n    n0,\n    _RDP,\n    0,\n    [_SMA, _Da, _DU, _S, _SN, _WE, _Sq],\n    [0, 0, 0, [() => Sql, 0], 0, 2, [() => Sqls, 0]],\n];\nvar RemovePermissionRequest = [3, n0, _RPR, 0, [_SI, _RAP, _EBN], [0, 2, 0]];\nvar RemoveTargetsRequest = [3, n0, _RTR, 0, [_Rul, _EBN, _I, _F], [0, 0, 64 | 0, 2]];\nvar RemoveTargetsResponse = [\n    3,\n    n0,\n    _RTRe,\n    0,\n    [_FEC, _FE],\n    [1, () => RemoveTargetsResultEntryList],\n];\nvar RemoveTargetsResultEntry = [3, n0, _RTRE, 0, [_TI, _ECr, _EM], [0, 0, 0]];\nvar Replay = [\n    3,\n    n0,\n    _Rep,\n    0,\n    [_RN, _ESA, _St, _SR, _EST, _EET, _ELRT, _RST, _RET],\n    [0, 0, 0, 0, 4, 4, 4, 4, 4],\n];\nvar ReplayDestination = [3, n0, _RDe, 0, [_Ar, _FA], [0, 64 | 0]];\nvar ReplicationConfig = [3, n0, _RCe, 0, [_St], [0]];\nvar ResourceAlreadyExistsException = [\n    -3,\n    n0,\n    _RAEE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(ResourceAlreadyExistsException, ResourceAlreadyExistsException$1);\nvar ResourceNotFoundException = [\n    -3,\n    n0,\n    _RNFE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(ResourceNotFoundException, ResourceNotFoundException$1);\nvar RetryPolicy = [3, n0, _RPe, 0, [_MRA, _MEAIS], [1, 1]];\nvar RoutingConfig = [3, n0, _RC, 0, [_FC], [() => FailoverConfig]];\nvar Rule = [\n    3,\n    n0,\n    _Rul,\n    0,\n    [_N, _Ar, _EP, _St, _D, _SE, _RAo, _MB, _EBN],\n    [0, 0, 0, 0, 0, 0, 0, 0, 0],\n];\nvar RunCommandParameters = [3, n0, _RCP, 0, [_RCT], [() => RunCommandTargets]];\nvar RunCommandTarget = [3, n0, _RCTu, 0, [_K, _Va], [0, 64 | 0]];\nvar SageMakerPipelineParameter = [3, n0, _SMPP, 0, [_N, _V], [0, 0]];\nvar SageMakerPipelineParameters = [\n    3,\n    n0,\n    _SMPPa,\n    0,\n    [_PPL],\n    [() => SageMakerPipelineParameterList],\n];\nvar Secondary = [3, n0, _Se, 0, [_Ro], [0]];\nvar SqsParameters = [3, n0, _SP, 0, [_MGI], [0]];\nvar StartReplayRequest = [\n    3,\n    n0,\n    _SRR,\n    0,\n    [_RN, _D, _ESA, _EST, _EET, _De],\n    [0, 0, 0, 4, 4, () => ReplayDestination],\n];\nvar StartReplayResponse = [3, n0, _SRRt, 0, [_RA, _St, _SR, _RST], [0, 0, 0, 4]];\nvar Tag = [3, n0, _Tag, 0, [_K, _V], [0, 0]];\nvar TagResourceRequest = [3, n0, _TRR, 0, [_RARN, _Ta], [0, () => TagList]];\nvar TagResourceResponse = [3, n0, _TRRa, 0, [], []];\nvar Target = [\n    3,\n    n0,\n    _Targ,\n    0,\n    [_Id, _Ar, _RAo, _In, _IP, _IT, _KP, _RCP, _EPc, _BP, _SP, _HPt, _RDP, _SMPPa, _DLC, _RPe, _ASP],\n    [\n        0,\n        0,\n        0,\n        0,\n        0,\n        () => InputTransformer,\n        () => KinesisParameters,\n        () => RunCommandParameters,\n        () => EcsParameters,\n        () => BatchParameters,\n        () => SqsParameters,\n        () => HttpParameters,\n        [() => RedshiftDataParameters, 0],\n        () => SageMakerPipelineParameters,\n        () => DeadLetterConfig,\n        () => RetryPolicy,\n        [() => AppSyncParameters, 0],\n    ],\n];\nvar TestEventPatternRequest = [3, n0, _TEPR, 0, [_EP, _Ev], [0, 0]];\nvar TestEventPatternResponse = [3, n0, _TEPRe, 0, [_Res], [2]];\nvar ThrottlingException = [\n    -3,\n    n0,\n    _TE,\n    {\n        [_e]: _c,\n    },\n    [_m],\n    [0],\n];\nschema.TypeRegistry.for(n0).registerError(ThrottlingException, ThrottlingException$1);\nvar UntagResourceRequest = [3, n0, _URR, 0, [_RARN, _TK], [0, 64 | 0]];\nvar UntagResourceResponse = [3, n0, _URRn, 0, [], []];\nvar UpdateApiDestinationRequest = [\n    3,\n    n0,\n    _UADR,\n    0,\n    [_N, _D, _CA, _IE, _HM, _IRLPS],\n    [0, 0, 0, 0, 0, 1],\n];\nvar UpdateApiDestinationResponse = [\n    3,\n    n0,\n    _UADRp,\n    0,\n    [_ADA, _ADS, _CT, _LMT],\n    [0, 0, 4, 4],\n];\nvar UpdateArchiveRequest = [3, n0, _UAR, 0, [_AN, _D, _EP, _RD, _KKI], [0, 0, 0, 1, 0]];\nvar UpdateArchiveResponse = [3, n0, _UARp, 0, [_AA, _St, _SR, _CT], [0, 0, 0, 4]];\nvar UpdateConnectionApiKeyAuthRequestParameters = [\n    3,\n    n0,\n    _UCAKARP,\n    0,\n    [_AKN, _AKV],\n    [0, [() => AuthHeaderParametersSensitive, 0]],\n];\nvar UpdateConnectionAuthRequestParameters = [\n    3,\n    n0,\n    _UCARP,\n    0,\n    [_BAPa, _OAP, _AKAP, _IHP, _CP],\n    [\n        [() => UpdateConnectionBasicAuthRequestParameters, 0],\n        [() => UpdateConnectionOAuthRequestParameters, 0],\n        [() => UpdateConnectionApiKeyAuthRequestParameters, 0],\n        [() => ConnectionHttpParameters, 0],\n        () => ConnectivityResourceParameters,\n    ],\n];\nvar UpdateConnectionBasicAuthRequestParameters = [\n    3,\n    n0,\n    _UCBARP,\n    0,\n    [_U, _P],\n    [0, [() => AuthHeaderParametersSensitive, 0]],\n];\nvar UpdateConnectionOAuthClientRequestParameters = [\n    3,\n    n0,\n    _UCOACRP,\n    0,\n    [_CID, _CSl],\n    [0, [() => AuthHeaderParametersSensitive, 0]],\n];\nvar UpdateConnectionOAuthRequestParameters = [\n    3,\n    n0,\n    _UCOARP,\n    0,\n    [_CPl, _AE, _HM, _OAHP],\n    [[() => UpdateConnectionOAuthClientRequestParameters, 0], 0, 0, [() => ConnectionHttpParameters, 0]],\n];\nvar UpdateConnectionRequest = [\n    3,\n    n0,\n    _UCR,\n    0,\n    [_N, _D, _AT, _APu, _ICP, _KKI],\n    [0, 0, 0, [() => UpdateConnectionAuthRequestParameters, 0], () => ConnectivityResourceParameters, 0],\n];\nvar UpdateConnectionResponse = [\n    3,\n    n0,\n    _UCRp,\n    0,\n    [_CA, _CS, _CT, _LMT, _LAT],\n    [0, 0, 4, 4, 4],\n];\nvar UpdateEndpointRequest = [\n    3,\n    n0,\n    _UER,\n    0,\n    [_N, _D, _RC, _RCe, _EB, _RAo],\n    [0, 0, () => RoutingConfig, () => ReplicationConfig, () => EndpointEventBusList, 0],\n];\nvar UpdateEndpointResponse = [\n    3,\n    n0,\n    _UERp,\n    0,\n    [_N, _Ar, _RC, _RCe, _EB, _RAo, _EI, _EU, _St],\n    [0, 0, () => RoutingConfig, () => ReplicationConfig, () => EndpointEventBusList, 0, 0, 0, 0],\n];\nvar UpdateEventBusRequest = [\n    3,\n    n0,\n    _UEBR,\n    0,\n    [_N, _KKI, _D, _DLC, _LC],\n    [0, 0, 0, () => DeadLetterConfig, () => LogConfig],\n];\nvar UpdateEventBusResponse = [\n    3,\n    n0,\n    _UEBRp,\n    0,\n    [_Ar, _N, _KKI, _D, _DLC, _LC],\n    [0, 0, 0, 0, () => DeadLetterConfig, () => LogConfig],\n];\nvar __Unit = \"unit\";\nvar EventBridgeServiceException = [-3, _sm, \"EventBridgeServiceException\", 0, [], []];\nschema.TypeRegistry.for(_sm).registerError(EventBridgeServiceException, EventBridgeServiceException$1);\nvar ApiDestinationResponseList = [1, n0, _ADRL, 0, () => ApiDestination];\nvar ArchiveResponseList = [1, n0, _ARL, 0, () => Archive];\nvar CapacityProviderStrategy = [1, n0, _CPS, 0, () => CapacityProviderStrategyItem];\nvar ConnectionBodyParametersList = [1, n0, _CBPL, 0, [() => ConnectionBodyParameter, 0]];\nvar ConnectionHeaderParametersList = [1, n0, _CHPL, 0, [() => ConnectionHeaderParameter, 0]];\nvar ConnectionQueryStringParametersList = [\n    1,\n    n0,\n    _CQSPL,\n    0,\n    [() => ConnectionQueryStringParameter, 0],\n];\nvar ConnectionResponseList = [1, n0, _CRL, 0, () => Connection];\nvar EndpointEventBusList = [1, n0, _EEBL, 0, () => EndpointEventBus];\nvar EndpointList = [1, n0, _EL, 0, () => Endpoint];\nvar EventBusList = [1, n0, _EBL, 0, () => EventBus];\nvar EventSourceList = [1, n0, _ESL, 0, () => EventSource];\nvar PartnerEventSourceAccountList = [1, n0, _PESAL, 0, () => PartnerEventSourceAccount];\nvar PartnerEventSourceList = [1, n0, _PESL, 0, () => PartnerEventSource];\nvar PlacementConstraints = [1, n0, _PC, 0, () => PlacementConstraint];\nvar PlacementStrategies = [1, n0, _PSl, 0, () => PlacementStrategy];\nvar PutEventsRequestEntryList = [1, n0, _PEREL, 0, () => PutEventsRequestEntry];\nvar PutEventsResultEntryList = [1, n0, _PERELu, 0, () => PutEventsResultEntry];\nvar PutPartnerEventsRequestEntryList = [1, n0, _PPEREL, 0, () => PutPartnerEventsRequestEntry];\nvar PutPartnerEventsResultEntryList = [1, n0, _PPERELu, 0, () => PutPartnerEventsResultEntry];\nvar PutTargetsResultEntryList = [1, n0, _PTREL, 0, () => PutTargetsResultEntry];\nvar RemoveTargetsResultEntryList = [1, n0, _RTREL, 0, () => RemoveTargetsResultEntry];\nvar ReplayList = [1, n0, _RL, 0, () => Replay];\nvar RuleResponseList = [1, n0, _RRL, 0, () => Rule];\nvar RunCommandTargets = [1, n0, _RCT, 0, () => RunCommandTarget];\nvar SageMakerPipelineParameterList = [1, n0, _SMPPL, 0, () => SageMakerPipelineParameter];\nvar Sqls = [1, n0, _Sq, 8, [() => Sql, 0]];\nvar TagList = [1, n0, _TL, 0, () => Tag];\nvar TargetList = [1, n0, _TLa, 0, [() => Target, 0]];\nvar ActivateEventSource = [\n    9,\n    n0,\n    _AES,\n    0,\n    () => ActivateEventSourceRequest,\n    () => __Unit,\n];\nvar CancelReplay = [9, n0, _CR, 0, () => CancelReplayRequest, () => CancelReplayResponse];\nvar CreateApiDestination = [\n    9,\n    n0,\n    _CAD,\n    0,\n    () => CreateApiDestinationRequest,\n    () => CreateApiDestinationResponse,\n];\nvar CreateArchive = [\n    9,\n    n0,\n    _CAr,\n    0,\n    () => CreateArchiveRequest,\n    () => CreateArchiveResponse,\n];\nvar CreateConnection = [\n    9,\n    n0,\n    _CC,\n    0,\n    () => CreateConnectionRequest,\n    () => CreateConnectionResponse,\n];\nvar CreateEndpoint = [\n    9,\n    n0,\n    _CE,\n    0,\n    () => CreateEndpointRequest,\n    () => CreateEndpointResponse,\n];\nvar CreateEventBus = [\n    9,\n    n0,\n    _CEB,\n    0,\n    () => CreateEventBusRequest,\n    () => CreateEventBusResponse,\n];\nvar CreatePartnerEventSource = [\n    9,\n    n0,\n    _CPES,\n    0,\n    () => CreatePartnerEventSourceRequest,\n    () => CreatePartnerEventSourceResponse,\n];\nvar DeactivateEventSource = [\n    9,\n    n0,\n    _DES,\n    0,\n    () => DeactivateEventSourceRequest,\n    () => __Unit,\n];\nvar DeauthorizeConnection = [\n    9,\n    n0,\n    _DC,\n    0,\n    () => DeauthorizeConnectionRequest,\n    () => DeauthorizeConnectionResponse,\n];\nvar DeleteApiDestination = [\n    9,\n    n0,\n    _DAD,\n    0,\n    () => DeleteApiDestinationRequest,\n    () => DeleteApiDestinationResponse,\n];\nvar DeleteArchive = [\n    9,\n    n0,\n    _DA,\n    0,\n    () => DeleteArchiveRequest,\n    () => DeleteArchiveResponse,\n];\nvar DeleteConnection = [\n    9,\n    n0,\n    _DCe,\n    0,\n    () => DeleteConnectionRequest,\n    () => DeleteConnectionResponse,\n];\nvar DeleteEndpoint = [\n    9,\n    n0,\n    _DE,\n    0,\n    () => DeleteEndpointRequest,\n    () => DeleteEndpointResponse,\n];\nvar DeleteEventBus = [9, n0, _DEB, 0, () => DeleteEventBusRequest, () => __Unit];\nvar DeletePartnerEventSource = [\n    9,\n    n0,\n    _DPES,\n    0,\n    () => DeletePartnerEventSourceRequest,\n    () => __Unit,\n];\nvar DeleteRule = [9, n0, _DR, 0, () => DeleteRuleRequest, () => __Unit];\nvar DescribeApiDestination = [\n    9,\n    n0,\n    _DADe,\n    0,\n    () => DescribeApiDestinationRequest,\n    () => DescribeApiDestinationResponse,\n];\nvar DescribeArchive = [\n    9,\n    n0,\n    _DAe,\n    0,\n    () => DescribeArchiveRequest,\n    () => DescribeArchiveResponse,\n];\nvar DescribeConnection = [\n    9,\n    n0,\n    _DCes,\n    0,\n    () => DescribeConnectionRequest,\n    () => DescribeConnectionResponse,\n];\nvar DescribeEndpoint = [\n    9,\n    n0,\n    _DEe,\n    0,\n    () => DescribeEndpointRequest,\n    () => DescribeEndpointResponse,\n];\nvar DescribeEventBus = [\n    9,\n    n0,\n    _DEBe,\n    0,\n    () => DescribeEventBusRequest,\n    () => DescribeEventBusResponse,\n];\nvar DescribeEventSource = [\n    9,\n    n0,\n    _DESe,\n    0,\n    () => DescribeEventSourceRequest,\n    () => DescribeEventSourceResponse,\n];\nvar DescribePartnerEventSource = [\n    9,\n    n0,\n    _DPESe,\n    0,\n    () => DescribePartnerEventSourceRequest,\n    () => DescribePartnerEventSourceResponse,\n];\nvar DescribeReplay = [\n    9,\n    n0,\n    _DRe,\n    0,\n    () => DescribeReplayRequest,\n    () => DescribeReplayResponse,\n];\nvar DescribeRule = [\n    9,\n    n0,\n    _DRes,\n    0,\n    () => DescribeRuleRequest,\n    () => DescribeRuleResponse,\n];\nvar DisableRule = [9, n0, _DRi, 0, () => DisableRuleRequest, () => __Unit];\nvar EnableRule = [9, n0, _ER, 0, () => EnableRuleRequest, () => __Unit];\nvar ListApiDestinations = [\n    9,\n    n0,\n    _LAD,\n    0,\n    () => ListApiDestinationsRequest,\n    () => ListApiDestinationsResponse,\n];\nvar ListArchives = [9, n0, _LA, 0, () => ListArchivesRequest, () => ListArchivesResponse];\nvar ListConnections = [\n    9,\n    n0,\n    _LCi,\n    0,\n    () => ListConnectionsRequest,\n    () => ListConnectionsResponse,\n];\nvar ListEndpoints = [\n    9,\n    n0,\n    _LE,\n    0,\n    () => ListEndpointsRequest,\n    () => ListEndpointsResponse,\n];\nvar ListEventBuses = [\n    9,\n    n0,\n    _LEB,\n    0,\n    () => ListEventBusesRequest,\n    () => ListEventBusesResponse,\n];\nvar ListEventSources = [\n    9,\n    n0,\n    _LES,\n    0,\n    () => ListEventSourcesRequest,\n    () => ListEventSourcesResponse,\n];\nvar ListPartnerEventSourceAccounts = [\n    9,\n    n0,\n    _LPESA,\n    0,\n    () => ListPartnerEventSourceAccountsRequest,\n    () => ListPartnerEventSourceAccountsResponse,\n];\nvar ListPartnerEventSources = [\n    9,\n    n0,\n    _LPES,\n    0,\n    () => ListPartnerEventSourcesRequest,\n    () => ListPartnerEventSourcesResponse,\n];\nvar ListReplays = [9, n0, _LR, 0, () => ListReplaysRequest, () => ListReplaysResponse];\nvar ListRuleNamesByTarget = [\n    9,\n    n0,\n    _LRNBT,\n    0,\n    () => ListRuleNamesByTargetRequest,\n    () => ListRuleNamesByTargetResponse,\n];\nvar ListRules = [9, n0, _LRi, 0, () => ListRulesRequest, () => ListRulesResponse];\nvar ListTagsForResource = [\n    9,\n    n0,\n    _LTFR,\n    0,\n    () => ListTagsForResourceRequest,\n    () => ListTagsForResourceResponse,\n];\nvar ListTargetsByRule = [\n    9,\n    n0,\n    _LTBR,\n    0,\n    () => ListTargetsByRuleRequest,\n    () => ListTargetsByRuleResponse,\n];\nvar PutEvents = [9, n0, _PE, 0, () => PutEventsRequest, () => PutEventsResponse];\nvar PutPartnerEvents = [\n    9,\n    n0,\n    _PPE,\n    0,\n    () => PutPartnerEventsRequest,\n    () => PutPartnerEventsResponse,\n];\nvar PutPermission = [9, n0, _PP, 0, () => PutPermissionRequest, () => __Unit];\nvar PutRule = [9, n0, _PR, 0, () => PutRuleRequest, () => PutRuleResponse];\nvar PutTargets = [9, n0, _PTu, 0, () => PutTargetsRequest, () => PutTargetsResponse];\nvar RemovePermission = [9, n0, _RPem, 0, () => RemovePermissionRequest, () => __Unit];\nvar RemoveTargets = [\n    9,\n    n0,\n    _RT,\n    0,\n    () => RemoveTargetsRequest,\n    () => RemoveTargetsResponse,\n];\nvar StartReplay = [9, n0, _SRt, 0, () => StartReplayRequest, () => StartReplayResponse];\nvar TagResource = [9, n0, _TR, 0, () => TagResourceRequest, () => TagResourceResponse];\nvar TestEventPattern = [\n    9,\n    n0,\n    _TEP,\n    0,\n    () => TestEventPatternRequest,\n    () => TestEventPatternResponse,\n];\nvar UntagResource = [\n    9,\n    n0,\n    _UR,\n    0,\n    () => UntagResourceRequest,\n    () => UntagResourceResponse,\n];\nvar UpdateApiDestination = [\n    9,\n    n0,\n    _UAD,\n    0,\n    () => UpdateApiDestinationRequest,\n    () => UpdateApiDestinationResponse,\n];\nvar UpdateArchive = [\n    9,\n    n0,\n    _UA,\n    0,\n    () => UpdateArchiveRequest,\n    () => UpdateArchiveResponse,\n];\nvar UpdateConnection = [\n    9,\n    n0,\n    _UC,\n    0,\n    () => UpdateConnectionRequest,\n    () => UpdateConnectionResponse,\n];\nvar UpdateEndpoint = [\n    9,\n    n0,\n    _UE,\n    0,\n    () => UpdateEndpointRequest,\n    () => UpdateEndpointResponse,\n];\nvar UpdateEventBus = [\n    9,\n    n0,\n    _UEB,\n    0,\n    () => UpdateEventBusRequest,\n    () => UpdateEventBusResponse,\n];\n\nclass ActivateEventSourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ActivateEventSource\", {})\n    .n(\"EventBridgeClient\", \"ActivateEventSourceCommand\")\n    .sc(ActivateEventSource)\n    .build() {\n}\n\nclass CancelReplayCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CancelReplay\", {})\n    .n(\"EventBridgeClient\", \"CancelReplayCommand\")\n    .sc(CancelReplay)\n    .build() {\n}\n\nclass CreateApiDestinationCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CreateApiDestination\", {})\n    .n(\"EventBridgeClient\", \"CreateApiDestinationCommand\")\n    .sc(CreateApiDestination)\n    .build() {\n}\n\nclass CreateArchiveCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CreateArchive\", {})\n    .n(\"EventBridgeClient\", \"CreateArchiveCommand\")\n    .sc(CreateArchive)\n    .build() {\n}\n\nclass CreateConnectionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CreateConnection\", {})\n    .n(\"EventBridgeClient\", \"CreateConnectionCommand\")\n    .sc(CreateConnection)\n    .build() {\n}\n\nclass CreateEndpointCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CreateEndpoint\", {})\n    .n(\"EventBridgeClient\", \"CreateEndpointCommand\")\n    .sc(CreateEndpoint)\n    .build() {\n}\n\nclass CreateEventBusCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CreateEventBus\", {})\n    .n(\"EventBridgeClient\", \"CreateEventBusCommand\")\n    .sc(CreateEventBus)\n    .build() {\n}\n\nclass CreatePartnerEventSourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"CreatePartnerEventSource\", {})\n    .n(\"EventBridgeClient\", \"CreatePartnerEventSourceCommand\")\n    .sc(CreatePartnerEventSource)\n    .build() {\n}\n\nclass DeactivateEventSourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeactivateEventSource\", {})\n    .n(\"EventBridgeClient\", \"DeactivateEventSourceCommand\")\n    .sc(DeactivateEventSource)\n    .build() {\n}\n\nclass DeauthorizeConnectionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeauthorizeConnection\", {})\n    .n(\"EventBridgeClient\", \"DeauthorizeConnectionCommand\")\n    .sc(DeauthorizeConnection)\n    .build() {\n}\n\nclass DeleteApiDestinationCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeleteApiDestination\", {})\n    .n(\"EventBridgeClient\", \"DeleteApiDestinationCommand\")\n    .sc(DeleteApiDestination)\n    .build() {\n}\n\nclass DeleteArchiveCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeleteArchive\", {})\n    .n(\"EventBridgeClient\", \"DeleteArchiveCommand\")\n    .sc(DeleteArchive)\n    .build() {\n}\n\nclass DeleteConnectionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeleteConnection\", {})\n    .n(\"EventBridgeClient\", \"DeleteConnectionCommand\")\n    .sc(DeleteConnection)\n    .build() {\n}\n\nclass DeleteEndpointCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeleteEndpoint\", {})\n    .n(\"EventBridgeClient\", \"DeleteEndpointCommand\")\n    .sc(DeleteEndpoint)\n    .build() {\n}\n\nclass DeleteEventBusCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeleteEventBus\", {})\n    .n(\"EventBridgeClient\", \"DeleteEventBusCommand\")\n    .sc(DeleteEventBus)\n    .build() {\n}\n\nclass DeletePartnerEventSourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeletePartnerEventSource\", {})\n    .n(\"EventBridgeClient\", \"DeletePartnerEventSourceCommand\")\n    .sc(DeletePartnerEventSource)\n    .build() {\n}\n\nclass DeleteRuleCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DeleteRule\", {})\n    .n(\"EventBridgeClient\", \"DeleteRuleCommand\")\n    .sc(DeleteRule)\n    .build() {\n}\n\nclass DescribeApiDestinationCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeApiDestination\", {})\n    .n(\"EventBridgeClient\", \"DescribeApiDestinationCommand\")\n    .sc(DescribeApiDestination)\n    .build() {\n}\n\nclass DescribeArchiveCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeArchive\", {})\n    .n(\"EventBridgeClient\", \"DescribeArchiveCommand\")\n    .sc(DescribeArchive)\n    .build() {\n}\n\nclass DescribeConnectionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeConnection\", {})\n    .n(\"EventBridgeClient\", \"DescribeConnectionCommand\")\n    .sc(DescribeConnection)\n    .build() {\n}\n\nclass DescribeEndpointCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeEndpoint\", {})\n    .n(\"EventBridgeClient\", \"DescribeEndpointCommand\")\n    .sc(DescribeEndpoint)\n    .build() {\n}\n\nclass DescribeEventBusCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeEventBus\", {})\n    .n(\"EventBridgeClient\", \"DescribeEventBusCommand\")\n    .sc(DescribeEventBus)\n    .build() {\n}\n\nclass DescribeEventSourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeEventSource\", {})\n    .n(\"EventBridgeClient\", \"DescribeEventSourceCommand\")\n    .sc(DescribeEventSource)\n    .build() {\n}\n\nclass DescribePartnerEventSourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribePartnerEventSource\", {})\n    .n(\"EventBridgeClient\", \"DescribePartnerEventSourceCommand\")\n    .sc(DescribePartnerEventSource)\n    .build() {\n}\n\nclass DescribeReplayCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeReplay\", {})\n    .n(\"EventBridgeClient\", \"DescribeReplayCommand\")\n    .sc(DescribeReplay)\n    .build() {\n}\n\nclass DescribeRuleCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DescribeRule\", {})\n    .n(\"EventBridgeClient\", \"DescribeRuleCommand\")\n    .sc(DescribeRule)\n    .build() {\n}\n\nclass DisableRuleCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"DisableRule\", {})\n    .n(\"EventBridgeClient\", \"DisableRuleCommand\")\n    .sc(DisableRule)\n    .build() {\n}\n\nclass EnableRuleCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"EnableRule\", {})\n    .n(\"EventBridgeClient\", \"EnableRuleCommand\")\n    .sc(EnableRule)\n    .build() {\n}\n\nclass ListApiDestinationsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListApiDestinations\", {})\n    .n(\"EventBridgeClient\", \"ListApiDestinationsCommand\")\n    .sc(ListApiDestinations)\n    .build() {\n}\n\nclass ListArchivesCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListArchives\", {})\n    .n(\"EventBridgeClient\", \"ListArchivesCommand\")\n    .sc(ListArchives)\n    .build() {\n}\n\nclass ListConnectionsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListConnections\", {})\n    .n(\"EventBridgeClient\", \"ListConnectionsCommand\")\n    .sc(ListConnections)\n    .build() {\n}\n\nclass ListEndpointsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListEndpoints\", {})\n    .n(\"EventBridgeClient\", \"ListEndpointsCommand\")\n    .sc(ListEndpoints)\n    .build() {\n}\n\nclass ListEventBusesCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListEventBuses\", {})\n    .n(\"EventBridgeClient\", \"ListEventBusesCommand\")\n    .sc(ListEventBuses)\n    .build() {\n}\n\nclass ListEventSourcesCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListEventSources\", {})\n    .n(\"EventBridgeClient\", \"ListEventSourcesCommand\")\n    .sc(ListEventSources)\n    .build() {\n}\n\nclass ListPartnerEventSourceAccountsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListPartnerEventSourceAccounts\", {})\n    .n(\"EventBridgeClient\", \"ListPartnerEventSourceAccountsCommand\")\n    .sc(ListPartnerEventSourceAccounts)\n    .build() {\n}\n\nclass ListPartnerEventSourcesCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListPartnerEventSources\", {})\n    .n(\"EventBridgeClient\", \"ListPartnerEventSourcesCommand\")\n    .sc(ListPartnerEventSources)\n    .build() {\n}\n\nclass ListReplaysCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListReplays\", {})\n    .n(\"EventBridgeClient\", \"ListReplaysCommand\")\n    .sc(ListReplays)\n    .build() {\n}\n\nclass ListRuleNamesByTargetCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListRuleNamesByTarget\", {})\n    .n(\"EventBridgeClient\", \"ListRuleNamesByTargetCommand\")\n    .sc(ListRuleNamesByTarget)\n    .build() {\n}\n\nclass ListRulesCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListRules\", {})\n    .n(\"EventBridgeClient\", \"ListRulesCommand\")\n    .sc(ListRules)\n    .build() {\n}\n\nclass ListTagsForResourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListTagsForResource\", {})\n    .n(\"EventBridgeClient\", \"ListTagsForResourceCommand\")\n    .sc(ListTagsForResource)\n    .build() {\n}\n\nclass ListTargetsByRuleCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"ListTargetsByRule\", {})\n    .n(\"EventBridgeClient\", \"ListTargetsByRuleCommand\")\n    .sc(ListTargetsByRule)\n    .build() {\n}\n\nclass PutEventsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep({\n    ...commonParams,\n    EndpointId: { type: \"contextParams\", name: \"EndpointId\" },\n})\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"PutEvents\", {})\n    .n(\"EventBridgeClient\", \"PutEventsCommand\")\n    .sc(PutEvents)\n    .build() {\n}\n\nclass PutPartnerEventsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"PutPartnerEvents\", {})\n    .n(\"EventBridgeClient\", \"PutPartnerEventsCommand\")\n    .sc(PutPartnerEvents)\n    .build() {\n}\n\nclass PutPermissionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"PutPermission\", {})\n    .n(\"EventBridgeClient\", \"PutPermissionCommand\")\n    .sc(PutPermission)\n    .build() {\n}\n\nclass PutRuleCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"PutRule\", {})\n    .n(\"EventBridgeClient\", \"PutRuleCommand\")\n    .sc(PutRule)\n    .build() {\n}\n\nclass PutTargetsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"PutTargets\", {})\n    .n(\"EventBridgeClient\", \"PutTargetsCommand\")\n    .sc(PutTargets)\n    .build() {\n}\n\nclass RemovePermissionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"RemovePermission\", {})\n    .n(\"EventBridgeClient\", \"RemovePermissionCommand\")\n    .sc(RemovePermission)\n    .build() {\n}\n\nclass RemoveTargetsCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"RemoveTargets\", {})\n    .n(\"EventBridgeClient\", \"RemoveTargetsCommand\")\n    .sc(RemoveTargets)\n    .build() {\n}\n\nclass StartReplayCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"StartReplay\", {})\n    .n(\"EventBridgeClient\", \"StartReplayCommand\")\n    .sc(StartReplay)\n    .build() {\n}\n\nclass TagResourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"TagResource\", {})\n    .n(\"EventBridgeClient\", \"TagResourceCommand\")\n    .sc(TagResource)\n    .build() {\n}\n\nclass TestEventPatternCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"TestEventPattern\", {})\n    .n(\"EventBridgeClient\", \"TestEventPatternCommand\")\n    .sc(TestEventPattern)\n    .build() {\n}\n\nclass UntagResourceCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"UntagResource\", {})\n    .n(\"EventBridgeClient\", \"UntagResourceCommand\")\n    .sc(UntagResource)\n    .build() {\n}\n\nclass UpdateApiDestinationCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"UpdateApiDestination\", {})\n    .n(\"EventBridgeClient\", \"UpdateApiDestinationCommand\")\n    .sc(UpdateApiDestination)\n    .build() {\n}\n\nclass UpdateArchiveCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"UpdateArchive\", {})\n    .n(\"EventBridgeClient\", \"UpdateArchiveCommand\")\n    .sc(UpdateArchive)\n    .build() {\n}\n\nclass UpdateConnectionCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"UpdateConnection\", {})\n    .n(\"EventBridgeClient\", \"UpdateConnectionCommand\")\n    .sc(UpdateConnection)\n    .build() {\n}\n\nclass UpdateEndpointCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"UpdateEndpoint\", {})\n    .n(\"EventBridgeClient\", \"UpdateEndpointCommand\")\n    .sc(UpdateEndpoint)\n    .build() {\n}\n\nclass UpdateEventBusCommand extends smithyClient.Command\n    .classBuilder()\n    .ep(commonParams)\n    .m(function (Command, cs, config, o) {\n    return [middlewareEndpoint.getEndpointPlugin(config, Command.getEndpointParameterInstructions())];\n})\n    .s(\"AWSEvents\", \"UpdateEventBus\", {})\n    .n(\"EventBridgeClient\", \"UpdateEventBusCommand\")\n    .sc(UpdateEventBus)\n    .build() {\n}\n\nconst commands = {\n    ActivateEventSourceCommand,\n    CancelReplayCommand,\n    CreateApiDestinationCommand,\n    CreateArchiveCommand,\n    CreateConnectionCommand,\n    CreateEndpointCommand,\n    CreateEventBusCommand,\n    CreatePartnerEventSourceCommand,\n    DeactivateEventSourceCommand,\n    DeauthorizeConnectionCommand,\n    DeleteApiDestinationCommand,\n    DeleteArchiveCommand,\n    DeleteConnectionCommand,\n    DeleteEndpointCommand,\n    DeleteEventBusCommand,\n    DeletePartnerEventSourceCommand,\n    DeleteRuleCommand,\n    DescribeApiDestinationCommand,\n    DescribeArchiveCommand,\n    DescribeConnectionCommand,\n    DescribeEndpointCommand,\n    DescribeEventBusCommand,\n    DescribeEventSourceCommand,\n    DescribePartnerEventSourceCommand,\n    DescribeReplayCommand,\n    DescribeRuleCommand,\n    DisableRuleCommand,\n    EnableRuleCommand,\n    ListApiDestinationsCommand,\n    ListArchivesCommand,\n    ListConnectionsCommand,\n    ListEndpointsCommand,\n    ListEventBusesCommand,\n    ListEventSourcesCommand,\n    ListPartnerEventSourceAccountsCommand,\n    ListPartnerEventSourcesCommand,\n    ListReplaysCommand,\n    ListRuleNamesByTargetCommand,\n    ListRulesCommand,\n    ListTagsForResourceCommand,\n    ListTargetsByRuleCommand,\n    PutEventsCommand,\n    PutPartnerEventsCommand,\n    PutPermissionCommand,\n    PutRuleCommand,\n    PutTargetsCommand,\n    RemovePermissionCommand,\n    RemoveTargetsCommand,\n    StartReplayCommand,\n    TagResourceCommand,\n    TestEventPatternCommand,\n    UntagResourceCommand,\n    UpdateApiDestinationCommand,\n    UpdateArchiveCommand,\n    UpdateConnectionCommand,\n    UpdateEndpointCommand,\n    UpdateEventBusCommand,\n};\nclass EventBridge extends EventBridgeClient {\n}\nsmithyClient.createAggregatedClient(commands, EventBridge);\n\nObject.defineProperty(exports, \"$Command\", {\n    enumerable: true,\n    get: function () { return smithyClient.Command; }\n});\nObject.defineProperty(exports, \"__Client\", {\n    enumerable: true,\n    get: function () { return smithyClient.Client; }\n});\nexports.AccessDeniedException = AccessDeniedException$1;\nexports.ActivateEventSourceCommand = ActivateEventSourceCommand;\nexports.ApiDestinationHttpMethod = ApiDestinationHttpMethod;\nexports.ApiDestinationState = ApiDestinationState;\nexports.ArchiveState = ArchiveState;\nexports.AssignPublicIp = AssignPublicIp;\nexports.CancelReplayCommand = CancelReplayCommand;\nexports.ConcurrentModificationException = ConcurrentModificationException$1;\nexports.ConnectionAuthorizationType = ConnectionAuthorizationType;\nexports.ConnectionOAuthHttpMethod = ConnectionOAuthHttpMethod;\nexports.ConnectionState = ConnectionState;\nexports.CreateApiDestinationCommand = CreateApiDestinationCommand;\nexports.CreateArchiveCommand = CreateArchiveCommand;\nexports.CreateConnectionCommand = CreateConnectionCommand;\nexports.CreateEndpointCommand = CreateEndpointCommand;\nexports.CreateEventBusCommand = CreateEventBusCommand;\nexports.CreatePartnerEventSourceCommand = CreatePartnerEventSourceCommand;\nexports.DeactivateEventSourceCommand = DeactivateEventSourceCommand;\nexports.DeauthorizeConnectionCommand = DeauthorizeConnectionCommand;\nexports.DeleteApiDestinationCommand = DeleteApiDestinationCommand;\nexports.DeleteArchiveCommand = DeleteArchiveCommand;\nexports.DeleteConnectionCommand = DeleteConnectionCommand;\nexports.DeleteEndpointCommand = DeleteEndpointCommand;\nexports.DeleteEventBusCommand = DeleteEventBusCommand;\nexports.DeletePartnerEventSourceCommand = DeletePartnerEventSourceCommand;\nexports.DeleteRuleCommand = DeleteRuleCommand;\nexports.DescribeApiDestinationCommand = DescribeApiDestinationCommand;\nexports.DescribeArchiveCommand = DescribeArchiveCommand;\nexports.DescribeConnectionCommand = DescribeConnectionCommand;\nexports.DescribeEndpointCommand = DescribeEndpointCommand;\nexports.DescribeEventBusCommand = DescribeEventBusCommand;\nexports.DescribeEventSourceCommand = DescribeEventSourceCommand;\nexports.DescribePartnerEventSourceCommand = DescribePartnerEventSourceCommand;\nexports.DescribeReplayCommand = DescribeReplayCommand;\nexports.DescribeRuleCommand = DescribeRuleCommand;\nexports.DisableRuleCommand = DisableRuleCommand;\nexports.EnableRuleCommand = EnableRuleCommand;\nexports.EndpointState = EndpointState;\nexports.EventBridge = EventBridge;\nexports.EventBridgeClient = EventBridgeClient;\nexports.EventBridgeServiceException = EventBridgeServiceException$1;\nexports.EventSourceState = EventSourceState;\nexports.IllegalStatusException = IllegalStatusException$1;\nexports.IncludeDetail = IncludeDetail;\nexports.InternalException = InternalException$1;\nexports.InvalidEventPatternException = InvalidEventPatternException$1;\nexports.InvalidStateException = InvalidStateException$1;\nexports.LaunchType = LaunchType;\nexports.Level = Level;\nexports.LimitExceededException = LimitExceededException$1;\nexports.ListApiDestinationsCommand = ListApiDestinationsCommand;\nexports.ListArchivesCommand = ListArchivesCommand;\nexports.ListConnectionsCommand = ListConnectionsCommand;\nexports.ListEndpointsCommand = ListEndpointsCommand;\nexports.ListEventBusesCommand = ListEventBusesCommand;\nexports.ListEventSourcesCommand = ListEventSourcesCommand;\nexports.ListPartnerEventSourceAccountsCommand = ListPartnerEventSourceAccountsCommand;\nexports.ListPartnerEventSourcesCommand = ListPartnerEventSourcesCommand;\nexports.ListReplaysCommand = ListReplaysCommand;\nexports.ListRuleNamesByTargetCommand = ListRuleNamesByTargetCommand;\nexports.ListRulesCommand = ListRulesCommand;\nexports.ListTagsForResourceCommand = ListTagsForResourceCommand;\nexports.ListTargetsByRuleCommand = ListTargetsByRuleCommand;\nexports.ManagedRuleException = ManagedRuleException$1;\nexports.OperationDisabledException = OperationDisabledException$1;\nexports.PlacementConstraintType = PlacementConstraintType;\nexports.PlacementStrategyType = PlacementStrategyType;\nexports.PolicyLengthExceededException = PolicyLengthExceededException$1;\nexports.PropagateTags = PropagateTags;\nexports.PutEventsCommand = PutEventsCommand;\nexports.PutPartnerEventsCommand = PutPartnerEventsCommand;\nexports.PutPermissionCommand = PutPermissionCommand;\nexports.PutRuleCommand = PutRuleCommand;\nexports.PutTargetsCommand = PutTargetsCommand;\nexports.RemovePermissionCommand = RemovePermissionCommand;\nexports.RemoveTargetsCommand = RemoveTargetsCommand;\nexports.ReplayState = ReplayState;\nexports.ReplicationState = ReplicationState;\nexports.ResourceAlreadyExistsException = ResourceAlreadyExistsException$1;\nexports.ResourceNotFoundException = ResourceNotFoundException$1;\nexports.RuleState = RuleState;\nexports.StartReplayCommand = StartReplayCommand;\nexports.TagResourceCommand = TagResourceCommand;\nexports.TestEventPatternCommand = TestEventPatternCommand;\nexports.ThrottlingException = ThrottlingException$1;\nexports.UntagResourceCommand = UntagResourceCommand;\nexports.UpdateApiDestinationCommand = UpdateApiDestinationCommand;\nexports.UpdateArchiveCommand = UpdateArchiveCommand;\nexports.UpdateConnectionCommand = UpdateConnectionCommand;\nexports.UpdateEndpointCommand = UpdateEndpointCommand;\nexports.UpdateEventBusCommand = UpdateEventBusCommand;\n", "/**\n * Lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    asyncTag = '[object AsyncFunction]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    nullTag = '[object Null]',\n    objectTag = '[object Object]',\n    proxyTag = '[object Proxy]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    undefinedTag = '[object Undefined]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice,\n    symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeMax = Math.max,\n    nativeNow = Date.now;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\n/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\n/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\n/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\n/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = merge;\n", "export default 'ffffffff-ffff-ffff-ffff-ffffffffffff';", "export default '00000000-0000-0000-0000-000000000000';", "export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;", "import REGEX from './regex.js';\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\nexport default validate;", "import validate from './validate.js';\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  let v;\n  const arr = new Uint8Array(16);\n\n  // Parse ########-....-....-....-............\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff;\n\n  // Parse ........-####-....-....-............\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff;\n\n  // Parse ........-....-####-....-............\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff;\n\n  // Parse ........-....-....-####-............\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff;\n\n  // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\nexport default parse;", "import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;", "import crypto from 'node:crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}", "import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\nlet _clockseq;\n\n// Previous uuid creation time\nlet _lastMSecs = 0;\nlet _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node;\n  let clockseq = options.clockseq;\n\n  // v1 only: Use cached `node` and `clockseq` values\n  if (!options._v6) {\n    if (!node) {\n      node = _nodeId;\n    }\n    if (clockseq == null) {\n      clockseq = _clockseq;\n    }\n  }\n\n  // Handle cases where we need entropy.  We do this lazily to minimize issues\n  // related to insufficient system entropy.  See #189\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || rng)();\n\n    // Randomize node\n    if (node == null) {\n      node = [seedBytes[0], seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n\n      // v1 only: cache node value for reuse\n      if (!_nodeId && !options._v6) {\n        // per RFC4122 4.5: Set MAC multicast bit (v1 only)\n        node[0] |= 0x01; // Set multicast bit\n\n        _nodeId = node;\n      }\n    }\n\n    // Randomize clockseq\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n      if (_clockseq === undefined && !options._v6) {\n        _clockseq = clockseq;\n      }\n    }\n  }\n\n  // v1 & v6 timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so time is\n  // handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n  return buf || unsafeStringify(b);\n}\nexport default v1;", "import parse from './parse.js';\nimport { unsafeStringify } from './stringify.js';\n\n/**\n * Convert a v1 UUID to a v6 UUID\n *\n * @param {string|Uint8Array} uuid - The v1 UUID to convert to v6\n * @returns {string|Uint8Array} The v6 UUID as the same type as the `uuid` arg\n * (string or Uint8Array)\n */\nexport default function v1ToV6(uuid) {\n  const v1Bytes = typeof uuid === 'string' ? parse(uuid) : uuid;\n  const v6Bytes = _v1ToV6(v1Bytes);\n  return typeof uuid === 'string' ? unsafeStringify(v6Bytes) : v6Bytes;\n}\n\n// Do the field transformation needed for v1 -> v6\nfunction _v1ToV6(v1Bytes, randomize = false) {\n  return Uint8Array.of((v1Bytes[6] & 0x0f) << 4 | v1Bytes[7] >> 4 & 0x0f, (v1Bytes[7] & 0x0f) << 4 | (v1Bytes[4] & 0xf0) >> 4, (v1Bytes[4] & 0x0f) << 4 | (v1Bytes[5] & 0xf0) >> 4, (v1Bytes[5] & 0x0f) << 4 | (v1Bytes[0] & 0xf0) >> 4, (v1Bytes[0] & 0x0f) << 4 | (v1Bytes[1] & 0xf0) >> 4, (v1Bytes[1] & 0x0f) << 4 | (v1Bytes[2] & 0xf0) >> 4, 0x60 | v1Bytes[2] & 0x0f, v1Bytes[3], v1Bytes[8], v1Bytes[9], v1Bytes[10], v1Bytes[11], v1Bytes[12], v1Bytes[13], v1Bytes[14], v1Bytes[15]);\n}", "import { unsafeStringify } from './stringify.js';\nimport parse from './parse.js';\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n  return bytes;\n}\nexport const DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport const URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    }\n\n    // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n    if (buf) {\n      offset = offset || 0;\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n      return buf;\n    }\n    return unsafeStringify(bytes);\n  }\n\n  // Function#name is not settable on some platforms (#270)\n  try {\n    generateUUID.name = name;\n  } catch (err) {}\n\n  // For CommonJS default export support\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}", "import crypto from 'node:crypto';\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return crypto.createHash('md5').update(bytes).digest();\n}\nexport default md5;", "import v35 from './v35.js';\nimport md5 from './md5.js';\nconst v3 = v35('v3', 0x30, md5);\nexport default v3;", "import crypto from 'node:crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};", "import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;", "import crypto from 'node:crypto';\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return crypto.createHash('sha1').update(bytes).digest();\n}\nexport default sha1;", "import v35 from './v35.js';\nimport sha1 from './sha1.js';\nconst v5 = v35('v5', 0x50, sha1);\nexport default v5;", "import { unsafeStringify } from './stringify.js';\nimport v1 from './v1.js';\nimport v1ToV6 from './v1ToV6.js';\n\n/**\n *\n * @param {object} options\n * @param {Uint8Array=} buf\n * @param {number=} offset\n * @returns\n */\nexport default function v6(options = {}, buf, offset = 0) {\n  // v6 is v1 with different field layout, so we start with a v1 UUID, albeit\n  // with slightly different behavior around how the clock_seq and node fields\n  // are randomized, which is why we call v1 with _v6: true.\n  let bytes = v1({\n    ...options,\n    _v6: true\n  }, new Uint8Array(16));\n\n  // Reorder the fields to v6 layout.\n  bytes = v1ToV6(bytes);\n\n  // Return as a byte array if requested\n  if (buf) {\n    for (let i = 0; i < 16; i++) {\n      buf[offset + i] = bytes[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(bytes);\n}", "import parse from './parse.js';\nimport { unsafeStringify } from './stringify.js';\n\n/**\n * Convert a v6 UUID to a v1 UUID\n *\n * @param {string|Uint8Array} uuid - The v6 UUID to convert to v6\n * @returns {string|Uint8Array} The v1 UUID as the same type as the `uuid` arg\n * (string or Uint8Array)\n */\nexport default function v6ToV1(uuid) {\n  const v6Bytes = typeof uuid === 'string' ? parse(uuid) : uuid;\n  const v1Bytes = _v6ToV1(v6Bytes);\n  return typeof uuid === 'string' ? unsafeStringify(v1Bytes) : v1Bytes;\n}\n\n// Do the field transformation needed for v6 -> v1\nfunction _v6ToV1(v6Bytes) {\n  return Uint8Array.of((v6Bytes[3] & 0x0f) << 4 | v6Bytes[4] >> 4 & 0x0f, (v6Bytes[4] & 0x0f) << 4 | (v6Bytes[5] & 0xf0) >> 4, (v6Bytes[5] & 0x0f) << 4 | v6Bytes[6] & 0x0f, v6Bytes[7], (v6Bytes[1] & 0x0f) << 4 | (v6Bytes[2] & 0xf0) >> 4, (v6Bytes[2] & 0x0f) << 4 | (v6Bytes[3] & 0xf0) >> 4, 0x10 | (v6Bytes[0] & 0xf0) >> 4, (v6Bytes[0] & 0x0f) << 4 | (v6Bytes[1] & 0xf0) >> 4, v6Bytes[8], v6Bytes[9], v6Bytes[10], v6Bytes[11], v6Bytes[12], v6Bytes[13], v6Bytes[14], v6Bytes[15]);\n}", "import rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\n/**\n * UUID V7 - Unix Epoch time-based UUID\n *\n * The IETF has published RFC9562, introducing 3 new UUID versions (6,7,8). This\n * implementation of V7 is based on the accepted, though not yet approved,\n * revisions.\n *\n * RFC 9562:https://www.rfc-editor.org/rfc/rfc9562.html Universally Unique\n * IDentifiers (UUIDs)\n\n *\n * Sample V7 value:\n * https://www.rfc-editor.org/rfc/rfc9562.html#name-example-of-a-uuidv7-value\n *\n * Monotonic Bit Layout: RFC rfc9562.6.2 Method 1, Dedicated Counter Bits ref:\n *     https://www.rfc-editor.org/rfc/rfc9562.html#section-6.2-5.1\n *\n *   0                   1                   2                   3 0 1 2 3 4 5 6\n *   7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                          unix_ts_ms                           |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |          unix_ts_ms           |  ver  |        seq_hi         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |var|               seq_low               |        rand         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                             rand                              |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *\n * seq is a 31 bit serialized counter; comprised of 12 bit seq_hi and 19 bit\n * seq_low, and randomly initialized upon timestamp change. 31 bit counter size\n * was selected as any bitwise operations in node are done as _signed_ 32 bit\n * ints. we exclude the sign bit.\n */\n\nlet _seqLow = null;\nlet _seqHigh = null;\nlet _msecs = 0;\nfunction v7(options, buf, offset) {\n  options = options || {};\n\n  // initialize buffer and pointer\n  let i = buf && offset || 0;\n  const b = buf || new Uint8Array(16);\n\n  // rnds is Uint8Array(16) filled with random bytes\n  const rnds = options.random || (options.rng || rng)();\n\n  // milliseconds since unix epoch, 1970-01-01 00:00\n  const msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // seq is user provided 31 bit counter\n  let seq = options.seq !== undefined ? options.seq : null;\n\n  // initialize local seq high/low parts\n  let seqHigh = _seqHigh;\n  let seqLow = _seqLow;\n\n  // check if clock has advanced and user has not provided msecs\n  if (msecs > _msecs && options.msecs === undefined) {\n    _msecs = msecs;\n\n    // unless user provided seq, reset seq parts\n    if (seq !== null) {\n      seqHigh = null;\n      seqLow = null;\n    }\n  }\n\n  // if we have a user provided seq\n  if (seq !== null) {\n    // trim provided seq to 31 bits of value, avoiding overflow\n    if (seq > 0x7fffffff) {\n      seq = 0x7fffffff;\n    }\n\n    // split provided seq into high/low parts\n    seqHigh = seq >>> 19 & 0xfff;\n    seqLow = seq & 0x7ffff;\n  }\n\n  // randomly initialize seq\n  if (seqHigh === null || seqLow === null) {\n    seqHigh = rnds[6] & 0x7f;\n    seqHigh = seqHigh << 8 | rnds[7];\n    seqLow = rnds[8] & 0x3f; // pad for var\n    seqLow = seqLow << 8 | rnds[9];\n    seqLow = seqLow << 5 | rnds[10] >>> 3;\n  }\n\n  // increment seq if within msecs window\n  if (msecs + 10000 > _msecs && seq === null) {\n    if (++seqLow > 0x7ffff) {\n      seqLow = 0;\n      if (++seqHigh > 0xfff) {\n        seqHigh = 0;\n\n        // increment internal _msecs. this allows us to continue incrementing\n        // while staying monotonic. Note, once we hit 10k milliseconds beyond system\n        // clock, we will reset breaking monotonicity (after (2^31)*10000 generations)\n        _msecs++;\n      }\n    }\n  } else {\n    // resetting; we have advanced more than\n    // 10k milliseconds beyond system clock\n    _msecs = msecs;\n  }\n  _seqHigh = seqHigh;\n  _seqLow = seqLow;\n\n  // [bytes 0-5] 48 bits of local timestamp\n  b[i++] = _msecs / 0x10000000000 & 0xff;\n  b[i++] = _msecs / 0x100000000 & 0xff;\n  b[i++] = _msecs / 0x1000000 & 0xff;\n  b[i++] = _msecs / 0x10000 & 0xff;\n  b[i++] = _msecs / 0x100 & 0xff;\n  b[i++] = _msecs & 0xff;\n\n  // [byte 6] - set 4 bits of version (7) with first 4 bits seq_hi\n  b[i++] = seqHigh >>> 4 & 0x0f | 0x70;\n\n  // [byte 7] remaining 8 bits of seq_hi\n  b[i++] = seqHigh & 0xff;\n\n  // [byte 8] - variant (2 bits), first 6 bits seq_low\n  b[i++] = seqLow >>> 13 & 0x3f | 0x80;\n\n  // [byte 9] 8 bits seq_low\n  b[i++] = seqLow >>> 5 & 0xff;\n\n  // [byte 10] remaining 5 bits seq_low, 3 bits random\n  b[i++] = seqLow << 3 & 0xff | rnds[10] & 0x07;\n\n  // [bytes 11-15] always random\n  b[i++] = rnds[11];\n  b[i++] = rnds[12];\n  b[i++] = rnds[13];\n  b[i++] = rnds[14];\n  b[i++] = rnds[15];\n  return buf || unsafeStringify(b);\n}\nexport default v7;", "import validate from './validate.js';\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  return parseInt(uuid.slice(14, 15), 16);\n}\nexport default version;", "export { default as MAX } from './max.js';\nexport { default as NIL } from './nil.js';\nexport { default as parse } from './parse.js';\nexport { default as stringify } from './stringify.js';\nexport { default as v1 } from './v1.js';\nexport { default as v1ToV6 } from './v1ToV6.js';\nexport { default as v3 } from './v3.js';\nexport { default as v4 } from './v4.js';\nexport { default as v5 } from './v5.js';\nexport { default as v6 } from './v6.js';\nexport { default as v6ToV1 } from './v6ToV1.js';\nexport { default as v7 } from './v7.js';\nexport { default as validate } from './validate.js';\nexport { default as version } from './version.js';", "'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n", "'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n", "/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n", "\"use strict\";\nvar validLogLevels = ['debug', 'info', 'warn', 'error', 'silent'];\nvar defaultLogLevel = validLogLevels.indexOf('error');\nvar logLevel = calculateLogLevel(process.env.AWS_XRAY_DEBUG_MODE ? 'debug' : process.env.AWS_XRAY_LOG_LEVEL);\nvar logger = {\n    error: createLoggerForLevel('error'),\n    info: createLoggerForLevel('info'),\n    warn: createLoggerForLevel('warn'),\n    debug: createLoggerForLevel('debug'),\n};\nfunction createLoggerForLevel(level) {\n    var loggerLevel = validLogLevels.indexOf(level);\n    var consoleMethod = console[level] || console.log || (() => { });\n    if (loggerLevel >= logLevel) {\n        return (message, meta) => {\n            if (message || meta) {\n                consoleMethod(formatLogMessage(level, message, meta));\n            }\n        };\n    }\n    else {\n        return () => { };\n    }\n}\nfunction calculateLogLevel(level) {\n    if (level) {\n        var normalisedLevel = level.toLowerCase();\n        var index = validLogLevels.indexOf(normalisedLevel);\n        return index >= 0 ? index : defaultLogLevel;\n    }\n    // Silently ignore invalid log levels, default to default level\n    return defaultLogLevel;\n}\nfunction createTimestamp(date) {\n    var tzo = -date.getTimezoneOffset(), // Negate to make this tzo = local - UTC\n    dif = tzo >= 0 ? '+' : '-', pad = function (num) {\n        var norm = Math.floor(Math.abs(num));\n        return (norm < 10 ? '0' : '') + norm;\n    };\n    return new Date(date.getTime() + (tzo * 60 * 1000)).toISOString()\n        .replace(/T/, ' ')\n        .replace(/Z/, ' ') +\n        dif + pad(tzo / 60) +\n        ':' + pad(tzo % 60);\n}\nfunction isLambdaFunction() {\n    return process.env.LAMBDA_TASK_ROOT !== undefined;\n}\nfunction formatLogMessage(level, message, meta) {\n    var messageParts = [];\n    if (!isLambdaFunction()) {\n        messageParts.push(createTimestamp(new Date()));\n        messageParts.push(`[${level.toUpperCase()}]`);\n    }\n    if (message) {\n        messageParts.push(message);\n    }\n    var logString = messageParts.join(' ');\n    var metaDataString = formatMetaData(meta);\n    return [logString, metaDataString].filter(str => str.length > 0).join('\\n  ');\n}\nfunction formatMetaData(meta) {\n    if (!meta) {\n        return '';\n    }\n    return ((typeof (meta) === 'string') ? meta : JSON.stringify(meta));\n}\nvar logging = {\n    setLogger: function setLogger(logObj) {\n        logger = logObj;\n    },\n    getLogger: function getLogger() {\n        return logger;\n    }\n};\nmodule.exports = logging;\n", "\"use strict\";\nconst crypto = require('crypto');\n/**\n * Represents a captured exception.\n * @constructor\n * @param {Exception} err - The exception to capture.\n * @param {boolean} [remote] - Flag for whether the error was remote.\n */\nfunction CapturedException(err, remote) {\n    this.init(err, remote);\n}\nCapturedException.prototype.init = function init(err, remote) {\n    var e = (typeof err === 'string' || err instanceof String) ? { message: err, name: '' } : err;\n    this.message = e.message;\n    this.type = e.name;\n    this.stack = [];\n    this.remote = !!remote;\n    this.id = crypto.randomBytes(8).toString('hex');\n    if (e.stack) {\n        var stack = e.stack.split('\\n');\n        stack.shift();\n        stack.forEach((stackline) => {\n            var line = stackline.trim().replace(/\\(|\\)/g, '');\n            line = line.substring(line.indexOf(' ') + 1);\n            var label = line.lastIndexOf(' ') >= 0 ? line.slice(0, line.lastIndexOf(' ')) : null;\n            var path = Array.isArray(label) && !label.length ? line : line.slice(line.lastIndexOf(' ') + 1);\n            path = path.split(':');\n            var entry = {\n                path: path[0],\n                line: parseInt(path[1]),\n                label: label || 'anonymous'\n            };\n            this.stack.push(entry);\n        }, this);\n    }\n};\nmodule.exports = CapturedException;\n", "module.exports = batcher\n\nfunction batcher (run) {\n  var running = false\n  var pendingBatch = null\n  var pendingCallbacks = null\n  var callbacks = null\n\n  return append\n\n  function done (err) {\n    if (callbacks) callAll(callbacks, err)\n\n    running = false\n    callbacks = pendingCallbacks\n    var nextBatch = pendingBatch\n\n    pendingBatch = null\n    pendingCallbacks = null\n\n    if (!nextBatch || !nextBatch.length) {\n      if (!callbacks || !callbacks.length) {\n        callbacks = null\n        return\n      }\n      if (!nextBatch) nextBatch = []\n    }\n\n    running = true\n    run(nextBatch, done)\n  }\n\n  function append (val, cb) {\n    if (running) {\n      if (!pendingBatch) {\n        pendingBatch = []\n        pendingCallbacks = []\n      }\n      pushAll(pendingBatch, val)\n      if (cb) pendingCallbacks.push(cb)\n    } else {\n      if (cb) callbacks = [cb]\n      running = true\n      run(Array.isArray(val) ? val : [val], done)\n    }\n  }\n}\n\nfunction pushAll (list, val) {\n  if (Array.isArray(val)) pushArray(list, val)\n  else list.push(val)\n}\n\nfunction pushArray (list, val) {\n  for (var i = 0; i < val.length; i++) list.push(val[i])\n}\n\nfunction callAll (list, err) {\n  for (var i = 0; i < list.length; i++) list[i](err)\n}\n", "\"use strict\";\nvar logger = require('./logger');\n/**\n * A module representing the X-Ray daemon configuration including the udp and tcp addresses.\n * @module DaemonConfig\n */\nvar DaemonConfig = {\n    udp_ip: '127.0.0.1',\n    udp_port: 2000,\n    tcp_ip: '127.0.0.1',\n    tcp_port: 2000,\n    setDaemonAddress: function setDaemonAddress(address) {\n        if (!process.env.AWS_XRAY_DAEMON_ADDRESS) {\n            processAddress(address);\n            logger.getLogger().info('Configured daemon address to ' + address + '.');\n        }\n        else {\n            logger.getLogger().warn('Ignoring call to setDaemonAddress as AWS_XRAY_DAEMON_ADDRESS is set. ' +\n                'The current daemon address will not be changed.');\n        }\n    }\n};\nvar processAddress = function processAddress(address) {\n    if (address.indexOf(':') === -1) {\n        throw new Error('Invalid Daemon Address. You must specify an ip and port.');\n    }\n    else {\n        var splitAddress = address.split(' ');\n        if (splitAddress.length === 1) {\n            // in format of 127.0.0.1:2000\n            if (address.indexOf('udp') > -1 || address.indexOf('tcp') > -1) {\n                throw new Error('Invalid Daemon Address. You must specify both tcp and udp addresses.');\n            }\n            var addr = address.split(':');\n            if (!addr[0]) {\n                throw new Error('Invalid Daemon Address. You must specify an ip.');\n            }\n            DaemonConfig.udp_ip = addr[0];\n            DaemonConfig.tcp_ip = addr[0];\n            DaemonConfig.udp_port = addr[1];\n            DaemonConfig.tcp_port = addr[1];\n        }\n        else if (splitAddress.length === 2) {\n            // in format of udp:127.0.0.1:2000 tcp:127.0.0.1:2001\n            var part_1 = splitAddress[0].split(':');\n            var part_2 = splitAddress[1].split(':');\n            var addr_map = {};\n            addr_map[part_1[0]] = part_1;\n            addr_map[part_2[0]] = part_2;\n            DaemonConfig.udp_ip = addr_map['udp'][1];\n            DaemonConfig.udp_port = parseInt(addr_map['udp'][2]);\n            DaemonConfig.tcp_ip = addr_map['tcp'][1];\n            DaemonConfig.tcp_port = parseInt(addr_map['tcp'][2]);\n            if (!DaemonConfig.udp_port || !DaemonConfig.tcp_port) {\n                throw new Error('Invalid Daemon Address. You must specify port number.');\n            }\n        }\n    }\n};\nif (process.env.AWS_XRAY_DAEMON_ADDRESS) {\n    processAddress(process.env.AWS_XRAY_DAEMON_ADDRESS);\n}\nmodule.exports = DaemonConfig;\n", "\"use strict\";\nvar dgram = require('dgram');\nvar batcher = require('atomic-batcher');\nvar logger = require('./logger');\nvar PROTOCOL_HEADER = '{\"format\":\"json\",\"version\":1}';\nvar PROTOCOL_DELIMITER = '\\n';\n/**\n * Sends a collection of data over a UDP socket. This method\n * is designed to be used by `atomic-batcher` as a way to share\n * a single UDP socket for sending multiple data blocks.\n *\n * @param {object} ops - Details of the data to send\n * @param {Function} callback - The function to call when done\n */\nfunction batchSendData(ops, callback) {\n    var client = dgram.createSocket('udp4');\n    executeSendData(client, ops, 0, function () {\n        try {\n            client.close();\n        }\n        finally {\n            callback();\n        }\n    });\n}\n/**\n * Execute sending data starting at the specified index and\n * using the provided client.\n *\n * @param {Socket} client - Socket to send data with\n * @param {object} ops - Details of data to send\n * @param {number} index - Starting index for sending\n * @param {Function} callback - Function to call when done\n */\nfunction executeSendData(client, ops, index, callback) {\n    if (index >= ops.length) {\n        callback();\n        return;\n    }\n    sendMessage(client, ops[index], function () {\n        executeSendData(client, ops, index + 1, callback);\n    });\n}\n/**\n * Send a single message over a UDP socket.\n *\n * @param {Socket} client - Socket to send data with\n * @param {object} data - Details of the data to send\n * @param {Function} batchCallback - Function to call when done\n */\nfunction sendMessage(client, data, batchCallback) {\n    var msg = data.msg;\n    var offset = data.offset;\n    var length = data.length;\n    var port = data.port;\n    var address = data.address;\n    var callback = data.callback;\n    client.send(msg, offset, length, port, address, function (err) {\n        try {\n            callback(err);\n        }\n        finally {\n            batchCallback();\n        }\n    });\n}\n/**\n * Class to mimic the Socket interface for a UDP client, but to provided\n * batching of outgoing sends using temporary Sockets that are created and\n * destroyed as needed.\n */\nfunction BatchingTemporarySocket() {\n    this.batchSend = batcher(batchSendData);\n}\n/**\n * Provide the same signature as the Socket.send method but the work will be\n * batched to share temporary UDP sockets whenever possible.\n */\nBatchingTemporarySocket.prototype.send = function (msg, offset, length, port, address, callback) {\n    var work = {\n        msg: msg,\n        offset: offset,\n        length: length,\n        port: port,\n        address: address,\n        callback: callback\n    };\n    this.batchSend(work);\n};\n/**\n * Segment emitter module.\n * @module SegmentEmitter\n */\nvar SegmentEmitter = {\n    daemonConfig: require('./daemon_config'),\n    /**\n     * Returns the formatted segment JSON string.\n     * @param {Segment} segment - The segment to format.\n     */\n    format: function format(segment) {\n        return PROTOCOL_HEADER + PROTOCOL_DELIMITER + segment.toString();\n    },\n    /**\n     * Creates a UDP socket connection and send the formatted segment.\n     * @param {Segment} segment - The segment to send to the daemon.\n     */\n    send: function send(segment) {\n        if (!this.socket) {\n            if (this.useBatchingTemporarySocket) {\n                this.socket = new BatchingTemporarySocket();\n            }\n            else {\n                this.socket = dgram.createSocket('udp4').unref();\n            }\n        }\n        var client = this.socket;\n        var formatted = segment.format();\n        var data = PROTOCOL_HEADER + PROTOCOL_DELIMITER + formatted;\n        var message = Buffer.from(data);\n        var short = '{\"trace_id:\"' + segment.trace_id + '\",\"id\":\"' + segment.id + '\"}';\n        var type = segment.type === 'subsegment' ? 'Subsegment' : 'Segment';\n        client.send(message, 0, message.length, this.daemonConfig.udp_port, this.daemonConfig.udp_ip, function (err) {\n            if (err) {\n                if (err.code === 'EMSGSIZE') {\n                    logger.getLogger().error(type + ' too large to send: ' + short + ' (' + message.length + ' bytes).');\n                }\n                else {\n                    logger.getLogger().error('Error occured sending segment: ', err);\n                }\n            }\n            else {\n                logger.getLogger().debug(type + ' sent: {\"trace_id:\"' + segment.trace_id + '\",\"id\":\"' + segment.id + '\"}');\n                logger.getLogger().debug('UDP message sent: ' + segment);\n            }\n        });\n    },\n    /**\n     * Configures the address and/or port the daemon is expected to be on.\n     * @param {string} address - Address of the daemon the segments should be sent to. Should be formatted as an IPv4 address.\n     * @module SegmentEmitter\n     * @function setDaemonAddress\n     */\n    setDaemonAddress: function setDaemonAddress(address) {\n        this.daemonConfig.setDaemonAddress(address);\n    },\n    /**\n     * Get the UDP IP the emitter is configured to.\n     * @module SegmentEmitter\n     * @function getIp\n     */\n    getIp: function getIp() {\n        return this.daemonConfig.udp_ip;\n    },\n    /**\n     * Get the UDP port the emitter is configured to.\n     * @module SegmentEmitter\n     * @function getPort\n     */\n    getPort: function getPort() {\n        return this.daemonConfig.udp_port;\n    },\n    /**\n     * Forces the segment emitter to create a new socket on send, and close it on complete.\n     * @module SegmentEmitter\n     * @function disableReusableSocket\n     */\n    disableReusableSocket: function () {\n        this.useBatchingTemporarySocket = true;\n    }\n};\nmodule.exports = SegmentEmitter;\n", "\"use strict\";\nvar crypto = require('crypto');\nvar logger = require('../../logger');\n/**\n * Class describing an AWS X-Ray trace ID.\n * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-traces\n */\nclass TraceID {\n    /**\n     * Constructs a new trace ID using the current time.\n     * @param {string} [tsHex] - time stamp to use for trace ID in hexadecimal format\n     * @param {string} [numberhex] - string of hexadecimal characters for random portion of Trace ID\n     * @constructor\n     */\n    constructor(tsHex, numberhex) {\n        this.version = 1;\n        this.timestamp = tsHex || Math.round(new Date().getTime() / 1000).toString(16);\n        this.id = numberhex || crypto.randomBytes(12).toString('hex');\n    }\n    /**\n     * @returns {TraceID} - a hardcoded trace ID using zeroed timestamp and random ID\n     */\n    static Invalid() {\n        return new TraceID('00000000', '000000000000000000000000');\n    }\n    /**\n     * Constructs a new trace ID from provided string. If no string is provided or the provided string is invalid,\n     * log an error but a new trace ID still returned. This can be used as a trace ID string validator.\n     * @param {string} [rawID] - string to create a Trace ID object from.\n     */\n    static FromString(rawID) {\n        const DELIMITER = '-';\n        var traceID = new TraceID();\n        var version, timestamp;\n        if (!rawID || typeof rawID !== 'string') {\n            logger.getLogger().error('Empty or non-string trace ID provided');\n            return traceID;\n        }\n        const parts = rawID.trim().split(DELIMITER);\n        if (parts.length !== 3) {\n            logger.getLogger().error('Unrecognized trace ID format');\n            return traceID;\n        }\n        version = parseInt(parts[0]);\n        if (isNaN(version) || version < 1) {\n            logger.getLogger().error('Trace ID version must be positive integer');\n            return traceID;\n        }\n        timestamp = parseInt(parts[1], 16).toString(16);\n        if (timestamp === 'NaN') {\n            logger.getLogger().error('Trace ID timestamp must be a hex-encoded value');\n            return traceID;\n        }\n        else {\n            timestamp = timestamp.padStart(8, '0');\n        }\n        traceID.version = version;\n        traceID.timestamp = timestamp;\n        traceID.id = parts[2];\n        return traceID;\n    }\n    /**\n     * Returns a string representation of the trace ID.\n     * @returns {string} - stringified trace ID, e.g. 1-57fbe041-2c7ad569f5d6ff149137be86\n     */\n    toString() {\n        return `${this.version.toString()}-${this.timestamp}-${this.id}`;\n    }\n}\nmodule.exports = TraceID;\n", "\"use strict\";\n/**\n * @module utils\n */\nvar crypto = require('crypto');\nvar logger = require('./logger');\nvar TraceID = require('./segments/attributes/trace_id');\nvar utils = {\n    /**\n     * Checks a HTTP response code, where 4xx are 'error' and 5xx are 'fault'.\n     * @param {string} status - the HTTP response status code.\n     * @returns [string] - 'error', 'fault' or nothing on no match\n     * @alias module:utils.getCauseTypeFromHttpStatus\n     */\n    getCauseTypeFromHttpStatus: function getCauseTypeFromHttpStatus(status) {\n        var stat = status.toString();\n        if (stat.match(/^[4][0-9]{2}$/) !== null) {\n            return 'error';\n        }\n        else if (stat.match(/^[5][0-9]{2}$/) !== null) {\n            return 'fault';\n        }\n    },\n    /**\n     * Removes the query string parameters from a given http request path\n     * as it may contain sensitive information\n     *\n     * Related issue: https://github.com/aws/aws-xray-sdk-node/issues/246\n     *\n     * Node documentation: https://nodejs.org/api/http.html#http_http_request_url_options_callback\n     *\n     * @param {string} path - options.path in a http.request callback\n     * @returns [string] - removes query string element from path\n     * @alias module:utils.stripQueryStringFromPath\n     */\n    stripQueryStringFromPath: function stripQueryStringFromPath(path) {\n        return path ? path.split('?')[0] : '';\n    },\n    /**\n     * Performs a case-insensitive wildcard match against two strings. This method works with pseduo-regex chars; specifically ? and * are supported.\n     *   An asterisk (*) represents any combination of characters\n     *   A question mark (?) represents any single character\n     *\n     * @param {string} pattern - the regex-like pattern to be compared against.\n     * @param {string} text - the string to compare against the pattern.\n     * @returns boolean\n     * @alias module:utils.wildcardMatch\n     */\n    wildcardMatch: function wildcardMatch(pattern, text) {\n        if (pattern === undefined || text === undefined) {\n            return false;\n        }\n        if (pattern.length === 1 && pattern.charAt(0) === '*') {\n            return true;\n        }\n        var patternLength = pattern.length;\n        var textLength = text.length;\n        var indexOfGlob = pattern.indexOf('*');\n        pattern = pattern.toLowerCase();\n        text = text.toLowerCase();\n        // Infix globs are relatively rare, and the below search is expensive especially when\n        // Balsa is used a lot. Check for infix globs and, in their absence, do the simple thing\n        if (indexOfGlob === -1 || indexOfGlob === (patternLength - 1)) {\n            var match = function simpleWildcardMatch() {\n                var j = 0;\n                for (var i = 0; i < patternLength; i++) {\n                    var patternChar = pattern.charAt(i);\n                    if (patternChar === '*') {\n                        // Presumption for this method is that globs only occur at end\n                        return true;\n                    }\n                    else if (patternChar === '?') {\n                        if (j === textLength) {\n                            return false;\n                        } // No character to match\n                        j++;\n                    }\n                    else {\n                        if (j >= textLength || patternChar != text.charAt(j)) {\n                            return false;\n                        }\n                        j++;\n                    }\n                }\n                // Ate up all the pattern and didn't end at a glob, so a match will have consumed all\n                // the text\n                return j === textLength;\n            };\n            return match();\n        }\n        /*\n         * The matchArray[i] is used to record if there is a match between the first i chars in =\n         * text and the first j chars in pattern.\n         * So will return matchArray[textLength+1] in the end\n         * Loop from the beginning of the pattern\n         * case not '*': if text[i]==pattern[j] or pattern[j] is '?', and matchArray[i] is true,\n         *   set matchArray[i+1] to true, otherwise false\n         * case '*': since '*' can match any globing, as long as there is a true in matchArray before i\n         *   all the matchArray[i+1], matchArray[i+2],...,matchArray[textLength] could be true\n        */\n        var matchArray = [];\n        matchArray[0] = true;\n        for (var j = 0; j < patternLength; j++) {\n            var i;\n            var patternChar = pattern.charAt(j);\n            if (patternChar != '*') {\n                for (i = textLength - 1; i >= 0; i--) {\n                    matchArray[i + 1] = !!matchArray[i] && (patternChar === '?' || (patternChar === text.charAt(i)));\n                }\n            }\n            else {\n                i = 0;\n                while (i <= textLength && !matchArray[i]) {\n                    i++;\n                }\n                for (i; i <= textLength; i++) {\n                    matchArray[i] = true;\n                }\n            }\n            matchArray[0] = (matchArray[0] && patternChar === '*');\n        }\n        return matchArray[textLength];\n    },\n    LambdaUtils: {\n        validTraceData: function (xAmznTraceId) {\n            var valid = false;\n            if (xAmznTraceId) {\n                var data = utils.processTraceData(xAmznTraceId);\n                valid = !!(data && data.root && data.parent && data.sampled);\n            }\n            return valid;\n        },\n        /**\n         * Populates trace ID, parent ID, and sampled decision of given segment. Will always populate valid values,\n         * even if xAmznTraceId contains missing or invalid values. This ensures downstream services receive valid\n         * headers.\n         * @param {Segment} segment - Facade segment to be populated\n         * @param {String} xAmznTraceId - Raw Trace Header to supply trace data\n         * @returns {Boolean} - true if required fields are present and Trace ID is valid, false otherwise\n         */\n        populateTraceData: function (segment, xAmznTraceId) {\n            logger.getLogger().debug('Lambda trace data found: ' + xAmznTraceId);\n            let traceData = utils.processTraceData(xAmznTraceId);\n            var valid = false;\n            if (!traceData) {\n                traceData = {};\n                logger.getLogger().error('_X_AMZN_TRACE_ID is empty or has an invalid format');\n            }\n            else if (traceData.root && !traceData.parent && !traceData.sampled) {\n                // Lambda PassThrough only has root, treat as valid in this case and mark the segment\n                segment.noOp = true;\n                valid = true;\n            }\n            else if (!traceData.root || !traceData.parent || !traceData.sampled) {\n                logger.getLogger().error('_X_AMZN_TRACE_ID is missing required information');\n            }\n            else {\n                valid = true;\n            }\n            segment.trace_id = TraceID.FromString(traceData.root).toString(); // Will always assign valid trace_id\n            segment.id = traceData.parent || crypto.randomBytes(8).toString('hex');\n            if (traceData.root && segment.trace_id !== traceData.root) {\n                logger.getLogger().error('_X_AMZN_TRACE_ID contains invalid trace ID');\n                valid = false;\n            }\n            if (!parseInt(traceData.sampled)) {\n                segment.notTraced = true;\n            }\n            else {\n                delete segment.notTraced;\n            }\n            if (traceData.data) {\n                segment.additionalTraceData = traceData.data;\n            }\n            logger.getLogger().debug('Segment started: ' + JSON.stringify(traceData));\n            return valid;\n        }\n    },\n    /**\n     * Splits out the data from the trace id format.  Used by the middleware.\n     * @param {String} traceData - The additional trace data (typically in req.headers.x-amzn-trace-id).\n     * @returns {object}\n     * @alias module:mw_utils.processTraceData\n     */\n    processTraceData: function processTraceData(traceData) {\n        var amznTraceData = {};\n        var data = {};\n        var reservedKeywords = ['root', 'parent', 'sampled', 'self'];\n        var remainingBytes = 256;\n        if (!(typeof traceData === 'string' && traceData)) {\n            return amznTraceData;\n        }\n        traceData.split(';').forEach(function (header) {\n            if (!header) {\n                return;\n            }\n            var pair = header.split('=');\n            if (pair[0] && pair[1]) {\n                let key = pair[0].trim();\n                let value = pair[1].trim();\n                let lowerCaseKey = key.toLowerCase();\n                let reserved = reservedKeywords.indexOf(lowerCaseKey) !== -1;\n                if (reserved) {\n                    amznTraceData[lowerCaseKey] = value;\n                }\n                else if (!reserved && remainingBytes - (lowerCaseKey.length + value.length) >= 0) {\n                    data[key] = value;\n                    remainingBytes -= (key.length + value.length);\n                }\n            }\n        });\n        amznTraceData['data'] = data;\n        return amznTraceData;\n    },\n    /**\n     * Makes a shallow copy of an object without given keys - keeps prototype\n     * @param {Object} obj - The object to copy\n     * @param {string[]} [keys=[]] - The keys that won't be copied\n     * @param {boolean} [preservePrototype=false] - If true also copy prototype properties\n     * @returns {}\n     */\n    objectWithoutProperties: function objectWithoutProperties(obj, keys, preservePrototype) {\n        keys = Array.isArray(keys) ? keys : [];\n        preservePrototype = typeof preservePrototype === 'boolean' ? preservePrototype : false;\n        var target = preservePrototype ? Object.create(Object.getPrototypeOf(obj)) : {};\n        for (var property in obj) {\n            if (keys.indexOf(property) >= 0) {\n                continue;\n            }\n            if (!Object.prototype.hasOwnProperty.call(obj, property)) {\n                continue;\n            }\n            target[property] = obj[property];\n        }\n        return target;\n    },\n    /**\n     * Safely gets an integer from a string or number\n     * @param {String | Number} - input to cast to integer\n     * @returns {Number} - Integer representation of input, or 0 if input is not castable to int\n     */\n    safeParseInt: (val) => {\n        if (!val || isNaN(val)) {\n            return 0;\n        }\n        return parseInt(val);\n    }\n};\nmodule.exports = utils;\n", "\"use strict\";\nconst { safeParseInt } = require('../utils');\nvar logger = require('../logger');\nvar DEFAULT_STREAMING_THRESHOLD = 100;\nvar utils = {\n    streamingThreshold: DEFAULT_STREAMING_THRESHOLD,\n    getCurrentTime: function getCurrentTime() {\n        return Date.now() / 1000;\n    },\n    setOrigin: function setOrigin(origin) {\n        this.origin = origin;\n    },\n    setPluginData: function setPluginData(pluginData) {\n        this.pluginData = pluginData;\n    },\n    setSDKData: function setSDKData(sdkData) {\n        this.sdkData = sdkData;\n    },\n    setServiceData: function setServiceData(serviceData) {\n        this.serviceData = serviceData;\n    },\n    /**\n     * Overrides the default streaming threshold (100).\n     * The threshold represents the maximum number of subsegments on a single segment before\n     * the SDK beings to send the completed subsegments out of band of the main segment.\n     * Reduce this threshold if you see the 'Segment too large to send' error.\n     * @param {number} threshold - The new threshold to use.\n     * @memberof AWSXRay\n     */\n    setStreamingThreshold: function setStreamingThreshold(threshold) {\n        if (isFinite(threshold) && threshold >= 0) {\n            utils.streamingThreshold = threshold;\n            logger.getLogger().debug('Subsegment streaming threshold set to: ' + threshold);\n        }\n        else {\n            logger.getLogger().error('Invalid threshold: ' + threshold + '. Must be a whole number >= 0.');\n        }\n    },\n    getStreamingThreshold: function getStreamingThreshold() {\n        return utils.streamingThreshold;\n    },\n    /**\n     * Parses an HTTP response object to return an X-Ray compliant HTTP response object.\n     * @param {http.ServerResponse} res\n     * @returns {Object} - X-Ray response object to be added to (sub)segment\n     */\n    getHttpResponseData: (res) => {\n        const ret = {};\n        if (!res) {\n            return ret;\n        }\n        const status = safeParseInt(res.statusCode);\n        if (status !== 0) {\n            ret.status = status;\n        }\n        if (res.headers && res.headers['content-length']) {\n            ret.content_length = safeParseInt(res.headers['content-length']);\n        }\n        return ret;\n    },\n    getJsonStringifyReplacer: () => (_, value) => {\n        if (typeof value === 'bigint') {\n            return value.toString();\n        }\n        return value;\n    }\n};\nmodule.exports = utils;\n", "\"use strict\";\nconst { getHttpResponseData } = require('../segment_utils');\nvar { stripQueryStringFromPath } = require('../../utils');\n/**\n * Represents an outgoing HTTP/HTTPS call.\n * @constructor\n * @param {http.ClientRequest|https.ClientRequest} req - The request object from the HTTP/HTTPS call.\n * @param {http.IncomingMessage|https.IncomingMessage} res - The response object from the HTTP/HTTPS call.\n * @param {boolean} downstreamXRayEnabled - when true, adds a \"traced\": true hint to generated subsegments such that the AWS X-Ray service expects a corresponding segment from the downstream service.\n */\nfunction RemoteRequestData(req, res, downstreamXRayEnabled) {\n    this.init(req, res, downstreamXRayEnabled);\n}\nRemoteRequestData.prototype.init = function init(req, res, downstreamXRayEnabled) {\n    this.request = {\n        url: (req.agent && req.agent.protocol) ? (req.agent.protocol + '//' + (req.host || req.getHeader('host')) + stripQueryStringFromPath(req.path)) : '',\n        method: req.method || '',\n    };\n    if (downstreamXRayEnabled) {\n        this.request.traced = true;\n    }\n    if (res) {\n        this.response = getHttpResponseData(res);\n    }\n};\nmodule.exports = RemoteRequestData;\n", "\"use strict\";\nvar crypto = require('crypto');\nvar CapturedException = require('./captured_exception');\nvar RemoteRequestData = require('./remote_request_data');\nvar SegmentEmitter = require('../../segment_emitter');\nvar SegmentUtils = require('../segment_utils');\nvar Utils = require('../../utils');\nvar logger = require('../../logger');\n/**\n * Represents a subsegment.\n * @constructor\n * @param {string} name - The name of the subsegment.\n */\nfunction Subsegment(name) {\n    this.init(name);\n}\nSubsegment.prototype.init = function init(name) {\n    if (typeof name != 'string') {\n        throw new Error('Subsegment name must be of type string.');\n    }\n    this.id = crypto.randomBytes(8).toString('hex');\n    this.name = name;\n    this.start_time = SegmentUtils.getCurrentTime();\n    this.in_progress = true;\n    this.counter = 0;\n    this.notTraced = false;\n};\n/**\n * Nests a new subsegment to the array of subsegments.\n * @param {string} name - The name of the new subsegment to append.\n * @returns {Subsegment} - The newly created subsegment.\n */\nSubsegment.prototype.addNewSubsegment = function addNewSubsegment(name) {\n    const subsegment = new Subsegment(name);\n    this.addSubsegment(subsegment);\n    return subsegment;\n};\nSubsegment.prototype.addSubsegmentWithoutSampling = function addSubsegmentWithoutSampling(subsegment) {\n    this.addSubsegment(subsegment);\n    subsegment.notTraced = true;\n};\nSubsegment.prototype.addNewSubsegmentWithoutSampling = function addNewSubsegmentWithoutSampling(name) {\n    const subsegment = new Subsegment(name);\n    this.addSubsegment(subsegment);\n    subsegment.notTraced = true;\n    return subsegment;\n};\n/**\n * Adds a subsegment to the array of subsegments.\n * @param {Subsegment} subsegment - The subsegment to append.\n */\nSubsegment.prototype.addSubsegment = function (subsegment) {\n    if (!(subsegment instanceof Subsegment)) {\n        throw new Error('Failed to add subsegment:' + subsegment + ' to subsegment \"' + this.name +\n            '\".  Not a subsegment.');\n    }\n    if (this.subsegments === undefined) {\n        this.subsegments = [];\n    }\n    subsegment.segment = this.segment;\n    subsegment.parent = this;\n    subsegment.notTraced = subsegment.parent.notTraced;\n    subsegment.noOp = subsegment.parent.noOp;\n    if (subsegment.end_time === undefined) {\n        this.incrementCounter(subsegment.counter);\n    }\n    this.subsegments.push(subsegment);\n};\n/**\n * Removes the subsegment from the subsegments array, used in subsegment streaming.\n */\nSubsegment.prototype.removeSubsegment = function removeSubsegment(subsegment) {\n    if (!(subsegment instanceof Subsegment)) {\n        throw new Error('Failed to remove subsegment:' + subsegment + ' from subsegment \"' + this.name +\n            '\".  Not a subsegment.');\n    }\n    if (this.subsegments !== undefined) {\n        var index = this.subsegments.indexOf(subsegment);\n        if (index >= 0) {\n            this.subsegments.splice(index, 1);\n        }\n    }\n};\n/**\n * Adds a property with associated data into the subsegment.\n * @param {string} name - The name of the property to add.\n * @param {Object} data - The data of the property to add.\n */\nSubsegment.prototype.addAttribute = function addAttribute(name, data) {\n    this[name] = data;\n};\n/**\n * Adds a subsegement id to record ordering.\n * @param {string} id - A subsegment id.\n */\nSubsegment.prototype.addPrecursorId = function (id) {\n    if (typeof id !== 'string') {\n        logger.getLogger().error('Failed to add id:' + id + ' to subsegment ' + this.name +\n            '.  Precursor Ids must be of type string.');\n    }\n    if (this.precursor_ids === undefined) {\n        this.precursor_ids = [];\n    }\n    this.precursor_ids.push(id);\n};\n/**\n * Adds a key-value pair that can be queryable through GetTraceSummaries.\n * Only acceptable types are string, float/int and boolean.\n * @param {string} key - The name of key to add.\n * @param {boolean|string|number} value - The value to add for the given key.\n */\nSubsegment.prototype.addAnnotation = function (key, value) {\n    if (typeof value !== 'boolean' && typeof value !== 'string' && !isFinite(value)) {\n        logger.getLogger().error('Failed to add annotation key: ' + key + ' value: ' + value + ' to subsegment ' +\n            this.name + '. Value must be of type string, number or boolean.');\n        return;\n    }\n    if (typeof key !== 'string') {\n        logger.getLogger().error('Failed to add annotation key: ' + key + ' value: ' + value + ' to subsegment ' +\n            this.name + '. Key must be of type string.');\n        return;\n    }\n    if (this.annotations === undefined) {\n        this.annotations = {};\n    }\n    this.annotations[key] = value;\n};\n/**\n * Adds a key-value pair to the metadata.default attribute when no namespace is given.\n * Metadata is not queryable, but is recorded.\n * @param {string} key - The name of the key to add.\n * @param {object|null} value - The value of the associated key.\n * @param {string} [namespace] - The property name to put the key/value pair under.\n */\nSubsegment.prototype.addMetadata = function (key, value, namespace) {\n    if (typeof key !== 'string') {\n        logger.getLogger().error('Failed to add metadata key: ' + key + ' value: ' + value + ' to subsegment ' +\n            this.name + '. Key must be of type string.');\n        return;\n    }\n    if (namespace && typeof namespace !== 'string') {\n        logger.getLogger().error('Failed to add metadata key: ' + key + ' value: ' + value + ' to subsegment ' +\n            this.name + '. Namespace must be of type string.');\n        return;\n    }\n    var ns = namespace || 'default';\n    if (!this.metadata) {\n        this.metadata = {};\n    }\n    if (!this.metadata[ns]) {\n        this.metadata[ns] = {};\n    }\n    if (ns !== '__proto__') {\n        this.metadata[ns][key] = value !== null && value !== undefined ? value : '';\n    }\n};\nSubsegment.prototype.addSqlData = function addSqlData(sqlData) {\n    this.sql = sqlData;\n};\n/**\n * Adds an error with associated data into the subsegment.\n * To handle propagating errors, the subsegment also sets a copy of the error on the\n * root segment.  As the error passes up the execution stack, a reference is created\n * on each subsegment to the originating subsegment.\n * @param {Error|string} err - The error to capture.\n * @param {boolean} [remote] - Flag for whether the exception caught was remote or not.\n */\nSubsegment.prototype.addError = function addError(err, remote) {\n    if (err == null || typeof err !== 'object' && typeof (err) !== 'string') {\n        logger.getLogger().error('Failed to add error:' + err + ' to subsegment \"' + this.name +\n            '\".  Not an object or string literal.');\n        return;\n    }\n    this.addFaultFlag();\n    if (this.segment && this.segment.exception) {\n        if (err === this.segment.exception.ex) {\n            this.fault = true;\n            this.cause = { id: this.segment.exception.cause, exceptions: [] };\n            return;\n        }\n        delete this.segment.exception;\n    }\n    if (this.segment) {\n        this.segment.exception = {\n            ex: err,\n            cause: this.id\n        };\n    }\n    else {\n        //error, cannot propagate exception if not added to segment\n    }\n    if (this.cause === undefined) {\n        this.cause = {\n            working_directory: process.cwd(),\n            exceptions: []\n        };\n    }\n    this.cause.exceptions.unshift(new CapturedException(err, remote));\n};\n/**\n * Adds data for an outgoing HTTP/HTTPS call.\n * @param {http.ClientRequest/https.ClientRequest} req - The request object from the HTTP/HTTPS call.\n * @param {http.IncomingMessage/https.IncomingMessage} res - The response object from the HTTP/HTTPS call.\n * @param {boolean} downstreamXRayEnabled - when true, adds a \"traced\": true hint to generated subsegments such that the AWS X-Ray service expects a corresponding segment from the downstream service.\n */\nSubsegment.prototype.addRemoteRequestData = function addRemoteRequestData(req, res, downstreamXRayEnabled) {\n    this.http = new RemoteRequestData(req, res, downstreamXRayEnabled);\n    if ('traced' in this.http.request) {\n        this.traced = this.http.request.traced;\n        delete this.http.request.traced;\n    }\n};\n/**\n * Adds fault flag to the subsegment.\n */\nSubsegment.prototype.addFaultFlag = function addFaultFlag() {\n    this.fault = true;\n};\n/**\n * Adds error flag to the subsegment.\n */\nSubsegment.prototype.addErrorFlag = function addErrorFlag() {\n    this.error = true;\n};\n/**\n * Adds throttle flag to the subsegment.\n */\nSubsegment.prototype.addThrottleFlag = function addThrottleFlag() {\n    this.throttle = true;\n};\n/**\n * Closes the current subsegment.  This automatically captures any exceptions and sets the end time.\n * @param {Error|string} [err] - The error to capture.\n * @param {boolean} [remote] - Flag for whether the exception caught was remote or not.\n */\nSubsegment.prototype.close = function close(err, remote) {\n    var root = this.segment;\n    this.end_time = SegmentUtils.getCurrentTime();\n    delete this.in_progress;\n    if (err) {\n        this.addError(err, remote);\n    }\n    if (this.parent) {\n        this.parent.decrementCounter();\n    }\n    if (root && root.counter > SegmentUtils.getStreamingThreshold()) {\n        if (this.streamSubsegments() && this.parent) {\n            this.parent.removeSubsegment(this);\n        }\n    }\n};\n/**\n * Each subsegment holds a counter of open subsegments.  This increments\n * the counter such that it can be called from a child and propagate up.\n * @param {Number} [additional] - An additional amount to increment.  Used when adding subsegment trees.\n */\nSubsegment.prototype.incrementCounter = function incrementCounter(additional) {\n    this.counter = additional ? this.counter + additional + 1 : this.counter + 1;\n    if (this.parent) {\n        this.parent.incrementCounter(additional);\n    }\n};\n/**\n * Each subsegment holds a counter of its open subsegments.  This decrements\n * the counter such that it can be called from a child and propagate up.\n */\nSubsegment.prototype.decrementCounter = function decrementCounter() {\n    this.counter--;\n    if (this.parent) {\n        this.parent.decrementCounter();\n    }\n};\n/**\n * Returns a boolean indicating whether or not the subsegment has been closed.\n * @returns {boolean} - Returns true if the subsegment is closed.\n */\nSubsegment.prototype.isClosed = function isClosed() {\n    return !this.in_progress;\n};\n/**\n * Sends the subsegment to the daemon.\n */\nSubsegment.prototype.flush = function flush() {\n    if (!this.parent || !this.segment) {\n        logger.getLogger().error('Failed to flush subsegment: ' + this.name + '. Subsegment must be added ' +\n            'to a segment chain to flush.');\n        return;\n    }\n    if (this.segment.trace_id) {\n        if (this.segment.notTraced !== true && !this.notTraced) {\n            SegmentEmitter.send(this);\n        }\n        else {\n            logger.getLogger().debug('Ignoring flush on subsegment ' + this.id + '. Associated segment is marked as not sampled.');\n        }\n    }\n    else {\n        logger.getLogger().debug('Ignoring flush on subsegment ' + this.id + '. Associated segment is missing a trace ID.');\n    }\n};\n/**\n * Returns true if the subsegment was streamed in its entirety\n */\nSubsegment.prototype.streamSubsegments = function streamSubsegments() {\n    if (this.isClosed() && this.counter <= 0) {\n        this.flush();\n        return true;\n    }\n    else if (this.subsegments && this.subsegments.length > 0) {\n        var open = [];\n        this.subsegments.forEach(function (child) {\n            if (!child.streamSubsegments()) {\n                open.push(child);\n            }\n        });\n        this.subsegments = open;\n    }\n};\n/**\n * Returns the formatted, trimmed subsegment JSON string to send to the daemon.\n */\nSubsegment.prototype.format = function format() {\n    this.type = 'subsegment';\n    if (this.parent) {\n        this.parent_id = this.parent.id;\n    }\n    if (this.segment) {\n        this.trace_id = this.segment.trace_id;\n    }\n    return this.serialize();\n};\n/**\n * Returns the formatted subsegment JSON string.\n */\nSubsegment.prototype.toString = function toString() {\n    return this.serialize();\n};\nSubsegment.prototype.toJSON = function toJSON() {\n    var ignore = ['segment', 'parent', 'counter'];\n    if (this.subsegments == null || this.subsegments.length === 0) {\n        ignore.push('subsegments');\n    }\n    var thisCopy = Utils.objectWithoutProperties(this, ignore, false);\n    return thisCopy;\n};\n/**\n * Returns the serialized subsegment JSON string, replacing any BigInts with strings.\n */\nSubsegment.prototype.serialize = function serialize(object) {\n    return JSON.stringify(object !== null && object !== void 0 ? object : this, SegmentUtils.getJsonStringifyReplacer());\n};\nmodule.exports = Subsegment;\n", "\"use strict\";\nvar crypto = require('crypto');\nvar CapturedException = require('./attributes/captured_exception');\nvar SegmentEmitter = require('../segment_emitter');\nvar SegmentUtils = require('./segment_utils');\nvar Subsegment = require('./attributes/subsegment');\nvar TraceID = require('./attributes/trace_id');\nvar Utils = require('../utils');\nvar logger = require('../logger');\n/**\n * Represents a segment.\n * @constructor\n * @param {string} name - The name of the subsegment.\n * @param {string} [rootId] - The trace ID of the spawning parent, included in the 'X-Amzn-Trace-Id' header of the incoming request.  If one is not supplied, it will be generated.\n * @param {string} [parentId] - The sub/segment ID of the spawning parent, included in the 'X-Amzn-Trace-Id' header of the incoming request.\n */\nfunction Segment(name, rootId, parentId) {\n    this.init(name, rootId, parentId);\n}\nSegment.prototype.init = function init(name, rootId, parentId) {\n    if (typeof name != 'string') {\n        throw new Error('Segment name must be of type string.');\n    }\n    // Validate the Trace ID\n    var traceId;\n    if (rootId && typeof rootId == 'string') {\n        traceId = TraceID.FromString(rootId);\n    }\n    else {\n        traceId = new TraceID();\n    }\n    var id = crypto.randomBytes(8).toString('hex');\n    var startTime = SegmentUtils.getCurrentTime();\n    this.trace_id = traceId.toString();\n    this.id = id;\n    this.start_time = startTime;\n    this.name = name || '';\n    this.in_progress = true;\n    this.counter = 0;\n    if (parentId) {\n        this.parent_id = parentId;\n    }\n    if (SegmentUtils.serviceData) {\n        this.setServiceData(SegmentUtils.serviceData);\n    }\n    if (SegmentUtils.pluginData) {\n        this.addPluginData(SegmentUtils.pluginData);\n    }\n    if (SegmentUtils.origin) {\n        this.origin = SegmentUtils.origin;\n    }\n    if (SegmentUtils.sdkData) {\n        this.setSDKData(SegmentUtils.sdkData);\n    }\n};\n/**\n * Adds incoming request data to the http block of the segment.\n * @param {IncomingRequestData} data - The data of the property to add.\n */\nSegment.prototype.addIncomingRequestData = function addIncomingRequestData(data) {\n    this.http = data;\n};\n/**\n * Adds a key-value pair that can be queryable through GetTraceSummaries.\n * Only acceptable types are string, float/int and boolean.\n * @param {string} key - The name of key to add.\n * @param {boolean|string|number} value - The value to add for the given key.\n */\nSegment.prototype.addAnnotation = function addAnnotation(key, value) {\n    if (typeof value !== 'boolean' && typeof value !== 'string' && !isFinite(value)) {\n        logger.getLogger().error('Failed to add annotation key: ' + key + ' value: ' + value + ' to subsegment ' +\n            this.name + '. Value must be of type string, number or boolean.');\n        return;\n    }\n    if (typeof key !== 'string') {\n        logger.getLogger().error('Failed to add annotation key: ' + key + ' value: ' + value + ' to subsegment ' +\n            this.name + '. Key must be of type string.');\n        return;\n    }\n    if (this.annotations === undefined) {\n        this.annotations = {};\n    }\n    this.annotations[key] = value;\n};\n/**\n * Adds a User ID that can be queried from the X-Ray console. User ID\n * must be a string.\n * @param {string} user - The ID of the user corresponding to this segment\n */\nSegment.prototype.setUser = function (user) {\n    if (typeof user !== 'string') {\n        logger.getLogger().error('Set user: ' + user + ' failed. User IDs must be of type string.');\n    }\n    this.user = user;\n};\n/**\n * Adds a key-value pair to the metadata.default attribute when no namespace is given.\n * Metadata is not queryable, but is recorded.\n * @param {string} key - The name of the key to add.\n * @param {object|null} value - The value of the associated key.\n * @param {string} [namespace] - The property name to put the key/value pair under.\n */\nSegment.prototype.addMetadata = function (key, value, namespace) {\n    if (typeof key !== 'string') {\n        logger.getLogger().error('Failed to add metadata key: ' + key + ' value: ' + value + ' to segment ' +\n            this.name + '. Key must be of type string.');\n        return;\n    }\n    if (namespace && typeof namespace !== 'string') {\n        logger.getLogger().error('Failed to add metadata key: ' + key + ' value: ' + value + ' to segment ' +\n            this.name + '. Namespace must be of type string.');\n        return;\n    }\n    var ns = namespace || 'default';\n    if (!this.metadata) {\n        this.metadata = {};\n    }\n    if (!this.metadata[ns]) {\n        this.metadata[ns] = {};\n    }\n    if (ns !== '__proto__') {\n        this.metadata[ns][key] = value !== null && value !== undefined ? value : '';\n    }\n};\n/**\n * Adds data about the AWS X-Ray SDK onto the segment.\n * @param {Object} data - Object that contains the version of the SDK, and other information.\n */\nSegment.prototype.setSDKData = function setSDKData(data) {\n    if (!data) {\n        logger.getLogger().error('Add SDK data: ' + data + ' failed.' +\n            'Must not be empty.');\n        return;\n    }\n    if (!this.aws) {\n        this.aws = {};\n    }\n    this.aws.xray = data;\n};\nSegment.prototype.setMatchedSamplingRule = function setMatchedSamplingRule(ruleName) {\n    if (this.aws) {\n        this.aws = JSON.parse(JSON.stringify(this.aws));\n    }\n    if (this.aws && this.aws['xray']) {\n        this.aws.xray['rule_name'] = ruleName;\n    }\n    else {\n        this.aws = { xray: { 'rule_name': ruleName } };\n    }\n};\n/**\n * Adds data about the service into the segment.\n * @param {Object} data - Object that contains the version of the application, and other information.\n */\nSegment.prototype.setServiceData = function setServiceData(data) {\n    if (!data) {\n        logger.getLogger().error('Add service data: ' + data + ' failed.' +\n            'Must not be empty.');\n        return;\n    }\n    this.service = data;\n};\n/**\n * Adds a service with associated version data into the segment.\n * @param {Object} data - The associated AWS data.\n */\nSegment.prototype.addPluginData = function addPluginData(data) {\n    if (this.aws === undefined) {\n        this.aws = {};\n    }\n    Object.assign(this.aws, data);\n};\n/**\n * Adds a new subsegment to the array of subsegments.\n * @param {string} name - The name of the new subsegment to append.\n */\nSegment.prototype.addNewSubsegment = function addNewSubsegment(name) {\n    var subsegment = new Subsegment(name);\n    this.addSubsegment(subsegment);\n    return subsegment;\n};\nSegment.prototype.addSubsegmentWithoutSampling = function addSubsegmentWithoutSampling(subsegment) {\n    this.addSubsegment(subsegment);\n    subsegment.notTraced = true;\n};\nSegment.prototype.addNewSubsegmentWithoutSampling = function addNewSubsegmentWithoutSampling(name) {\n    const subsegment = new Subsegment(name);\n    this.addSubsegment(subsegment);\n    subsegment.notTraced = true;\n    return subsegment;\n};\n/**\n * Adds a subsegment to the array of subsegments.\n * @param {Subsegment} subsegment - The subsegment to append.\n */\nSegment.prototype.addSubsegment = function addSubsegment(subsegment) {\n    if (!(subsegment instanceof Subsegment)) {\n        throw new Error('Cannot add subsegment: ' + subsegment + '. Not a subsegment.');\n    }\n    if (this.subsegments === undefined) {\n        this.subsegments = [];\n    }\n    subsegment.segment = this;\n    subsegment.parent = this;\n    subsegment.notTraced = subsegment.parent.notTraced;\n    subsegment.noOp = subsegment.parent.noOp;\n    this.subsegments.push(subsegment);\n    if (!subsegment.end_time) {\n        this.incrementCounter(subsegment.counter);\n    }\n};\n/**\n * Removes the subsegment from the subsegments array, used in subsegment streaming.\n */\nSegment.prototype.removeSubsegment = function removeSubsegment(subsegment) {\n    if (!(subsegment instanceof Subsegment)) {\n        throw new Error('Failed to remove subsegment:' + subsegment + ' from subsegment \"' + this.name +\n            '\".  Not a subsegment.');\n    }\n    if (this.subsegments !== undefined) {\n        var index = this.subsegments.indexOf(subsegment);\n        if (index >= 0) {\n            this.subsegments.splice(index, 1);\n        }\n    }\n};\n/**\n * Adds error data into the segment.\n * @param {Error|string} err - The error to capture.\n * @param {boolean} [remote] - Flag for whether the exception caught was remote or not.\n */\nSegment.prototype.addError = function addError(err, remote) {\n    if (err == null || typeof err !== 'object' && typeof (err) !== 'string') {\n        logger.getLogger().error('Failed to add error:' + err + ' to subsegment \"' + this.name +\n            '\".  Not an object or string literal.');\n        return;\n    }\n    this.addFaultFlag();\n    if (this.exception) {\n        if (err === this.exception.ex) {\n            this.cause = { id: this.exception.cause };\n            delete this.exception;\n            return;\n        }\n        delete this.exception;\n    }\n    if (this.cause === undefined) {\n        this.cause = {\n            working_directory: process.cwd(),\n            exceptions: []\n        };\n    }\n    this.cause.exceptions.push(new CapturedException(err, remote));\n};\n/**\n * Adds fault flag to the subsegment.\n */\nSegment.prototype.addFaultFlag = function addFaultFlag() {\n    this.fault = true;\n};\n/**\n * Adds error flag to the subsegment.\n */\nSegment.prototype.addErrorFlag = function addErrorFlag() {\n    this.error = true;\n};\n/**\n * Adds throttle flag to the subsegment.\n */\nSegment.prototype.addThrottleFlag = function addThrottleFlag() {\n    this.throttle = true;\n};\n/**\n * Returns a boolean indicating whether or not the segment has been closed.\n * @returns {boolean} - Returns true if the subsegment is closed.\n */\nSegment.prototype.isClosed = function isClosed() {\n    return !this.in_progress;\n};\n/**\n * Each segment holds a counter of open subsegments.  This increments the counter.\n * @param {Number} [additional] - An additional amount to increment.  Used when adding subsegment trees.\n */\nSegment.prototype.incrementCounter = function incrementCounter(additional) {\n    this.counter = additional ? this.counter + additional + 1 : this.counter + 1;\n    if (this.counter > SegmentUtils.streamingThreshold && this.subsegments && this.subsegments.length > 0) {\n        var open = [];\n        this.subsegments.forEach(function (child) {\n            if (!child.streamSubsegments()) {\n                open.push(child);\n            }\n        });\n        this.subsegments = open;\n    }\n};\n/**\n * Each segment holds a counter of open subsegments.  This decrements\n * the counter such that it can be called from a child and propagate up.\n */\nSegment.prototype.decrementCounter = function decrementCounter() {\n    this.counter--;\n    if (this.counter <= 0 && this.isClosed()) {\n        this.flush();\n    }\n};\n/**\n * Closes the current segment.  This automatically sets the end time.\n * @param {Error|string} [err] - The error to capture.\n * @param {boolean} [remote] - Flag for whether the exception caught was remote or not.\n */\nSegment.prototype.close = function (err, remote) {\n    if (!this.end_time) {\n        this.end_time = SegmentUtils.getCurrentTime();\n    }\n    if (err !== undefined) {\n        this.addError(err, remote);\n    }\n    delete this.in_progress;\n    delete this.exception;\n    if (this.counter <= 0) {\n        this.flush();\n    }\n};\n/**\n * Sends the segment to the daemon.\n */\nSegment.prototype.flush = function flush() {\n    if (this.notTraced !== true) {\n        delete this.exception;\n        var thisCopy = Utils.objectWithoutProperties(this, ['counter', 'notTraced'], true);\n        SegmentEmitter.send(thisCopy);\n    }\n};\nSegment.prototype.format = function format() {\n    var ignore = ['segment', 'parent', 'counter'];\n    if (this.subsegments == null || this.subsegments.length === 0) {\n        ignore.push('subsegments');\n    }\n    var thisCopy = Utils.objectWithoutProperties(this, ignore, false);\n    return this.serialize(thisCopy);\n};\nSegment.prototype.toString = function toString() {\n    return this.serialize();\n};\nSegment.prototype.serialize = function serialize(object) {\n    return JSON.stringify(object !== null && object !== void 0 ? object : this, SegmentUtils.getJsonStringifyReplacer());\n};\nmodule.exports = Segment;\n", "\"use strict\";\n/**\n * @module context_utils\n */\nvar cls = require('cls-hooked/context');\nvar logger = require('./logger');\nvar Segment = require('./segments/segment');\nvar Subsegment = require('./segments/attributes/subsegment');\nvar cls_mode = true;\nvar NAMESPACE = 'AWSXRay';\nvar SEGMENT = 'segment';\nvar contextOverride = false;\nvar contextUtils = {\n    CONTEXT_MISSING_STRATEGY: {\n        RUNTIME_ERROR: {\n            contextMissing: function contextMissingRuntimeError(message) {\n                throw new Error(message);\n            }\n        },\n        LOG_ERROR: {\n            contextMissing: function contextMissingLogError(message) {\n                var err = new Error(message);\n                logger.getLogger().error(err.stack);\n            }\n        },\n        IGNORE_ERROR: {\n            contextMissing: function contextMissingIgnoreError() {\n            }\n        }\n    },\n    contextMissingStrategy: {},\n    /**\n     * Resolves the segment or subsegment given manual mode and params on the call required.\n     * @param [Segment|Subsegment] segment - The segment manually provided via params.XraySegment, if provided.\n     * @returns {Segment|Subsegment}\n     * @alias module:context_utils.resolveManualSegmentParams\n     */\n    resolveManualSegmentParams: function resolveManualSegmentParams(params) {\n        if (params && !contextUtils.isAutomaticMode()) {\n            var xraySegment = params.XRaySegment || params.XraySegment;\n            var segment = params.Segment;\n            var found = null;\n            if (xraySegment && (xraySegment instanceof Segment || xraySegment instanceof Subsegment)) {\n                found = xraySegment;\n                delete params.XRaySegment;\n                delete params.XraySegment;\n            }\n            else if (segment && (segment instanceof Segment || segment instanceof Subsegment)) {\n                found = segment;\n                delete params.Segment;\n            }\n            return found;\n        }\n    },\n    /**\n     * Gets current CLS namespace for X-Ray SDK or creates one if absent.\n     * @returns {Namespace}\n     * @alias module:context_utils.getNamespace\n     */\n    getNamespace: function getNamespace() {\n        return cls.getNamespace(NAMESPACE) || cls.createNamespace(NAMESPACE);\n    },\n    /**\n     * Resolves the segment or subsegment given manual or automatic mode.\n     * @param [Segment|Subsegment] segment - The segment manually provided, if provided.\n     * @returns {Segment|Subsegment}\n     * @alias module:context_utils.resolveSegment\n     */\n    resolveSegment: function resolveSegment(segment) {\n        if (cls_mode) {\n            return this.getSegment();\n        }\n        else if (segment && !cls_mode) {\n            return segment;\n        }\n        else if (!segment && !cls_mode) {\n            contextUtils.contextMissingStrategy.contextMissing('No sub/segment specified. A sub/segment must be provided for manual mode.');\n        }\n    },\n    /**\n     * Returns the current segment or subsegment.  For use with in automatic mode only.\n     * @returns {Segment|Subsegment}\n     * @alias module:context_utils.getSegment\n     */\n    getSegment: function getSegment() {\n        if (cls_mode) {\n            var segment = contextUtils.getNamespace(NAMESPACE).get(SEGMENT);\n            if (!segment) {\n                contextUtils.contextMissingStrategy.contextMissing('Failed to get the current sub/segment from the context.');\n            }\n            else if (segment instanceof Segment && process.env.LAMBDA_TASK_ROOT && segment.facade == true) {\n                segment.resolveLambdaTraceData();\n            }\n            return segment;\n        }\n        else {\n            contextUtils.contextMissingStrategy.contextMissing('Cannot get sub/segment from context. Not supported in manual mode.');\n        }\n    },\n    /**\n     * Sets the current segment or subsegment.  For use with in automatic mode only.\n     * @param [Segment|Subsegment] segment - The sub/segment to set.\n     * @returns {Segment|Subsegment}\n     * @alias module:context_utils.setSegment\n     */\n    setSegment: function setSegment(segment) {\n        if (cls_mode) {\n            if (!contextUtils.getNamespace(NAMESPACE).set(SEGMENT, segment)) {\n                logger.getLogger().warn('Failed to set the current sub/segment on the context.');\n            }\n        }\n        else {\n            contextUtils.contextMissingStrategy.contextMissing('Cannot set sub/segment on context. Not supported in manual mode.');\n        }\n    },\n    /**\n     * Returns true if in automatic mode, otherwise false.\n     * @returns {Segment|Subsegment}\n     * @alias module:context_utils.isAutomaticMode\n     */\n    isAutomaticMode: function isAutomaticMode() {\n        return cls_mode;\n    },\n    /**\n     * Enables automatic mode. Automatic mode uses 'cls-hooked'.\n     * @see https://github.com/jeff-lewis/cls-hooked\n     * @alias module:context_utils.enableAutomaticMode\n     */\n    enableAutomaticMode: function enableAutomaticMode() {\n        cls_mode = true;\n        contextUtils.getNamespace(NAMESPACE);\n        logger.getLogger().debug('Overriding AWS X-Ray SDK mode. Set to automatic mode.');\n    },\n    /**\n     * Disables automatic mode. Current segment or subsegment then must be passed manually\n     * via the parent optional on captureFunc, captureAsyncFunc etc.\n     * @alias module:context_utils.enableManualMode\n     */\n    enableManualMode: function enableManualMode() {\n        cls_mode = false;\n        if (cls.getNamespace(NAMESPACE)) {\n            cls.destroyNamespace(NAMESPACE);\n        }\n        logger.getLogger().debug('Overriding AWS X-Ray SDK mode. Set to manual mode.');\n    },\n    /**\n     * Sets the context missing strategy if no context missing strategy is set using the environment variable with\n     * key AWS_XRAY_CONTEXT_MISSING. The context missing strategy's contextMissing function will be called whenever\n     * trace context is not found.\n     * @param {string|function} strategy - The strategy to set. Valid string values are 'LOG_ERROR' and 'RUNTIME_ERROR'.\n     *                                     Alternatively, a custom function can be supplied, which takes a error message string.\n     */\n    setContextMissingStrategy: function setContextMissingStrategy(strategy) {\n        if (!contextOverride) {\n            if (typeof strategy === 'string') {\n                var lookupStrategy = contextUtils.CONTEXT_MISSING_STRATEGY[strategy.toUpperCase()];\n                if (lookupStrategy) {\n                    contextUtils.contextMissingStrategy.contextMissing = lookupStrategy.contextMissing;\n                    if (process.env.AWS_XRAY_CONTEXT_MISSING) {\n                        logger.getLogger().debug('AWS_XRAY_CONTEXT_MISSING is set. Configured context missing strategy to ' +\n                            process.env.AWS_XRAY_CONTEXT_MISSING + '.');\n                    }\n                    else {\n                        logger.getLogger().debug('Configured context missing strategy to: ' + strategy);\n                    }\n                }\n                else {\n                    throw new Error('Invalid context missing strategy: ' + strategy + '. Valid values are ' +\n                        Object.keys(contextUtils.CONTEXT_MISSING_STRATEGY) + '.');\n                }\n            }\n            else if (typeof strategy === 'function') {\n                contextUtils.contextMissingStrategy.contextMissing = strategy;\n                logger.getLogger().info('Configured custom context missing strategy to function: ' + strategy.name);\n            }\n            else {\n                throw new Error('Context missing strategy must be either a string or a custom function.');\n            }\n        }\n        else {\n            logger.getLogger().warn('Ignoring call to setContextMissingStrategy as AWS_XRAY_CONTEXT_MISSING is set. ' +\n                'The current context missing strategy will not be changed.');\n        }\n    }\n};\nif (process.env.AWS_XRAY_MANUAL_MODE) {\n    cls_mode = false;\n    logger.getLogger().debug('Starting the AWS X-Ray SDK in manual mode.');\n}\nelse {\n    cls.createNamespace(NAMESPACE);\n    logger.getLogger().debug('Starting the AWS X-Ray SDK in automatic mode (default).');\n}\nif (process.env.AWS_XRAY_CONTEXT_MISSING) {\n    contextUtils.setContextMissingStrategy(process.env.AWS_XRAY_CONTEXT_MISSING);\n    contextOverride = true;\n}\nelse {\n    contextUtils.contextMissingStrategy.contextMissing = contextUtils.CONTEXT_MISSING_STRATEGY.LOG_ERROR.contextMissing;\n    logger.getLogger().debug('Using default context missing strategy: LOG_ERROR');\n}\nmodule.exports = contextUtils;\n", "\"use strict\";\nvar { getHttpResponseData } = require('../segments/segment_utils');\n/**\n * Represents an incoming HTTP/HTTPS call.\n * @constructor\n * @param {http.IncomingMessage|https.IncomingMessage} req - The request object from the HTTP/HTTPS call.\n */\nfunction IncomingRequestData(req) {\n    this.init(req);\n}\nIncomingRequestData.prototype.init = function init(req) {\n    var forwarded = !!req.headers['x-forwarded-for'];\n    var url;\n    if (req.connection) {\n        url = ((req.connection.secure || req.connection.encrypted) ? 'https://' : 'http://') +\n            ((req.headers['host'] || '') + (req.url || ''));\n    }\n    this.request = {\n        method: req.method || '',\n        user_agent: req.headers['user-agent'] || '',\n        client_ip: getClientIp(req) || '',\n        url: url || '',\n    };\n    if (forwarded) {\n        this.request.x_forwarded_for = forwarded;\n    }\n};\nvar getClientIp = function getClientIp(req) {\n    var clientIp;\n    if (req.headers['x-forwarded-for']) {\n        clientIp = (req.headers['x-forwarded-for'] || '').split(',')[0];\n    }\n    else if (req.connection && req.connection.remoteAddress) {\n        clientIp = req.connection.remoteAddress;\n    }\n    else if (req.socket && req.socket.remoteAddress) {\n        clientIp = req.socket.remoteAddress;\n    }\n    else if (req.connection && req.connection.socket && req.connection.socket.remoteAddress) {\n        clientIp = req.connection.socket.remoteAddress;\n    }\n    return clientIp;\n};\n/**\n * Closes the local and automatically captures the response data.\n * @param {http.ServerResponse|https.ServerResponse} res - The response object from the HTTP/HTTPS call.\n */\nIncomingRequestData.prototype.close = function close(res) {\n    this.response = getHttpResponseData(res);\n};\nmodule.exports = IncomingRequestData;\n", "\"use strict\";\n/**\n * Represents a LocalReservoir object that keeps track of the number of traces per second sampled and\n * the fixed rate for a given sampling rule defined locally.\n * It also decides if a given trace should be sampled or not based on the state of current second.\n * @constructor\n * @param {number} fixedTarget - An integer value to specify the maximum number of traces per second to sample.\n * @param {number} fallbackRate - A value between 0 and 1 indicating the sampling rate after the maximum traces per second has been hit.\n */\nfunction LocalReservoir(fixedTarget, fallbackRate) {\n    this.init(fixedTarget, fallbackRate);\n}\nLocalReservoir.prototype.init = function init(fixedTarget, fallbackRate) {\n    this.usedThisSecond = 0;\n    if (typeof fixedTarget === 'number' && fixedTarget % 1 === 0 && fixedTarget >= 0) {\n        this.fixedTarget = fixedTarget;\n    }\n    else {\n        throw new Error('Error in sampling file. Rule attribute \"fixed_target\" must be a non-negative integer.');\n    }\n    if (typeof fallbackRate === 'number' && fallbackRate >= 0 && fallbackRate <= 1) {\n        this.fallbackRate = fallbackRate;\n    }\n    else {\n        throw new Error('Error in sampling file. Rule attribute \"rate\" must be a number between 0 and 1 inclusive.');\n    }\n};\nLocalReservoir.prototype.isSampled = function isSampled() {\n    var now = Math.round(new Date().getTime() / 1000);\n    if (now !== this.thisSecond) {\n        this.usedThisSecond = 0;\n        this.thisSecond = now;\n    }\n    if (this.usedThisSecond >= this.fixedTarget) {\n        return Math.random() < this.fallbackRate;\n    }\n    this.usedThisSecond++;\n    return true;\n};\nmodule.exports = LocalReservoir;\n", "{\n  \"default\": {\n    \"fixed_target\": 1,\n    \"rate\": 0.05\n  },\n  \"version\": 2\n}\n", "\"use strict\";\nvar fs = require('fs');\nvar LocalReservoir = require('./local_reservoir');\nvar Utils = require('../../utils');\nvar defaultRules = require('../../resources/default_sampling_rules.json');\nvar logger = require('../../logger');\n/**\n * The local sampler used to make sampling decisions when the decisions are absent in the incoming requests\n * and the default sampler needs to fall back on local rules. It will also be the primary sampler\n * if the default sampler is disabled.\n * @module LocalSampler\n */\nvar LocalSampler = {\n    /**\n     * Makes a sample decision based on the sample request.\n     * @param {object} sampleRequest - Contains information for rules matching.\n     * @module LocalSampler\n     * @function shouldSample\n     */\n    shouldSample: function shouldSample(sampleRequest) {\n        var host = sampleRequest.host;\n        var httpMethod = sampleRequest.httpMethod;\n        var urlPath = sampleRequest.urlPath;\n        var formatted = '{ http_method: ' + httpMethod + ', host: ' + host + ', url_path: ' + urlPath + ' }';\n        var matched;\n        this.rules.some(function (rule) {\n            // Any null parameters provided will be considered an implicit match.\n            if (rule.default || (host == null || (Utils.wildcardMatch(rule.host, host))\n                && (httpMethod == null || Utils.wildcardMatch(rule.http_method, httpMethod))\n                && (urlPath == null || Utils.wildcardMatch(rule.url_path, urlPath)))) {\n                matched = rule.reservoir;\n                logger.getLogger().debug('Local sampling rule match found for ' + formatted + '. Matched ' + (rule.default ?\n                    'default' : '{ http_method: ' + rule.http_method + ', host: ' + rule.host + ', url_path: ' +\n                    rule.url_path + ' }') + '. Using fixed_target: ' + matched.fixedTarget + ' and rate: ' + matched.fallbackRate + '.');\n                return true;\n            }\n        });\n        if (matched) {\n            return matched.isSampled();\n        }\n        else {\n            logger.getLogger().debug('No sampling rule matched for ' + formatted);\n            return false;\n        }\n    },\n    /**\n     * Set local rules for making sampling decisions.\n     * @module LocalSampler\n     * @function setLocalRules\n     */\n    setLocalRules: function setLocalRules(source) {\n        if (source) {\n            if (typeof source === 'string') {\n                logger.getLogger().info('Using custom sampling rules file: ' + source);\n                this.rules = loadRulesConfig(JSON.parse(fs.readFileSync(source, 'utf8')));\n            }\n            else {\n                logger.getLogger().info('Using custom sampling rules source.');\n                this.rules = loadRulesConfig(source);\n            }\n        }\n        else {\n            this.rules = parseRulesConfig(defaultRules);\n        }\n    }\n};\nvar loadRulesConfig = function loadRulesConfig(config) {\n    if (!config.version) {\n        throw new Error('Error in sampling file. Missing \"version\" attribute.');\n    }\n    if (config.version === 1 || config.version === 2) {\n        return parseRulesConfig(config);\n    }\n    else {\n        throw new Error('Error in sampling file. Unknown version \"' + config.version + '\".');\n    }\n};\nvar parseRulesConfig = function parseRulesConfig(config) {\n    var defaultRule;\n    var rules = [];\n    if (config.default) {\n        var missing = [];\n        for (var key in config.default) {\n            if (key !== 'fixed_target' && key !== 'rate') {\n                throw new Error('Error in sampling file. Invalid attribute for default: ' + key +\n                    '. Valid attributes for default are \"fixed_target\" and \"rate\".');\n            }\n            else if (typeof config.default[key] !== 'number') {\n                throw new Error('Error in sampling file. Default ' + key + ' must be a number.');\n            }\n        }\n        if (typeof config.default.fixed_target === 'undefined') {\n            missing.push('fixed_target');\n        }\n        if (typeof config.default.rate === 'undefined') {\n            missing.push('rate');\n        }\n        if (missing.length !== 0) {\n            throw new Error('Error in sampling file. Missing required attributes for default: ' + missing + '.');\n        }\n        defaultRule = { default: true, reservoir: new LocalReservoir(config.default.fixed_target, config.default.rate) };\n    }\n    else {\n        throw new Error('Error in sampling file. Expecting \"default\" object to be defined with attributes \"fixed_target\" and \"rate\".');\n    }\n    if (Array.isArray(config.rules)) {\n        config.rules.forEach(function (rawRule) {\n            var params = {};\n            var required;\n            if (config.version === 2) {\n                required = { host: 1, http_method: 1, url_path: 1, fixed_target: 1, rate: 1 };\n            }\n            if (config.version === 1) {\n                required = { service_name: 1, http_method: 1, url_path: 1, fixed_target: 1, rate: 1 };\n            }\n            for (var key in rawRule) {\n                var value = rawRule[key];\n                if (!required[key] && key != 'description') {\n                    throw new Error('Error in sampling file. Rule ' + JSON.stringify(rawRule) + ' has invalid attribute: ' + key + '.');\n                }\n                else if (key != 'description' && !value && value !== 0) {\n                    throw new Error('Error in sampling file. Rule ' + JSON.stringify(rawRule) + ' attribute \"' + key + '\" has invalid value: ' + value + '.');\n                }\n                else {\n                    if (config.version === 2) {\n                        params[key] = value;\n                    }\n                    if (config.version === 1 && key === 'service_name') {\n                        params['host'] = value;\n                    }\n                    else {\n                        params[key] = value;\n                    }\n                    delete required[key];\n                }\n            }\n            if (Object.keys(required).length !== 0 && required.constructor === Object) {\n                throw new Error('Error in sampling file. Rule ' + JSON.stringify(rawRule) + ' is missing required attributes: ' + Object.keys(required) + '.');\n            }\n            var rule = params;\n            rule.reservoir = new LocalReservoir(rawRule.fixed_target, rawRule.rate);\n            rules.push(rule);\n        });\n    }\n    rules.push(defaultRule);\n    return rules;\n};\nLocalSampler.setLocalRules();\nmodule.exports = LocalSampler;\n", "\"use strict\";\n/**\n * Represents a Reservoir object that keeps track of the number of traces per second sampled and\n * the fixed rate for a given sampling rule. This information is fetched from X-Ray serivce.\n * It decides if a given trace should be borrowed or sampled or not sampled based on the state of current second.\n * @constructor\n */\nfunction Reservoir() {\n    this.init();\n}\nReservoir.prototype.init = function init() {\n    this.quota = null;\n    this.TTL = null;\n    this.takenThisSec = 0;\n    this.borrowedThisSec = 0;\n    this.reportInterval = 1;\n    this.reportElapsed = 0;\n};\nReservoir.prototype.borrowOrTake = function borrowOrTake(now, canBorrow) {\n    this.adjustThisSec(now);\n    // Don't borrow if the quota is available and fresh.\n    if (this.quota >= 0 && this.TTL >= now) {\n        if (this.takenThisSec >= this.quota) {\n            return false;\n        }\n        this.takenThisSec++;\n        return 'take';\n    }\n    // Otherwise try to borrow if the quota is not present or expired.\n    if (canBorrow) {\n        if (this.borrowedThisSec >= 1) {\n            return false;\n        }\n        this.borrowedThisSec++;\n        return 'borrow';\n    }\n};\nReservoir.prototype.adjustThisSec = function adjustThisSec(now) {\n    if (now !== this.thisSec) {\n        this.takenThisSec = 0;\n        this.borrowedThisSec = 0;\n        this.thisSec = now;\n    }\n};\nReservoir.prototype.loadNewQuota = function loadNewQuota(quota, TTL, interval) {\n    if (quota) {\n        this.quota = quota;\n    }\n    if (TTL) {\n        this.TTL = TTL;\n    }\n    if (interval) {\n        this.reportInterval = interval / 10;\n    } // Report interval is always time of 10.\n};\nReservoir.prototype.timeToReport = function timeToReport() {\n    if (this.reportElapsed + 1 >= this.reportInterval) {\n        this.reportElapsed = 0;\n        return true;\n    }\n    else {\n        this.reportElapsed += 1;\n        return false;\n    }\n};\nmodule.exports = Reservoir;\n", "\"use strict\";\nvar Utils = require('../../utils');\nvar Reservoir = require('./reservoir');\n/**\n * The data model for a sampling rule defined using X-Ray API CreateSamplingRules.\n * It should be only instantiated directly from the X-Ray API response.\n * @constructor\n */\nfunction SamplingRule(name, priority, rate, reservoirSize, host, httpMethod, urlPath, serviceName, serviceType) {\n    this.init(name, priority, rate, reservoirSize, host, httpMethod, urlPath, serviceName, serviceType);\n}\nSamplingRule.prototype.init = function init(name, priority, rate, reservoirSize, host, httpMethod, urlPath, serviceName, serviceType) {\n    this.name = name;\n    this.priority = priority;\n    this.rate = rate;\n    this.host = host;\n    this.httpMethod = httpMethod;\n    this.urlPath = urlPath;\n    this.serviceName = serviceName;\n    this.serviceType = serviceType;\n    this.reservoir = new Reservoir();\n    this.borrow = !!reservoirSize;\n    this.resetStatistics();\n};\nSamplingRule.prototype.match = function match(sampleRequest) {\n    var host = sampleRequest.host;\n    var httpMethod = sampleRequest.httpMethod;\n    var serviceName = sampleRequest.serviceName;\n    var urlPath = sampleRequest.urlPath;\n    var serviceType = sampleRequest.serviceType;\n    return this.isDefault() || (!host || Utils.wildcardMatch(this.host, host))\n        && (!httpMethod || Utils.wildcardMatch(this.httpMethod, httpMethod))\n        && (!serviceName || Utils.wildcardMatch(this.serviceName, serviceName))\n        && (!urlPath || Utils.wildcardMatch(this.urlPath, urlPath))\n        && (!serviceType || Utils.wildcardMatch(this.serviceType, serviceType));\n};\nSamplingRule.prototype.snapshotStatistics = function snapshotStatistics() {\n    var statistics = {\n        requestCount: this.requestCount,\n        borrowCount: this.borrowCount,\n        sampledCount: this.sampledCount\n    };\n    this.resetStatistics();\n    return statistics;\n};\nSamplingRule.prototype.merge = function merge(rule) {\n    this.reservoir = rule.reservoir;\n    this.requestCount = rule.requestCount;\n    this.borrowCount = rule.borrowCount;\n    this.sampledCount = rule.sampledCount;\n    rule = null; // unref the old rule so it can be garbage collected.\n};\nSamplingRule.prototype.isDefault = function isDefault() {\n    return this.name === 'Default'; // \"Default\" is a reserved keyword from X-Ray back-end.\n};\nSamplingRule.prototype.incrementRequestCount = function incrementRequestCount() {\n    this.requestCount++;\n};\nSamplingRule.prototype.incrementBorrowCount = function incrementBorrowCount() {\n    this.borrowCount++;\n};\nSamplingRule.prototype.incrementSampledCount = function incrementSampledCount() {\n    this.sampledCount++;\n};\nSamplingRule.prototype.setRate = function setRate(rate) {\n    this.rate = rate;\n};\nSamplingRule.prototype.getRate = function getRate() {\n    return this.rate;\n};\nSamplingRule.prototype.getName = function getName() {\n    return this.name;\n};\nSamplingRule.prototype.getPriority = function getPriority() {\n    return this.priority;\n};\nSamplingRule.prototype.getReservoir = function getReservoir() {\n    return this.reservoir;\n};\nSamplingRule.prototype.resetStatistics = function resetStatistics() {\n    this.requestCount = 0;\n    this.borrowCount = 0;\n    this.sampledCount = 0;\n};\nSamplingRule.prototype.canBorrow = function canBorrow() {\n    return this.borrow;\n};\nSamplingRule.prototype.everMatched = function everMatched() {\n    return this.requestCount > 0;\n};\nSamplingRule.prototype.timeToReport = function timeToReport() {\n    return this.reservoir.timeToReport();\n};\nmodule.exports = SamplingRule;\n", "\"use strict\";\nvar crypto = require('crypto');\nvar logger = require('../../logger');\nvar SamplingRule = require('./sampling_rule');\nvar DaemonConfig = require('../../daemon_config');\nconst util = require('util');\nconst http = require('http');\n/**\n * The ServiceConnector that calls X-Ray service and convert the API response bodies to data models\n * defined in the X-Ray SDK and return them to the pollers.\n * @module ServiceConnector\n */\nvar ServiceConnector = {\n    // client_id is a 12 byte cryptographically secure random hex\n    // identifying the SDK instance and is generated during SDK initialization/\n    // This is required when reporting sampling to X-Ray back-end.\n    clientId: crypto.randomBytes(12).toString('hex'),\n    samplingRulesPath: '/GetSamplingRules',\n    samplingTargetsPath: '/SamplingTargets',\n    logger: logger,\n    httpClient: http,\n    fetchSamplingRules: function fetchSamplingRules(callback) {\n        const body = '{}'; // Payload needed for GetSamplingRules POST request\n        const options = getOptions(this.samplingRulesPath, body.length);\n        const httpReq = this.httpClient.__request ? this.httpClient.__request : this.httpClient.request;\n        const req = httpReq(options, res => {\n            var data = '';\n            res.on('data', d => {\n                data += d;\n            });\n            res.on('error', error => {\n                callback(error);\n            });\n            res.on('end', () => {\n                var dataObj;\n                try {\n                    dataObj = JSON.parse(data);\n                }\n                catch (err) {\n                    callback(err);\n                    return;\n                }\n                if (!dataObj) {\n                    callback(new Error('AWS X-Ray GetSamplingRules API returned empty response'));\n                    return;\n                }\n                var newRules = assembleRules(dataObj);\n                callback(null, newRules);\n            });\n        });\n        req.on('error', () => {\n            callback(new Error(`Failed to connect to X-Ray daemon at ${options.hostname}:${options.port} to get sampling rules.`));\n        });\n        req.write(body);\n        req.end();\n    },\n    fetchTargets: function fetchTargets(rules, callback) {\n        const body = JSON.stringify(constructStatisticsDocs(rules));\n        const options = getOptions(this.samplingTargetsPath, body.length);\n        const httpReq = this.httpClient.__request ? this.httpClient.__request : this.httpClient.request;\n        const req = httpReq(options, res => {\n            var data = '';\n            res.on('data', d => {\n                data += d;\n            });\n            res.on('error', error => {\n                callback(error);\n            });\n            res.on('end', () => {\n                var dataObj;\n                try {\n                    dataObj = JSON.parse(data);\n                }\n                catch (err) {\n                    callback(err);\n                    return;\n                }\n                if (!dataObj || typeof dataObj['LastRuleModification'] != 'number') {\n                    callback(new Error('AWS X-Ray SamplingTargets API returned invalid response'));\n                    return;\n                }\n                var targetsMapping = assembleTargets(dataObj);\n                var ruleFreshness = dateToEpoch(dataObj['LastRuleModification']);\n                callback(null, targetsMapping, ruleFreshness);\n            });\n        });\n        req.on('error', () => {\n            callback(new Error(`Failed to connect to X-Ray daemon at ${options.hostname}:${options.port} to get sampling targets.`));\n        });\n        req.write(body);\n        req.end();\n    }\n};\nvar constructStatisticsDocs = function constructStatisticsDocs(rules) {\n    var documents = [];\n    var now = Math.floor(new Date().getTime() / 1000);\n    rules.forEach(function (rule) {\n        var statistics = rule.snapshotStatistics();\n        var doc = {\n            'RuleName': rule.getName(),\n            'ClientID': ServiceConnector.clientId,\n            'RequestCount': statistics.requestCount,\n            'BorrowCount': statistics.borrowCount,\n            'SampledCount': statistics.sampledCount,\n            'Timestamp': now\n        };\n        documents.push(doc);\n    });\n    return { SamplingStatisticsDocuments: documents };\n};\nvar assembleRules = function assembleRules(data) {\n    var newRules = [];\n    var ruleList = data['SamplingRuleRecords'] || [];\n    ruleList.forEach(function (ruleRecord) {\n        ruleRecord = ruleRecord['SamplingRule'];\n        // For forward compatibility reason right now it only\n        // deals with version 1 sampling rules.\n        if (isRuleValid(ruleRecord)) {\n            var newRule = new SamplingRule(ruleRecord['RuleName'], ruleRecord['Priority'], ruleRecord['FixedRate'], ruleRecord['ReservoirSize'], ruleRecord['Host'], ruleRecord['HTTPMethod'], ruleRecord['URLPath'], ruleRecord['ServiceName'], ruleRecord['ServiceType']);\n            newRules.push(newRule);\n        }\n    });\n    return newRules;\n};\nvar assembleTargets = function assembleTargets(data) {\n    var docs = data['SamplingTargetDocuments'] || [];\n    var targetsMapping = {};\n    docs.forEach(function (doc) {\n        var newTarget = {\n            rate: doc['FixedRate'],\n            quota: doc['ReservoirQuota'],\n            TTL: dateToEpoch(doc['ReservoirQuotaTTL']),\n            interval: doc['Interval']\n        };\n        targetsMapping[doc['RuleName']] = newTarget;\n    });\n    return targetsMapping;\n};\nvar isRuleValid = function isRuleValid(record) {\n    return record['Version'] === 1\n        && record['ResourceARN'] === '*'\n        && record['Attributes'] && Object.keys(record['Attributes']).length === 0\n        && record['ServiceType']\n        && record['RuleName']\n        && record['Priority']\n        && typeof record['FixedRate'] == 'number';\n};\nvar dateToEpoch = function dateToEpoch(date) {\n    return new Date(date).getTime() / 1000;\n};\nvar getOptions = function getOptions(path, contentLength) {\n    const options = {\n        hostname: DaemonConfig.tcp_ip,\n        port: DaemonConfig.tcp_port,\n        method: 'POST',\n        path: path,\n        headers: {\n            'Content-Type': 'application/json',\n            'Content-Length': contentLength,\n            'Host': util.format('%s:%d', DaemonConfig.tcp_ip, DaemonConfig.tcp_port)\n        }\n    };\n    return options;\n};\nmodule.exports = ServiceConnector;\n", "\"use strict\";\nvar TTL = 60 * 60; // The cache expires 1 hour after the last refresh time.\n/**\n * The rule cache that stores sampling rules fetched from X-Ray service.\n * @module RuleCache\n */\nvar RuleCache = {\n    rules: [],\n    lastUpdated: null,\n    /**\n     * Tries to find a valid rule that matches the sample request.\n     * @param {object} sampleRequest - Contains information for rules matching.\n     * @param {number} now - Current epoch in seconds.\n     * @module RuleCache\n     * @function getMatchedRule\n     */\n    getMatchedRule: function getMatchedRule(sampleRequest, now) {\n        if (isExpired(now)) {\n            return null;\n        }\n        var matchedRule;\n        this.rules.forEach(function (rule) {\n            if (!matchedRule && rule.match(sampleRequest)) {\n                matchedRule = rule;\n            }\n            if (rule.isDefault() && !matchedRule) {\n                matchedRule = rule;\n            }\n        });\n        return matchedRule;\n    },\n    /**\n     * Load rules fetched from X-Ray service in order sorted by priorities.\n     * @param {object} rules - Newly fetched rules to load.\n     * @module RuleCache\n     * @function loadRules\n     */\n    loadRules: function loadRules(rules) {\n        // Record the old rules for later merging.\n        var oldRules = {};\n        this.rules.forEach(function (rule) {\n            oldRules[rule.getName()] = rule;\n        });\n        // Update the rules in the cache.\n        this.rules = rules;\n        // Transfer state information to refreshed rules.\n        this.rules.forEach(function (rule) {\n            var oldRule = oldRules[rule.getName()];\n            if (oldRule) {\n                rule.merge(oldRule);\n            }\n        });\n        // The cache should maintain the order of the rules based on\n        // priority. If priority is the same we sort name by alphabet\n        // as rule name is unique.\n        this.rules.sort(function (a, b) {\n            var v = a.getPriority() - b.getPriority();\n            if (v !== 0) {\n                return v;\n            }\n            if (a.getName() > b.getName()) {\n                return 1;\n            }\n            else {\n                return -1;\n            }\n        });\n    },\n    /**\n     * Load targets fetched from X-Ray service.\n     * @param {object} targetsMapping - Newly fetched targets map with rule name as key.\n     * @module RuleCache\n     * @function loadTargets\n     */\n    loadTargets: function loadTargets(targetsMapping) {\n        this.rules.forEach(function (rule) {\n            var target = targetsMapping[rule.getName()];\n            if (target) {\n                rule.getReservoir().loadNewQuota(target.quota, target.TTL, target.interval);\n                rule.setRate(target.rate);\n            }\n        });\n    },\n    getRules: function getRules() {\n        return this.rules;\n    },\n    timestamp: function timestamp(now) {\n        this.lastUpdated = now;\n    },\n    getLastUpdated: function getLastUpdated() {\n        return this.lastUpdated;\n    }\n};\nvar isExpired = function isExpired(now) {\n    // The cache is considered expired if it is never loaded.\n    if (!RuleCache.getLastUpdated()) {\n        return true;\n    }\n    return now > RuleCache.getLastUpdated() + TTL;\n};\nmodule.exports = RuleCache;\n", "\"use strict\";\nvar logger = require('../../logger');\nvar ServiceConnector = require('./service_connector');\nvar ruleCache = require('./rule_cache');\nvar DEFAULT_INTERVAL = 5 * 60 * 1000; // 5 minutes on sampling rules fetch\n/**\n * The RulePoller that periodically fetch sampling rules from X-Ray service\n * and load them into RuleCache.\n * @module RulePoller\n */\nvar RulePoller = {\n    start: function start() {\n        if (this.poller) {\n            clearInterval(this.poller);\n        }\n        // Refresh sampling rules cache with no jitter upon start.\n        refresh(false);\n        this.poller = setInterval(refresh, DEFAULT_INTERVAL);\n        this.poller.unref();\n    },\n};\nvar refresh = function refresh(jitter) {\n    // Add jitter by default unless explicitly told not to.\n    jitter = typeof jitter === 'undefined' ? true : jitter;\n    if (jitter) {\n        var delay = getJitter();\n        setTimeout(refreshWithFirewall, delay);\n    }\n    else {\n        refreshWithFirewall();\n    }\n};\nvar refreshWithFirewall = function refreshWithFirewall() {\n    try {\n        refreshCache();\n    }\n    catch (e) {\n        logger.getLogger().warn('Encountered unexpected exception when fetching sampling rules: ' + e);\n    }\n};\nvar refreshCache = function refreshCache() {\n    // Timestamp should be generated *before* the actual outbound call to ensure\n    // we don't mark the cache as being fresher than it actually is.\n    var now = Math.floor(new Date().getTime() / 1000);\n    // Pass a callback that only runs when the new rules are\n    // successfully fetched.\n    ServiceConnector.fetchSamplingRules(function (err, newRules) {\n        if (err) {\n            logger.getLogger().warn('Failed to retrieve sampling rules from X-Ray service:', err);\n        }\n        else if (newRules.length !== 0) {\n            ruleCache.loadRules(newRules);\n            ruleCache.timestamp(now);\n            logger.getLogger().info('Successfully refreshed centralized sampling rule cache.');\n        }\n    });\n};\n// A random jitter of up to 5 seconds is injected after every run to ensure\n// the calls eventually get evenly distributed over the 5 minute window.\nvar getJitter = function getJitter() {\n    return Math.random() * 5;\n};\nmodule.exports = RulePoller;\n", "\"use strict\";\nvar rulePoller = require('./rule_poller');\nvar serviceConnector = require('./service_connector');\nvar ruleCache = require('./rule_cache');\nvar logger = require('../../logger');\nvar DEFAULT_INTERVAL = 10 * 1000; // 10 seconds on sampling targets fetch\n/**\n * The TargetPoller that periodically fetch sampling targets from X-Ray service\n * and load them into RuleCache.\n * @module TargetPoller\n */\nvar TargetPoller = {\n    interval: DEFAULT_INTERVAL,\n    start: function start() {\n        this.poller = setInterval(refreshWithFirewall, DEFAULT_INTERVAL + getJitter());\n        this.poller.unref();\n    },\n};\nvar refreshWithFirewall = function refreshWithFirewall() {\n    try {\n        refresh();\n    }\n    catch (e) {\n        logger.getLogger().warn('Encountered unexpected exception when fetching sampling targets: ' + e);\n    }\n};\nvar refresh = function refresh() {\n    var candidates = getCandidates();\n    if (candidates && candidates.length > 0) {\n        serviceConnector.fetchTargets(candidates, function (err, targetsMapping, ruleFreshness) {\n            if (err) {\n                logger.getLogger().warn('Failed to retrieve sampling targets from X-Ray service:', err);\n                return;\n            }\n            ruleCache.loadTargets(targetsMapping);\n            if (ruleFreshness > ruleCache.getLastUpdated()) {\n                logger.getLogger().info('Performing out-of-band sampling rule polling to fetch updated rules.');\n                rulePoller.start();\n            }\n            logger.getLogger().info('Successfully reported rule statistics to get new sampling quota.');\n        });\n    }\n};\n// Don't report a rule statistics if any of the conditions is met:\n// 1. The report time hasn't come (some rules might have larger report intervals).\n// 2. The rule is never matched.\nvar getCandidates = function getCandidates() {\n    var rules = ruleCache.getRules();\n    var candidates = [];\n    rules.forEach(function (rule) {\n        if (rule.everMatched() && rule.timeToReport()) {\n            candidates.push(rule);\n        }\n    });\n    return candidates;\n};\n// A random jitter of up to 0.1 seconds is injected after every run to ensure\n// the calls eventually get evenly distributed over the 10 second window.\nvar getJitter = function getJitter() {\n    return Math.random() / TargetPoller.interval;\n};\nmodule.exports = TargetPoller;\n", "\"use strict\";\nvar logger = require('../../logger');\nconst util = require('util');\nvar SegmentUtils = require('../../segments/segment_utils');\n/**\n * The default sampler used to make sampling decisions when the decisions are absent in the incoming requests.\n * The sampler use pollers to poll sampling rules from X-Ray service.\n * @module DefaultSampler\n */\nvar DefaultSampler = {\n    localSampler: require('./local_sampler'),\n    rulePoller: require('./rule_poller'),\n    targetPoller: require('./target_poller'),\n    ruleCache: require('./rule_cache'),\n    started: false,\n    /**\n     * Makes a sample decision based on the sample request.\n     * @param {object} sampleRequest - Contains information for rules matching.\n     * @module DefaultSampler\n     * @function shouldSample\n     */\n    shouldSample: function shouldSample(sampleRequest) {\n        try {\n            if (!this.started) {\n                this.start();\n            }\n            if (!sampleRequest.serviceType) {\n                sampleRequest.serviceType = SegmentUtils.origin;\n            }\n            var now = Math.floor(new Date().getTime() / 1000);\n            var matchedRule = this.ruleCache.getMatchedRule(sampleRequest, now);\n            if (matchedRule) {\n                logger.getLogger().debug(util.format('Rule %s is matched.', matchedRule.getName()));\n                return processMatchedRule(matchedRule, now);\n            }\n            else {\n                logger.getLogger().info('No effective centralized sampling rule match. Fallback to local rules.');\n                return this.localSampler.shouldSample(sampleRequest);\n            }\n        }\n        catch (err) {\n            logger.getLogger().error('Unhandled exception by the SDK during making sampling decisions: ' + err);\n        }\n    },\n    /**\n     * Set local rules in case there is a need to fallback.\n     * @module DefaultSampler\n     * @function setLocalRules\n     */\n    setLocalRules: function setLocalRules(source) {\n        this.localSampler.setLocalRules(source);\n    },\n    /**\n     * Start the pollers to poll sampling rules and targets from X-Ray service.\n     * @module DefaultSampler\n     * @function start\n     */\n    start: function start() {\n        if (!this.started) {\n            this.rulePoller.start();\n            this.targetPoller.start();\n            this.started = true;\n        }\n    }\n};\nvar processMatchedRule = function processMatchedRule(rule, now) {\n    // As long as a rule is matched we increment request counter.\n    rule.incrementRequestCount();\n    var reservoir = rule.getReservoir();\n    var sample = true;\n    // We check if we can borrow or take from reservoir first.\n    var decision = reservoir.borrowOrTake(now, rule.canBorrow());\n    if (decision === 'borrow') {\n        rule.incrementBorrowCount();\n    }\n    else if (decision === 'take') {\n        rule.incrementSampledCount();\n    }\n    else if (Math.random() <= rule.getRate()) {\n        // Otherwise we compute based on FixedRate of this sampling rule.\n        rule.incrementSampledCount();\n    }\n    else {\n        sample = false;\n    }\n    if (sample) {\n        return rule.getName();\n    }\n    else {\n        return false;\n    }\n};\nmodule.exports = DefaultSampler;\n", "\"use strict\";\n/**\n * Middleware Utils module.\n *\n * Exposes various configuration and helper methods to be used by the middleware.\n * @module mw_utils\n */\nvar Segment = require('../segments/segment');\nvar IncomingRequestData = require('./incoming_request_data');\nvar logger = require('../logger');\nvar coreUtils = require('../utils');\nvar wildcardMatch = require('../utils').wildcardMatch;\nvar processTraceData = require('../utils').processTraceData;\n//headers are case-insensitive\nvar XRAY_HEADER = 'x-amzn-trace-id';\nvar overrideFlag = !!process.env.AWS_XRAY_TRACING_NAME;\nvar utils = {\n    defaultName: process.env.AWS_XRAY_TRACING_NAME,\n    dynamicNaming: false,\n    hostPattern: null,\n    sampler: require('./sampling/default_sampler'),\n    /**\n     * Enables dynamic naming for segments via the middleware. Use 'AWSXRay.middleware.enableDynamicNaming()'.\n     * @param {string} [hostPattern] - The pattern to match the host header. See the README on dynamic and fixed naming modes.\n     * @alias module:mw_utils.enableDynamicNaming\n     */\n    enableDynamicNaming: function (hostPattern) {\n        this.dynamicNaming = true;\n        if (hostPattern && typeof hostPattern !== 'string') {\n            throw new Error('Host pattern must be a string.');\n        }\n        this.hostPattern = hostPattern || null;\n    },\n    /**\n     * Splits out the 'x-amzn-trace-id' header params from the incoming request.  Used by the middleware.\n     * @param {http.IncomingMessage|https.IncomingMessage} req - The request object from the incoming call.\n     * @returns {object}\n     * @alias module:mw_utils.processHeaders\n     */\n    processHeaders: function processHeaders(req) {\n        var amznTraceHeader = {};\n        if (req && req.headers && req.headers[XRAY_HEADER]) {\n            amznTraceHeader = processTraceData(req.headers[XRAY_HEADER]);\n        }\n        return amznTraceHeader;\n    },\n    /**\n     * Resolves the name of the segment as determined by fixed or dynamic mode options. Used by the middleware.\n     * @param {string} hostHeader - The string from the request.headers.host property.\n     * @returns {string}\n     * @alias module:mw_utils.resolveName\n     */\n    resolveName: function resolveName(hostHeader) {\n        var name;\n        if (this.dynamicNaming && hostHeader) {\n            name = this.hostPattern ? (wildcardMatch(this.hostPattern, hostHeader) ? hostHeader : this.defaultName) : hostHeader;\n        }\n        else {\n            name = this.defaultName;\n        }\n        return name;\n    },\n    /**\n     * Resolves the sampling decision as determined by the values given and options set. Used by the middleware.\n     * @param {object} amznTraceHeader - The object as returned by the processHeaders function.\n     * @param {Segment} segment - The string from the request.headers.host property.\n     * @param {http.ServerResponse|https.ServerResponse} res - The response object from the incoming call.\n     * @returns {boolean}\n     * @alias module:mw_utils.resolveSampling\n     */\n    resolveSampling: function resolveSampling(amznTraceHeader, segment, res) {\n        var isSampled;\n        if (amznTraceHeader.sampled === '1') {\n            isSampled = true;\n        }\n        else if (amznTraceHeader.sampled === '0') {\n            isSampled = false;\n        }\n        else {\n            var sampleRequest = {\n                host: res.req.headers.host,\n                httpMethod: res.req.method,\n                urlPath: res.req.url,\n                serviceName: segment.name\n            };\n            isSampled = this.sampler.shouldSample(sampleRequest);\n            if (isSampled instanceof String || typeof isSampled === 'string') {\n                segment.setMatchedSamplingRule(isSampled);\n                isSampled = true;\n            }\n        }\n        if (amznTraceHeader.sampled === '?' && res.header) {\n            res.header(XRAY_HEADER, 'Root=' + amznTraceHeader.root + ';Sampled=' + (isSampled ? '1' : '0'));\n        }\n        if (!isSampled) {\n            segment.notTraced = true;\n        }\n    },\n    /**\n     * Sets the default name of created segments. Used with the middleware.\n     * Can be overridden by the AWS_XRAY_TRACING_NAME environment variable.\n     * @param {string} name - The default name for segments created in the middleware.\n     * @alias module:mw_utils.setDefaultName\n     */\n    setDefaultName: function setDefaultName(name) {\n        if (!overrideFlag) {\n            this.defaultName = name;\n        }\n    },\n    disableCentralizedSampling: function disableCentralizedSampling() {\n        this.sampler = require('./sampling/local_sampler');\n    },\n    /**\n     * Overrides the default sampling rules file to specify at what rate to sample at for specific routes.\n     * The base sampling rules file can be found at /lib/resources/default_sampling_rules.json\n     * @param {string|Object} source - The path to the custom sampling rules file, or the source JSON object.\n     * @memberof AWSXRay\n     */\n    setSamplingRules: function setSamplingRules(source) {\n        if (!source || source instanceof String || !(typeof source === 'string' || (source instanceof Object))) {\n            throw new Error('Please specify a path to the local sampling rules file, or supply an object containing the rules.');\n        }\n        this.sampler.setLocalRules(source);\n    },\n    /**\n     * Logs a debug message including core request and segment information\n     * @param {string} message - The message to be logged\n     * @param {string} url - The request url being traced\n     * @param {Segment} - The current segment\n     */\n    middlewareLog: function middlewareLog(message, url, segment) {\n        logger.getLogger().debug(message + ': { url: ' + url + ', name: ' + segment.name + ', trace_id: ' +\n            segment.trace_id + ', id: ' + segment.id + ', sampled: ' + !segment.notTraced + ' }');\n    },\n    /**\n     * Traces the request/response cycle of an http.IncomingMessage / http.ServerResponse pair.\n     * Resolves sampling rules, creates a segment, adds the core request / response data adding\n     * throttling / error / fault flags based on the response status code.\n     * @param {http.IncomingMessage} req - The incoming request.\n     * @param {http.ServerResponse} res - The server response.\n     * @returns {Segment}\n     * @memberof AWSXRay\n     */\n    traceRequestResponseCycle: function traceRequestResponseCycle(req, res) {\n        var amznTraceHeader = this.processHeaders(req);\n        var name = this.resolveName(req.headers.host);\n        var segment = new Segment(name, amznTraceHeader.root, amznTraceHeader.parent);\n        if (!res.req) {\n            res.req = req;\n        }\n        this.resolveSampling(amznTraceHeader, segment, res);\n        segment.addIncomingRequestData(new IncomingRequestData(req));\n        this.middlewareLog('Starting middleware segment', req.url, segment);\n        var middlewareLog = this.middlewareLog;\n        var didEnd = false;\n        var endSegment = function () {\n            // ensure `endSegment` is only called once\n            // in some versions of node.js 10.x and in all versions of node.js 11.x and higher,\n            // the 'finish' and 'close' event are BOTH triggered.\n            // Previously, only one or the other was triggered:\n            // https://github.com/nodejs/node/pull/20611\n            if (didEnd) {\n                return;\n            }\n            didEnd = true;\n            if (res.statusCode === 429) {\n                segment.addThrottleFlag();\n            }\n            const cause = coreUtils.getCauseTypeFromHttpStatus(res.statusCode);\n            if (cause) {\n                segment[cause] = true;\n            }\n            segment.http.close(res);\n            segment.close();\n            middlewareLog('Closed middleware segment successfully', req.url, segment);\n        };\n        res.on('finish', endSegment);\n        res.on('close', endSegment);\n        return segment;\n    }\n};\nmodule.exports = utils;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvokeStore = void 0;\nconst async_hooks_1 = require(\"async_hooks\");\n// AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA provides an escape hatch since we're modifying the global object which may not be expected to a customer's handler.\nconst noGlobalAwsLambda = process.env[\"AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA\"] === \"1\" ||\n    process.env[\"AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA\"] === \"true\";\nif (!noGlobalAwsLambda) {\n    globalThis.awslambda = globalThis.awslambda || {};\n}\nconst PROTECTED_KEYS = {\n    REQUEST_ID: Symbol(\"_AWS_LAMBDA_REQUEST_ID\"),\n    X_RAY_TRACE_ID: Symbol(\"_AWS_LAMBDA_X_RAY_TRACE_ID\"),\n};\n/**\n * InvokeStore implementation class\n */\nclass InvokeStoreImpl {\n    static storage = new async_hooks_1.AsyncLocalStorage();\n    // Protected keys for Lambda context fields\n    static PROTECTED_KEYS = PROTECTED_KEYS;\n    /**\n     * Initialize and run code within an invoke context\n     */\n    static run(context, fn) {\n        return this.storage.run({ ...context }, fn);\n    }\n    /**\n     * Get the complete current context\n     */\n    static getContext() {\n        return this.storage.getStore();\n    }\n    /**\n     * Get a specific value from the context by key\n     */\n    static get(key) {\n        const context = this.storage.getStore();\n        return context?.[key];\n    }\n    /**\n     * Set a custom value in the current context\n     * Protected Lambda context fields cannot be overwritten\n     */\n    static set(key, value) {\n        if (this.isProtectedKey(key)) {\n            throw new Error(`Cannot modify protected Lambda context field`);\n        }\n        const context = this.storage.getStore();\n        if (context) {\n            context[key] = value;\n        }\n    }\n    /**\n     * Get the current request ID\n     */\n    static getRequestId() {\n        return this.get(this.PROTECTED_KEYS.REQUEST_ID) ?? \"-\";\n    }\n    /**\n     * Get the current X-ray trace ID\n     */\n    static getXRayTraceId() {\n        return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID);\n    }\n    /**\n     * Check if we're currently within an invoke context\n     */\n    static hasContext() {\n        return this.storage.getStore() !== undefined;\n    }\n    /**\n     * Check if a key is protected (readonly Lambda context field)\n     */\n    static isProtectedKey(key) {\n        return (key === this.PROTECTED_KEYS.REQUEST_ID ||\n            key === this.PROTECTED_KEYS.X_RAY_TRACE_ID);\n    }\n}\nlet instance;\nif (!noGlobalAwsLambda && globalThis.awslambda?.InvokeStore) {\n    instance = globalThis.awslambda.InvokeStore;\n}\nelse {\n    instance = InvokeStoreImpl;\n    if (!noGlobalAwsLambda && globalThis.awslambda) {\n        globalThis.awslambda.InvokeStore = instance;\n    }\n}\nexports.InvokeStore = instance;\n", "\"use strict\";\nvar contextUtils = require('../context_utils');\nvar mwUtils = require('../middleware/mw_utils');\nvar LambdaUtils = require('../utils').LambdaUtils;\nvar Segment = require('../segments/segment');\nvar SegmentEmitter = require('../segment_emitter');\nvar SegmentUtils = require('../segments/segment_utils');\nvar logger = require('../logger');\nconst TraceID = require('../segments/attributes/trace_id');\nconst { InvokeStore } = require('@aws/lambda-invoke-store');\n/**\n * @namespace\n * @ignore\n */\nvar xAmznTraceIdPrev = null;\n/**\n* Used to initialize segments on AWS Lambda with extra data from the context.\n*/\nmodule.exports.init = function init() {\n    contextUtils.enableManualMode = function () {\n        logger.getLogger().warn('AWS Lambda does not support AWS X-Ray manual mode.');\n    };\n    SegmentEmitter.disableReusableSocket();\n    SegmentUtils.setStreamingThreshold(0);\n    /**\n     * Disabling all centralized sampling in Lambda environments. The sampling decisions would be\n     * uselessly applied to the facade segment, and the sampling pollers were causing errors.\n     *\n     * See: https://github.com/aws/aws-xray-sdk-node/issues/217\n     */\n    logger.getLogger().info('Disabling centralized sampling in Lambda environment.');\n    mwUtils.disableCentralizedSampling();\n    var namespace = contextUtils.getNamespace();\n    namespace.enter(namespace.createContext());\n    contextUtils.setSegment(facadeSegment());\n};\nvar facadeSegment = function facadeSegment() {\n    var segment = new Segment('facade');\n    var whitelistFcn = ['addNewSubsegment', 'addSubsegment', 'removeSubsegment', 'toString', 'addSubsegmentWithoutSampling', 'addNewSubsegmentWithoutSampling'];\n    var silentFcn = ['incrementCounter', 'decrementCounter', 'isClosed', 'close', 'format', 'flush'];\n    var xAmznTraceId = process.env._X_AMZN_TRACE_ID;\n    for (var key in segment) {\n        if (typeof segment[key] === 'function' && whitelistFcn.indexOf(key) === -1) {\n            if (silentFcn.indexOf(key) === -1) {\n                segment[key] = (function () {\n                    var func = key;\n                    return function facade() {\n                        logger.getLogger().warn('Function \"' + func + '\" cannot be called on an AWS Lambda segment. Please use a subsegment to record data.');\n                        return;\n                    };\n                })();\n            }\n            else {\n                segment[key] = function facade() {\n                    return;\n                };\n            }\n        }\n    }\n    segment.trace_id = TraceID.Invalid().toString();\n    segment.isClosed = function () {\n        return true;\n    };\n    segment.in_progress = false;\n    segment.counter = 1;\n    segment.notTraced = true;\n    segment.facade = true;\n    segment.reset = function reset() {\n        this.trace_id = TraceID.Invalid().toString();\n        this.id = '00000000';\n        delete this.subsegments;\n        this.notTraced = true;\n    };\n    segment.resolveLambdaTraceData = function resolveLambdaTraceData() {\n        const traceIdFromInvokeStore = InvokeStore.getXRayTraceId();\n        const traceIdFromEnv = process.env._X_AMZN_TRACE_ID;\n        var xAmznLambda = traceIdFromInvokeStore !== null && traceIdFromInvokeStore !== void 0 ? traceIdFromInvokeStore : traceIdFromEnv;\n        if (xAmznLambda) {\n            // This check resets the trace data whenever a new trace header is read to not leak data between invocations\n            if (xAmznLambda != xAmznTraceIdPrev) {\n                this.reset();\n                if (LambdaUtils.populateTraceData(segment, xAmznLambda)) {\n                    xAmznTraceIdPrev = xAmznLambda;\n                }\n            }\n        }\n        else {\n            this.reset();\n            contextUtils.contextMissingStrategy.contextMissing('Missing AWS Lambda trace data for X-Ray. ' +\n                'Ensure Active Tracing is enabled and no subsegments are created outside the function handler.');\n        }\n    };\n    // Test for valid trace data during SDK startup. It's likely we're still in the cold-start portion of the\n    // code at this point and a valid trace header has not been set\n    if (LambdaUtils.validTraceData(xAmznTraceId)) {\n        if (LambdaUtils.populateTraceData(segment, xAmznTraceId)) {\n            xAmznTraceIdPrev = xAmznTraceId;\n        }\n    }\n    return segment;\n};\n", "{\n  \"name\": \"aws-xray-sdk-core\",\n  \"version\": \"3.11.0\",\n  \"description\": \"AWS X-Ray SDK for Javascript\",\n  \"author\": \"Amazon Web Services\",\n  \"contributors\": [\n    \"Sandra McMullen <mcmuls@amazon.com>\",\n    \"William Armiros <armiros@amazon.com>\",\n    \"Moritz Onken <onken@netcubed.de>\"\n  ],\n  \"files\": [\n    \"dist/lib/**/*\",\n    \"LICENSE\",\n    \"README.md\"\n  ],\n  \"main\": \"dist/lib/index.js\",\n  \"types\": \"dist/lib/index.d.ts\",\n  \"engines\": {\n    \"node\": \">= 14.x\"\n  },\n  \"directories\": {\n    \"test\": \"test\"\n  },\n  \"//\": \"@types/cls-hooked is exposed in API so must be in dependencies, not devDependencies\",\n  \"dependencies\": {\n    \"@aws-sdk/types\": \"^3.4.1\",\n    \"@aws/lambda-invoke-store\": \"^0.0.1\",\n    \"@smithy/service-error-classification\": \"^2.0.4\",\n    \"@types/cls-hooked\": \"^4.3.3\",\n    \"atomic-batcher\": \"^1.0.2\",\n    \"cls-hooked\": \"^4.2.2\",\n    \"semver\": \"^7.5.3\"\n  },\n  \"scripts\": {\n    \"prepare\": \"npm run compile\",\n    \"compile\": \"tsc && npm run copy-lib && npm run copy-test\",\n    \"copy-lib\": \"find lib -type f \\\\( -name '*.d.ts' -o -name '*.json' \\\\) | xargs -I % ../../scripts/cp-with-structure.sh % dist\",\n    \"copy-test\": \"find test -name '*.json' | xargs -I % ../../scripts/cp-with-structure.sh % dist\",\n    \"lint\": \"eslint .\",\n    \"lint:fix\": \"eslint . --fix\",\n    \"test\": \"npm run compile && mocha --recursive ./dist/test/ -R spec && tsd && mocha --recursive ./dist/test_async/ -R spec\",\n    \"test-d\": \"tsd\",\n    \"test-async\": \"npm run compile && mocha --recursive ./dist/test_async/ -R spec\",\n    \"clean\": \"rm -rf dist && rm -rf node_modules\",\n    \"testcov\": \"nyc npm run test\",\n    \"reportcov\": \"nyc report --reporter=text-lcov > coverage.lcov\"\n  },\n  \"keywords\": [\n    \"amazon\",\n    \"api\",\n    \"aws\",\n    \"core\",\n    \"xray\",\n    \"x-ray\",\n    \"x ray\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"repository\": \"https://github.com/aws/aws-xray-sdk-node/tree/master/packages/core\",\n  \"gitHead\": \"4e6f43ed3c4686418c2139d4b86ab5513e0ca8ed\"\n}\n", "\"use strict\";\nvar http = require('http');\nvar Plugin = {\n    METADATA_TIMEOUT: 1000,\n    /**\n     * Asynchronously retrieves metadata from on-instance endpoint with an HTTP request using retries for\n     * requests that time out.\n     * @param {object} options - The HTTP options to make the request with\n     * @param {function} callback - callback to plugin\n     */\n    getPluginMetadata: function (options, callback) {\n        const METADATA_RETRY_TIMEOUT = 250; // Millis\n        const METADATA_RETRIES = 5;\n        var retries = METADATA_RETRIES;\n        var getMetadata = function () {\n            var httpReq = http.__request ? http.__request : http.request;\n            var req = httpReq(options, function (res) {\n                var body = '';\n                res.on('data', function (chunk) {\n                    body += chunk;\n                });\n                res.on('end', function () {\n                    if (this.statusCode === 200 || this.statusCode === 300) {\n                        try {\n                            body = JSON.parse(body);\n                        }\n                        catch (e) {\n                            callback(e);\n                            return;\n                        }\n                        callback(null, body);\n                    }\n                    else if (retries > 0 && Math.floor(this.statusCode / 100) === 5) {\n                        retries--;\n                        setTimeout(getMetadata, METADATA_RETRY_TIMEOUT);\n                    }\n                    else {\n                        callback(new Error(`Failed to retrieve metadata with options: ${options}`));\n                    }\n                });\n            });\n            req.on('error', function (err) {\n                callback(err);\n            });\n            req.on('timeout', function () {\n                req.abort();\n            });\n            req.setTimeout(Plugin.METADATA_TIMEOUT);\n            req.end();\n        };\n        getMetadata();\n    }\n};\nmodule.exports = Plugin;\n", "\"use strict\";\nvar Plugin = require('./plugin');\nvar logger = require('../../logger');\nvar http = require('http');\nvar EC2Plugin = {\n    /**\n     * A function to get the instance data from the EC2 metadata service.\n     * @param {function} callback - The callback for the plugin loader.\n     */\n    getData: function (callback) {\n        const METADATA_PATH = '/latest/dynamic/instance-identity/document';\n        function populateMetadata(token) {\n            const options = getOptions(METADATA_PATH, 'GET', token ? { 'X-aws-ec2-metadata-token': token } : {});\n            Plugin.getPluginMetadata(options, function (err, data) {\n                if (err || !data) {\n                    logger.getLogger().error('Error loading EC2 plugin metadata: ', err ? err.toString() : 'Could not retrieve data from IMDS.');\n                    callback();\n                    return;\n                }\n                const metadata = {\n                    ec2: {\n                        instance_id: data.instanceId,\n                        availability_zone: data.availabilityZone,\n                        instance_size: data.instanceType,\n                        ami_id: data.imageId\n                    }\n                };\n                callback(metadata);\n            });\n        }\n        /**\n         * This kicks off a requet to get a token used for requests to IMDSv2. If the request for the token\n         * fails, we fall back to IMDSv1. Otherwise, the token will be used for an IMDSv2 request.\n         */\n        getToken(function (token) {\n            if (token === null) {\n                logger.getLogger().debug('EC2Plugin failed to get token from IMDSv2. Falling back to IMDSv1.');\n            }\n            populateMetadata(token);\n        });\n    },\n    originName: 'AWS::EC2::Instance'\n};\n/**\n * Asynchronously retrieves a token used in requests to EC2 instance metadata service.\n * @param {function} callback - callback to plugin\n */\nfunction getToken(callback) {\n    const httpReq = http.__request ? http.__request : http.request;\n    const TTL = 60; //seconds\n    const TOKEN_PATH = '/latest/api/token';\n    const options = getOptions(TOKEN_PATH, 'PUT', {\n        'X-aws-ec2-metadata-token-ttl-seconds': TTL\n    });\n    let req = httpReq(options, function (res) {\n        let body = '';\n        res.on('data', function (chunk) {\n            body += chunk;\n        });\n        res.on('end', function () {\n            if (this.statusCode === 200 || this.statusCode === 300) {\n                callback(body);\n            }\n            else {\n                callback(null);\n            }\n        });\n    });\n    req.on('error', function () {\n        callback(null);\n    });\n    req.on('timeout', function () {\n        req.abort();\n        callback(null);\n    });\n    req.setTimeout(Plugin.METADATA_TIMEOUT);\n    req.end();\n}\nfunction getOptions(path, method, headers) {\n    if (!method) {\n        method = 'GET';\n    }\n    if (!headers) {\n        headers = {};\n    }\n    return {\n        host: '169.254.169.254',\n        path: path,\n        method: method,\n        headers: headers\n    };\n}\nmodule.exports = EC2Plugin;\n", "\"use strict\";\nvar os = require('os');\nvar ECSPlugin = {\n    /**\n     * A function to get the instance data from the ECS instance.\n     * @param {function} callback - The callback for the plugin loader.\n     */\n    getData: function (callback) {\n        callback({ ecs: { container: os.hostname() } });\n    },\n    originName: 'AWS::ECS::Container'\n};\nmodule.exports = ECSPlugin;\n", "\"use strict\";\nvar fs = require('fs');\nvar logger = require('../../logger');\nvar ENV_CONFIG_LOCATION = '/var/elasticbeanstalk/xray/environment.conf';\nvar ElasticBeanstalkPlugin = {\n    /**\n     * A function to get data from the Elastic Beanstalk environment configuration file.\n     * @param {function} callback - The callback for the plugin loader.\n     */\n    getData: function (callback) {\n        fs.readFile(ENV_CONFIG_LOCATION, 'utf8', function (err, rawData) {\n            if (err) {\n                logger.getLogger().error('Error loading Elastic Beanstalk plugin:', err.stack);\n                callback();\n            }\n            else {\n                var data = JSON.parse(rawData);\n                var metadata = {\n                    elastic_beanstalk: {\n                        environment: data.environment_name,\n                        version_label: data.version_label,\n                        deployment_id: data.deployment_id\n                    }\n                };\n                callback(metadata);\n            }\n        });\n    },\n    originName: 'AWS::ElasticBeanstalk::Environment'\n};\nmodule.exports = ElasticBeanstalkPlugin;\n", "{\n  \"services\": {\n    \"dynamodb\": {\n      \"operations\": {\n        \"batchGetItem\": {\n          \"request_descriptors\": {\n            \"RequestItems\": {\n              \"get_keys\": true,\n              \"rename_to\": \"table_names\"\n            }\n          },\n          \"response_parameters\": [\n            \"ConsumedCapacity\"\n          ]\n        },\n        \"batchWriteItem\": {\n          \"request_descriptors\": {\n            \"RequestItems\": {\n              \"get_keys\": true,\n              \"rename_to\": \"table_names\"\n            }\n          },\n          \"response_parameters\": [\n            \"ConsumedCapacity\",\n            \"ItemCollectionMetrics\"\n          ]\n        },\n        \"createTable\": {\n          \"request_parameters\": [\n            \"GlobalSecondaryIndexes\",\n            \"LocalSecondaryIndexes\",\n            \"ProvisionedThroughput\",\n            \"TableName\"\n          ]\n        },\n        \"deleteItem\": {\n          \"request_parameters\": [\n            \"TableName\"\n          ],\n          \"response_parameters\": [\n            \"ConsumedCapacity\",\n            \"ItemCollectionMetrics\"\n          ]\n        },\n        \"deleteTable\": {\n          \"request_parameters\": [\n            \"TableName\"\n          ]\n        },\n        \"describeTable\": {\n          \"request_parameters\": [\n            \"TableName\"\n          ]\n        },\n        \"getItem\": {\n          \"request_parameters\": [\n            \"ConsistentRead\",\n            \"ProjectionExpression\",\n            \"TableName\"\n          ],\n          \"response_parameters\": [\n            \"ConsumedCapacity\"\n          ]\n        },\n        \"listTables\": {\n          \"request_parameters\": [\n            \"ExclusiveStartTableName\",\n            \"Limit\"\n          ],\n          \"response_descriptors\": {\n            \"TableNames\": {\n              \"list\": true,\n              \"get_count\": true,\n              \"rename_to\": \"table_count\"\n            }\n          }\n        },\n        \"putItem\": {\n          \"request_parameters\": [\n            \"TableName\"\n          ],\n          \"response_parameters\": [\n            \"ConsumedCapacity\",\n            \"ItemCollectionMetrics\"\n          ]\n        },\n        \"query\": {\n          \"request_parameters\": [\n            \"AttributesToGet\",\n            \"ConsistentRead\",\n            \"IndexName\",\n            \"Limit\",\n            \"ProjectionExpression\",\n            \"ScanIndexForward\",\n            \"Select\",\n            \"TableName\"\n          ],\n          \"response_parameters\": [\n            \"ConsumedCapacity\"\n          ]\n        },\n        \"scan\": {\n          \"request_parameters\": [\n            \"AttributesToGet\",\n            \"ConsistentRead\",\n            \"IndexName\",\n            \"Limit\",\n            \"ProjectionExpression\",\n            \"Segment\",\n            \"Select\",\n            \"TableName\",\n            \"TotalSegments\"\n          ],\n          \"response_parameters\": [\n            \"ConsumedCapacity\",\n            \"Count\",\n            \"ScannedCount\"\n          ]\n        },\n        \"updateItem\": {\n          \"request_parameters\": [\n            \"TableName\"\n          ],\n          \"response_parameters\": [\n            \"ConsumedCapacity\",\n            \"ItemCollectionMetrics\"\n          ]\n        },\n        \"updateTable\": {\n          \"request_parameters\": [\n            \"AttributeDefinitions\",\n            \"GlobalSecondaryIndexUpdates\",\n            \"ProvisionedThroughput\",\n            \"TableName\"\n          ]\n        }\n      }\n    },\n    \"sqs\": {\n      \"operations\": {\n        \"addPermission\": {\n          \"request_parameters\": [\n            \"Label\",\n            \"QueueUrl\"\n          ]\n        },\n        \"changeMessageVisibility\": {\n          \"request_parameters\": [\n            \"QueueUrl\",\n            \"VisibilityTimeout\"\n          ]\n        },\n        \"changeMessageVisibilityBatch\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ],\n          \"response_parameters\": [\n            \"Failed\"\n          ]\n        },\n        \"createQueue\": {\n          \"request_parameters\": [\n            \"Attributes\",\n            \"QueueName\"\n          ]\n        },\n        \"deleteMessage\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ]\n        },\n        \"deleteMessageBatch\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ],\n          \"response_parameters\": [\n            \"Failed\"\n          ]\n        },\n        \"deleteQueue\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ]\n        },\n        \"getQueueAttributes\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ],\n          \"response_parameters\": [\n            \"Attributes\"\n          ]\n        },\n        \"getQueueUrl\": {\n          \"request_parameters\": [\n            \"QueueName\",\n            \"QueueOwnerAWSAccountId\"\n          ],\n          \"response_parameters\": [\n            \"QueueUrl\"\n          ]\n        },\n        \"listDeadLetterSourceQueues\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ],\n          \"response_parameters\": [\n            \"QueueUrls\"\n          ]\n        },\n        \"listQueues\": {\n          \"request_parameters\": [\n            \"QueueNamePrefix\"\n          ],\n          \"response_descriptors\": {\n            \"QueueUrls\": {\n              \"list\": true,\n              \"get_count\": true,\n              \"rename_to\": \"queue_count\"\n            }\n          }\n        },\n        \"purgeQueue\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ]\n        },\n        \"receiveMessage\": {\n          \"request_parameters\": [\n            \"AttributeNames\",\n            \"MaxNumberOfMessages\",\n            \"MessageAttributeNames\",\n            \"QueueUrl\",\n            \"VisibilityTimeout\",\n            \"WaitTimeSeconds\"\n          ],\n          \"response_descriptors\": {\n            \"Messages\": {\n              \"list\": true,\n              \"get_count\": true,\n              \"rename_to\": \"message_count\"\n            }\n          }\n        },\n        \"removePermission\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ]\n        },\n        \"sendMessage\": {\n          \"request_parameters\": [\n            \"DelaySeconds\",\n            \"QueueUrl\"\n          ],\n          \"request_descriptors\": {\n            \"MessageAttributes\": {\n              \"get_keys\": true,\n              \"rename_to\": \"message_attribute_names\"\n            }\n          },\n          \"response_parameters\": [\n            \"MessageId\"\n          ]\n        },\n        \"sendMessageBatch\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ],\n          \"request_descriptors\": {\n            \"Entries\": {\n              \"list\": true,\n              \"get_count\": true,\n              \"rename_to\": \"message_count\"\n            }\n          },\n          \"response_descriptors\": {\n            \"Failed\": {\n              \"list\": true,\n              \"get_count\": true,\n              \"rename_to\": \"failed_count\"\n            },\n            \"Successful\": {\n              \"list\": true,\n              \"get_count\": true,\n              \"rename_to\": \"successful_count\"\n            }\n          }\n        },\n        \"setQueueAttributes\": {\n          \"request_parameters\": [\n            \"QueueUrl\"\n          ],\n          \"request_descriptors\": {\n            \"Attributes\": {\n              \"get_keys\": true,\n              \"rename_to\": \"attribute_names\"\n            }\n          }\n        }\n      }\n    },\n    \"sns\": {\n      \"operations\": {\n        \"publish\": {\n          \"request_parameters\": [\n            \"TopicArn\"\n          ]\n        },\n        \"publishBatch\": {\n          \"request_parameters\": [\n            \"TopicArn\"\n          ]\n        }\n      }\n    },\n    \"lambda\": {\n      \"operations\": {\n        \"invoke\": {\n          \"request_parameters\": [\n            \"FunctionName\",\n            \"InvocationType\",\n            \"LogType\",\n            \"Qualifier\"\n          ],\n          \"response_parameters\": [\n            \"FunctionError\",\n            \"StatusCode\"\n          ]\n        },\n        \"invokeAsync\": {\n          \"request_parameters\": [\n            \"FunctionName\"\n          ],\n          \"response_parameters\": [\n            \"Status\"\n          ]\n        }\n      }\n    },\n    \"s3\": {\n      \"operations\": {\n        \"abortMultipartUpload\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"completeMultipartUpload\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"copyObject\": {\n          \"request_parameters\": [\n            \"CopySource\",\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"createBucket\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"createMultipartUpload\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucket\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketAnalyticsConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketCors\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketEncryption\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketInventoryConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketLifecycle\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketMetricsConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketPolicy\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketReplication\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketTagging\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteBucketWebsite\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteObject\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteObjectTagging\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"deleteObjects\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketAccelerateConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketAcl\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketAnalyticsConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketCors\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketEncryption\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketInventoryConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketLifecycle\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketLifecycleConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketLocation\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketLogging\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketMetricsConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketNotification\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketNotificationConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketPolicy\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketReplication\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketRequestPayment\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketTagging\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketVersioning\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getBucketWebsite\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getObject\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getObjectAcl\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getObjectTagging\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"getObjectTorrent\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"headBucket\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"headObject\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listBucketAnalyticsConfigurations\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listBucketInventoryConfigurations\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listBucketMetricsConfigurations\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listMultipartUploads\": {\n          \"request_parameters\": [\n            \"Prefix\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listObjectVersions\": {\n          \"request_parameters\": [\n            \"Prefix\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listObjects\": {\n          \"request_parameters\": [\n            \"Prefix\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listObjectsV2\": {\n          \"request_parameters\": [\n            \"Prefix\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"listParts\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketAccelerateConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketAcl\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketAnalyticsConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketCors\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketEncryption\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketInventoryConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketLifecycle\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketLifecycleConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketLogging\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketMetricsConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketNotification\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketNotificationConfiguration\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketPolicy\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketReplication\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketRequestPayment\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketTagging\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketVersioning\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putBucketWebsite\": {\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putObject\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putObjectAcl\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"putObjectTagging\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"restoreObject\": {\n          \"request_parameters\": [\n            \"Key\",\n            \"VersionId\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"uploadPart\": {\n          \"request_parameters\": [\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        },\n        \"uploadPartCopy\": {\n          \"request_parameters\": [\n            \"CopySource\",\n            \"Key\"\n          ],\n          \"request_descriptors\": {\n            \"Bucket\": {\n              \"rename_to\": \"bucket_name\"\n            }\n          }\n        }\n      }\n    },\n    \"sagemakerruntime\": {\n      \"operations\": {\n        \"invokeEndpoint\": {\n          \"request_parameters\": [\n            \"EndpointName\"\n          ]\n        }\n      }\n    }\n  }\n}\n", "\"use strict\";\nvar fs = require('fs');\nvar logger = require('../logger');\nvar whitelist = require('../resources/aws_whitelist.json');\nvar paramTypes = {\n    REQ_DESC: 'request_descriptors',\n    REQ_PARAMS: 'request_parameters',\n    RES_DESC: 'response_descriptors',\n    RES_PARAMS: 'response_parameters'\n};\n/**\n * Represents a set of AWS services, operations and keys or params to capture.\n * @constructor\n * @param {string|Object} [source] - The location or source JSON object of the custom AWS whitelist file. If none is provided, the default file will be used.\n */\nfunction CallCapturer(source) {\n    this.init(source);\n}\nCallCapturer.prototype.init = function init(source) {\n    if (source) {\n        if (typeof source === 'string') {\n            logger.getLogger().info('Using custom AWS whitelist file: ' + source);\n            this.services = loadWhitelist(JSON.parse(fs.readFileSync(source, 'utf8')));\n        }\n        else {\n            logger.getLogger().info('Using custom AWS whitelist source.');\n            this.services = loadWhitelist(source);\n        }\n    }\n    else {\n        this.services = whitelist.services;\n    }\n};\nCallCapturer.prototype.append = function append(source) {\n    var newServices = {};\n    if (typeof source === 'string') {\n        logger.getLogger().info('Appending AWS whitelist with custom file: ' + source);\n        newServices = loadWhitelist(JSON.parse(fs.readFileSync(source, 'utf8')));\n    }\n    else {\n        logger.getLogger().info('Appending AWS whitelist with a custom source.');\n        newServices = loadWhitelist(source);\n    }\n    for (var attribute in newServices) {\n        this.services[attribute] = newServices[attribute];\n    }\n};\nCallCapturer.prototype.capture = function capture(serviceName, response) {\n    var operation = response.request.operation;\n    var call = this.services[serviceName] !== undefined ? this.services[serviceName].operations[operation] : null;\n    if (call === null) {\n        logger.getLogger().debug('Call \"' + serviceName + '.' + operation + '\" is not whitelisted for additional data capturing. Ignoring.');\n        return;\n    }\n    var dataCaptured = {};\n    for (var paramType in call) {\n        var params = call[paramType];\n        if (paramType === paramTypes.REQ_PARAMS) {\n            captureCallParams(params, response.request.params, dataCaptured);\n        }\n        else if (paramType === paramTypes.REQ_DESC) {\n            captureDescriptors(params, response.request.params, dataCaptured);\n        }\n        else if (paramType === paramTypes.RES_PARAMS) {\n            if (response.data) {\n                captureCallParams(params, response.data, dataCaptured);\n            }\n        }\n        else if (paramType === paramTypes.RES_DESC) {\n            if (response.data) {\n                captureDescriptors(params, response.data, dataCaptured);\n            }\n        }\n        else {\n            logger.getLogger().error('Unknown parameter type \"' + paramType + '\". Must be \"request_descriptors\", \"response_descriptors\", ' +\n                '\"request_parameters\" or \"response_parameters\".');\n        }\n    }\n    return dataCaptured;\n};\nfunction captureCallParams(params, call, data) {\n    params.forEach(function (param) {\n        if (typeof call[param] !== 'undefined') {\n            var formatted = toSnakeCase(param);\n            this[formatted] = call[param];\n        }\n    }, data);\n}\nfunction captureDescriptors(descriptors, params, data) {\n    for (var paramName in descriptors) {\n        var attributes = descriptors[paramName];\n        if (typeof params[paramName] !== 'undefined') {\n            var paramData;\n            if (attributes.list && attributes.get_count) {\n                paramData = params[paramName] ? params[paramName].length : 0;\n            }\n            else {\n                paramData = attributes.get_keys === true ? Object.keys(params[paramName]) : params[paramName];\n            }\n            if (typeof attributes.rename_to === 'string') {\n                data[attributes.rename_to] = paramData;\n            }\n            else {\n                var formatted = toSnakeCase(paramName);\n                data[formatted] = paramData;\n            }\n        }\n    }\n}\nfunction toSnakeCase(param) {\n    if (param === 'IPAddress') {\n        return 'ip_address';\n    }\n    else {\n        return param.split(/(?=[A-Z])/).join('_').toLowerCase();\n    }\n}\nfunction loadWhitelist(source) {\n    var doc = source;\n    if (doc.services === undefined) {\n        throw new Error('Document formatting is incorrect. Expecting \"services\" param.');\n    }\n    return doc.services;\n}\nmodule.exports = CallCapturer;\n", "\"use strict\";\nvar CallCapturer = require('../../patchers/call_capturer.js');\nvar capturer = new CallCapturer();\n/**\n * Represents a AWS client call. Automatically captures data from the supplied response object,\n * Data captured depends on the whitelisting file supplied.\n * The base whitelisting file can be found at /lib/resources/aws_whitelist.json.\n * @constructor\n * @param {any} res - The response object from the AWS call. Typed as any to avoid AWS SDK dependency. Otherwise would be AWS.Response.\n * @param {string} serviceName - The service name of the AWS client.\n * @see https://github.com/aws/aws-sdk-js/blob/master/lib/response.js\n */\nfunction Aws(res, serviceName) {\n    this.init(res, serviceName);\n}\nAws.prototype.init = function init(res, serviceName) {\n    //TODO: account ID\n    this.operation = formatOperation(res.request.operation) || '';\n    if (res && res.request && res.request.httpRequest && res.request.httpRequest.region) {\n        this.region = res.request.httpRequest.region;\n    }\n    if (res && res.requestId) {\n        this.request_id = res.requestId;\n    }\n    this.retries = res.retryCount || 0;\n    if (res.extendedRequestId && serviceName && serviceName.toLowerCase() === 's3') {\n        this.id_2 = res.extendedRequestId;\n    }\n    if (serviceName) {\n        this.addData(capturer.capture(serviceName.toLowerCase(), res));\n    }\n};\nAws.prototype.addData = function addData(data) {\n    for (var attribute in data) {\n        this[attribute] = data[attribute];\n    }\n};\n/**\n * Overrides the default whitelisting file to specify what params to capture on each AWS Service call.\n * @param {string|Object} source - The path to the custom whitelist file, or a whitelist source JSON object.\n * @exports setAWSWhitelist\n */\nvar setAWSWhitelist = function setAWSWhitelist(source) {\n    if (!source || source instanceof String || !(typeof source === 'string' || (source instanceof Object))) {\n        throw new Error('Please specify a path to the local whitelist file, or supply a whitelist source object.');\n    }\n    capturer = new CallCapturer(source);\n};\n/**\n * Appends to the default whitelisting file to specify what params to capture on each AWS Service call.\n * @param {string|Object} source - The path to the custom whitelist file, or a whitelist source JSON object.\n * @exports appendAWSWhitelist\n */\nvar appendAWSWhitelist = function appendAWSWhitelist(source) {\n    if (!source || source instanceof String || !(typeof source === 'string' || (source instanceof Object))) {\n        throw new Error('Please specify a path to the local whitelist file, or supply a whitelist source object.');\n    }\n    capturer.append(source);\n};\nfunction formatOperation(operation) {\n    if (!operation) {\n        return;\n    }\n    return operation.charAt(0).toUpperCase() + operation.slice(1);\n}\nmodule.exports = Aws;\nmodule.exports.appendAWSWhitelist = appendAWSWhitelist;\nmodule.exports.setAWSWhitelist = setAWSWhitelist;\n", "\"use strict\";\n/**\n * Capture module.\n * @module capture\n */\nvar contextUtils = require('./context_utils');\nvar logger = require('./logger');\n/**\n * Wrap to automatically capture information for the segment.\n * @param {string} name - The name of the new subsegment.\n * @param {function} fcn - The function context to wrap. Can take a single 'subsegment' argument.\n * @param {Segment|Subsegment} [parent] - The parent for the new subsegment, for manual mode.\n * @alias module:capture.captureFunc\n * @return {*} - Returns the result if any by executing the provided function.\n */\nvar captureFunc = function captureFunc(name, fcn, parent) {\n    validate(name, fcn);\n    var current, executeFcn;\n    var parentSeg = contextUtils.resolveSegment(parent);\n    if (!parentSeg) {\n        logger.getLogger().warn('Failed to capture function.');\n        return fcn();\n    }\n    current = parentSeg.addNewSubsegment(name);\n    executeFcn = captureFcn(fcn, current);\n    try {\n        const response = executeFcn(current);\n        current.close();\n        return response;\n    }\n    catch (e) {\n        current.close(e);\n        throw (e);\n    }\n};\n/**\n * Wrap to automatically capture information for the sub/segment.  You must close the segment\n * manually from within the function.\n * @param {string} name - The name of the new subsegment.\n * @param {function} fcn - The function context to wrap. Must take a single 'subsegment' argument and call 'subsegment.close([optional error])' when the async function completes.\n * @param {Segment|Subsegment} [parent] - The parent for the new subsegment, for manual mode.\n * @alias module:capture.captureAsyncFunc\n * @return {*} - Returns a promise by executing the provided async function.\n */\nvar captureAsyncFunc = function captureAsyncFunc(name, fcn, parent) {\n    validate(name, fcn);\n    var current, executeFcn;\n    var parentSeg = contextUtils.resolveSegment(parent);\n    if (!parentSeg) {\n        logger.getLogger().warn('Failed to capture async function.');\n        return fcn();\n    }\n    current = parentSeg.addNewSubsegment(name);\n    executeFcn = captureFcn(fcn, current);\n    try {\n        return executeFcn(current);\n    }\n    catch (e) {\n        current.close(e);\n        throw (e);\n    }\n};\n/**\n * Wrap to automatically capture information for the sub/segment. This wraps the callback and returns a function.\n * when executed, all arguments are passed through accordingly. An additional argument is appended to gain access to the newly created subsegment.\n * For this reason, always call the captured callback with the full list of arguments.\n * @param {string} name - The name of the new subsegment.\n * @param {function} fcn - The function context to wrap. Can take a single 'subsegment' argument.\n * @param {Segment|Subsegment} [parent] - The parent for the new subsegment, for manual mode.\n * @alias module:capture.captureCallbackFunc\n */\nvar captureCallbackFunc = function captureCallbackFunc(name, fcn, parent) {\n    validate(name, fcn);\n    var base = contextUtils.resolveSegment(parent);\n    if (!base) {\n        logger.getLogger().warn('Failed to capture callback function.');\n        return fcn;\n    }\n    base.incrementCounter();\n    return function () {\n        var parentSeg = contextUtils.resolveSegment(parent);\n        var args = Array.prototype.slice.call(arguments);\n        captureFunc(name, fcn.bind.apply(fcn, [null].concat(args)), parentSeg);\n        base.decrementCounter();\n    }.bind(this);\n};\nfunction captureFcn(fcn, current) {\n    var executeFcn;\n    if (contextUtils.isAutomaticMode()) {\n        var session = contextUtils.getNamespace();\n        var contextFcn = function () {\n            var value;\n            session.run(function () {\n                contextUtils.setSegment(current);\n                value = fcn(current);\n            });\n            return value;\n        };\n        executeFcn = contextFcn;\n    }\n    else {\n        executeFcn = fcn;\n    }\n    return executeFcn;\n}\nfunction validate(name, fcn) {\n    var error;\n    if (!name || typeof name !== 'string') {\n        error = 'Param \"name\" must be a non-empty string.';\n        logger.getLogger().error(error);\n        throw new Error(error);\n    }\n    else if (typeof fcn !== 'function') {\n        error = 'Param \"fcn\" must be a function.';\n        logger.getLogger().error(error);\n        throw new Error(error);\n    }\n}\nmodule.exports.captureFunc = captureFunc;\nmodule.exports.captureAsyncFunc = captureAsyncFunc;\nmodule.exports.captureCallbackFunc = captureCallbackFunc;\n", "'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n", "'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n", "'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n", "'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  if (typeof a === 'number' && typeof b === 'number') {\n    return a === b ? 0 : a < b ? -1 : 1\n  }\n\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n", "'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    if (this.major < other.major) {\n      return -1\n    }\n    if (this.major > other.major) {\n      return 1\n    }\n    if (this.minor < other.minor) {\n      return -1\n    }\n    if (this.minor > other.minor) {\n      return 1\n    }\n    if (this.patch < other.patch) {\n      return -1\n    }\n    if (this.patch > other.patch) {\n      return 1\n    }\n    return 0\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n", "'use strict'\n\nconst parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n", "'use strict'\n\nconst parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n", "'use strict'\n\nconst parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n", "'use strict'\n\nconst parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "'use strict'\n\nconst compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n", "'use strict'\n\nconst compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n", "'use strict'\n\nconst compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n", "'use strict'\n\nconst compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n", "'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n", "'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n", "'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n", "'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n", "'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n", "'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n", "'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n", "'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  comp = comp.replace(re[t.BUILD], '')\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n", "'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n", "'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n", "'use strict'\n\nconst Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n", "'use strict'\n\nconst Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n", "'use strict'\n\nconst SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n", "'use strict'\n\n// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n", "'use strict'\n\nconst outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n", "'use strict'\n\nconst Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n", "'use strict'\n\n// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n", "'use strict'\n\nconst Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n", "'use strict'\n\n// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n", "\"use strict\";\n/**\n * Capture module.\n * @module aws_p\n */\nvar semver = require('semver');\nvar Aws = require('../segments/attributes/aws');\nvar contextUtils = require('../context_utils');\nvar Utils = require('../utils');\nvar logger = require('../logger');\nvar minVersion = '2.7.15';\nvar throttledErrorDefault = function throttledErrorDefault() {\n    return false; // If the customer doesn't provide an aws-sdk with a throttled error function, we can't make assumptions.\n};\n/**\n * Configures the AWS SDK to automatically capture information for the segment.\n * All created clients will automatically be captured.  See 'captureAWSClient'\n * for additional details.\n * @param {AWS} awssdk - The Javascript AWS SDK.\n * @alias module:aws_p.captureAWS\n * @returns {AWS}\n * @see https://github.com/aws/aws-sdk-js\n */\nvar captureAWS = function captureAWS(awssdk) {\n    if (!semver.gte(awssdk.VERSION, minVersion)) {\n        throw new Error('AWS SDK version ' + minVersion + ' or greater required.');\n    }\n    for (var prop in awssdk) {\n        if (awssdk[prop].serviceIdentifier) {\n            var Service = awssdk[prop];\n            Service.prototype.customizeRequests(captureAWSRequest);\n        }\n    }\n    return awssdk;\n};\n/**\n * Configures any AWS Client instance to automatically capture information for the segment.\n * For manual mode, a param with key called 'Segment' is required as a part of the AWS\n * call paramaters, and must reference a Segment or Subsegment object.\n * @param {AWS.Service} service - An instance of a AWS service to wrap.\n * @alias module:aws_p.captureAWSClient\n * @returns {AWS.Service}\n * @see https://github.com/aws/aws-sdk-js\n */\nvar captureAWSClient = function captureAWSClient(service) {\n    service.customizeRequests(captureAWSRequest);\n    return service;\n};\nfunction captureAWSRequest(req) {\n    var parent = contextUtils.resolveSegment(contextUtils.resolveManualSegmentParams(req.params));\n    if (!parent) {\n        var output = this.serviceIdentifier + '.' + req.operation;\n        if (!contextUtils.isAutomaticMode()) {\n            logger.getLogger().info('Call ' + output + ' requires a segment object' +\n                ' on the request params as \"XRaySegment\" for tracing in manual mode. Ignoring.');\n        }\n        else {\n            logger.getLogger().info('Call ' + output +\n                ' is missing the sub/segment context for automatic mode. Ignoring.');\n        }\n        return req;\n    }\n    var throttledError = this.throttledError || throttledErrorDefault;\n    var stack = (new Error()).stack;\n    let subsegment;\n    if (parent.notTraced) {\n        subsegment = parent.addNewSubsegmentWithoutSampling(this.serviceIdentifier);\n    }\n    else {\n        subsegment = parent.addNewSubsegment(this.serviceIdentifier);\n    }\n    var traceId = parent.segment ? parent.segment.trace_id : parent.trace_id;\n    const data = parent.segment ? parent.segment.additionalTraceData : parent.additionalTraceData;\n    var buildListener = function (req) {\n        if (parent.noOp) {\n            return;\n        }\n        let traceHeader = 'Root=' + traceId + ';Parent=' + subsegment.id +\n            ';Sampled=' + (subsegment.notTraced ? '0' : '1');\n        if (data != null) {\n            for (const [key, value] of Object.entries(data)) {\n                traceHeader += ';' + key + '=' + value;\n            }\n        }\n        req.httpRequest.headers['X-Amzn-Trace-Id'] = traceHeader;\n    };\n    var completeListener = function (res) {\n        subsegment.addAttribute('namespace', 'aws');\n        subsegment.addAttribute('aws', new Aws(res, subsegment.name));\n        var httpRes = res.httpResponse;\n        if (httpRes) {\n            subsegment.addAttribute('http', new HttpResponse(httpRes));\n            if (httpRes.statusCode === 429 || (res.error && throttledError(res.error))) {\n                subsegment.addThrottleFlag();\n            }\n        }\n        if (res.error) {\n            var err = { message: res.error.message, name: res.error.code, stack: stack };\n            if (httpRes && httpRes.statusCode) {\n                if (Utils.getCauseTypeFromHttpStatus(httpRes.statusCode) == 'error') {\n                    subsegment.addErrorFlag();\n                }\n                subsegment.close(err, true);\n            }\n            else {\n                subsegment.close(err);\n            }\n        }\n        else {\n            if (httpRes && httpRes.statusCode) {\n                var cause = Utils.getCauseTypeFromHttpStatus(httpRes.statusCode);\n                if (cause) {\n                    subsegment[cause] = true;\n                }\n            }\n            subsegment.close();\n        }\n    };\n    req.on('beforePresign', function (req) {\n        // Only the AWS Presigner triggers this event,\n        // so we can rely on this event to notify us when\n        // a request is for a presigned url\n        parent.removeSubsegment(subsegment);\n        parent.decrementCounter();\n        req.removeListener('build', buildListener);\n        req.removeListener('complete', completeListener);\n    });\n    req.on('build', buildListener).on('complete', completeListener);\n    if (!req.__send) {\n        req.__send = req.send;\n        req.send = function (callback) {\n            if (contextUtils.isAutomaticMode()) {\n                var session = contextUtils.getNamespace();\n                session.run(function () {\n                    contextUtils.setSegment(subsegment);\n                    req.__send(callback);\n                });\n            }\n            else {\n                req.__send(callback);\n            }\n        };\n    }\n}\nfunction HttpResponse(res) {\n    this.init(res);\n}\nHttpResponse.prototype.init = function init(res) {\n    this.response = {\n        status: res.statusCode || '',\n    };\n    if (res.headers && res.headers['content-length']) {\n        this.response.content_length = res.headers['content-length'];\n    }\n};\nmodule.exports.captureAWSClient = captureAWSClient;\nmodule.exports.captureAWS = captureAWS;\n", "var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  isClockSkewCorrectedError: () => isClockSkewCorrectedError,\n  isClockSkewError: () => isClockSkewError,\n  isRetryableByTrait: () => isRetryableByTrait,\n  isServerError: () => isServerError,\n  isThrottlingError: () => isThrottlingError,\n  isTransientError: () => isTransientError\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/constants.ts\nvar CLOCK_SKEW_ERROR_CODES = [\n  \"AuthFailure\",\n  \"InvalidSignatureException\",\n  \"RequestExpired\",\n  \"RequestInTheFuture\",\n  \"RequestTimeTooSkewed\",\n  \"SignatureDoesNotMatch\"\n];\nvar THROTTLING_ERROR_CODES = [\n  \"BandwidthLimitExceeded\",\n  \"EC2ThrottledException\",\n  \"LimitExceededException\",\n  \"PriorRequestNotComplete\",\n  \"ProvisionedThroughputExceededException\",\n  \"RequestLimitExceeded\",\n  \"RequestThrottled\",\n  \"RequestThrottledException\",\n  \"SlowDown\",\n  \"ThrottledException\",\n  \"Throttling\",\n  \"ThrottlingException\",\n  \"TooManyRequestsException\",\n  \"TransactionInProgressException\"\n  // DynamoDB\n];\nvar TRANSIENT_ERROR_CODES = [\"TimeoutError\", \"RequestTimeout\", \"RequestTimeoutException\"];\nvar TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];\nvar NODEJS_TIMEOUT_ERROR_CODES = [\"ECONNRESET\", \"ECONNREFUSED\", \"EPIPE\", \"ETIMEDOUT\"];\n\n// src/index.ts\nvar isRetryableByTrait = /* @__PURE__ */ __name((error) => error.$retryable !== void 0, \"isRetryableByTrait\");\nvar isClockSkewError = /* @__PURE__ */ __name((error) => CLOCK_SKEW_ERROR_CODES.includes(error.name), \"isClockSkewError\");\nvar isClockSkewCorrectedError = /* @__PURE__ */ __name((error) => {\n  var _a;\n  return (_a = error.$metadata) == null ? void 0 : _a.clockSkewCorrected;\n}, \"isClockSkewCorrectedError\");\nvar isThrottlingError = /* @__PURE__ */ __name((error) => {\n  var _a, _b;\n  return ((_a = error.$metadata) == null ? void 0 : _a.httpStatusCode) === 429 || THROTTLING_ERROR_CODES.includes(error.name) || ((_b = error.$retryable) == null ? void 0 : _b.throttling) == true;\n}, \"isThrottlingError\");\nvar isTransientError = /* @__PURE__ */ __name((error) => {\n  var _a;\n  return isClockSkewCorrectedError(error) || TRANSIENT_ERROR_CODES.includes(error.name) || NODEJS_TIMEOUT_ERROR_CODES.includes((error == null ? void 0 : error.code) || \"\") || TRANSIENT_ERROR_STATUS_CODES.includes(((_a = error.$metadata) == null ? void 0 : _a.httpStatusCode) || 0);\n}, \"isTransientError\");\nvar isServerError = /* @__PURE__ */ __name((error) => {\n  var _a;\n  if (((_a = error.$metadata) == null ? void 0 : _a.httpStatusCode) !== void 0) {\n    const statusCode = error.$metadata.httpStatusCode;\n    if (500 <= statusCode && statusCode <= 599 && !isTransientError(error)) {\n      return true;\n    }\n    return false;\n  }\n  return false;\n}, \"isServerError\");\n// Annotate the CommonJS export names for ESM import in node:\n\n0 && (module.exports = {\n  isRetryableByTrait,\n  isClockSkewError,\n  isClockSkewCorrectedError,\n  isThrottlingError,\n  isTransientError,\n  isServerError\n});\n\n", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.captureAWSClient = void 0;\nconst service_error_classification_1 = require(\"@smithy/service-error-classification\");\nconst aws_1 = __importDefault(require(\"../segments/attributes/aws\"));\nconst querystring_1 = require(\"querystring\");\nconst subsegment_1 = __importDefault(require(\"../segments/attributes/subsegment\"));\nconst contextUtils = require('../context_utils');\nconst logger = require('../logger');\nconst { safeParseInt } = require('../utils');\nconst utils_1 = require(\"../utils\");\nconst XRAY_PLUGIN_NAME = 'XRaySDKInstrumentation';\nconst buildAttributesFromMetadata = async (service, operation, region, commandInput, res, error) => {\n    var _a, _b, _c;\n    const { extendedRequestId, requestId, httpStatusCode: statusCode, attempts } = ((_a = res === null || res === void 0 ? void 0 : res.output) === null || _a === void 0 ? void 0 : _a.$metadata) || (error === null || error === void 0 ? void 0 : error.$metadata);\n    const aws = new aws_1.default({\n        extendedRequestId,\n        requestId,\n        retryCount: attempts,\n        data: res === null || res === void 0 ? void 0 : res.output,\n        request: {\n            operation,\n            params: commandInput,\n            httpRequest: {\n                region,\n                statusCode,\n            },\n        },\n    }, service);\n    const http = {};\n    if (statusCode) {\n        http.response = {};\n        http.response.status = statusCode;\n    }\n    if (((_b = res === null || res === void 0 ? void 0 : res.response) === null || _b === void 0 ? void 0 : _b.headers) && ((_c = res === null || res === void 0 ? void 0 : res.response) === null || _c === void 0 ? void 0 : _c.headers['content-length']) !== undefined) {\n        if (!http.response) {\n            http.response = {};\n        }\n        http.response.content_length = safeParseInt(res.response.headers['content-length']);\n    }\n    return [aws, http];\n};\nfunction addFlags(http, subsegment, err) {\n    var _a, _b, _c;\n    if (err && (0, service_error_classification_1.isThrottlingError)(err)) {\n        subsegment.addThrottleFlag();\n    }\n    else if (safeParseInt((_a = http.response) === null || _a === void 0 ? void 0 : _a.status) === 429 || safeParseInt((_b = err === null || err === void 0 ? void 0 : err.$metadata) === null || _b === void 0 ? void 0 : _b.httpStatusCode) === 429) {\n        subsegment.addThrottleFlag();\n    }\n    const cause = (0, utils_1.getCauseTypeFromHttpStatus)(safeParseInt((_c = http.response) === null || _c === void 0 ? void 0 : _c.status));\n    if (cause === 'fault') {\n        subsegment.addFaultFlag();\n    }\n    else if (cause === 'error') {\n        subsegment.addErrorFlag();\n    }\n}\nconst getXRayMiddleware = (config, manualSegment) => (next, context) => async (args) => {\n    var _a;\n    const segment = contextUtils.isAutomaticMode() ? contextUtils.resolveSegment() : manualSegment;\n    const { clientName, commandName } = context;\n    const commandInput = (_a = args === null || args === void 0 ? void 0 : args.input) !== null && _a !== void 0 ? _a : {};\n    const commandOperation = commandName.slice(0, -7); // Strip trailing \"Command\" string\n    const operation = commandOperation.charAt(0).toLowerCase() + commandOperation.slice(1);\n    const service = clientName.slice(0, -6); // Strip trailing \"Client\" string\n    if (!segment) {\n        const output = service + '.' + operation;\n        if (!contextUtils.isAutomaticMode()) {\n            logger.getLogger().info('Call ' + output + ' requires a segment object' +\n                ' passed to captureAWSv3Client for tracing in manual mode. Ignoring.');\n        }\n        else {\n            logger.getLogger().info('Call ' + output +\n                ' is missing the sub/segment context for automatic mode. Ignoring.');\n        }\n        return next(args);\n    }\n    let subsegment;\n    if (segment.notTraced) {\n        subsegment = segment.addNewSubsegmentWithoutSampling(service);\n    }\n    else {\n        subsegment = segment.addNewSubsegment(service);\n    }\n    subsegment.addAttribute('namespace', 'aws');\n    const parent = (segment instanceof subsegment_1.default ? segment.segment : segment);\n    const data = parent.segment ? parent.segment.additionalTraceData : parent.additionalTraceData;\n    let traceHeader = (0, querystring_1.stringify)({\n        Root: parent.trace_id,\n        Parent: subsegment.id,\n        Sampled: subsegment.notTraced ? '0' : '1',\n    }, ';');\n    if (data != null) {\n        for (const [key, value] of Object.entries(data)) {\n            traceHeader += ';' + key + '=' + value;\n        }\n    }\n    if (!segment.noOp) {\n        args.request.headers['X-Amzn-Trace-Id'] = traceHeader;\n    }\n    let res;\n    try {\n        res = await next(args);\n        if (!res) {\n            throw new Error('Failed to get response from instrumented AWS Client.');\n        }\n        const [aws, http] = await buildAttributesFromMetadata(service, operation, await config.region(), commandInput, res, null);\n        subsegment.addAttribute('aws', aws);\n        subsegment.addAttribute('http', http);\n        addFlags(http, subsegment);\n        subsegment.close();\n        return res;\n    }\n    catch (err) {\n        if (err.$metadata) {\n            const [aws, http] = await buildAttributesFromMetadata(service, operation, await config.region(), commandInput, null, err);\n            subsegment.addAttribute('aws', aws);\n            subsegment.addAttribute('http', http);\n            addFlags(http, subsegment, err);\n        }\n        const errObj = { message: err.message, name: err.name, stack: err.stack || new Error().stack };\n        subsegment.close(errObj, true);\n        throw err;\n    }\n};\nconst xRayMiddlewareOptions = {\n    name: XRAY_PLUGIN_NAME,\n    step: 'build',\n};\nconst getXRayPlugin = (config, manualSegment) => ({\n    applyToStack: (stack) => {\n        stack.add(getXRayMiddleware(config, manualSegment), xRayMiddlewareOptions);\n    },\n});\n/**\n * Instruments AWS SDK V3 clients with X-Ray via middleware.\n *\n * @param client - AWS SDK V3 client to instrument\n * @param manualSegment - Parent segment or subsegment that is passed in for manual mode users\n * @returns - the client with the X-Ray instrumentation middleware added to its middleware stack\n */\nfunction captureAWSClient(client, manualSegment) {\n    // Remove existing middleware to ensure operation is idempotent\n    client.middlewareStack.remove(XRAY_PLUGIN_NAME);\n    client.middlewareStack.use(getXRayPlugin(client.config, manualSegment));\n    return client;\n}\nexports.captureAWSClient = captureAWSClient;\n", "\"use strict\";\n/**\n * @module http_p\n */\n/**\n * This module patches the HTTP and HTTPS node built-in libraries and returns a copy of the module with tracing enabled.\n */\nvar url = require('url');\nvar contextUtils = require('../context_utils');\nvar Utils = require('../utils');\nvar logger = require('../logger');\nvar events = require('events');\n/**\n * Wraps the http/https.request() and .get() calls to automatically capture information for the segment.\n * This patches the built-in HTTP and HTTPS modules globally. If using a 3rd party HTTP library,\n * it should still use HTTP under the hood. Be sure to patch globally before requiring the 3rd party library.\n * 3rd party library compatibility is best effort. Some incompatibility issues may arise.\n * @param {http|https} module - The built in Node.js HTTP or HTTPS module.\n * @param {boolean} downstreamXRayEnabled - when true, adds a \"traced:true\" property to the subsegment\n *   so the AWS X-Ray service expects a corresponding segment from the downstream service.\n * @param {function} subsegmentCallback - a callback that is called with the subsegment, the Node.js\n *   http.ClientRequest, the Node.js http.IncomingMessage (if a response was received) and any error issued,\n *   allowing custom annotations and metadata to be added.\n *   to be added to the subsegment.\n * @alias module:http_p.captureHTTPsGlobal\n */\nvar captureHTTPsGlobal = function captureHTTPsGlobal(module, downstreamXRayEnabled, subsegmentCallback) {\n    if (!module.__request) {\n        enableCapture(module, downstreamXRayEnabled, subsegmentCallback);\n    }\n};\n/**\n * Wraps the http/https.request() and .get() calls to automatically capture information for the segment.\n * Returns an instance of the HTTP or HTTPS module that is patched.\n * @param {http|https} module - The built in Node.js HTTP or HTTPS module.\n * @param {boolean} downstreamXRayEnabled - when true, adds a \"traced:true\" property to the subsegment\n *   so the AWS X-Ray service expects a corresponding segment from the downstream service.\n * @param {function} subsegmentCallback - a callback that is called with the subsegment, the Node.js\n *   http.ClientRequest, and the Node.js http.IncomingMessage to allow custom annotations and metadata\n *   to be added to the subsegment.\n * @alias module:http_p.captureHTTPs\n * @returns {http|https}\n */\nvar captureHTTPs = function captureHTTPs(module, downstreamXRayEnabled, subsegmentCallback) {\n    if (module.__request) {\n        return module;\n    }\n    var tracedModule = {};\n    Object.keys(module).forEach(function (val) {\n        tracedModule[val] = module[val];\n    });\n    enableCapture(tracedModule, downstreamXRayEnabled, subsegmentCallback);\n    return tracedModule;\n};\nfunction enableCapture(module, downstreamXRayEnabled, subsegmentCallback) {\n    function captureOutgoingHTTPs(baseFunc, ...args) {\n        let options;\n        let callback;\n        let hasUrl;\n        let urlObj;\n        let arg0 = args[0];\n        if (typeof args[1] === 'object') {\n            hasUrl = true;\n            urlObj = typeof arg0 === 'string' ? new url.URL(arg0) : arg0;\n            options = args[1],\n                callback = args[2];\n        }\n        else {\n            hasUrl = false;\n            options = arg0;\n            callback = args[1];\n        }\n        // Short circuit if the HTTP request has no options or is already being captured\n        if (!options || (options.headers && (options.headers['X-Amzn-Trace-Id']))) {\n            return baseFunc(...args);\n        }\n        // Case of calling a string URL without options, e.g.: http.request('http://amazon.com', callback)\n        if (typeof options === 'string') {\n            options = new url.URL(options);\n        }\n        if (!hasUrl) {\n            urlObj = options;\n        }\n        const parent = contextUtils.resolveSegment(contextUtils.resolveManualSegmentParams(options));\n        const hostname = options.hostname || options.host || urlObj.hostname || urlObj.host || 'Unknown host';\n        if (!parent) {\n            let output = '[ host: ' + hostname;\n            output = options.method ? (output + ', method: ' + options.method) : output;\n            output += ', path: ' + (urlObj.pathname || Utils.stripQueryStringFromPath(options.path)) + ' ]';\n            if (!contextUtils.isAutomaticMode()) {\n                logger.getLogger().info('Options for request ' + output +\n                    ' requires a segment object on the options params as \"XRaySegment\" for tracing in manual mode. Ignoring.');\n            }\n            else {\n                logger.getLogger().info('Options for request ' + output +\n                    ' is missing the sub/segment context for automatic mode. Ignoring.');\n            }\n            // Options are not modified, only parsed for logging. We can pass in the original arguments.\n            return baseFunc(...args);\n        }\n        let subsegment;\n        if (parent.notTraced) {\n            subsegment = parent.addNewSubsegmentWithoutSampling(hostname);\n        }\n        else {\n            subsegment = parent.addNewSubsegment(hostname);\n        }\n        const root = parent.segment ? parent.segment : parent;\n        subsegment.namespace = 'remote';\n        if (!options.headers) {\n            options.headers = {};\n        }\n        if (!parent.noOp) {\n            options.headers['X-Amzn-Trace-Id'] = 'Root=' + root.trace_id + ';Parent=' + subsegment.id +\n                ';Sampled=' + (subsegment.notTraced ? '0' : '1');\n        }\n        const errorCapturer = function errorCapturer(e) {\n            if (subsegmentCallback) {\n                subsegmentCallback(subsegment, this, null, e);\n            }\n            if (subsegment.http && subsegment.http.response) {\n                if (Utils.getCauseTypeFromHttpStatus(subsegment.http.response.status) === 'error') {\n                    subsegment.addErrorFlag();\n                }\n                subsegment.close(e, true);\n            }\n            else {\n                const madeItToDownstream = (e.code !== 'ECONNREFUSED');\n                subsegment.addRemoteRequestData(this, null, madeItToDownstream && downstreamXRayEnabled);\n                subsegment.close(e);\n            }\n        };\n        const optionsCopy = Utils.objectWithoutProperties(options, ['Segment'], true);\n        let req = baseFunc(...(hasUrl ? [arg0, optionsCopy] : [options]), function (res) {\n            res.on('end', function () {\n                if (subsegmentCallback) {\n                    subsegmentCallback(subsegment, this.req, res);\n                }\n                if (res.statusCode === 429) {\n                    subsegment.addThrottleFlag();\n                }\n                const cause = Utils.getCauseTypeFromHttpStatus(res.statusCode);\n                if (cause) {\n                    subsegment[cause] = true;\n                }\n                subsegment.addRemoteRequestData(res.req, res, !!downstreamXRayEnabled);\n                subsegment.close();\n            });\n            if (typeof callback === 'function') {\n                if (contextUtils.isAutomaticMode()) {\n                    const session = contextUtils.getNamespace();\n                    session.run(function () {\n                        contextUtils.setSegment(subsegment);\n                        callback(res);\n                    });\n                }\n                else {\n                    callback(res);\n                }\n                // if no callback provided by user application, AND no explicit response listener\n                // added by user application, then we consume the response so the 'end' event fires\n                // See: https://nodejs.org/api/http.html#http_class_http_clientrequest\n            }\n            else if (res.req && res.req.listenerCount('response') === 0) {\n                res.resume();\n            }\n        });\n        // Use errorMonitor if available (in Node 12.17+), otherwise fall back to standard error listener\n        // See: https://nodejs.org/dist/latest-v12.x/docs/api/events.html#events_eventemitter_errormonitor\n        req.on(events.errorMonitor || 'error', errorCapturer);\n        return req;\n    }\n    module.__request = module.request;\n    function captureHTTPsRequest(...args) {\n        return captureOutgoingHTTPs(module.__request, ...args);\n    }\n    module.__get = module.get;\n    function captureHTTPsGet(...args) {\n        return captureOutgoingHTTPs(module.__get, ...args);\n    }\n    Object.defineProperties(module, {\n        request: { value: captureHTTPsRequest, configurable: true, enumerable: true, writable: true },\n        get: { value: captureHTTPsGet, configurable: true, enumerable: true, writable: true },\n    });\n}\nmodule.exports.captureHTTPsGlobal = captureHTTPsGlobal;\nmodule.exports.captureHTTPs = captureHTTPs;\n", "\"use strict\";\n/**\n * @module promise_p\n */\n/**\n * This module patches native Promise libraries provided by V8 engine\n * so all subsegments generated within Promise are attached to the correct parent.\n */\nconst contextUtils = require('../context_utils');\nconst originalThen = Symbol('original then');\nconst originalCatch = Symbol('original catch');\nfunction patchPromise(Promise) {\n    const then = Promise.prototype.then;\n    if (!then[originalThen]) {\n        Promise.prototype.then = function (onFulfilled, onRejected) {\n            if (contextUtils.isAutomaticMode()\n                && tryGetCurrentSegment()) {\n                const ns = contextUtils.getNamespace();\n                onFulfilled = onFulfilled && ns.bind(onFulfilled);\n                onRejected = onRejected && ns.bind(onRejected);\n            }\n            return then.call(this, onFulfilled, onRejected);\n        };\n        Promise.prototype.then[originalThen] = then;\n    }\n    const origCatch = Promise.prototype.catch;\n    if (origCatch && !origCatch[originalCatch]) {\n        Promise.prototype.catch = function (onRejected) {\n            if (contextUtils.isAutomaticMode()\n                && tryGetCurrentSegment()) {\n                const ns = contextUtils.getNamespace();\n                onRejected = onRejected && ns.bind(onRejected);\n            }\n            return origCatch.call(this, onRejected);\n        };\n        Promise.prototype.catch[originalCatch] = origCatch;\n    }\n}\nfunction unpatchPromise(Promise) {\n    const then = Promise.prototype.then;\n    if (then[originalThen]) {\n        Promise.prototype.then = then[originalThen];\n    }\n    const origCatch = Promise.prototype.catch;\n    if (origCatch && origCatch[originalCatch]) {\n        Promise.prototype.catch = origCatch[originalCatch];\n    }\n}\nfunction tryGetCurrentSegment() {\n    try {\n        return contextUtils.getSegment();\n    }\n    catch (e) {\n        return undefined;\n    }\n}\nfunction capturePromise() {\n    patchPromise(Promise);\n}\nfunction uncapturePromise() {\n    unpatchPromise(Promise);\n}\ncapturePromise.patchThirdPartyPromise = patchPromise;\nmodule.exports.capturePromise = capturePromise;\nmodule.exports.uncapturePromise = uncapturePromise;\n", "\"use strict\";\n/**\n * Represents a SQL database call.\n * @constructor\n * @param {string} databaseVer - The version on the database (user supplied).\n * @param {string} driverVer - The version on the database driver (user supplied).\n * @param {string} user - The user associated to the database call.\n * @param {string} queryType - The SQL query type.\n */\nfunction SqlData(databaseVer, driverVer, user, url, queryType) {\n    this.init(databaseVer, driverVer, user, url, queryType);\n}\nSqlData.prototype.init = function init(databaseVer, driverVer, user, url, queryType) {\n    if (databaseVer) {\n        this.database_version = databaseVer;\n    }\n    if (driverVer) {\n        this.driver_version = driverVer;\n    }\n    if (queryType) {\n        this.preparation = queryType;\n    }\n    this.url = url;\n    this.user = user;\n};\nmodule.exports = SqlData;\n", "\"use strict\";\nvar contextUtils = require('./context_utils');\nvar logging = require('./logger');\nvar segmentUtils = require('./segments/segment_utils');\nvar utils = require('./utils');\nvar LambdaEnv = require('./env/aws_lambda');\n// Import Data from package.json,\n// If the importing of package.json fails leave\n// pkginfo as an empty object\nvar pkginfo = {};\ntry {\n    pkginfo = require('../../package.json');\n}\ncatch (err) {\n    logging.getLogger().debug('Failed to load SDK data:', err);\n}\nvar UNKNOWN = 'unknown';\n/**\n * A module representing the AWSXRay SDK.\n * @namespace AWSXRay\n */\nvar AWSXRay = {\n    /**\n     * @memberof AWSXRay\n     * @type {object}\n     * @namespace AWSXRay.plugins\n     */\n    plugins: {\n        /**\n         * Exposes the AWS EC2 plugin.\n         * @memberof AWSXRay.plugins\n         */\n        EC2Plugin: require('./segments/plugins/ec2_plugin'),\n        /**\n         * Exposes the AWS ECS plugin.\n         * @memberof AWSXRay.plugins\n         */\n        ECSPlugin: require('./segments/plugins/ecs_plugin'),\n        /**\n         * Exposes the AWS Elastic Beanstalk plugin.\n         * @memberof AWSXRay.plugins\n         */\n        ElasticBeanstalkPlugin: require('./segments/plugins/elastic_beanstalk_plugin'),\n    },\n    /**\n     * Enables use of plugins to capture additional data for segments.\n     * @param {Array} plugins - A configurable subset of AWSXRay.plugins.\n     * @memberof AWSXRay\n     * @see AWSXRay.plugins\n     */\n    config: function (plugins) {\n        var pluginData = {};\n        plugins.forEach(function (plugin) {\n            plugin.getData(function (data) {\n                if (data) {\n                    for (var attribute in data) {\n                        pluginData[attribute] = data[attribute];\n                    }\n                }\n            });\n            segmentUtils.setOrigin(plugin.originName);\n            segmentUtils.setPluginData(pluginData);\n        });\n    },\n    /**\n     * Overrides the default whitelisting file to specify what params to capture on each AWS Service call.\n     * If a service or API is not listed, no additional data is captured.\n     * The base whitelisting file can be found at /lib/resources/aws_whitelist.json\n     * @param {string|Object} source - The path to the custom whitelist file, or a whitelist source JSON object.\n     * @memberof AWSXRay\n     */\n    setAWSWhitelist: require('./segments/attributes/aws').setAWSWhitelist,\n    /**\n     * Appends to the current whitelisting file.\n     * In the case of a duplicate service API listed, the new source will override the previous values.\n     * @param {string|Object} source - The path to the custom whitelist file, or a whitelist source JSON object.\n     * @memberof AWSXRay\n     */\n    appendAWSWhitelist: require('./segments/attributes/aws').appendAWSWhitelist,\n    /**\n     * Overrides the default streaming threshold (100).\n     * The threshold represents the maximum number of subsegments on a single segment before\n     * the SDK begins to send the completed subsegments out of band of the main segment.\n     * Reduce this threshold if you see the 'Segment too large to send' error.\n     * @param {number} threshold - The new threshold to use.\n     * @memberof AWSXRay\n     */\n    setStreamingThreshold: segmentUtils.setStreamingThreshold,\n    /**\n     * Set your own logger for the SDK.\n     * @param {Object} logger - A logger which responds to debug/info/warn/error calls.\n     * @memberof AWSXRay\n     */\n    setLogger: logging.setLogger,\n    /**\n     * Gets the set logger for the SDK.\n     * @memberof AWSXRay\n     */\n    getLogger: logging.getLogger,\n    /**\n     * Configures the address and port the daemon is expected to be on.\n     * @param {string} address - Address of the daemon the segments should be sent to.  Expects 'x.x.x.x', ':yyyy' or 'x.x.x.x:yyyy' IPv4 formats.\n     * @module DaemonConfig\n     * @memberof AWSXRay\n     * @function\n     * @see module:DaemonConfig.setDaemonAddress\n     */\n    setDaemonAddress: require('./daemon_config').setDaemonAddress,\n    /**\n     * @param {string} name - The name of the new subsegment.\n     * @param {function} fcn - The function conext to wrap.\n     * @param {Segment|Subsegment} [parent] - The parent for the new subsegment, for manual mode.\n     * @memberof AWSXRay\n     * @function\n     * @see module:capture.captureFunc\n     */\n    captureFunc: require('./capture').captureFunc,\n    /**\n     * @param {string} name - The name of the new subsegment.\n     * @param {function} fcn - The function conext to wrap.\n     * @param {Segment|Subsegment} [parent] - The parent for the new subsegment, for manual mode.\n     * @memberof AWSXRay\n     * @function\n     * @see module:capture.captureAsyncFunc\n     */\n    captureAsyncFunc: require('./capture').captureAsyncFunc,\n    /**\n     * @param {string} name - The name of the new subsegment.\n     * @param {function} fcn - The function conext to wrap.\n     * @param {Segment|Subsegment} [parent] - The parent for the new subsegment, for manual mode.\n     * @memberof AWSXRay\n     * @function\n     * @see module:capture.captureCallbackFunc\n     */\n    captureCallbackFunc: require('./capture').captureCallbackFunc,\n    /**\n     * @param {AWS} awssdk - The Javascript AWS SDK.\n     * @memberof AWSXRay\n     * @function\n     * @see module:aws_p.captureAWS\n     */\n    captureAWS: require('./patchers/aws_p').captureAWS,\n    /**\n     * @param {AWS.Service} service - An instance of a AWS service to wrap.\n     * @memberof AWSXRay\n     * @function\n     * @see module:aws_p.captureAWSClient\n     */\n    captureAWSClient: require('./patchers/aws_p').captureAWSClient,\n    /**\n     * @param {AWSv3.Service} service - An instance of a AWS SDK v3 service to wrap.\n     * @param {Segment|Subsegment} segment - Optional segment for manual mode.\n     * @memberof AWSXRay\n     * @function\n     * @see module:aws3_p.captureAWSClient\n     */\n    captureAWSv3Client: require('./patchers/aws3_p').captureAWSClient,\n    /**\n     * @param {http|https} module - The built in Node.js HTTP or HTTPS module.\n     * @memberof AWSXRay\n     * @function\n     * @returns {http|https}\n     * @see module:http_p.captureHTTPs\n     */\n    captureHTTPs: require('./patchers/http_p').captureHTTPs,\n    /**\n     * @param {http|https} module - The built in Node.js HTTP or HTTPS module.\n     * @memberof AWSXRay\n     * @function\n     * @see module:http_p.captureHTTPsGlobal\n     */\n    captureHTTPsGlobal: require('./patchers/http_p').captureHTTPsGlobal,\n    /**\n     * @memberof AWSXRay\n     * @function\n     * @see module:promise_p.capturePromise\n     */\n    capturePromise: require('./patchers/promise_p').capturePromise,\n    /**\n     * Exposes various helper methods.\n     * @memberof AWSXRay\n     * @function\n     * @see module:utils\n     */\n    utils: utils,\n    /**\n     * @memberof AWSXRay\n     * @type {object}\n     * @namespace AWSXRay.database\n     */\n    database: {\n        /**\n         * Exposes the SqlData class.\n         * @memberof AWSXRay.database\n         * @see SqlData\n         */\n        SqlData: require('./database/sql_data'),\n    },\n    /**\n     * Exposes the Middleware Utils class.\n     * @memberof AWSXRay\n     * @function\n     * @see module:mw_utils\n     */\n    middleware: require('./middleware/mw_utils'),\n    /**\n     * Gets the current namespace of the context.\n     * Used for supporting functions that can be used in automatic mode.\n     * @memberof AWSXRay\n     * @function\n     * @returns {Segment|Subsegment}\n     * @see module:context_utils.getNamespace\n     */\n    getNamespace: contextUtils.getNamespace,\n    /**\n     * Resolves the current segment or subsegment, checks manual and automatic modes.\n     * Used for supporting functions that can be used in both manual and automatic modes.\n     * @memberof AWSXRay\n     * @function\n     * @returns {Segment|Subsegment}\n     * @see module:context_utils.resolveSegment\n     */\n    resolveSegment: contextUtils.resolveSegment,\n    /**\n     * Resolves the segment or subsegment given manual mode and params on the call required.\n     * @param [Segment|Subsegment] segment - The segment manually provided via params.XraySegment, if provided.\n     * @memberof AWSXRay\n     * @function\n     * @returns {Segment|Subsegment}\n     * @see module:context_utils.resolveManualSegmentParams\n     */\n    resolveManualSegmentParams: contextUtils.resolveManualSegmentParams,\n    /**\n     * Returns the current segment or subsegment. For use with automatic mode only.\n     * @memberof AWSXRay\n     * @function\n     * @returns {Segment|Subsegment}\n     * @see module:context_utils.getSegment\n     */\n    getSegment: contextUtils.getSegment,\n    /**\n     * Sets the current segment or subsegment.  For use with automatic mode only.\n     * @memberof AWSXRay\n     * @function\n     * @see module:context_utils.setSegment\n     */\n    setSegment: contextUtils.setSegment,\n    /**\n     * Returns true if automatic mode is enabled, otherwise false.\n     * @memberof AWSXRay\n     * @function\n     * @see module:context_utils.isAutomaticMode\n     */\n    isAutomaticMode: contextUtils.isAutomaticMode,\n    /**\n     * Enables automatic mode. Automatic mode uses 'cls-hooked'.\n     * @see https://github.com/jeff-lewis/cls-hooked\n     * @memberof AWSXRay\n     * @function\n     * @see module:context_utils.enableAutomaticMode\n     */\n    enableAutomaticMode: contextUtils.enableAutomaticMode,\n    /**\n     * Disables automatic mode. Current segment or subsegment must be passed manually\n     * via the parent optional on captureFunc, captureAsyncFunc etc.\n     * @memberof AWSXRay\n     * @function\n     * @see module:context_utils.enableManualMode\n     */\n    enableManualMode: contextUtils.enableManualMode,\n    /**\n     * Sets the context missing strategy.\n     * @param {Object} strategy - The strategy to set. This object's contextMissing function will be called whenever trace context is not found.\n     */\n    setContextMissingStrategy: contextUtils.setContextMissingStrategy,\n    /**\n     * Exposes the segment class.\n     * @memberof AWSXRay\n     * @function\n     */\n    Segment: require('./segments/segment'),\n    /**\n     * Exposes the subsegment class.\n     * @memberof AWSXRay\n     * @see Subsegment\n     */\n    Subsegment: require('./segments/attributes/subsegment'),\n    SegmentUtils: segmentUtils\n};\n/**\n * Exposes the IncomingRequestData, to capture incoming request data.\n * For use with middleware.\n * @memberof AWSXRay.middleware\n * @see IncomingRequestData\n */\nAWSXRay.middleware.IncomingRequestData = require('./middleware/incoming_request_data'),\n    (function () {\n        var data = {\n            runtime: (process.release && process.release.name) ? process.release.name : UNKNOWN,\n            runtime_version: process.version,\n            version: process.env.npm_package_version || UNKNOWN,\n            name: process.env.npm_package_name || UNKNOWN\n        };\n        var sdkData = {\n            sdk: 'X-Ray for Node.js',\n            sdk_version: pkginfo.version ? pkginfo.version : UNKNOWN,\n            package: pkginfo.name ? pkginfo.name : UNKNOWN,\n        };\n        segmentUtils.setSDKData(sdkData);\n        segmentUtils.setServiceData(data);\n        if (process.env.LAMBDA_TASK_ROOT) {\n            LambdaEnv.init();\n        }\n    })();\nmodule.exports = AWSXRay;\n", "\"use strict\";\n// Convenience file to require the SDK from the root of the repository\nmodule.exports = require('./aws-xray');\n", "'use strict'\n\nexports.parse = function (source, transform) {\n  return new ArrayParser(source, transform).parse()\n}\n\nclass ArrayParser {\n  constructor (source, transform) {\n    this.source = source\n    this.transform = transform || identity\n    this.position = 0\n    this.entries = []\n    this.recorded = []\n    this.dimension = 0\n  }\n\n  isEof () {\n    return this.position >= this.source.length\n  }\n\n  nextCharacter () {\n    var character = this.source[this.position++]\n    if (character === '\\\\') {\n      return {\n        value: this.source[this.position++],\n        escaped: true\n      }\n    }\n    return {\n      value: character,\n      escaped: false\n    }\n  }\n\n  record (character) {\n    this.recorded.push(character)\n  }\n\n  newEntry (includeEmpty) {\n    var entry\n    if (this.recorded.length > 0 || includeEmpty) {\n      entry = this.recorded.join('')\n      if (entry === 'NULL' && !includeEmpty) {\n        entry = null\n      }\n      if (entry !== null) entry = this.transform(entry)\n      this.entries.push(entry)\n      this.recorded = []\n    }\n  }\n\n  consumeDimensions () {\n    if (this.source[0] === '[') {\n      while (!this.isEof()) {\n        var char = this.nextCharacter()\n        if (char.value === '=') break\n      }\n    }\n  }\n\n  parse (nested) {\n    var character, parser, quote\n    this.consumeDimensions()\n    while (!this.isEof()) {\n      character = this.nextCharacter()\n      if (character.value === '{' && !quote) {\n        this.dimension++\n        if (this.dimension > 1) {\n          parser = new ArrayParser(this.source.substr(this.position - 1), this.transform)\n          this.entries.push(parser.parse(true))\n          this.position += parser.position - 2\n        }\n      } else if (character.value === '}' && !quote) {\n        this.dimension--\n        if (!this.dimension) {\n          this.newEntry()\n          if (nested) return this.entries\n        }\n      } else if (character.value === '\"' && !character.escaped) {\n        if (quote) this.newEntry(true)\n        quote = !quote\n      } else if (character.value === ',' && !quote) {\n        this.newEntry()\n      } else {\n        this.record(character.value)\n      }\n    }\n    if (this.dimension !== 0) {\n      throw new Error('array dimension not balanced')\n    }\n    return this.entries\n  }\n}\n\nfunction identity (value) {\n  return value\n}\n", "var array = require('postgres-array');\n\nmodule.exports = {\n  create: function (source, transform) {\n    return {\n      parse: function() {\n        return array.parse(source, transform);\n      }\n    };\n  }\n};\n", "'use strict'\n\nvar DATE_TIME = /(\\d{1,})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,})?.*?( BC)?$/\nvar DATE = /^(\\d{1,})-(\\d{2})-(\\d{2})( BC)?$/\nvar TIME_ZONE = /([Z+-])(\\d{2})?:?(\\d{2})?:?(\\d{2})?/\nvar INFINITY = /^-?infinity$/\n\nmodule.exports = function parseDate (isoDate) {\n  if (INFINITY.test(isoDate)) {\n    // Capitalize to Infinity before passing to Number\n    return Number(isoDate.replace('i', 'I'))\n  }\n  var matches = DATE_TIME.exec(isoDate)\n\n  if (!matches) {\n    // Force YYYY-MM-DD dates to be parsed as local time\n    return getDate(isoDate) || null\n  }\n\n  var isBC = !!matches[8]\n  var year = parseInt(matches[1], 10)\n  if (isBC) {\n    year = bcYearToNegativeYear(year)\n  }\n\n  var month = parseInt(matches[2], 10) - 1\n  var day = matches[3]\n  var hour = parseInt(matches[4], 10)\n  var minute = parseInt(matches[5], 10)\n  var second = parseInt(matches[6], 10)\n\n  var ms = matches[7]\n  ms = ms ? 1000 * parseFloat(ms) : 0\n\n  var date\n  var offset = timeZoneOffset(isoDate)\n  if (offset != null) {\n    date = new Date(Date.UTC(year, month, day, hour, minute, second, ms))\n\n    // Account for years from 0 to 99 being interpreted as 1900-1999\n    // by Date.UTC / the multi-argument form of the Date constructor\n    if (is0To99(year)) {\n      date.setUTCFullYear(year)\n    }\n\n    if (offset !== 0) {\n      date.setTime(date.getTime() - offset)\n    }\n  } else {\n    date = new Date(year, month, day, hour, minute, second, ms)\n\n    if (is0To99(year)) {\n      date.setFullYear(year)\n    }\n  }\n\n  return date\n}\n\nfunction getDate (isoDate) {\n  var matches = DATE.exec(isoDate)\n  if (!matches) {\n    return\n  }\n\n  var year = parseInt(matches[1], 10)\n  var isBC = !!matches[4]\n  if (isBC) {\n    year = bcYearToNegativeYear(year)\n  }\n\n  var month = parseInt(matches[2], 10) - 1\n  var day = matches[3]\n  // YYYY-MM-DD will be parsed as local time\n  var date = new Date(year, month, day)\n\n  if (is0To99(year)) {\n    date.setFullYear(year)\n  }\n\n  return date\n}\n\n// match timezones:\n// Z (UTC)\n// -05\n// +06:30\nfunction timeZoneOffset (isoDate) {\n  if (isoDate.endsWith('+00')) {\n    return 0\n  }\n\n  var zone = TIME_ZONE.exec(isoDate.split(' ')[1])\n  if (!zone) return\n  var type = zone[1]\n\n  if (type === 'Z') {\n    return 0\n  }\n  var sign = type === '-' ? -1 : 1\n  var offset = parseInt(zone[2], 10) * 3600 +\n    parseInt(zone[3] || 0, 10) * 60 +\n    parseInt(zone[4] || 0, 10)\n\n  return offset * sign * 1000\n}\n\nfunction bcYearToNegativeYear (year) {\n  // Account for numerical difference between representations of BC years\n  // See: https://github.com/bendrucker/postgres-date/issues/5\n  return -(year - 1)\n}\n\nfunction is0To99 (num) {\n  return num >= 0 && num < 100\n}\n", "module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n", "'use strict'\n\nvar extend = require('xtend/mutable')\n\nmodule.exports = PostgresInterval\n\nfunction PostgresInterval (raw) {\n  if (!(this instanceof PostgresInterval)) {\n    return new PostgresInterval(raw)\n  }\n  extend(this, parse(raw))\n}\nvar properties = ['seconds', 'minutes', 'hours', 'days', 'months', 'years']\nPostgresInterval.prototype.toPostgres = function () {\n  var filtered = properties.filter(this.hasOwnProperty, this)\n\n  // In addition to `properties`, we need to account for fractions of seconds.\n  if (this.milliseconds && filtered.indexOf('seconds') < 0) {\n    filtered.push('seconds')\n  }\n\n  if (filtered.length === 0) return '0'\n  return filtered\n    .map(function (property) {\n      var value = this[property] || 0\n\n      // Account for fractional part of seconds,\n      // remove trailing zeroes.\n      if (property === 'seconds' && this.milliseconds) {\n        value = (value + this.milliseconds / 1000).toFixed(6).replace(/\\.?0+$/, '')\n      }\n\n      return value + ' ' + property\n    }, this)\n    .join(' ')\n}\n\nvar propertiesISOEquivalent = {\n  years: 'Y',\n  months: 'M',\n  days: 'D',\n  hours: 'H',\n  minutes: 'M',\n  seconds: 'S'\n}\nvar dateProperties = ['years', 'months', 'days']\nvar timeProperties = ['hours', 'minutes', 'seconds']\n// according to ISO 8601\nPostgresInterval.prototype.toISOString = PostgresInterval.prototype.toISO = function () {\n  var datePart = dateProperties\n    .map(buildProperty, this)\n    .join('')\n\n  var timePart = timeProperties\n    .map(buildProperty, this)\n    .join('')\n\n  return 'P' + datePart + 'T' + timePart\n\n  function buildProperty (property) {\n    var value = this[property] || 0\n\n    // Account for fractional part of seconds,\n    // remove trailing zeroes.\n    if (property === 'seconds' && this.milliseconds) {\n      value = (value + this.milliseconds / 1000).toFixed(6).replace(/0+$/, '')\n    }\n\n    return value + propertiesISOEquivalent[property]\n  }\n}\n\nvar NUMBER = '([+-]?\\\\d+)'\nvar YEAR = NUMBER + '\\\\s+years?'\nvar MONTH = NUMBER + '\\\\s+mons?'\nvar DAY = NUMBER + '\\\\s+days?'\nvar TIME = '([+-])?([\\\\d]*):(\\\\d\\\\d):(\\\\d\\\\d)\\\\.?(\\\\d{1,6})?'\nvar INTERVAL = new RegExp([YEAR, MONTH, DAY, TIME].map(function (regexString) {\n  return '(' + regexString + ')?'\n})\n  .join('\\\\s*'))\n\n// Positions of values in regex match\nvar positions = {\n  years: 2,\n  months: 4,\n  days: 6,\n  hours: 9,\n  minutes: 10,\n  seconds: 11,\n  milliseconds: 12\n}\n// We can use negative time\nvar negatives = ['hours', 'minutes', 'seconds', 'milliseconds']\n\nfunction parseMilliseconds (fraction) {\n  // add omitted zeroes\n  var microseconds = fraction + '000000'.slice(fraction.length)\n  return parseInt(microseconds, 10) / 1000\n}\n\nfunction parse (interval) {\n  if (!interval) return {}\n  var matches = INTERVAL.exec(interval)\n  var isNegative = matches[8] === '-'\n  return Object.keys(positions)\n    .reduce(function (parsed, property) {\n      var position = positions[property]\n      var value = matches[position]\n      // no empty string\n      if (!value) return parsed\n      // milliseconds are actually microseconds (up to 6 digits)\n      // with omitted trailing zeroes.\n      value = property === 'milliseconds'\n        ? parseMilliseconds(value)\n        : parseInt(value, 10)\n      // no zeros\n      if (!value) return parsed\n      if (isNegative && ~negatives.indexOf(property)) {\n        value *= -1\n      }\n      parsed[property] = value\n      return parsed\n    }, {})\n}\n", "'use strict'\n\nmodule.exports = function parseBytea (input) {\n  if (/^\\\\x/.test(input)) {\n    // new 'hex' style response (pg >9.0)\n    return new Buffer(input.substr(2), 'hex')\n  }\n  var output = ''\n  var i = 0\n  while (i < input.length) {\n    if (input[i] !== '\\\\') {\n      output += input[i]\n      ++i\n    } else {\n      if (/[0-7]{3}/.test(input.substr(i + 1, 3))) {\n        output += String.fromCharCode(parseInt(input.substr(i + 1, 3), 8))\n        i += 4\n      } else {\n        var backslashes = 1\n        while (i + backslashes < input.length && input[i + backslashes] === '\\\\') {\n          backslashes++\n        }\n        for (var k = 0; k < Math.floor(backslashes / 2); ++k) {\n          output += '\\\\'\n        }\n        i += Math.floor(backslashes / 2) * 2\n      }\n    }\n  }\n  return new Buffer(output, 'binary')\n}\n", "var array = require('postgres-array')\nvar arrayParser = require('./arrayParser');\nvar parseDate = require('postgres-date');\nvar parseInterval = require('postgres-interval');\nvar parseByteA = require('postgres-bytea');\n\nfunction allowNull (fn) {\n  return function nullAllowed (value) {\n    if (value === null) return value\n    return fn(value)\n  }\n}\n\nfunction parseBool (value) {\n  if (value === null) return value\n  return value === 'TRUE' ||\n    value === 't' ||\n    value === 'true' ||\n    value === 'y' ||\n    value === 'yes' ||\n    value === 'on' ||\n    value === '1';\n}\n\nfunction parseBoolArray (value) {\n  if (!value) return null\n  return array.parse(value, parseBool)\n}\n\nfunction parseBaseTenInt (string) {\n  return parseInt(string, 10)\n}\n\nfunction parseIntegerArray (value) {\n  if (!value) return null\n  return array.parse(value, allowNull(parseBaseTenInt))\n}\n\nfunction parseBigIntegerArray (value) {\n  if (!value) return null\n  return array.parse(value, allowNull(function (entry) {\n    return parseBigInteger(entry).trim()\n  }))\n}\n\nvar parsePointArray = function(value) {\n  if(!value) { return null; }\n  var p = arrayParser.create(value, function(entry) {\n    if(entry !== null) {\n      entry = parsePoint(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseFloatArray = function(value) {\n  if(!value) { return null; }\n  var p = arrayParser.create(value, function(entry) {\n    if(entry !== null) {\n      entry = parseFloat(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseStringArray = function(value) {\n  if(!value) { return null; }\n\n  var p = arrayParser.create(value);\n  return p.parse();\n};\n\nvar parseDateArray = function(value) {\n  if (!value) { return null; }\n\n  var p = arrayParser.create(value, function(entry) {\n    if (entry !== null) {\n      entry = parseDate(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseIntervalArray = function(value) {\n  if (!value) { return null; }\n\n  var p = arrayParser.create(value, function(entry) {\n    if (entry !== null) {\n      entry = parseInterval(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseByteAArray = function(value) {\n  if (!value) { return null; }\n\n  return array.parse(value, allowNull(parseByteA));\n};\n\nvar parseInteger = function(value) {\n  return parseInt(value, 10);\n};\n\nvar parseBigInteger = function(value) {\n  var valStr = String(value);\n  if (/^\\d+$/.test(valStr)) { return valStr; }\n  return value;\n};\n\nvar parseJsonArray = function(value) {\n  if (!value) { return null; }\n\n  return array.parse(value, allowNull(JSON.parse));\n};\n\nvar parsePoint = function(value) {\n  if (value[0] !== '(') { return null; }\n\n  value = value.substring( 1, value.length - 1 ).split(',');\n\n  return {\n    x: parseFloat(value[0])\n  , y: parseFloat(value[1])\n  };\n};\n\nvar parseCircle = function(value) {\n  if (value[0] !== '<' && value[1] !== '(') { return null; }\n\n  var point = '(';\n  var radius = '';\n  var pointParsed = false;\n  for (var i = 2; i < value.length - 1; i++){\n    if (!pointParsed) {\n      point += value[i];\n    }\n\n    if (value[i] === ')') {\n      pointParsed = true;\n      continue;\n    } else if (!pointParsed) {\n      continue;\n    }\n\n    if (value[i] === ','){\n      continue;\n    }\n\n    radius += value[i];\n  }\n  var result = parsePoint(point);\n  result.radius = parseFloat(radius);\n\n  return result;\n};\n\nvar init = function(register) {\n  register(20, parseBigInteger); // int8\n  register(21, parseInteger); // int2\n  register(23, parseInteger); // int4\n  register(26, parseInteger); // oid\n  register(700, parseFloat); // float4/real\n  register(701, parseFloat); // float8/double\n  register(16, parseBool);\n  register(1082, parseDate); // date\n  register(1114, parseDate); // timestamp without timezone\n  register(1184, parseDate); // timestamp\n  register(600, parsePoint); // point\n  register(651, parseStringArray); // cidr[]\n  register(718, parseCircle); // circle\n  register(1000, parseBoolArray);\n  register(1001, parseByteAArray);\n  register(1005, parseIntegerArray); // _int2\n  register(1007, parseIntegerArray); // _int4\n  register(1028, parseIntegerArray); // oid[]\n  register(1016, parseBigIntegerArray); // _int8\n  register(1017, parsePointArray); // point[]\n  register(1021, parseFloatArray); // _float4\n  register(1022, parseFloatArray); // _float8\n  register(1231, parseFloatArray); // _numeric\n  register(1014, parseStringArray); //char\n  register(1015, parseStringArray); //varchar\n  register(1008, parseStringArray);\n  register(1009, parseStringArray);\n  register(1040, parseStringArray); // macaddr[]\n  register(1041, parseStringArray); // inet[]\n  register(1115, parseDateArray); // timestamp without time zone[]\n  register(1182, parseDateArray); // _date\n  register(1185, parseDateArray); // timestamp with time zone[]\n  register(1186, parseInterval);\n  register(1187, parseIntervalArray);\n  register(17, parseByteA);\n  register(114, JSON.parse.bind(JSON)); // json\n  register(3802, JSON.parse.bind(JSON)); // jsonb\n  register(199, parseJsonArray); // json[]\n  register(3807, parseJsonArray); // jsonb[]\n  register(3907, parseStringArray); // numrange[]\n  register(2951, parseStringArray); // uuid[]\n  register(791, parseStringArray); // money[]\n  register(1183, parseStringArray); // time[]\n  register(1270, parseStringArray); // timetz[]\n};\n\nmodule.exports = {\n  init: init\n};\n", "'use strict';\n\n// selected so (BASE - 1) * 0x100000000 + 0xffffffff is a safe integer\nvar BASE = 1000000;\n\nfunction readInt8(buffer) {\n\tvar high = buffer.readInt32BE(0);\n\tvar low = buffer.readUInt32BE(4);\n\tvar sign = '';\n\n\tif (high < 0) {\n\t\thigh = ~high + (low === 0);\n\t\tlow = (~low + 1) >>> 0;\n\t\tsign = '-';\n\t}\n\n\tvar result = '';\n\tvar carry;\n\tvar t;\n\tvar digits;\n\tvar pad;\n\tvar l;\n\tvar i;\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\tt = 0x100000000 * carry + low;\n\t\tdigits = '' + t % BASE;\n\n\t\treturn sign + digits + result;\n\t}\n}\n\nmodule.exports = readInt8;\n", "var parseInt64 = require('pg-int8');\n\nvar parseBits = function(data, bits, offset, invert, callback) {\n  offset = offset || 0;\n  invert = invert || false;\n  callback = callback || function(lastValue, newValue, bits) { return (lastValue * Math.pow(2, bits)) + newValue; };\n  var offsetBytes = offset >> 3;\n\n  var inv = function(value) {\n    if (invert) {\n      return ~value & 0xff;\n    }\n\n    return value;\n  };\n\n  // read first (maybe partial) byte\n  var mask = 0xff;\n  var firstBits = 8 - (offset % 8);\n  if (bits < firstBits) {\n    mask = (0xff << (8 - bits)) & 0xff;\n    firstBits = bits;\n  }\n\n  if (offset) {\n    mask = mask >> (offset % 8);\n  }\n\n  var result = 0;\n  if ((offset % 8) + bits >= 8) {\n    result = callback(0, inv(data[offsetBytes]) & mask, firstBits);\n  }\n\n  // read bytes\n  var bytes = (bits + offset) >> 3;\n  for (var i = offsetBytes + 1; i < bytes; i++) {\n    result = callback(result, inv(data[i]), 8);\n  }\n\n  // bits to read, that are not a complete byte\n  var lastBits = (bits + offset) % 8;\n  if (lastBits > 0) {\n    result = callback(result, inv(data[bytes]) >> (8 - lastBits), lastBits);\n  }\n\n  return result;\n};\n\nvar parseFloatFromBits = function(data, precisionBits, exponentBits) {\n  var bias = Math.pow(2, exponentBits - 1) - 1;\n  var sign = parseBits(data, 1);\n  var exponent = parseBits(data, exponentBits, 1);\n\n  if (exponent === 0) {\n    return 0;\n  }\n\n  // parse mantissa\n  var precisionBitsCounter = 1;\n  var parsePrecisionBits = function(lastValue, newValue, bits) {\n    if (lastValue === 0) {\n      lastValue = 1;\n    }\n\n    for (var i = 1; i <= bits; i++) {\n      precisionBitsCounter /= 2;\n      if ((newValue & (0x1 << (bits - i))) > 0) {\n        lastValue += precisionBitsCounter;\n      }\n    }\n\n    return lastValue;\n  };\n\n  var mantissa = parseBits(data, precisionBits, exponentBits + 1, false, parsePrecisionBits);\n\n  // special cases\n  if (exponent == (Math.pow(2, exponentBits + 1) - 1)) {\n    if (mantissa === 0) {\n      return (sign === 0) ? Infinity : -Infinity;\n    }\n\n    return NaN;\n  }\n\n  // normale number\n  return ((sign === 0) ? 1 : -1) * Math.pow(2, exponent - bias) * mantissa;\n};\n\nvar parseInt16 = function(value) {\n  if (parseBits(value, 1) == 1) {\n    return -1 * (parseBits(value, 15, 1, true) + 1);\n  }\n\n  return parseBits(value, 15, 1);\n};\n\nvar parseInt32 = function(value) {\n  if (parseBits(value, 1) == 1) {\n    return -1 * (parseBits(value, 31, 1, true) + 1);\n  }\n\n  return parseBits(value, 31, 1);\n};\n\nvar parseFloat32 = function(value) {\n  return parseFloatFromBits(value, 23, 8);\n};\n\nvar parseFloat64 = function(value) {\n  return parseFloatFromBits(value, 52, 11);\n};\n\nvar parseNumeric = function(value) {\n  var sign = parseBits(value, 16, 32);\n  if (sign == 0xc000) {\n    return NaN;\n  }\n\n  var weight = Math.pow(10000, parseBits(value, 16, 16));\n  var result = 0;\n\n  var digits = [];\n  var ndigits = parseBits(value, 16);\n  for (var i = 0; i < ndigits; i++) {\n    result += parseBits(value, 16, 64 + (16 * i)) * weight;\n    weight /= 10000;\n  }\n\n  var scale = Math.pow(10, parseBits(value, 16, 48));\n  return ((sign === 0) ? 1 : -1) * Math.round(result * scale) / scale;\n};\n\nvar parseDate = function(isUTC, value) {\n  var sign = parseBits(value, 1);\n  var rawValue = parseBits(value, 63, 1);\n\n  // discard usecs and shift from 2000 to 1970\n  var result = new Date((((sign === 0) ? 1 : -1) * rawValue / 1000) + 946684800000);\n\n  if (!isUTC) {\n    result.setTime(result.getTime() + result.getTimezoneOffset() * 60000);\n  }\n\n  // add microseconds to the date\n  result.usec = rawValue % 1000;\n  result.getMicroSeconds = function() {\n    return this.usec;\n  };\n  result.setMicroSeconds = function(value) {\n    this.usec = value;\n  };\n  result.getUTCMicroSeconds = function() {\n    return this.usec;\n  };\n\n  return result;\n};\n\nvar parseArray = function(value) {\n  var dim = parseBits(value, 32);\n\n  var flags = parseBits(value, 32, 32);\n  var elementType = parseBits(value, 32, 64);\n\n  var offset = 96;\n  var dims = [];\n  for (var i = 0; i < dim; i++) {\n    // parse dimension\n    dims[i] = parseBits(value, 32, offset);\n    offset += 32;\n\n    // ignore lower bounds\n    offset += 32;\n  }\n\n  var parseElement = function(elementType) {\n    // parse content length\n    var length = parseBits(value, 32, offset);\n    offset += 32;\n\n    // parse null values\n    if (length == 0xffffffff) {\n      return null;\n    }\n\n    var result;\n    if ((elementType == 0x17) || (elementType == 0x14)) {\n      // int/bigint\n      result = parseBits(value, length * 8, offset);\n      offset += length * 8;\n      return result;\n    }\n    else if (elementType == 0x19) {\n      // string\n      result = value.toString(this.encoding, offset >> 3, (offset += (length << 3)) >> 3);\n      return result;\n    }\n    else {\n      console.log(\"ERROR: ElementType not implemented: \" + elementType);\n    }\n  };\n\n  var parse = function(dimension, elementType) {\n    var array = [];\n    var i;\n\n    if (dimension.length > 1) {\n      var count = dimension.shift();\n      for (i = 0; i < count; i++) {\n        array[i] = parse(dimension, elementType);\n      }\n      dimension.unshift(count);\n    }\n    else {\n      for (i = 0; i < dimension[0]; i++) {\n        array[i] = parseElement(elementType);\n      }\n    }\n\n    return array;\n  };\n\n  return parse(dims, elementType);\n};\n\nvar parseText = function(value) {\n  return value.toString('utf8');\n};\n\nvar parseBool = function(value) {\n  if(value === null) return null;\n  return (parseBits(value, 8) > 0);\n};\n\nvar init = function(register) {\n  register(20, parseInt64);\n  register(21, parseInt16);\n  register(23, parseInt32);\n  register(26, parseInt32);\n  register(1700, parseNumeric);\n  register(700, parseFloat32);\n  register(701, parseFloat64);\n  register(16, parseBool);\n  register(1114, parseDate.bind(null, false));\n  register(1184, parseDate.bind(null, true));\n  register(1000, parseArray);\n  register(1007, parseArray);\n  register(1016, parseArray);\n  register(1008, parseArray);\n  register(1009, parseArray);\n  register(25, parseText);\n};\n\nmodule.exports = {\n  init: init\n};\n", "/**\n * Following query was used to generate this file:\n\n SELECT json_object_agg(UPPER(PT.typname), PT.oid::int4 ORDER BY pt.oid)\n FROM pg_type PT\n WHERE typnamespace = (SELECT pgn.oid FROM pg_namespace pgn WHERE nspname = 'pg_catalog') -- Take only builting Postgres types with stable OID (extension types are not guaranted to be stable)\n AND typtype = 'b' -- Only basic types\n AND typelem = 0 -- Ignore aliases\n AND typisdefined -- Ignore undefined types\n */\n\nmodule.exports = {\n    BOOL: 16,\n    BYTEA: 17,\n    CHAR: 18,\n    INT8: 20,\n    INT2: 21,\n    INT4: 23,\n    REGPROC: 24,\n    TEXT: 25,\n    OID: 26,\n    TID: 27,\n    XID: 28,\n    CID: 29,\n    JSON: 114,\n    XML: 142,\n    PG_NODE_TREE: 194,\n    SMGR: 210,\n    PATH: 602,\n    POLYGON: 604,\n    CIDR: 650,\n    FLOAT4: 700,\n    FLOAT8: 701,\n    ABSTIME: 702,\n    RELTIME: 703,\n    TINTERVAL: 704,\n    CIRCLE: 718,\n    MACADDR8: 774,\n    MONEY: 790,\n    MACADDR: 829,\n    INET: 869,\n    ACLITEM: 1033,\n    BPCHAR: 1042,\n    VARCHAR: 1043,\n    DATE: 1082,\n    TIME: 1083,\n    TIMESTAMP: 1114,\n    TIMESTAMPTZ: 1184,\n    INTERVAL: 1186,\n    TIMETZ: 1266,\n    BIT: 1560,\n    VARBIT: 1562,\n    NUMERIC: 1700,\n    REFCURSOR: 1790,\n    REGPROCEDURE: 2202,\n    REGOPER: 2203,\n    REGOPERATOR: 2204,\n    REGCLASS: 2205,\n    REGTYPE: 2206,\n    UUID: 2950,\n    TXID_SNAPSHOT: 2970,\n    PG_LSN: 3220,\n    PG_NDISTINCT: 3361,\n    PG_DEPENDENCIES: 3402,\n    TSVECTOR: 3614,\n    TSQUERY: 3615,\n    GTSVECTOR: 3642,\n    REGCONFIG: 3734,\n    REGDICTIONARY: 3769,\n    JSONB: 3802,\n    REGNAMESPACE: 4089,\n    REGROLE: 4096\n};\n", "var textParsers = require('./lib/textParsers');\nvar binaryParsers = require('./lib/binaryParsers');\nvar arrayParser = require('./lib/arrayParser');\nvar builtinTypes = require('./lib/builtins');\n\nexports.getTypeParser = getTypeParser;\nexports.setTypeParser = setTypeParser;\nexports.arrayParser = arrayParser;\nexports.builtins = builtinTypes;\n\nvar typeParsers = {\n  text: {},\n  binary: {}\n};\n\n//the empty parse function\nfunction noParse (val) {\n  return String(val);\n};\n\n//returns a function used to convert a specific type (specified by\n//oid) into a result javascript type\n//note: the oid can be obtained via the following sql query:\n//SELECT oid FROM pg_type WHERE typname = 'TYPE_NAME_HERE';\nfunction getTypeParser (oid, format) {\n  format = format || 'text';\n  if (!typeParsers[format]) {\n    return noParse;\n  }\n  return typeParsers[format][oid] || noParse;\n};\n\nfunction setTypeParser (oid, format, parseFn) {\n  if(typeof format == 'function') {\n    parseFn = format;\n    format = 'text';\n  }\n  typeParsers[format][oid] = parseFn;\n};\n\ntextParsers.init(function(oid, converter) {\n  typeParsers.text[oid] = converter;\n});\n\nbinaryParsers.init(function(oid, converter) {\n  typeParsers.binary[oid] = converter;\n});\n", "'use strict'\n\nmodule.exports = {\n  // database host. defaults to localhost\n  host: 'localhost',\n\n  // database user's name\n  user: process.platform === 'win32' ? process.env.USERNAME : process.env.USER,\n\n  // name of database to connect\n  database: undefined,\n\n  // database user's password\n  password: null,\n\n  // a Postgres connection string to be used instead of setting individual connection items\n  // NOTE:  Setting this value will cause it to override any other value (such as database or user) defined\n  // in the defaults object.\n  connectionString: undefined,\n\n  // database port\n  port: 5432,\n\n  // number of rows to return at a time from a prepared statement's\n  // portal. 0 will return all rows at once\n  rows: 0,\n\n  // binary result mode\n  binary: false,\n\n  // Connection pool options - see https://github.com/brianc/node-pg-pool\n\n  // number of connections to use in connection pool\n  // 0 will disable connection pooling\n  max: 10,\n\n  // max milliseconds a client can go unused before it is removed\n  // from the pool and destroyed\n  idleTimeoutMillis: 30000,\n\n  client_encoding: '',\n\n  ssl: false,\n\n  application_name: undefined,\n\n  fallback_application_name: undefined,\n\n  options: undefined,\n\n  parseInputDatesAsUTC: false,\n\n  // max milliseconds any query using this connection will execute for before timing out in error.\n  // false=unlimited\n  statement_timeout: false,\n\n  // Abort any statement that waits longer than the specified duration in milliseconds while attempting to acquire a lock.\n  // false=unlimited\n  lock_timeout: false,\n\n  // Terminate any session with an open transaction that has been idle for longer than the specified duration in milliseconds\n  // false=unlimited\n  idle_in_transaction_session_timeout: false,\n\n  // max milliseconds to wait for query to complete (client side)\n  query_timeout: false,\n\n  connect_timeout: 0,\n\n  keepalives: 1,\n\n  keepalives_idle: 0,\n}\n\nconst pgTypes = require('pg-types')\n// save default parsers\nconst parseBigInteger = pgTypes.getTypeParser(20, 'text')\nconst parseBigIntegerArray = pgTypes.getTypeParser(1016, 'text')\n\n// parse int8 so you can get your count values as actual numbers\nmodule.exports.__defineSetter__('parseInt8', function (val) {\n  pgTypes.setTypeParser(20, 'text', val ? pgTypes.getTypeParser(23, 'text') : parseBigInteger)\n  pgTypes.setTypeParser(1016, 'text', val ? pgTypes.getTypeParser(1007, 'text') : parseBigIntegerArray)\n})\n", "'use strict'\n\nconst defaults = require('./defaults')\n\nconst util = require('util')\nconst { isDate } = util.types || util // Node 8 doesn't have `util.types`\n\nfunction escapeElement(elementRepresentation) {\n  const escaped = elementRepresentation.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')\n\n  return '\"' + escaped + '\"'\n}\n\n// convert a JS array to a postgres array literal\n// uses comma separator so won't work for types like box that use\n// a different array separator.\nfunction arrayString(val) {\n  let result = '{'\n  for (let i = 0; i < val.length; i++) {\n    if (i > 0) {\n      result = result + ','\n    }\n    if (val[i] === null || typeof val[i] === 'undefined') {\n      result = result + 'NULL'\n    } else if (Array.isArray(val[i])) {\n      result = result + arrayString(val[i])\n    } else if (ArrayBuffer.isView(val[i])) {\n      let item = val[i]\n      if (!(item instanceof Buffer)) {\n        const buf = Buffer.from(item.buffer, item.byteOffset, item.byteLength)\n        if (buf.length === item.byteLength) {\n          item = buf\n        } else {\n          item = buf.slice(item.byteOffset, item.byteOffset + item.byteLength)\n        }\n      }\n      result += '\\\\\\\\x' + item.toString('hex')\n    } else {\n      result += escapeElement(prepareValue(val[i]))\n    }\n  }\n  result = result + '}'\n  return result\n}\n\n// converts values from javascript types\n// to their 'raw' counterparts for use as a postgres parameter\n// note: you can override this function to provide your own conversion mechanism\n// for complex types, etc...\nconst prepareValue = function (val, seen) {\n  // null and undefined are both null for postgres\n  if (val == null) {\n    return null\n  }\n  if (typeof val === 'object') {\n    if (val instanceof Buffer) {\n      return val\n    }\n    if (ArrayBuffer.isView(val)) {\n      const buf = Buffer.from(val.buffer, val.byteOffset, val.byteLength)\n      if (buf.length === val.byteLength) {\n        return buf\n      }\n      return buf.slice(val.byteOffset, val.byteOffset + val.byteLength) // Node.js v4 does not support those Buffer.from params\n    }\n    if (isDate(val)) {\n      if (defaults.parseInputDatesAsUTC) {\n        return dateToStringUTC(val)\n      } else {\n        return dateToString(val)\n      }\n    }\n    if (Array.isArray(val)) {\n      return arrayString(val)\n    }\n\n    return prepareObject(val, seen)\n  }\n  return val.toString()\n}\n\nfunction prepareObject(val, seen) {\n  if (val && typeof val.toPostgres === 'function') {\n    seen = seen || []\n    if (seen.indexOf(val) !== -1) {\n      throw new Error('circular reference detected while preparing \"' + val + '\" for query')\n    }\n    seen.push(val)\n\n    return prepareValue(val.toPostgres(prepareValue), seen)\n  }\n  return JSON.stringify(val)\n}\n\nfunction dateToString(date) {\n  let offset = -date.getTimezoneOffset()\n\n  let year = date.getFullYear()\n  const isBCYear = year < 1\n  if (isBCYear) year = Math.abs(year) + 1 // negative years are 1 off their BC representation\n\n  let ret =\n    String(year).padStart(4, '0') +\n    '-' +\n    String(date.getMonth() + 1).padStart(2, '0') +\n    '-' +\n    String(date.getDate()).padStart(2, '0') +\n    'T' +\n    String(date.getHours()).padStart(2, '0') +\n    ':' +\n    String(date.getMinutes()).padStart(2, '0') +\n    ':' +\n    String(date.getSeconds()).padStart(2, '0') +\n    '.' +\n    String(date.getMilliseconds()).padStart(3, '0')\n\n  if (offset < 0) {\n    ret += '-'\n    offset *= -1\n  } else {\n    ret += '+'\n  }\n\n  ret += String(Math.floor(offset / 60)).padStart(2, '0') + ':' + String(offset % 60).padStart(2, '0')\n  if (isBCYear) ret += ' BC'\n  return ret\n}\n\nfunction dateToStringUTC(date) {\n  let year = date.getUTCFullYear()\n  const isBCYear = year < 1\n  if (isBCYear) year = Math.abs(year) + 1 // negative years are 1 off their BC representation\n\n  let ret =\n    String(year).padStart(4, '0') +\n    '-' +\n    String(date.getUTCMonth() + 1).padStart(2, '0') +\n    '-' +\n    String(date.getUTCDate()).padStart(2, '0') +\n    'T' +\n    String(date.getUTCHours()).padStart(2, '0') +\n    ':' +\n    String(date.getUTCMinutes()).padStart(2, '0') +\n    ':' +\n    String(date.getUTCSeconds()).padStart(2, '0') +\n    '.' +\n    String(date.getUTCMilliseconds()).padStart(3, '0')\n\n  ret += '+00:00'\n  if (isBCYear) ret += ' BC'\n  return ret\n}\n\nfunction normalizeQueryConfig(config, values, callback) {\n  // can take in strings or config objects\n  config = typeof config === 'string' ? { text: config } : config\n  if (values) {\n    if (typeof values === 'function') {\n      config.callback = values\n    } else {\n      config.values = values\n    }\n  }\n  if (callback) {\n    config.callback = callback\n  }\n  return config\n}\n\n// Ported from PostgreSQL 9.2.4 source code in src/interfaces/libpq/fe-exec.c\nconst escapeIdentifier = function (str) {\n  return '\"' + str.replace(/\"/g, '\"\"') + '\"'\n}\n\nconst escapeLiteral = function (str) {\n  let hasBackslash = false\n  let escaped = \"'\"\n\n  if (str == null) {\n    return \"''\"\n  }\n\n  if (typeof str !== 'string') {\n    return \"''\"\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    const c = str[i]\n    if (c === \"'\") {\n      escaped += c + c\n    } else if (c === '\\\\') {\n      escaped += c + c\n      hasBackslash = true\n    } else {\n      escaped += c\n    }\n  }\n\n  escaped += \"'\"\n\n  if (hasBackslash === true) {\n    escaped = ' E' + escaped\n  }\n\n  return escaped\n}\n\nmodule.exports = {\n  prepareValue: function prepareValueWrapper(value) {\n    // this ensures that extra arguments do not get passed into prepareValue\n    // by accident, eg: from calling values.map(utils.prepareValue)\n    return prepareValue(value)\n  },\n  normalizeQueryConfig,\n  escapeIdentifier,\n  escapeLiteral,\n}\n", "'use strict'\n// This file contains crypto utility functions for versions of Node.js < 15.0.0,\n// which does not support the WebCrypto.subtle API.\n\nconst nodeCrypto = require('crypto')\n\nfunction md5(string) {\n  return nodeCrypto.createHash('md5').update(string, 'utf-8').digest('hex')\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nfunction postgresMd5PasswordHash(user, password, salt) {\n  const inner = md5(password + user)\n  const outer = md5(Buffer.concat([Buffer.from(inner), salt]))\n  return 'md5' + outer\n}\n\nfunction sha256(text) {\n  return nodeCrypto.createHash('sha256').update(text).digest()\n}\n\nfunction hashByName(hashName, text) {\n  hashName = hashName.replace(/(\\D)-/, '$1') // e.g. SHA-256 -> SHA256\n  return nodeCrypto.createHash(hashName).update(text).digest()\n}\n\nfunction hmacSha256(key, msg) {\n  return nodeCrypto.createHmac('sha256', key).update(msg).digest()\n}\n\nasync function deriveKey(password, salt, iterations) {\n  return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, 'sha256')\n}\n\nmodule.exports = {\n  postgresMd5PasswordHash,\n  randomBytes: nodeCrypto.randomBytes,\n  deriveKey,\n  sha256,\n  hashByName,\n  hmacSha256,\n  md5,\n}\n", "const nodeCrypto = require('crypto')\n\nmodule.exports = {\n  postgresMd5PasswordHash,\n  randomBytes,\n  deriveKey,\n  sha256,\n  hashByName,\n  hmacSha256,\n  md5,\n}\n\n/**\n * The Web Crypto API - grabbed from the Node.js library or the global\n * @type Crypto\n */\n// eslint-disable-next-line no-undef\nconst webCrypto = nodeCrypto.webcrypto || globalThis.crypto\n/**\n * The SubtleCrypto API for low level crypto operations.\n * @type SubtleCrypto\n */\nconst subtleCrypto = webCrypto.subtle\nconst textEncoder = new TextEncoder()\n\n/**\n *\n * @param {*} length\n * @returns\n */\nfunction randomBytes(length) {\n  return webCrypto.getRandomValues(Buffer.alloc(length))\n}\n\nasync function md5(string) {\n  try {\n    return nodeCrypto.createHash('md5').update(string, 'utf-8').digest('hex')\n  } catch (e) {\n    // `createHash()` failed so we are probably not in Node.js, use the WebCrypto API instead.\n    // Note that the MD5 algorithm on WebCrypto is not available in Node.js.\n    // This is why we cannot just use WebCrypto in all environments.\n    const data = typeof string === 'string' ? textEncoder.encode(string) : string\n    const hash = await subtleCrypto.digest('MD5', data)\n    return Array.from(new Uint8Array(hash))\n      .map((b) => b.toString(16).padStart(2, '0'))\n      .join('')\n  }\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nasync function postgresMd5PasswordHash(user, password, salt) {\n  const inner = await md5(password + user)\n  const outer = await md5(Buffer.concat([Buffer.from(inner), salt]))\n  return 'md5' + outer\n}\n\n/**\n * Create a SHA-256 digest of the given data\n * @param {Buffer} data\n */\nasync function sha256(text) {\n  return await subtleCrypto.digest('SHA-256', text)\n}\n\nasync function hashByName(hashName, text) {\n  return await subtleCrypto.digest(hashName, text)\n}\n\n/**\n * Sign the message with the given key\n * @param {ArrayBuffer} keyBuffer\n * @param {string} msg\n */\nasync function hmacSha256(keyBuffer, msg) {\n  const key = await subtleCrypto.importKey('raw', keyBuffer, { name: 'HMAC', hash: 'SHA-256' }, false, ['sign'])\n  return await subtleCrypto.sign('HMAC', key, textEncoder.encode(msg))\n}\n\n/**\n * Derive a key from the password and salt\n * @param {string} password\n * @param {Uint8Array} salt\n * @param {number} iterations\n */\nasync function deriveKey(password, salt, iterations) {\n  const key = await subtleCrypto.importKey('raw', textEncoder.encode(password), 'PBKDF2', false, ['deriveBits'])\n  const params = { name: 'PBKDF2', hash: 'SHA-256', salt: salt, iterations: iterations }\n  return await subtleCrypto.deriveBits(params, key, 32 * 8, ['deriveBits'])\n}\n", "'use strict'\n\nconst useLegacyCrypto = parseInt(process.versions && process.versions.node && process.versions.node.split('.')[0]) < 15\nif (useLegacyCrypto) {\n  // We are on an old version of Node.js that requires legacy crypto utilities.\n  module.exports = require('./utils-legacy')\n} else {\n  module.exports = require('./utils-webcrypto')\n}\n", "function x509Error(msg, cert) {\n  return new Error('SASL channel binding: ' + msg + ' when parsing public certificate ' + cert.toString('base64'))\n}\n\nfunction readASN1Length(data, index) {\n  let length = data[index++]\n  if (length < 0x80) return { length, index }\n\n  const lengthBytes = length & 0x7f\n  if (lengthBytes > 4) throw x509Error('bad length', data)\n\n  length = 0\n  for (let i = 0; i < lengthBytes; i++) {\n    length = (length << 8) | data[index++]\n  }\n\n  return { length, index }\n}\n\nfunction readASN1OID(data, index) {\n  if (data[index++] !== 0x6) throw x509Error('non-OID data', data) // 6 = OID\n\n  const { length: OIDLength, index: indexAfterOIDLength } = readASN1Length(data, index)\n  index = indexAfterOIDLength\n  const lastIndex = index + OIDLength\n\n  const byte1 = data[index++]\n  let oid = ((byte1 / 40) >> 0) + '.' + (byte1 % 40)\n\n  while (index < lastIndex) {\n    // loop over numbers in OID\n    let value = 0\n    while (index < lastIndex) {\n      // loop over bytes in number\n      const nextByte = data[index++]\n      value = (value << 7) | (nextByte & 0x7f)\n      if (nextByte < 0x80) break\n    }\n    oid += '.' + value\n  }\n\n  return { oid, index }\n}\n\nfunction expectASN1Seq(data, index) {\n  if (data[index++] !== 0x30) throw x509Error('non-sequence data', data) // 30 = Sequence\n  return readASN1Length(data, index)\n}\n\nfunction signatureAlgorithmHashFromCertificate(data, index) {\n  // read this thread: https://www.postgresql.org/message-id/17760-b6c61e752ec07060%40postgresql.org\n  if (index === undefined) index = 0\n  index = expectASN1Seq(data, index).index\n  const { length: certInfoLength, index: indexAfterCertInfoLength } = expectASN1Seq(data, index)\n  index = indexAfterCertInfoLength + certInfoLength // skip over certificate info\n  index = expectASN1Seq(data, index).index // skip over signature length field\n  const { oid, index: indexAfterOID } = readASN1OID(data, index)\n  switch (oid) {\n    // RSA\n    case '1.2.840.113549.1.1.4':\n      return 'MD5'\n    case '1.2.840.113549.1.1.5':\n      return 'SHA-1'\n    case '1.2.840.113549.1.1.11':\n      return 'SHA-256'\n    case '1.2.840.113549.1.1.12':\n      return 'SHA-384'\n    case '1.2.840.113549.1.1.13':\n      return 'SHA-512'\n    case '1.2.840.113549.1.1.14':\n      return 'SHA-224'\n    case '1.2.840.113549.1.1.15':\n      return 'SHA512-224'\n    case '1.2.840.113549.1.1.16':\n      return 'SHA512-256'\n    // ECDSA\n    case '1.2.840.10045.4.1':\n      return 'SHA-1'\n    case '1.2.840.10045.4.3.1':\n      return 'SHA-224'\n    case '1.2.840.10045.4.3.2':\n      return 'SHA-256'\n    case '1.2.840.10045.4.3.3':\n      return 'SHA-384'\n    case '1.2.840.10045.4.3.4':\n      return 'SHA-512'\n    // RSASSA-PSS: hash is indicated separately\n    case '1.2.840.113549.1.1.10': {\n      index = indexAfterOID\n      index = expectASN1Seq(data, index).index\n      if (data[index++] !== 0xa0) throw x509Error('non-tag data', data) // a0 = constructed tag 0\n      index = readASN1Length(data, index).index // skip over tag length field\n      index = expectASN1Seq(data, index).index // skip over sequence length field\n      const { oid: hashOID } = readASN1OID(data, index)\n      switch (hashOID) {\n        // standalone hash OIDs\n        case '1.2.840.113549.2.5':\n          return 'MD5'\n        case '1.3.14.3.2.26':\n          return 'SHA-1'\n        case '2.16.840.1.101.3.4.2.1':\n          return 'SHA-256'\n        case '2.16.840.1.101.3.4.2.2':\n          return 'SHA-384'\n        case '2.16.840.1.101.3.4.2.3':\n          return 'SHA-512'\n      }\n      throw x509Error('unknown hash OID ' + hashOID, data)\n    }\n    // Ed25519 -- see https: return//github.com/openssl/openssl/issues/15477\n    case '1.3.101.110':\n    case '1.3.101.112': // ph\n      return 'SHA-512'\n    // Ed448 -- still not in pg 17.2 (if supported, digest would be SHAKE256 x 64 bytes)\n    case '1.3.101.111':\n    case '1.3.101.113': // ph\n      throw x509Error('Ed448 certificate channel binding is not currently supported by Postgres')\n  }\n  throw x509Error('unknown OID ' + oid, data)\n}\n\nmodule.exports = { signatureAlgorithmHashFromCertificate }\n", "'use strict'\nconst crypto = require('./utils')\nconst { signatureAlgorithmHashFromCertificate } = require('./cert-signatures')\n\nfunction startSession(mechanisms, stream) {\n  const candidates = ['SCRAM-SHA-256']\n  if (stream) candidates.unshift('SCRAM-SHA-256-PLUS') // higher-priority, so placed first\n\n  const mechanism = candidates.find((candidate) => mechanisms.includes(candidate))\n\n  if (!mechanism) {\n    throw new Error('SASL: Only mechanism(s) ' + candidates.join(' and ') + ' are supported')\n  }\n\n  if (mechanism === 'SCRAM-SHA-256-PLUS' && typeof stream.getPeerCertificate !== 'function') {\n    // this should never happen if we are really talking to a Postgres server\n    throw new Error('SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate')\n  }\n\n  const clientNonce = crypto.randomBytes(18).toString('base64')\n  const gs2Header = mechanism === 'SCRAM-SHA-256-PLUS' ? 'p=tls-server-end-point' : stream ? 'y' : 'n'\n\n  return {\n    mechanism,\n    clientNonce,\n    response: gs2Header + ',,n=*,r=' + clientNonce,\n    message: 'SASLInitialResponse',\n  }\n}\n\nasync function continueSession(session, password, serverData, stream) {\n  if (session.message !== 'SASLInitialResponse') {\n    throw new Error('SASL: Last message was not SASLInitialResponse')\n  }\n  if (typeof password !== 'string') {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string')\n  }\n  if (password === '') {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string')\n  }\n  if (typeof serverData !== 'string') {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string')\n  }\n\n  const sv = parseServerFirstMessage(serverData)\n\n  if (!sv.nonce.startsWith(session.clientNonce)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce')\n  } else if (sv.nonce.length === session.clientNonce.length) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short')\n  }\n\n  const clientFirstMessageBare = 'n=*,r=' + session.clientNonce\n  const serverFirstMessage = 'r=' + sv.nonce + ',s=' + sv.salt + ',i=' + sv.iteration\n\n  // without channel binding:\n  let channelBinding = stream ? 'eSws' : 'biws' // 'y,,' or 'n,,', base64-encoded\n\n  // override if channel binding is in use:\n  if (session.mechanism === 'SCRAM-SHA-256-PLUS') {\n    const peerCert = stream.getPeerCertificate().raw\n    let hashName = signatureAlgorithmHashFromCertificate(peerCert)\n    if (hashName === 'MD5' || hashName === 'SHA-1') hashName = 'SHA-256'\n    const certHash = await crypto.hashByName(hashName, peerCert)\n    const bindingData = Buffer.concat([Buffer.from('p=tls-server-end-point,,'), Buffer.from(certHash)])\n    channelBinding = bindingData.toString('base64')\n  }\n\n  const clientFinalMessageWithoutProof = 'c=' + channelBinding + ',r=' + sv.nonce\n  const authMessage = clientFirstMessageBare + ',' + serverFirstMessage + ',' + clientFinalMessageWithoutProof\n\n  const saltBytes = Buffer.from(sv.salt, 'base64')\n  const saltedPassword = await crypto.deriveKey(password, saltBytes, sv.iteration)\n  const clientKey = await crypto.hmacSha256(saltedPassword, 'Client Key')\n  const storedKey = await crypto.sha256(clientKey)\n  const clientSignature = await crypto.hmacSha256(storedKey, authMessage)\n  const clientProof = xorBuffers(Buffer.from(clientKey), Buffer.from(clientSignature)).toString('base64')\n  const serverKey = await crypto.hmacSha256(saltedPassword, 'Server Key')\n  const serverSignatureBytes = await crypto.hmacSha256(serverKey, authMessage)\n\n  session.message = 'SASLResponse'\n  session.serverSignature = Buffer.from(serverSignatureBytes).toString('base64')\n  session.response = clientFinalMessageWithoutProof + ',p=' + clientProof\n}\n\nfunction finalizeSession(session, serverData) {\n  if (session.message !== 'SASLResponse') {\n    throw new Error('SASL: Last message was not SASLResponse')\n  }\n  if (typeof serverData !== 'string') {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string')\n  }\n\n  const { serverSignature } = parseServerFinalMessage(serverData)\n\n  if (serverSignature !== session.serverSignature) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match')\n  }\n}\n\n/**\n * printable       = %x21-2B / %x2D-7E\n *                   ;; Printable ASCII except \",\".\n *                   ;; Note that any \"printable\" is also\n *                   ;; a valid \"value\".\n */\nfunction isPrintableChars(text) {\n  if (typeof text !== 'string') {\n    throw new TypeError('SASL: text must be a string')\n  }\n  return text\n    .split('')\n    .map((_, i) => text.charCodeAt(i))\n    .every((c) => (c >= 0x21 && c <= 0x2b) || (c >= 0x2d && c <= 0x7e))\n}\n\n/**\n * base64-char     = ALPHA / DIGIT / \"/\" / \"+\"\n *\n * base64-4        = 4base64-char\n *\n * base64-3        = 3base64-char \"=\"\n *\n * base64-2        = 2base64-char \"==\"\n *\n * base64          = *base64-4 [base64-3 / base64-2]\n */\nfunction isBase64(text) {\n  return /^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(text)\n}\n\nfunction parseAttributePairs(text) {\n  if (typeof text !== 'string') {\n    throw new TypeError('SASL: attribute pairs text must be a string')\n  }\n\n  return new Map(\n    text.split(',').map((attrValue) => {\n      if (!/^.=/.test(attrValue)) {\n        throw new Error('SASL: Invalid attribute pair entry')\n      }\n      const name = attrValue[0]\n      const value = attrValue.substring(2)\n      return [name, value]\n    })\n  )\n}\n\nfunction parseServerFirstMessage(data) {\n  const attrPairs = parseAttributePairs(data)\n\n  const nonce = attrPairs.get('r')\n  if (!nonce) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing')\n  } else if (!isPrintableChars(nonce)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters')\n  }\n  const salt = attrPairs.get('s')\n  if (!salt) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing')\n  } else if (!isBase64(salt)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64')\n  }\n  const iterationText = attrPairs.get('i')\n  if (!iterationText) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing')\n  } else if (!/^[1-9][0-9]*$/.test(iterationText)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count')\n  }\n  const iteration = parseInt(iterationText, 10)\n\n  return {\n    nonce,\n    salt,\n    iteration,\n  }\n}\n\nfunction parseServerFinalMessage(serverData) {\n  const attrPairs = parseAttributePairs(serverData)\n  const serverSignature = attrPairs.get('v')\n  if (!serverSignature) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing')\n  } else if (!isBase64(serverSignature)) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64')\n  }\n  return {\n    serverSignature,\n  }\n}\n\nfunction xorBuffers(a, b) {\n  if (!Buffer.isBuffer(a)) {\n    throw new TypeError('first argument must be a Buffer')\n  }\n  if (!Buffer.isBuffer(b)) {\n    throw new TypeError('second argument must be a Buffer')\n  }\n  if (a.length !== b.length) {\n    throw new Error('Buffer lengths must match')\n  }\n  if (a.length === 0) {\n    throw new Error('Buffers cannot be empty')\n  }\n  return Buffer.from(a.map((_, i) => a[i] ^ b[i]))\n}\n\nmodule.exports = {\n  startSession,\n  continueSession,\n  finalizeSession,\n}\n", "'use strict'\n\nconst types = require('pg-types')\n\nfunction TypeOverrides(userTypes) {\n  this._types = userTypes || types\n  this.text = {}\n  this.binary = {}\n}\n\nTypeOverrides.prototype.getOverrides = function (format) {\n  switch (format) {\n    case 'text':\n      return this.text\n    case 'binary':\n      return this.binary\n    default:\n      return {}\n  }\n}\n\nTypeOverrides.prototype.setTypeParser = function (oid, format, parseFn) {\n  if (typeof format === 'function') {\n    parseFn = format\n    format = 'text'\n  }\n  this.getOverrides(format)[oid] = parseFn\n}\n\nTypeOverrides.prototype.getTypeParser = function (oid, format) {\n  format = format || 'text'\n  return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format)\n}\n\nmodule.exports = TypeOverrides\n", "'use strict'\n\n//Parse method copied from https://github.com/brianc/node-postgres\n//Copyright (c) 2010-2014 Brian Carlson (brian.m.carlson@gmail.com)\n//MIT License\n\n//parses a connection string\nfunction parse(str, options = {}) {\n  //unix socket\n  if (str.charAt(0) === '/') {\n    const config = str.split(' ')\n    return { host: config[0], database: config[1] }\n  }\n\n  // Check for empty host in URL\n\n  const config = {}\n  let result\n  let dummyHost = false\n  if (/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str)) {\n    // Ensure spaces are encoded as %20\n    str = encodeURI(str).replace(/%25(\\d\\d)/g, '%$1')\n  }\n\n  try {\n    try {\n      result = new URL(str, 'postgres://base')\n    } catch (e) {\n      // The URL is invalid so try again with a dummy host\n      result = new URL(str.replace('@/', '@___DUMMY___/'), 'postgres://base')\n      dummyHost = true\n    }\n  } catch (err) {\n    // Remove the input from the error message to avoid leaking sensitive information\n    err.input && (err.input = '*****REDACTED*****')\n  }\n\n  // We'd like to use Object.fromEntries() here but Node.js 10 does not support it\n  for (const entry of result.searchParams.entries()) {\n    config[entry[0]] = entry[1]\n  }\n\n  config.user = config.user || decodeURIComponent(result.username)\n  config.password = config.password || decodeURIComponent(result.password)\n\n  if (result.protocol == 'socket:') {\n    config.host = decodeURI(result.pathname)\n    config.database = result.searchParams.get('db')\n    config.client_encoding = result.searchParams.get('encoding')\n    return config\n  }\n  const hostname = dummyHost ? '' : result.hostname\n  if (!config.host) {\n    // Only set the host if there is no equivalent query param.\n    config.host = decodeURIComponent(hostname)\n  } else if (hostname && /^%2f/i.test(hostname)) {\n    // Only prepend the hostname to the pathname if it is not a URL encoded Unix socket host.\n    result.pathname = hostname + result.pathname\n  }\n  if (!config.port) {\n    // Only set the port if there is no equivalent query param.\n    config.port = result.port\n  }\n\n  const pathname = result.pathname.slice(1) || null\n  config.database = pathname ? decodeURI(pathname) : null\n\n  if (config.ssl === 'true' || config.ssl === '1') {\n    config.ssl = true\n  }\n\n  if (config.ssl === '0') {\n    config.ssl = false\n  }\n\n  if (config.sslcert || config.sslkey || config.sslrootcert || config.sslmode) {\n    config.ssl = {}\n  }\n\n  // Only try to load fs if we expect to read from the disk\n  const fs = config.sslcert || config.sslkey || config.sslrootcert ? require('fs') : null\n\n  if (config.sslcert) {\n    config.ssl.cert = fs.readFileSync(config.sslcert).toString()\n  }\n\n  if (config.sslkey) {\n    config.ssl.key = fs.readFileSync(config.sslkey).toString()\n  }\n\n  if (config.sslrootcert) {\n    config.ssl.ca = fs.readFileSync(config.sslrootcert).toString()\n  }\n\n  if (options.useLibpqCompat && config.uselibpqcompat) {\n    throw new Error('Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.')\n  }\n\n  if (config.uselibpqcompat === 'true' || options.useLibpqCompat) {\n    switch (config.sslmode) {\n      case 'disable': {\n        config.ssl = false\n        break\n      }\n      case 'prefer': {\n        config.ssl.rejectUnauthorized = false\n        break\n      }\n      case 'require': {\n        if (config.sslrootcert) {\n          // If a root CA is specified, behavior of `sslmode=require` will be the same as that of `verify-ca`\n          config.ssl.checkServerIdentity = function () {}\n        } else {\n          config.ssl.rejectUnauthorized = false\n        }\n        break\n      }\n      case 'verify-ca': {\n        if (!config.ssl.ca) {\n          throw new Error(\n            'SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.'\n          )\n        }\n        config.ssl.checkServerIdentity = function () {}\n        break\n      }\n      case 'verify-full': {\n        break\n      }\n    }\n  } else {\n    switch (config.sslmode) {\n      case 'disable': {\n        config.ssl = false\n        break\n      }\n      case 'prefer':\n      case 'require':\n      case 'verify-ca':\n      case 'verify-full': {\n        break\n      }\n      case 'no-verify': {\n        config.ssl.rejectUnauthorized = false\n        break\n      }\n    }\n  }\n\n  return config\n}\n\n// convert pg-connection-string ssl config to a ClientConfig.ConnectionOptions\nfunction toConnectionOptions(sslConfig) {\n  const connectionOptions = Object.entries(sslConfig).reduce((c, [key, value]) => {\n    // we explicitly check for undefined and null instead of `if (value)` because some\n    // options accept falsy values. Example: `ssl.rejectUnauthorized = false`\n    if (value !== undefined && value !== null) {\n      c[key] = value\n    }\n\n    return c\n  }, {})\n\n  return connectionOptions\n}\n\n// convert pg-connection-string config to a ClientConfig\nfunction toClientConfig(config) {\n  const poolConfig = Object.entries(config).reduce((c, [key, value]) => {\n    if (key === 'ssl') {\n      const sslConfig = value\n\n      if (typeof sslConfig === 'boolean') {\n        c[key] = sslConfig\n      }\n\n      if (typeof sslConfig === 'object') {\n        c[key] = toConnectionOptions(sslConfig)\n      }\n    } else if (value !== undefined && value !== null) {\n      if (key === 'port') {\n        // when port is not specified, it is converted into an empty string\n        // we want to avoid NaN or empty string as a values in ClientConfig\n        if (value !== '') {\n          const v = parseInt(value, 10)\n          if (isNaN(v)) {\n            throw new Error(`Invalid ${key}: ${value}`)\n          }\n\n          c[key] = v\n        }\n      } else {\n        c[key] = value\n      }\n    }\n\n    return c\n  }, {})\n\n  return poolConfig\n}\n\n// parses a connection string into ClientConfig\nfunction parseIntoClientConfig(str) {\n  return toClientConfig(parse(str))\n}\n\nmodule.exports = parse\n\nparse.parse = parse\nparse.toClientConfig = toClientConfig\nparse.parseIntoClientConfig = parseIntoClientConfig\n", "'use strict'\n\nconst dns = require('dns')\n\nconst defaults = require('./defaults')\n\nconst parse = require('pg-connection-string').parse // parses a connection string\n\nconst val = function (key, config, envVar) {\n  if (envVar === undefined) {\n    envVar = process.env['PG' + key.toUpperCase()]\n  } else if (envVar === false) {\n    // do nothing ... use false\n  } else {\n    envVar = process.env[envVar]\n  }\n\n  return config[key] || envVar || defaults[key]\n}\n\nconst readSSLConfigFromEnvironment = function () {\n  switch (process.env.PGSSLMODE) {\n    case 'disable':\n      return false\n    case 'prefer':\n    case 'require':\n    case 'verify-ca':\n    case 'verify-full':\n      return true\n    case 'no-verify':\n      return { rejectUnauthorized: false }\n  }\n  return defaults.ssl\n}\n\n// Convert arg to a string, surround in single quotes, and escape single quotes and backslashes\nconst quoteParamValue = function (value) {\n  return \"'\" + ('' + value).replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\") + \"'\"\n}\n\nconst add = function (params, config, paramName) {\n  const value = config[paramName]\n  if (value !== undefined && value !== null) {\n    params.push(paramName + '=' + quoteParamValue(value))\n  }\n}\n\nclass ConnectionParameters {\n  constructor(config) {\n    // if a string is passed, it is a raw connection string so we parse it into a config\n    config = typeof config === 'string' ? parse(config) : config || {}\n\n    // if the config has a connectionString defined, parse IT into the config we use\n    // this will override other default values with what is stored in connectionString\n    if (config.connectionString) {\n      config = Object.assign({}, config, parse(config.connectionString))\n    }\n\n    this.user = val('user', config)\n    this.database = val('database', config)\n\n    if (this.database === undefined) {\n      this.database = this.user\n    }\n\n    this.port = parseInt(val('port', config), 10)\n    this.host = val('host', config)\n\n    // \"hiding\" the password so it doesn't show up in stack traces\n    // or if the client is console.logged\n    Object.defineProperty(this, 'password', {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: val('password', config),\n    })\n\n    this.binary = val('binary', config)\n    this.options = val('options', config)\n\n    this.ssl = typeof config.ssl === 'undefined' ? readSSLConfigFromEnvironment() : config.ssl\n\n    if (typeof this.ssl === 'string') {\n      if (this.ssl === 'true') {\n        this.ssl = true\n      }\n    }\n    // support passing in ssl=no-verify via connection string\n    if (this.ssl === 'no-verify') {\n      this.ssl = { rejectUnauthorized: false }\n    }\n    if (this.ssl && this.ssl.key) {\n      Object.defineProperty(this.ssl, 'key', {\n        enumerable: false,\n      })\n    }\n\n    this.client_encoding = val('client_encoding', config)\n    this.replication = val('replication', config)\n    // a domain socket begins with '/'\n    this.isDomainSocket = !(this.host || '').indexOf('/')\n\n    this.application_name = val('application_name', config, 'PGAPPNAME')\n    this.fallback_application_name = val('fallback_application_name', config, false)\n    this.statement_timeout = val('statement_timeout', config, false)\n    this.lock_timeout = val('lock_timeout', config, false)\n    this.idle_in_transaction_session_timeout = val('idle_in_transaction_session_timeout', config, false)\n    this.query_timeout = val('query_timeout', config, false)\n\n    if (config.connectionTimeoutMillis === undefined) {\n      this.connect_timeout = process.env.PGCONNECT_TIMEOUT || 0\n    } else {\n      this.connect_timeout = Math.floor(config.connectionTimeoutMillis / 1000)\n    }\n\n    if (config.keepAlive === false) {\n      this.keepalives = 0\n    } else if (config.keepAlive === true) {\n      this.keepalives = 1\n    }\n\n    if (typeof config.keepAliveInitialDelayMillis === 'number') {\n      this.keepalives_idle = Math.floor(config.keepAliveInitialDelayMillis / 1000)\n    }\n  }\n\n  getLibpqConnectionString(cb) {\n    const params = []\n    add(params, this, 'user')\n    add(params, this, 'password')\n    add(params, this, 'port')\n    add(params, this, 'application_name')\n    add(params, this, 'fallback_application_name')\n    add(params, this, 'connect_timeout')\n    add(params, this, 'options')\n\n    const ssl = typeof this.ssl === 'object' ? this.ssl : this.ssl ? { sslmode: this.ssl } : {}\n    add(params, ssl, 'sslmode')\n    add(params, ssl, 'sslca')\n    add(params, ssl, 'sslkey')\n    add(params, ssl, 'sslcert')\n    add(params, ssl, 'sslrootcert')\n\n    if (this.database) {\n      params.push('dbname=' + quoteParamValue(this.database))\n    }\n    if (this.replication) {\n      params.push('replication=' + quoteParamValue(this.replication))\n    }\n    if (this.host) {\n      params.push('host=' + quoteParamValue(this.host))\n    }\n    if (this.isDomainSocket) {\n      return cb(null, params.join(' '))\n    }\n    if (this.client_encoding) {\n      params.push('client_encoding=' + quoteParamValue(this.client_encoding))\n    }\n    dns.lookup(this.host, function (err, address) {\n      if (err) return cb(err, null)\n      params.push('hostaddr=' + quoteParamValue(address))\n      return cb(null, params.join(' '))\n    })\n  }\n}\n\nmodule.exports = ConnectionParameters\n", "'use strict'\n\nconst types = require('pg-types')\n\nconst matchRegexp = /^([A-Za-z]+)(?: (\\d+))?(?: (\\d+))?/\n\n// result object returned from query\n// in the 'end' event and also\n// passed as second argument to provided callback\nclass Result {\n  constructor(rowMode, types) {\n    this.command = null\n    this.rowCount = null\n    this.oid = null\n    this.rows = []\n    this.fields = []\n    this._parsers = undefined\n    this._types = types\n    this.RowCtor = null\n    this.rowAsArray = rowMode === 'array'\n    if (this.rowAsArray) {\n      this.parseRow = this._parseRowAsArray\n    }\n    this._prebuiltEmptyResultObject = null\n  }\n\n  // adds a command complete message\n  addCommandComplete(msg) {\n    let match\n    if (msg.text) {\n      // pure javascript\n      match = matchRegexp.exec(msg.text)\n    } else {\n      // native bindings\n      match = matchRegexp.exec(msg.command)\n    }\n    if (match) {\n      this.command = match[1]\n      if (match[3]) {\n        // COMMAND OID ROWS\n        this.oid = parseInt(match[2], 10)\n        this.rowCount = parseInt(match[3], 10)\n      } else if (match[2]) {\n        // COMMAND ROWS\n        this.rowCount = parseInt(match[2], 10)\n      }\n    }\n  }\n\n  _parseRowAsArray(rowData) {\n    const row = new Array(rowData.length)\n    for (let i = 0, len = rowData.length; i < len; i++) {\n      const rawValue = rowData[i]\n      if (rawValue !== null) {\n        row[i] = this._parsers[i](rawValue)\n      } else {\n        row[i] = null\n      }\n    }\n    return row\n  }\n\n  parseRow(rowData) {\n    const row = { ...this._prebuiltEmptyResultObject }\n    for (let i = 0, len = rowData.length; i < len; i++) {\n      const rawValue = rowData[i]\n      const field = this.fields[i].name\n      if (rawValue !== null) {\n        const v = this.fields[i].format === 'binary' ? Buffer.from(rawValue) : rawValue\n        row[field] = this._parsers[i](v)\n      } else {\n        row[field] = null\n      }\n    }\n    return row\n  }\n\n  addRow(row) {\n    this.rows.push(row)\n  }\n\n  addFields(fieldDescriptions) {\n    // clears field definitions\n    // multiple query statements in 1 action can result in multiple sets\n    // of rowDescriptions...eg: 'select NOW(); select 1::int;'\n    // you need to reset the fields\n    this.fields = fieldDescriptions\n    if (this.fields.length) {\n      this._parsers = new Array(fieldDescriptions.length)\n    }\n\n    const row = {}\n\n    for (let i = 0; i < fieldDescriptions.length; i++) {\n      const desc = fieldDescriptions[i]\n      row[desc.name] = null\n\n      if (this._types) {\n        this._parsers[i] = this._types.getTypeParser(desc.dataTypeID, desc.format || 'text')\n      } else {\n        this._parsers[i] = types.getTypeParser(desc.dataTypeID, desc.format || 'text')\n      }\n    }\n\n    this._prebuiltEmptyResultObject = { ...row }\n  }\n}\n\nmodule.exports = Result\n", "'use strict'\n\nconst { EventEmitter } = require('events')\n\nconst Result = require('./result')\nconst utils = require('./utils')\n\nclass Query extends EventEmitter {\n  constructor(config, values, callback) {\n    super()\n\n    config = utils.normalizeQueryConfig(config, values, callback)\n\n    this.text = config.text\n    this.values = config.values\n    this.rows = config.rows\n    this.types = config.types\n    this.name = config.name\n    this.queryMode = config.queryMode\n    this.binary = config.binary\n    // use unique portal name each time\n    this.portal = config.portal || ''\n    this.callback = config.callback\n    this._rowMode = config.rowMode\n    if (process.domain && config.callback) {\n      this.callback = process.domain.bind(config.callback)\n    }\n    this._result = new Result(this._rowMode, this.types)\n\n    // potential for multiple results\n    this._results = this._result\n    this._canceledDueToError = false\n  }\n\n  requiresPreparation() {\n    if (this.queryMode === 'extended') {\n      return true\n    }\n\n    // named queries must always be prepared\n    if (this.name) {\n      return true\n    }\n    // always prepare if there are max number of rows expected per\n    // portal execution\n    if (this.rows) {\n      return true\n    }\n    // don't prepare empty text queries\n    if (!this.text) {\n      return false\n    }\n    // prepare if there are values\n    if (!this.values) {\n      return false\n    }\n    return this.values.length > 0\n  }\n\n  _checkForMultirow() {\n    // if we already have a result with a command property\n    // then we've already executed one query in a multi-statement simple query\n    // turn our results into an array of results\n    if (this._result.command) {\n      if (!Array.isArray(this._results)) {\n        this._results = [this._result]\n      }\n      this._result = new Result(this._rowMode, this._result._types)\n      this._results.push(this._result)\n    }\n  }\n\n  // associates row metadata from the supplied\n  // message with this query object\n  // metadata used when parsing row results\n  handleRowDescription(msg) {\n    this._checkForMultirow()\n    this._result.addFields(msg.fields)\n    this._accumulateRows = this.callback || !this.listeners('row').length\n  }\n\n  handleDataRow(msg) {\n    let row\n\n    if (this._canceledDueToError) {\n      return\n    }\n\n    try {\n      row = this._result.parseRow(msg.fields)\n    } catch (err) {\n      this._canceledDueToError = err\n      return\n    }\n\n    this.emit('row', row, this._result)\n    if (this._accumulateRows) {\n      this._result.addRow(row)\n    }\n  }\n\n  handleCommandComplete(msg, connection) {\n    this._checkForMultirow()\n    this._result.addCommandComplete(msg)\n    // need to sync after each command complete of a prepared statement\n    // if we were using a row count which results in multiple calls to _getRows\n    if (this.rows) {\n      connection.sync()\n    }\n  }\n\n  // if a named prepared statement is created with empty query text\n  // the backend will send an emptyQuery message but *not* a command complete message\n  // since we pipeline sync immediately after execute we don't need to do anything here\n  // unless we have rows specified, in which case we did not pipeline the initial sync call\n  handleEmptyQuery(connection) {\n    if (this.rows) {\n      connection.sync()\n    }\n  }\n\n  handleError(err, connection) {\n    // need to sync after error during a prepared statement\n    if (this._canceledDueToError) {\n      err = this._canceledDueToError\n      this._canceledDueToError = false\n    }\n    // if callback supplied do not emit error event as uncaught error\n    // events will bubble up to node process\n    if (this.callback) {\n      return this.callback(err)\n    }\n    this.emit('error', err)\n  }\n\n  handleReadyForQuery(con) {\n    if (this._canceledDueToError) {\n      return this.handleError(this._canceledDueToError, con)\n    }\n    if (this.callback) {\n      try {\n        this.callback(null, this._results)\n      } catch (err) {\n        process.nextTick(() => {\n          throw err\n        })\n      }\n    }\n    this.emit('end', this._results)\n  }\n\n  submit(connection) {\n    if (typeof this.text !== 'string' && typeof this.name !== 'string') {\n      return new Error('A query must have either text or a name. Supplying neither is unsupported.')\n    }\n    const previous = connection.parsedStatements[this.name]\n    if (this.text && previous && this.text !== previous) {\n      return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`)\n    }\n    if (this.values && !Array.isArray(this.values)) {\n      return new Error('Query values must be an array')\n    }\n    if (this.requiresPreparation()) {\n      // If we're using the extended query protocol we fire off several separate commands\n      // to the backend. On some versions of node & some operating system versions\n      // the network stack writes each message separately instead of buffering them together\n      // causing the client & network to send more slowly. Corking & uncorking the stream\n      // allows node to buffer up the messages internally before sending them all off at once.\n      // note: we're checking for existence of cork/uncork because some versions of streams\n      // might not have this (cloudflare?)\n      connection.stream.cork && connection.stream.cork()\n      try {\n        this.prepare(connection)\n      } finally {\n        // while unlikely for this.prepare to throw, if it does & we don't uncork this stream\n        // this client becomes unresponsive, so put in finally block \"just in case\"\n        connection.stream.uncork && connection.stream.uncork()\n      }\n    } else {\n      connection.query(this.text)\n    }\n    return null\n  }\n\n  hasBeenParsed(connection) {\n    return this.name && connection.parsedStatements[this.name]\n  }\n\n  handlePortalSuspended(connection) {\n    this._getRows(connection, this.rows)\n  }\n\n  _getRows(connection, rows) {\n    connection.execute({\n      portal: this.portal,\n      rows: rows,\n    })\n    // if we're not reading pages of rows send the sync command\n    // to indicate the pipeline is finished\n    if (!rows) {\n      connection.sync()\n    } else {\n      // otherwise flush the call out to read more rows\n      connection.flush()\n    }\n  }\n\n  // http://developer.postgresql.org/pgdocs/postgres/protocol-flow.html#PROTOCOL-FLOW-EXT-QUERY\n  prepare(connection) {\n    // TODO refactor this poor encapsulation\n    if (!this.hasBeenParsed(connection)) {\n      connection.parse({\n        text: this.text,\n        name: this.name,\n        types: this.types,\n      })\n    }\n\n    // because we're mapping user supplied values to\n    // postgres wire protocol compatible values it could\n    // throw an exception, so try/catch this section\n    try {\n      connection.bind({\n        portal: this.portal,\n        statement: this.name,\n        values: this.values,\n        binary: this.binary,\n        valueMapper: utils.prepareValue,\n      })\n    } catch (err) {\n      this.handleError(err, connection)\n      return\n    }\n\n    connection.describe({\n      type: 'P',\n      name: this.portal || '',\n    })\n\n    this._getRows(connection, this.rows)\n  }\n\n  handleCopyInResponse(connection) {\n    connection.sendCopyFail('No source stream defined')\n  }\n\n  handleCopyData(msg, connection) {\n    // noop\n  }\n}\n\nmodule.exports = Query\n", "export type Mode = 'text' | 'binary'\n\nexport type MessageName =\n  | 'parseComplete'\n  | 'bindComplete'\n  | 'closeComplete'\n  | 'noData'\n  | 'portalSuspended'\n  | 'replicationStart'\n  | 'emptyQuery'\n  | 'copyDone'\n  | 'copyData'\n  | 'rowDescription'\n  | 'parameterDescription'\n  | 'parameterStatus'\n  | 'backendKeyData'\n  | 'notification'\n  | 'readyForQuery'\n  | 'commandComplete'\n  | 'dataRow'\n  | 'copyInResponse'\n  | 'copyOutResponse'\n  | 'authenticationOk'\n  | 'authenticationMD5Password'\n  | 'authenticationCleartextPassword'\n  | 'authenticationSASL'\n  | 'authenticationSASLContinue'\n  | 'authenticationSASLFinal'\n  | 'error'\n  | 'notice'\n\nexport interface BackendMessage {\n  name: MessageName\n  length: number\n}\n\nexport const parseComplete: BackendMessage = {\n  name: 'parseComplete',\n  length: 5,\n}\n\nexport const bindComplete: BackendMessage = {\n  name: 'bindComplete',\n  length: 5,\n}\n\nexport const closeComplete: BackendMessage = {\n  name: 'closeComplete',\n  length: 5,\n}\n\nexport const noData: BackendMessage = {\n  name: 'noData',\n  length: 5,\n}\n\nexport const portalSuspended: BackendMessage = {\n  name: 'portalSuspended',\n  length: 5,\n}\n\nexport const replicationStart: BackendMessage = {\n  name: 'replicationStart',\n  length: 4,\n}\n\nexport const emptyQuery: BackendMessage = {\n  name: 'emptyQuery',\n  length: 4,\n}\n\nexport const copyDone: BackendMessage = {\n  name: 'copyDone',\n  length: 4,\n}\n\ninterface NoticeOrError {\n  message: string | undefined\n  severity: string | undefined\n  code: string | undefined\n  detail: string | undefined\n  hint: string | undefined\n  position: string | undefined\n  internalPosition: string | undefined\n  internalQuery: string | undefined\n  where: string | undefined\n  schema: string | undefined\n  table: string | undefined\n  column: string | undefined\n  dataType: string | undefined\n  constraint: string | undefined\n  file: string | undefined\n  line: string | undefined\n  routine: string | undefined\n}\n\nexport class DatabaseError extends Error implements NoticeOrError {\n  public severity: string | undefined\n  public code: string | undefined\n  public detail: string | undefined\n  public hint: string | undefined\n  public position: string | undefined\n  public internalPosition: string | undefined\n  public internalQuery: string | undefined\n  public where: string | undefined\n  public schema: string | undefined\n  public table: string | undefined\n  public column: string | undefined\n  public dataType: string | undefined\n  public constraint: string | undefined\n  public file: string | undefined\n  public line: string | undefined\n  public routine: string | undefined\n  constructor(\n    message: string,\n    public readonly length: number,\n    public readonly name: MessageName\n  ) {\n    super(message)\n  }\n}\n\nexport class CopyDataMessage {\n  public readonly name = 'copyData'\n  constructor(\n    public readonly length: number,\n    public readonly chunk: Buffer\n  ) {}\n}\n\nexport class CopyResponse {\n  public readonly columnTypes: number[]\n  constructor(\n    public readonly length: number,\n    public readonly name: MessageName,\n    public readonly binary: boolean,\n    columnCount: number\n  ) {\n    this.columnTypes = new Array(columnCount)\n  }\n}\n\nexport class Field {\n  constructor(\n    public readonly name: string,\n    public readonly tableID: number,\n    public readonly columnID: number,\n    public readonly dataTypeID: number,\n    public readonly dataTypeSize: number,\n    public readonly dataTypeModifier: number,\n    public readonly format: Mode\n  ) {}\n}\n\nexport class RowDescriptionMessage {\n  public readonly name: MessageName = 'rowDescription'\n  public readonly fields: Field[]\n  constructor(\n    public readonly length: number,\n    public readonly fieldCount: number\n  ) {\n    this.fields = new Array(this.fieldCount)\n  }\n}\n\nexport class ParameterDescriptionMessage {\n  public readonly name: MessageName = 'parameterDescription'\n  public readonly dataTypeIDs: number[]\n  constructor(\n    public readonly length: number,\n    public readonly parameterCount: number\n  ) {\n    this.dataTypeIDs = new Array(this.parameterCount)\n  }\n}\n\nexport class ParameterStatusMessage {\n  public readonly name: MessageName = 'parameterStatus'\n  constructor(\n    public readonly length: number,\n    public readonly parameterName: string,\n    public readonly parameterValue: string\n  ) {}\n}\n\nexport class AuthenticationMD5Password implements BackendMessage {\n  public readonly name: MessageName = 'authenticationMD5Password'\n  constructor(\n    public readonly length: number,\n    public readonly salt: Buffer\n  ) {}\n}\n\nexport class BackendKeyDataMessage {\n  public readonly name: MessageName = 'backendKeyData'\n  constructor(\n    public readonly length: number,\n    public readonly processID: number,\n    public readonly secretKey: number\n  ) {}\n}\n\nexport class NotificationResponseMessage {\n  public readonly name: MessageName = 'notification'\n  constructor(\n    public readonly length: number,\n    public readonly processId: number,\n    public readonly channel: string,\n    public readonly payload: string\n  ) {}\n}\n\nexport class ReadyForQueryMessage {\n  public readonly name: MessageName = 'readyForQuery'\n  constructor(\n    public readonly length: number,\n    public readonly status: string\n  ) {}\n}\n\nexport class CommandCompleteMessage {\n  public readonly name: MessageName = 'commandComplete'\n  constructor(\n    public readonly length: number,\n    public readonly text: string\n  ) {}\n}\n\nexport class DataRowMessage {\n  public readonly fieldCount: number\n  public readonly name: MessageName = 'dataRow'\n  constructor(\n    public length: number,\n    public fields: any[]\n  ) {\n    this.fieldCount = fields.length\n  }\n}\n\nexport class NoticeMessage implements BackendMessage, NoticeOrError {\n  constructor(\n    public readonly length: number,\n    public readonly message: string | undefined\n  ) {}\n  public readonly name = 'notice'\n  public severity: string | undefined\n  public code: string | undefined\n  public detail: string | undefined\n  public hint: string | undefined\n  public position: string | undefined\n  public internalPosition: string | undefined\n  public internalQuery: string | undefined\n  public where: string | undefined\n  public schema: string | undefined\n  public table: string | undefined\n  public column: string | undefined\n  public dataType: string | undefined\n  public constraint: string | undefined\n  public file: string | undefined\n  public line: string | undefined\n  public routine: string | undefined\n}\n", "//binary data writer tuned for encoding binary specific to the postgres binary protocol\n\nexport class Writer {\n  private buffer: Buffer\n  private offset: number = 5\n  private headerPosition: number = 0\n  constructor(private size = 256) {\n    this.buffer = Buffer.allocUnsafe(size)\n  }\n\n  private ensure(size: number): void {\n    const remaining = this.buffer.length - this.offset\n    if (remaining < size) {\n      const oldBuffer = this.buffer\n      // exponential growth factor of around ~ 1.5\n      // https://stackoverflow.com/questions/2269063/buffer-growth-strategy\n      const newSize = oldBuffer.length + (oldBuffer.length >> 1) + size\n      this.buffer = Buffer.allocUnsafe(newSize)\n      oldBuffer.copy(this.buffer)\n    }\n  }\n\n  public addInt32(num: number): Writer {\n    this.ensure(4)\n    this.buffer[this.offset++] = (num >>> 24) & 0xff\n    this.buffer[this.offset++] = (num >>> 16) & 0xff\n    this.buffer[this.offset++] = (num >>> 8) & 0xff\n    this.buffer[this.offset++] = (num >>> 0) & 0xff\n    return this\n  }\n\n  public addInt16(num: number): Writer {\n    this.ensure(2)\n    this.buffer[this.offset++] = (num >>> 8) & 0xff\n    this.buffer[this.offset++] = (num >>> 0) & 0xff\n    return this\n  }\n\n  public addCString(string: string): Writer {\n    if (!string) {\n      this.ensure(1)\n    } else {\n      const len = Buffer.byteLength(string)\n      this.ensure(len + 1) // +1 for null terminator\n      this.buffer.write(string, this.offset, 'utf-8')\n      this.offset += len\n    }\n\n    this.buffer[this.offset++] = 0 // null terminator\n    return this\n  }\n\n  public addString(string: string = ''): Writer {\n    const len = Buffer.byteLength(string)\n    this.ensure(len)\n    this.buffer.write(string, this.offset)\n    this.offset += len\n    return this\n  }\n\n  public add(otherBuffer: Buffer): Writer {\n    this.ensure(otherBuffer.length)\n    otherBuffer.copy(this.buffer, this.offset)\n    this.offset += otherBuffer.length\n    return this\n  }\n\n  private join(code?: number): Buffer {\n    if (code) {\n      this.buffer[this.headerPosition] = code\n      //length is everything in this packet minus the code\n      const length = this.offset - (this.headerPosition + 1)\n      this.buffer.writeInt32BE(length, this.headerPosition + 1)\n    }\n    return this.buffer.slice(code ? 0 : 5, this.offset)\n  }\n\n  public flush(code?: number): Buffer {\n    const result = this.join(code)\n    this.offset = 5\n    this.headerPosition = 0\n    this.buffer = Buffer.allocUnsafe(this.size)\n    return result\n  }\n}\n", "import { Writer } from './buffer-writer'\n\nconst enum code {\n  startup = 0x70,\n  query = 0x51,\n  parse = 0x50,\n  bind = 0x42,\n  execute = 0x45,\n  flush = 0x48,\n  sync = 0x53,\n  end = 0x58,\n  close = 0x43,\n  describe = 0x44,\n  copyFromChunk = 0x64,\n  copyDone = 0x63,\n  copyFail = 0x66,\n}\n\nconst writer = new Writer()\n\nconst startup = (opts: Record<string, string>): Buffer => {\n  // protocol version\n  writer.addInt16(3).addInt16(0)\n  for (const key of Object.keys(opts)) {\n    writer.addCString(key).addCString(opts[key])\n  }\n\n  writer.addCString('client_encoding').addCString('UTF8')\n\n  const bodyBuffer = writer.addCString('').flush()\n  // this message is sent without a code\n\n  const length = bodyBuffer.length + 4\n\n  return new Writer().addInt32(length).add(bodyBuffer).flush()\n}\n\nconst requestSsl = (): Buffer => {\n  const response = Buffer.allocUnsafe(8)\n  response.writeInt32BE(8, 0)\n  response.writeInt32BE(80877103, 4)\n  return response\n}\n\nconst password = (password: string): Buffer => {\n  return writer.addCString(password).flush(code.startup)\n}\n\nconst sendSASLInitialResponseMessage = function (mechanism: string, initialResponse: string): Buffer {\n  // 0x70 = 'p'\n  writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse)\n\n  return writer.flush(code.startup)\n}\n\nconst sendSCRAMClientFinalMessage = function (additionalData: string): Buffer {\n  return writer.addString(additionalData).flush(code.startup)\n}\n\nconst query = (text: string): Buffer => {\n  return writer.addCString(text).flush(code.query)\n}\n\ntype ParseOpts = {\n  name?: string\n  types?: number[]\n  text: string\n}\n\nconst emptyArray: any[] = []\n\nconst parse = (query: ParseOpts): Buffer => {\n  // expect something like this:\n  // { name: 'queryName',\n  //   text: 'select * from blah',\n  //   types: ['int8', 'bool'] }\n\n  // normalize missing query names to allow for null\n  const name = query.name || ''\n  if (name.length > 63) {\n    console.error('Warning! Postgres only supports 63 characters for query names.')\n    console.error('You supplied %s (%s)', name, name.length)\n    console.error('This can cause conflicts and silent errors executing queries')\n  }\n\n  const types = query.types || emptyArray\n\n  const len = types.length\n\n  const buffer = writer\n    .addCString(name) // name of query\n    .addCString(query.text) // actual query text\n    .addInt16(len)\n\n  for (let i = 0; i < len; i++) {\n    buffer.addInt32(types[i])\n  }\n\n  return writer.flush(code.parse)\n}\n\ntype ValueMapper = (param: any, index: number) => any\n\ntype BindOpts = {\n  portal?: string\n  binary?: boolean\n  statement?: string\n  values?: any[]\n  // optional map from JS value to postgres value per parameter\n  valueMapper?: ValueMapper\n}\n\nconst paramWriter = new Writer()\n\n// make this a const enum so typescript will inline the value\nconst enum ParamType {\n  STRING = 0,\n  BINARY = 1,\n}\n\nconst writeValues = function (values: any[], valueMapper?: ValueMapper): void {\n  for (let i = 0; i < values.length; i++) {\n    const mappedVal = valueMapper ? valueMapper(values[i], i) : values[i]\n    if (mappedVal == null) {\n      // add the param type (string) to the writer\n      writer.addInt16(ParamType.STRING)\n      // write -1 to the param writer to indicate null\n      paramWriter.addInt32(-1)\n    } else if (mappedVal instanceof Buffer) {\n      // add the param type (binary) to the writer\n      writer.addInt16(ParamType.BINARY)\n      // add the buffer to the param writer\n      paramWriter.addInt32(mappedVal.length)\n      paramWriter.add(mappedVal)\n    } else {\n      // add the param type (string) to the writer\n      writer.addInt16(ParamType.STRING)\n      paramWriter.addInt32(Buffer.byteLength(mappedVal))\n      paramWriter.addString(mappedVal)\n    }\n  }\n}\n\nconst bind = (config: BindOpts = {}): Buffer => {\n  // normalize config\n  const portal = config.portal || ''\n  const statement = config.statement || ''\n  const binary = config.binary || false\n  const values = config.values || emptyArray\n  const len = values.length\n\n  writer.addCString(portal).addCString(statement)\n  writer.addInt16(len)\n\n  writeValues(values, config.valueMapper)\n\n  writer.addInt16(len)\n  writer.add(paramWriter.flush())\n\n  // all results use the same format code\n  writer.addInt16(1)\n  // format code\n  writer.addInt16(binary ? ParamType.BINARY : ParamType.STRING)\n  return writer.flush(code.bind)\n}\n\ntype ExecOpts = {\n  portal?: string\n  rows?: number\n}\n\nconst emptyExecute = Buffer.from([code.execute, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00])\n\nconst execute = (config?: ExecOpts): Buffer => {\n  // this is the happy path for most queries\n  if (!config || (!config.portal && !config.rows)) {\n    return emptyExecute\n  }\n\n  const portal = config.portal || ''\n  const rows = config.rows || 0\n\n  const portalLength = Buffer.byteLength(portal)\n  const len = 4 + portalLength + 1 + 4\n  // one extra bit for code\n  const buff = Buffer.allocUnsafe(1 + len)\n  buff[0] = code.execute\n  buff.writeInt32BE(len, 1)\n  buff.write(portal, 5, 'utf-8')\n  buff[portalLength + 5] = 0 // null terminate portal cString\n  buff.writeUInt32BE(rows, buff.length - 4)\n  return buff\n}\n\nconst cancel = (processID: number, secretKey: number): Buffer => {\n  const buffer = Buffer.allocUnsafe(16)\n  buffer.writeInt32BE(16, 0)\n  buffer.writeInt16BE(1234, 4)\n  buffer.writeInt16BE(5678, 6)\n  buffer.writeInt32BE(processID, 8)\n  buffer.writeInt32BE(secretKey, 12)\n  return buffer\n}\n\ntype PortalOpts = {\n  type: 'S' | 'P'\n  name?: string\n}\n\nconst cstringMessage = (code: code, string: string): Buffer => {\n  const stringLen = Buffer.byteLength(string)\n  const len = 4 + stringLen + 1\n  // one extra bit for code\n  const buffer = Buffer.allocUnsafe(1 + len)\n  buffer[0] = code\n  buffer.writeInt32BE(len, 1)\n  buffer.write(string, 5, 'utf-8')\n  buffer[len] = 0 // null terminate cString\n  return buffer\n}\n\nconst emptyDescribePortal = writer.addCString('P').flush(code.describe)\nconst emptyDescribeStatement = writer.addCString('S').flush(code.describe)\n\nconst describe = (msg: PortalOpts): Buffer => {\n  return msg.name\n    ? cstringMessage(code.describe, `${msg.type}${msg.name || ''}`)\n    : msg.type === 'P'\n    ? emptyDescribePortal\n    : emptyDescribeStatement\n}\n\nconst close = (msg: PortalOpts): Buffer => {\n  const text = `${msg.type}${msg.name || ''}`\n  return cstringMessage(code.close, text)\n}\n\nconst copyData = (chunk: Buffer): Buffer => {\n  return writer.add(chunk).flush(code.copyFromChunk)\n}\n\nconst copyFail = (message: string): Buffer => {\n  return cstringMessage(code.copyFail, message)\n}\n\nconst codeOnlyBuffer = (code: code): Buffer => Buffer.from([code, 0x00, 0x00, 0x00, 0x04])\n\nconst flushBuffer = codeOnlyBuffer(code.flush)\nconst syncBuffer = codeOnlyBuffer(code.sync)\nconst endBuffer = codeOnlyBuffer(code.end)\nconst copyDoneBuffer = codeOnlyBuffer(code.copyDone)\n\nconst serialize = {\n  startup,\n  password,\n  requestSsl,\n  sendSASLInitialResponseMessage,\n  sendSCRAMClientFinalMessage,\n  query,\n  parse,\n  bind,\n  execute,\n  describe,\n  close,\n  flush: () => flushBuffer,\n  sync: () => syncBuffer,\n  end: () => endBuffer,\n  copyData,\n  copyDone: () => copyDoneBuffer,\n  copyFail,\n  cancel,\n}\n\nexport { serialize }\n", "const emptyBuffer = Buffer.allocUnsafe(0)\n\nexport class BufferReader {\n  private buffer: Buffer = emptyBuffer\n\n  // TODO(bmc): support non-utf8 encoding?\n  private encoding: string = 'utf-8'\n\n  constructor(private offset: number = 0) {}\n\n  public setBuffer(offset: number, buffer: Buffer): void {\n    this.offset = offset\n    this.buffer = buffer\n  }\n\n  public int16(): number {\n    const result = this.buffer.readInt16BE(this.offset)\n    this.offset += 2\n    return result\n  }\n\n  public byte(): number {\n    const result = this.buffer[this.offset]\n    this.offset++\n    return result\n  }\n\n  public int32(): number {\n    const result = this.buffer.readInt32BE(this.offset)\n    this.offset += 4\n    return result\n  }\n\n  public uint32(): number {\n    const result = this.buffer.readUInt32BE(this.offset)\n    this.offset += 4\n    return result\n  }\n\n  public string(length: number): string {\n    const result = this.buffer.toString(this.encoding, this.offset, this.offset + length)\n    this.offset += length\n    return result\n  }\n\n  public cstring(): string {\n    const start = this.offset\n    let end = start\n    // eslint-disable-next-line no-empty\n    while (this.buffer[end++] !== 0) {}\n    this.offset = end\n    return this.buffer.toString(this.encoding, start, end - 1)\n  }\n\n  public bytes(length: number): Buffer {\n    const result = this.buffer.slice(this.offset, this.offset + length)\n    this.offset += length\n    return result\n  }\n}\n", "import { TransformOptions } from 'stream'\nimport {\n  Mode,\n  bindComplete,\n  parseComplete,\n  closeComplete,\n  noData,\n  portalSuspended,\n  copyDone,\n  replicationStart,\n  emptyQuery,\n  ReadyForQueryMessage,\n  CommandCompleteMessage,\n  CopyDataMessage,\n  CopyResponse,\n  NotificationResponseMessage,\n  RowDescriptionMessage,\n  ParameterDescriptionMessage,\n  Field,\n  DataRowMessage,\n  ParameterStatusMessage,\n  BackendKeyDataMessage,\n  DatabaseError,\n  BackendMessage,\n  MessageName,\n  AuthenticationMD5Password,\n  NoticeMessage,\n} from './messages'\nimport { BufferReader } from './buffer-reader'\n\n// every message is prefixed with a single bye\nconst CODE_LENGTH = 1\n// every message has an int32 length which includes itself but does\n// NOT include the code in the length\nconst LEN_LENGTH = 4\n\nconst HEADER_LENGTH = CODE_LENGTH + LEN_LENGTH\n\nexport type Packet = {\n  code: number\n  packet: Buffer\n}\n\nconst emptyBuffer = Buffer.allocUnsafe(0)\n\ntype StreamOptions = TransformOptions & {\n  mode: Mode\n}\n\nconst enum MessageCodes {\n  DataRow = 0x44, // D\n  ParseComplete = 0x31, // 1\n  BindComplete = 0x32, // 2\n  CloseComplete = 0x33, // 3\n  CommandComplete = 0x43, // C\n  ReadyForQuery = 0x5a, // Z\n  NoData = 0x6e, // n\n  NotificationResponse = 0x41, // A\n  AuthenticationResponse = 0x52, // R\n  ParameterStatus = 0x53, // S\n  BackendKeyData = 0x4b, // K\n  ErrorMessage = 0x45, // E\n  NoticeMessage = 0x4e, // N\n  RowDescriptionMessage = 0x54, // T\n  ParameterDescriptionMessage = 0x74, // t\n  PortalSuspended = 0x73, // s\n  ReplicationStart = 0x57, // W\n  EmptyQuery = 0x49, // I\n  CopyIn = 0x47, // G\n  CopyOut = 0x48, // H\n  CopyDone = 0x63, // c\n  CopyData = 0x64, // d\n}\n\nexport type MessageCallback = (msg: BackendMessage) => void\n\nexport class Parser {\n  private buffer: Buffer = emptyBuffer\n  private bufferLength: number = 0\n  private bufferOffset: number = 0\n  private reader = new BufferReader()\n  private mode: Mode\n\n  constructor(opts?: StreamOptions) {\n    if (opts?.mode === 'binary') {\n      throw new Error('Binary mode not supported yet')\n    }\n    this.mode = opts?.mode || 'text'\n  }\n\n  public parse(buffer: Buffer, callback: MessageCallback) {\n    this.mergeBuffer(buffer)\n    const bufferFullLength = this.bufferOffset + this.bufferLength\n    let offset = this.bufferOffset\n    while (offset + HEADER_LENGTH <= bufferFullLength) {\n      // code is 1 byte long - it identifies the message type\n      const code = this.buffer[offset]\n      // length is 1 Uint32BE - it is the length of the message EXCLUDING the code\n      const length = this.buffer.readUInt32BE(offset + CODE_LENGTH)\n      const fullMessageLength = CODE_LENGTH + length\n      if (fullMessageLength + offset <= bufferFullLength) {\n        const message = this.handlePacket(offset + HEADER_LENGTH, code, length, this.buffer)\n        callback(message)\n        offset += fullMessageLength\n      } else {\n        break\n      }\n    }\n    if (offset === bufferFullLength) {\n      // No more use for the buffer\n      this.buffer = emptyBuffer\n      this.bufferLength = 0\n      this.bufferOffset = 0\n    } else {\n      // Adjust the cursors of remainingBuffer\n      this.bufferLength = bufferFullLength - offset\n      this.bufferOffset = offset\n    }\n  }\n\n  private mergeBuffer(buffer: Buffer): void {\n    if (this.bufferLength > 0) {\n      const newLength = this.bufferLength + buffer.byteLength\n      const newFullLength = newLength + this.bufferOffset\n      if (newFullLength > this.buffer.byteLength) {\n        // We can't concat the new buffer with the remaining one\n        let newBuffer: Buffer\n        if (newLength <= this.buffer.byteLength && this.bufferOffset >= this.bufferLength) {\n          // We can move the relevant part to the beginning of the buffer instead of allocating a new buffer\n          newBuffer = this.buffer\n        } else {\n          // Allocate a new larger buffer\n          let newBufferLength = this.buffer.byteLength * 2\n          while (newLength >= newBufferLength) {\n            newBufferLength *= 2\n          }\n          newBuffer = Buffer.allocUnsafe(newBufferLength)\n        }\n        // Move the remaining buffer to the new one\n        this.buffer.copy(newBuffer, 0, this.bufferOffset, this.bufferOffset + this.bufferLength)\n        this.buffer = newBuffer\n        this.bufferOffset = 0\n      }\n      // Concat the new buffer with the remaining one\n      buffer.copy(this.buffer, this.bufferOffset + this.bufferLength)\n      this.bufferLength = newLength\n    } else {\n      this.buffer = buffer\n      this.bufferOffset = 0\n      this.bufferLength = buffer.byteLength\n    }\n  }\n\n  private handlePacket(offset: number, code: number, length: number, bytes: Buffer): BackendMessage {\n    switch (code) {\n      case MessageCodes.BindComplete:\n        return bindComplete\n      case MessageCodes.ParseComplete:\n        return parseComplete\n      case MessageCodes.CloseComplete:\n        return closeComplete\n      case MessageCodes.NoData:\n        return noData\n      case MessageCodes.PortalSuspended:\n        return portalSuspended\n      case MessageCodes.CopyDone:\n        return copyDone\n      case MessageCodes.ReplicationStart:\n        return replicationStart\n      case MessageCodes.EmptyQuery:\n        return emptyQuery\n      case MessageCodes.DataRow:\n        return this.parseDataRowMessage(offset, length, bytes)\n      case MessageCodes.CommandComplete:\n        return this.parseCommandCompleteMessage(offset, length, bytes)\n      case MessageCodes.ReadyForQuery:\n        return this.parseReadyForQueryMessage(offset, length, bytes)\n      case MessageCodes.NotificationResponse:\n        return this.parseNotificationMessage(offset, length, bytes)\n      case MessageCodes.AuthenticationResponse:\n        return this.parseAuthenticationResponse(offset, length, bytes)\n      case MessageCodes.ParameterStatus:\n        return this.parseParameterStatusMessage(offset, length, bytes)\n      case MessageCodes.BackendKeyData:\n        return this.parseBackendKeyData(offset, length, bytes)\n      case MessageCodes.ErrorMessage:\n        return this.parseErrorMessage(offset, length, bytes, 'error')\n      case MessageCodes.NoticeMessage:\n        return this.parseErrorMessage(offset, length, bytes, 'notice')\n      case MessageCodes.RowDescriptionMessage:\n        return this.parseRowDescriptionMessage(offset, length, bytes)\n      case MessageCodes.ParameterDescriptionMessage:\n        return this.parseParameterDescriptionMessage(offset, length, bytes)\n      case MessageCodes.CopyIn:\n        return this.parseCopyInMessage(offset, length, bytes)\n      case MessageCodes.CopyOut:\n        return this.parseCopyOutMessage(offset, length, bytes)\n      case MessageCodes.CopyData:\n        return this.parseCopyData(offset, length, bytes)\n      default:\n        return new DatabaseError('received invalid response: ' + code.toString(16), length, 'error')\n    }\n  }\n\n  private parseReadyForQueryMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const status = this.reader.string(1)\n    return new ReadyForQueryMessage(length, status)\n  }\n\n  private parseCommandCompleteMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const text = this.reader.cstring()\n    return new CommandCompleteMessage(length, text)\n  }\n\n  private parseCopyData(offset: number, length: number, bytes: Buffer) {\n    const chunk = bytes.slice(offset, offset + (length - 4))\n    return new CopyDataMessage(length, chunk)\n  }\n\n  private parseCopyInMessage(offset: number, length: number, bytes: Buffer) {\n    return this.parseCopyMessage(offset, length, bytes, 'copyInResponse')\n  }\n\n  private parseCopyOutMessage(offset: number, length: number, bytes: Buffer) {\n    return this.parseCopyMessage(offset, length, bytes, 'copyOutResponse')\n  }\n\n  private parseCopyMessage(offset: number, length: number, bytes: Buffer, messageName: MessageName) {\n    this.reader.setBuffer(offset, bytes)\n    const isBinary = this.reader.byte() !== 0\n    const columnCount = this.reader.int16()\n    const message = new CopyResponse(length, messageName, isBinary, columnCount)\n    for (let i = 0; i < columnCount; i++) {\n      message.columnTypes[i] = this.reader.int16()\n    }\n    return message\n  }\n\n  private parseNotificationMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const processId = this.reader.int32()\n    const channel = this.reader.cstring()\n    const payload = this.reader.cstring()\n    return new NotificationResponseMessage(length, processId, channel, payload)\n  }\n\n  private parseRowDescriptionMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const fieldCount = this.reader.int16()\n    const message = new RowDescriptionMessage(length, fieldCount)\n    for (let i = 0; i < fieldCount; i++) {\n      message.fields[i] = this.parseField()\n    }\n    return message\n  }\n\n  private parseField(): Field {\n    const name = this.reader.cstring()\n    const tableID = this.reader.uint32()\n    const columnID = this.reader.int16()\n    const dataTypeID = this.reader.uint32()\n    const dataTypeSize = this.reader.int16()\n    const dataTypeModifier = this.reader.int32()\n    const mode = this.reader.int16() === 0 ? 'text' : 'binary'\n    return new Field(name, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, mode)\n  }\n\n  private parseParameterDescriptionMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const parameterCount = this.reader.int16()\n    const message = new ParameterDescriptionMessage(length, parameterCount)\n    for (let i = 0; i < parameterCount; i++) {\n      message.dataTypeIDs[i] = this.reader.int32()\n    }\n    return message\n  }\n\n  private parseDataRowMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const fieldCount = this.reader.int16()\n    const fields: any[] = new Array(fieldCount)\n    for (let i = 0; i < fieldCount; i++) {\n      const len = this.reader.int32()\n      // a -1 for length means the value of the field is null\n      fields[i] = len === -1 ? null : this.reader.string(len)\n    }\n    return new DataRowMessage(length, fields)\n  }\n\n  private parseParameterStatusMessage(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const name = this.reader.cstring()\n    const value = this.reader.cstring()\n    return new ParameterStatusMessage(length, name, value)\n  }\n\n  private parseBackendKeyData(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const processID = this.reader.int32()\n    const secretKey = this.reader.int32()\n    return new BackendKeyDataMessage(length, processID, secretKey)\n  }\n\n  public parseAuthenticationResponse(offset: number, length: number, bytes: Buffer) {\n    this.reader.setBuffer(offset, bytes)\n    const code = this.reader.int32()\n    // TODO(bmc): maybe better types here\n    const message: BackendMessage & any = {\n      name: 'authenticationOk',\n      length,\n    }\n\n    switch (code) {\n      case 0: // AuthenticationOk\n        break\n      case 3: // AuthenticationCleartextPassword\n        if (message.length === 8) {\n          message.name = 'authenticationCleartextPassword'\n        }\n        break\n      case 5: // AuthenticationMD5Password\n        if (message.length === 12) {\n          message.name = 'authenticationMD5Password'\n          const salt = this.reader.bytes(4)\n          return new AuthenticationMD5Password(length, salt)\n        }\n        break\n      case 10: // AuthenticationSASL\n        {\n          message.name = 'authenticationSASL'\n          message.mechanisms = []\n          let mechanism: string\n          do {\n            mechanism = this.reader.cstring()\n            if (mechanism) {\n              message.mechanisms.push(mechanism)\n            }\n          } while (mechanism)\n        }\n        break\n      case 11: // AuthenticationSASLContinue\n        message.name = 'authenticationSASLContinue'\n        message.data = this.reader.string(length - 8)\n        break\n      case 12: // AuthenticationSASLFinal\n        message.name = 'authenticationSASLFinal'\n        message.data = this.reader.string(length - 8)\n        break\n      default:\n        throw new Error('Unknown authenticationOk message type ' + code)\n    }\n    return message\n  }\n\n  private parseErrorMessage(offset: number, length: number, bytes: Buffer, name: MessageName) {\n    this.reader.setBuffer(offset, bytes)\n    const fields: Record<string, string> = {}\n    let fieldType = this.reader.string(1)\n    while (fieldType !== '\\0') {\n      fields[fieldType] = this.reader.cstring()\n      fieldType = this.reader.string(1)\n    }\n\n    const messageValue = fields.M\n\n    const message =\n      name === 'notice' ? new NoticeMessage(length, messageValue) : new DatabaseError(messageValue, length, name)\n\n    message.severity = fields.S\n    message.code = fields.C\n    message.detail = fields.D\n    message.hint = fields.H\n    message.position = fields.P\n    message.internalPosition = fields.p\n    message.internalQuery = fields.q\n    message.where = fields.W\n    message.schema = fields.s\n    message.table = fields.t\n    message.column = fields.c\n    message.dataType = fields.d\n    message.constraint = fields.n\n    message.file = fields.F\n    message.line = fields.L\n    message.routine = fields.R\n    return message\n  }\n}\n", "import { DatabaseError } from './messages'\nimport { serialize } from './serializer'\nimport { Parser, MessageCallback } from './parser'\n\nexport function parse(stream: NodeJS.ReadableStream, callback: MessageCallback): Promise<void> {\n  const parser = new Parser()\n  stream.on('data', (buffer: Buffer) => parser.parse(buffer, callback))\n  return new Promise((resolve) => stream.on('end', () => resolve()))\n}\n\nexport { serialize, DatabaseError }\n", "// This is an empty module that is served up when outside of a workerd environment\n// See the `exports` field in package.json\nexport default {}\n", "const { getStream, getSecureStream } = getStreamFuncs()\n\nmodule.exports = {\n  /**\n   * Get a socket stream compatible with the current runtime environment.\n   * @returns {Duplex}\n   */\n  getStream,\n  /**\n   * Get a TLS secured socket, compatible with the current environment,\n   * using the socket and other settings given in `options`.\n   * @returns {Duplex}\n   */\n  getSecureStream,\n}\n\n/**\n * The stream functions that work in Node.js\n */\nfunction getNodejsStreamFuncs() {\n  function getStream(ssl) {\n    const net = require('net')\n    return new net.Socket()\n  }\n\n  function getSecureStream(options) {\n    const tls = require('tls')\n    return tls.connect(options)\n  }\n  return {\n    getStream,\n    getSecureStream,\n  }\n}\n\n/**\n * The stream functions that work in Cloudflare Workers\n */\nfunction getCloudflareStreamFuncs() {\n  function getStream(ssl) {\n    const { CloudflareSocket } = require('pg-cloudflare')\n    return new CloudflareSocket(ssl)\n  }\n\n  function getSecureStream(options) {\n    options.socket.startTls(options)\n    return options.socket\n  }\n  return {\n    getStream,\n    getSecureStream,\n  }\n}\n\n/**\n * Are we running in a Cloudflare Worker?\n *\n * @returns true if the code is currently running inside a Cloudflare Worker.\n */\nfunction isCloudflareRuntime() {\n  // Since 2022-03-21 the `global_navigator` compatibility flag is on for Cloudflare Workers\n  // which means that `navigator.userAgent` will be defined.\n  // eslint-disable-next-line no-undef\n  if (typeof navigator === 'object' && navigator !== null && typeof navigator.userAgent === 'string') {\n    // eslint-disable-next-line no-undef\n    return navigator.userAgent === 'Cloudflare-Workers'\n  }\n  // In case `navigator` or `navigator.userAgent` is not defined then try a more sneaky approach\n  if (typeof Response === 'function') {\n    const resp = new Response(null, { cf: { thing: true } })\n    if (typeof resp.cf === 'object' && resp.cf !== null && resp.cf.thing) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction getStreamFuncs() {\n  if (isCloudflareRuntime()) {\n    return getCloudflareStreamFuncs()\n  }\n  return getNodejsStreamFuncs()\n}\n", "'use strict'\n\nconst EventEmitter = require('events').EventEmitter\n\nconst { parse, serialize } = require('pg-protocol')\nconst { getStream, getSecureStream } = require('./stream')\n\nconst flushBuffer = serialize.flush()\nconst syncBuffer = serialize.sync()\nconst endBuffer = serialize.end()\n\n// TODO(bmc) support binary mode at some point\nclass Connection extends EventEmitter {\n  constructor(config) {\n    super()\n    config = config || {}\n\n    this.stream = config.stream || getStream(config.ssl)\n    if (typeof this.stream === 'function') {\n      this.stream = this.stream(config)\n    }\n\n    this._keepAlive = config.keepAlive\n    this._keepAliveInitialDelayMillis = config.keepAliveInitialDelayMillis\n    this.lastBuffer = false\n    this.parsedStatements = {}\n    this.ssl = config.ssl || false\n    this._ending = false\n    this._emitMessage = false\n    const self = this\n    this.on('newListener', function (eventName) {\n      if (eventName === 'message') {\n        self._emitMessage = true\n      }\n    })\n  }\n\n  connect(port, host) {\n    const self = this\n\n    this._connecting = true\n    this.stream.setNoDelay(true)\n    this.stream.connect(port, host)\n\n    this.stream.once('connect', function () {\n      if (self._keepAlive) {\n        self.stream.setKeepAlive(true, self._keepAliveInitialDelayMillis)\n      }\n      self.emit('connect')\n    })\n\n    const reportStreamError = function (error) {\n      // errors about disconnections should be ignored during disconnect\n      if (self._ending && (error.code === 'ECONNRESET' || error.code === 'EPIPE')) {\n        return\n      }\n      self.emit('error', error)\n    }\n    this.stream.on('error', reportStreamError)\n\n    this.stream.on('close', function () {\n      self.emit('end')\n    })\n\n    if (!this.ssl) {\n      return this.attachListeners(this.stream)\n    }\n\n    this.stream.once('data', function (buffer) {\n      const responseCode = buffer.toString('utf8')\n      switch (responseCode) {\n        case 'S': // Server supports SSL connections, continue with a secure connection\n          break\n        case 'N': // Server does not support SSL connections\n          self.stream.end()\n          return self.emit('error', new Error('The server does not support SSL connections'))\n        default:\n          // Any other response byte, including 'E' (ErrorResponse) indicating a server error\n          self.stream.end()\n          return self.emit('error', new Error('There was an error establishing an SSL connection'))\n      }\n      const options = {\n        socket: self.stream,\n      }\n\n      if (self.ssl !== true) {\n        Object.assign(options, self.ssl)\n\n        if ('key' in self.ssl) {\n          options.key = self.ssl.key\n        }\n      }\n\n      const net = require('net')\n      if (net.isIP && net.isIP(host) === 0) {\n        options.servername = host\n      }\n      try {\n        self.stream = getSecureStream(options)\n      } catch (err) {\n        return self.emit('error', err)\n      }\n      self.attachListeners(self.stream)\n      self.stream.on('error', reportStreamError)\n\n      self.emit('sslconnect')\n    })\n  }\n\n  attachListeners(stream) {\n    parse(stream, (msg) => {\n      const eventName = msg.name === 'error' ? 'errorMessage' : msg.name\n      if (this._emitMessage) {\n        this.emit('message', msg)\n      }\n      this.emit(eventName, msg)\n    })\n  }\n\n  requestSsl() {\n    this.stream.write(serialize.requestSsl())\n  }\n\n  startup(config) {\n    this.stream.write(serialize.startup(config))\n  }\n\n  cancel(processID, secretKey) {\n    this._send(serialize.cancel(processID, secretKey))\n  }\n\n  password(password) {\n    this._send(serialize.password(password))\n  }\n\n  sendSASLInitialResponseMessage(mechanism, initialResponse) {\n    this._send(serialize.sendSASLInitialResponseMessage(mechanism, initialResponse))\n  }\n\n  sendSCRAMClientFinalMessage(additionalData) {\n    this._send(serialize.sendSCRAMClientFinalMessage(additionalData))\n  }\n\n  _send(buffer) {\n    if (!this.stream.writable) {\n      return false\n    }\n    return this.stream.write(buffer)\n  }\n\n  query(text) {\n    this._send(serialize.query(text))\n  }\n\n  // send parse message\n  parse(query) {\n    this._send(serialize.parse(query))\n  }\n\n  // send bind message\n  bind(config) {\n    this._send(serialize.bind(config))\n  }\n\n  // send execute message\n  execute(config) {\n    this._send(serialize.execute(config))\n  }\n\n  flush() {\n    if (this.stream.writable) {\n      this.stream.write(flushBuffer)\n    }\n  }\n\n  sync() {\n    this._ending = true\n    this._send(syncBuffer)\n  }\n\n  ref() {\n    this.stream.ref()\n  }\n\n  unref() {\n    this.stream.unref()\n  }\n\n  end() {\n    // 0x58 = 'X'\n    this._ending = true\n    if (!this._connecting || !this.stream.writable) {\n      this.stream.end()\n      return\n    }\n    return this.stream.write(endBuffer, () => {\n      this.stream.end()\n    })\n  }\n\n  close(msg) {\n    this._send(serialize.close(msg))\n  }\n\n  describe(msg) {\n    this._send(serialize.describe(msg))\n  }\n\n  sendCopyFromChunk(chunk) {\n    this._send(serialize.copyData(chunk))\n  }\n\n  endCopyFrom() {\n    this._send(serialize.copyDone())\n  }\n\n  sendCopyFail(msg) {\n    this._send(serialize.copyFail(msg))\n  }\n}\n\nmodule.exports = Connection\n", "/*\nCopyright (c) 2014-2021, Matteo Collina <hello@matteocollina.com>\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted, provided that the above\ncopyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\nWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\nANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\nWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\nACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR\nIN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n*/\n\n'use strict'\n\nconst { Transform } = require('stream')\nconst { StringDecoder } = require('string_decoder')\nconst kLast = Symbol('last')\nconst kDecoder = Symbol('decoder')\n\nfunction transform (chunk, enc, cb) {\n  let list\n  if (this.overflow) { // Line buffer is full. Skip to start of next line.\n    const buf = this[kDecoder].write(chunk)\n    list = buf.split(this.matcher)\n\n    if (list.length === 1) return cb() // Line ending not found. Discard entire chunk.\n\n    // Line ending found. Discard trailing fragment of previous line and reset overflow state.\n    list.shift()\n    this.overflow = false\n  } else {\n    this[kLast] += this[kDecoder].write(chunk)\n    list = this[kLast].split(this.matcher)\n  }\n\n  this[kLast] = list.pop()\n\n  for (let i = 0; i < list.length; i++) {\n    try {\n      push(this, this.mapper(list[i]))\n    } catch (error) {\n      return cb(error)\n    }\n  }\n\n  this.overflow = this[kLast].length > this.maxLength\n  if (this.overflow && !this.skipOverflow) {\n    cb(new Error('maximum buffer reached'))\n    return\n  }\n\n  cb()\n}\n\nfunction flush (cb) {\n  // forward any gibberish left in there\n  this[kLast] += this[kDecoder].end()\n\n  if (this[kLast]) {\n    try {\n      push(this, this.mapper(this[kLast]))\n    } catch (error) {\n      return cb(error)\n    }\n  }\n\n  cb()\n}\n\nfunction push (self, val) {\n  if (val !== undefined) {\n    self.push(val)\n  }\n}\n\nfunction noop (incoming) {\n  return incoming\n}\n\nfunction split (matcher, mapper, options) {\n  // Set defaults for any arguments not supplied.\n  matcher = matcher || /\\r?\\n/\n  mapper = mapper || noop\n  options = options || {}\n\n  // Test arguments explicitly.\n  switch (arguments.length) {\n    case 1:\n      // If mapper is only argument.\n      if (typeof matcher === 'function') {\n        mapper = matcher\n        matcher = /\\r?\\n/\n      // If options is only argument.\n      } else if (typeof matcher === 'object' && !(matcher instanceof RegExp) && !matcher[Symbol.split]) {\n        options = matcher\n        matcher = /\\r?\\n/\n      }\n      break\n\n    case 2:\n      // If mapper and options are arguments.\n      if (typeof matcher === 'function') {\n        options = mapper\n        mapper = matcher\n        matcher = /\\r?\\n/\n      // If matcher and options are arguments.\n      } else if (typeof mapper === 'object') {\n        options = mapper\n        mapper = noop\n      }\n  }\n\n  options = Object.assign({}, options)\n  options.autoDestroy = true\n  options.transform = transform\n  options.flush = flush\n  options.readableObjectMode = true\n\n  const stream = new Transform(options)\n\n  stream[kLast] = ''\n  stream[kDecoder] = new StringDecoder('utf8')\n  stream.matcher = matcher\n  stream.mapper = mapper\n  stream.maxLength = options.maxLength\n  stream.skipOverflow = options.skipOverflow || false\n  stream.overflow = false\n  stream._destroy = function (err, cb) {\n    // Weird Node v12 bug that we need to work around\n    this._writableState.errorEmitted = false\n    cb(err)\n  }\n\n  return stream\n}\n\nmodule.exports = split\n", "'use strict';\n\nvar path = require('path')\n  , Stream = require('stream').Stream\n  , split = require('split2')\n  , util = require('util')\n  , defaultPort = 5432\n  , isWin = (process.platform === 'win32')\n  , warnStream = process.stderr\n;\n\n\nvar S_IRWXG = 56     //    00070(8)\n  , S_IRWXO = 7      //    00007(8)\n  , S_IFMT  = 61440  // 00170000(8)\n  , S_IFREG = 32768  //  0100000(8)\n;\nfunction isRegFile(mode) {\n    return ((mode & S_IFMT) == S_IFREG);\n}\n\nvar fieldNames = [ 'host', 'port', 'database', 'user', 'password' ];\nvar nrOfFields = fieldNames.length;\nvar passKey = fieldNames[ nrOfFields -1 ];\n\n\nfunction warn() {\n    var isWritable = (\n        warnStream instanceof Stream &&\n          true === warnStream.writable\n    );\n\n    if (isWritable) {\n        var args = Array.prototype.slice.call(arguments).concat(\"\\n\");\n        warnStream.write( util.format.apply(util, args) );\n    }\n}\n\n\nObject.defineProperty(module.exports, 'isWin', {\n    get : function() {\n        return isWin;\n    } ,\n    set : function(val) {\n        isWin = val;\n    }\n});\n\n\nmodule.exports.warnTo = function(stream) {\n    var old = warnStream;\n    warnStream = stream;\n    return old;\n};\n\nmodule.exports.getFileName = function(rawEnv){\n    var env = rawEnv || process.env;\n    var file = env.PGPASSFILE || (\n        isWin ?\n          path.join( env.APPDATA || './' , 'postgresql', 'pgpass.conf' ) :\n          path.join( env.HOME || './', '.pgpass' )\n    );\n    return file;\n};\n\nmodule.exports.usePgPass = function(stats, fname) {\n    if (Object.prototype.hasOwnProperty.call(process.env, 'PGPASSWORD')) {\n        return false;\n    }\n\n    if (isWin) {\n        return true;\n    }\n\n    fname = fname || '<unkn>';\n\n    if (! isRegFile(stats.mode)) {\n        warn('WARNING: password file \"%s\" is not a plain file', fname);\n        return false;\n    }\n\n    if (stats.mode & (S_IRWXG | S_IRWXO)) {\n        /* If password file is insecure, alert the user and ignore it. */\n        warn('WARNING: password file \"%s\" has group or world access; permissions should be u=rw (0600) or less', fname);\n        return false;\n    }\n\n    return true;\n};\n\n\nvar matcher = module.exports.match = function(connInfo, entry) {\n    return fieldNames.slice(0, -1).reduce(function(prev, field, idx){\n        if (idx == 1) {\n            // the port\n            if ( Number( connInfo[field] || defaultPort ) === Number( entry[field] ) ) {\n                return prev && true;\n            }\n        }\n        return prev && (\n            entry[field] === '*' ||\n              entry[field] === connInfo[field]\n        );\n    }, true);\n};\n\n\nmodule.exports.getPassword = function(connInfo, stream, cb) {\n    var pass;\n    var lineStream = stream.pipe(split());\n\n    function onLine(line) {\n        var entry = parseLine(line);\n        if (entry && isValidEntry(entry) && matcher(connInfo, entry)) {\n            pass = entry[passKey];\n            lineStream.end(); // -> calls onEnd(), but pass is set now\n        }\n    }\n\n    var onEnd = function() {\n        stream.destroy();\n        cb(pass);\n    };\n\n    var onErr = function(err) {\n        stream.destroy();\n        warn('WARNING: error on reading file: %s', err);\n        cb(undefined);\n    };\n\n    stream.on('error', onErr);\n    lineStream\n        .on('data', onLine)\n        .on('end', onEnd)\n        .on('error', onErr)\n    ;\n\n};\n\n\nvar parseLine = module.exports.parseLine = function(line) {\n    if (line.length < 11 || line.match(/^\\s+#/)) {\n        return null;\n    }\n\n    var curChar = '';\n    var prevChar = '';\n    var fieldIdx = 0;\n    var startIdx = 0;\n    var endIdx = 0;\n    var obj = {};\n    var isLastField = false;\n    var addToObj = function(idx, i0, i1) {\n        var field = line.substring(i0, i1);\n\n        if (! Object.hasOwnProperty.call(process.env, 'PGPASS_NO_DEESCAPE')) {\n            field = field.replace(/\\\\([:\\\\])/g, '$1');\n        }\n\n        obj[ fieldNames[idx] ] = field;\n    };\n\n    for (var i = 0 ; i < line.length-1 ; i += 1) {\n        curChar = line.charAt(i+1);\n        prevChar = line.charAt(i);\n\n        isLastField = (fieldIdx == nrOfFields-1);\n\n        if (isLastField) {\n            addToObj(fieldIdx, startIdx);\n            break;\n        }\n\n        if (i >= 0 && curChar == ':' && prevChar !== '\\\\') {\n            addToObj(fieldIdx, startIdx, i+1);\n\n            startIdx = i+2;\n            fieldIdx += 1;\n        }\n    }\n\n    obj = ( Object.keys(obj).length === nrOfFields ) ? obj : null;\n\n    return obj;\n};\n\n\nvar isValidEntry = module.exports.isValidEntry = function(entry){\n    var rules = {\n        // host\n        0 : function(x){\n            return x.length > 0;\n        } ,\n        // port\n        1 : function(x){\n            if (x === '*') {\n                return true;\n            }\n            x = Number(x);\n            return (\n                isFinite(x) &&\n                  x > 0 &&\n                  x < 9007199254740992 &&\n                  Math.floor(x) === x\n            );\n        } ,\n        // database\n        2 : function(x){\n            return x.length > 0;\n        } ,\n        // username\n        3 : function(x){\n            return x.length > 0;\n        } ,\n        // password\n        4 : function(x){\n            return x.length > 0;\n        }\n    };\n\n    for (var idx = 0 ; idx < fieldNames.length ; idx += 1) {\n        var rule = rules[idx];\n        var value = entry[ fieldNames[idx] ] || '';\n\n        var res = rule(value);\n        if (!res) {\n            return false;\n        }\n    }\n\n    return true;\n};\n\n", "'use strict';\n\nvar path = require('path')\n  , fs = require('fs')\n  , helper = require('./helper.js')\n;\n\n\nmodule.exports = function(connInfo, cb) {\n    var file = helper.getFileName();\n    \n    fs.stat(file, function(err, stat){\n        if (err || !helper.usePgPass(stat, file)) {\n            return cb(undefined);\n        }\n\n        var st = fs.createReadStream(file);\n\n        helper.getPassword(connInfo, st, cb);\n    });\n};\n\nmodule.exports.warnTo = helper.warnTo;\n", "'use strict'\n\nconst EventEmitter = require('events').EventEmitter\nconst utils = require('./utils')\nconst sasl = require('./crypto/sasl')\nconst TypeOverrides = require('./type-overrides')\n\nconst ConnectionParameters = require('./connection-parameters')\nconst Query = require('./query')\nconst defaults = require('./defaults')\nconst Connection = require('./connection')\nconst crypto = require('./crypto/utils')\n\nclass Client extends EventEmitter {\n  constructor(config) {\n    super()\n\n    this.connectionParameters = new ConnectionParameters(config)\n    this.user = this.connectionParameters.user\n    this.database = this.connectionParameters.database\n    this.port = this.connectionParameters.port\n    this.host = this.connectionParameters.host\n\n    // \"hiding\" the password so it doesn't show up in stack traces\n    // or if the client is console.logged\n    Object.defineProperty(this, 'password', {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: this.connectionParameters.password,\n    })\n\n    this.replication = this.connectionParameters.replication\n\n    const c = config || {}\n\n    this._Promise = c.Promise || global.Promise\n    this._types = new TypeOverrides(c.types)\n    this._ending = false\n    this._ended = false\n    this._connecting = false\n    this._connected = false\n    this._connectionError = false\n    this._queryable = true\n\n    this.enableChannelBinding = Boolean(c.enableChannelBinding) // set true to use SCRAM-SHA-256-PLUS when offered\n    this.connection =\n      c.connection ||\n      new Connection({\n        stream: c.stream,\n        ssl: this.connectionParameters.ssl,\n        keepAlive: c.keepAlive || false,\n        keepAliveInitialDelayMillis: c.keepAliveInitialDelayMillis || 0,\n        encoding: this.connectionParameters.client_encoding || 'utf8',\n      })\n    this.queryQueue = []\n    this.binary = c.binary || defaults.binary\n    this.processID = null\n    this.secretKey = null\n    this.ssl = this.connectionParameters.ssl || false\n    // As with Password, make SSL->Key (the private key) non-enumerable.\n    // It won't show up in stack traces\n    // or if the client is console.logged\n    if (this.ssl && this.ssl.key) {\n      Object.defineProperty(this.ssl, 'key', {\n        enumerable: false,\n      })\n    }\n\n    this._connectionTimeoutMillis = c.connectionTimeoutMillis || 0\n  }\n\n  _errorAllQueries(err) {\n    const enqueueError = (query) => {\n      process.nextTick(() => {\n        query.handleError(err, this.connection)\n      })\n    }\n\n    if (this.activeQuery) {\n      enqueueError(this.activeQuery)\n      this.activeQuery = null\n    }\n\n    this.queryQueue.forEach(enqueueError)\n    this.queryQueue.length = 0\n  }\n\n  _connect(callback) {\n    const self = this\n    const con = this.connection\n    this._connectionCallback = callback\n\n    if (this._connecting || this._connected) {\n      const err = new Error('Client has already been connected. You cannot reuse a client.')\n      process.nextTick(() => {\n        callback(err)\n      })\n      return\n    }\n    this._connecting = true\n\n    if (this._connectionTimeoutMillis > 0) {\n      this.connectionTimeoutHandle = setTimeout(() => {\n        con._ending = true\n        con.stream.destroy(new Error('timeout expired'))\n      }, this._connectionTimeoutMillis)\n\n      if (this.connectionTimeoutHandle.unref) {\n        this.connectionTimeoutHandle.unref()\n      }\n    }\n\n    if (this.host && this.host.indexOf('/') === 0) {\n      con.connect(this.host + '/.s.PGSQL.' + this.port)\n    } else {\n      con.connect(this.port, this.host)\n    }\n\n    // once connection is established send startup message\n    con.on('connect', function () {\n      if (self.ssl) {\n        con.requestSsl()\n      } else {\n        con.startup(self.getStartupConf())\n      }\n    })\n\n    con.on('sslconnect', function () {\n      con.startup(self.getStartupConf())\n    })\n\n    this._attachListeners(con)\n\n    con.once('end', () => {\n      const error = this._ending ? new Error('Connection terminated') : new Error('Connection terminated unexpectedly')\n\n      clearTimeout(this.connectionTimeoutHandle)\n      this._errorAllQueries(error)\n      this._ended = true\n\n      if (!this._ending) {\n        // if the connection is ended without us calling .end()\n        // on this client then we have an unexpected disconnection\n        // treat this as an error unless we've already emitted an error\n        // during connection.\n        if (this._connecting && !this._connectionError) {\n          if (this._connectionCallback) {\n            this._connectionCallback(error)\n          } else {\n            this._handleErrorEvent(error)\n          }\n        } else if (!this._connectionError) {\n          this._handleErrorEvent(error)\n        }\n      }\n\n      process.nextTick(() => {\n        this.emit('end')\n      })\n    })\n  }\n\n  connect(callback) {\n    if (callback) {\n      this._connect(callback)\n      return\n    }\n\n    return new this._Promise((resolve, reject) => {\n      this._connect((error) => {\n        if (error) {\n          reject(error)\n        } else {\n          resolve()\n        }\n      })\n    })\n  }\n\n  _attachListeners(con) {\n    // password request handling\n    con.on('authenticationCleartextPassword', this._handleAuthCleartextPassword.bind(this))\n    // password request handling\n    con.on('authenticationMD5Password', this._handleAuthMD5Password.bind(this))\n    // password request handling (SASL)\n    con.on('authenticationSASL', this._handleAuthSASL.bind(this))\n    con.on('authenticationSASLContinue', this._handleAuthSASLContinue.bind(this))\n    con.on('authenticationSASLFinal', this._handleAuthSASLFinal.bind(this))\n    con.on('backendKeyData', this._handleBackendKeyData.bind(this))\n    con.on('error', this._handleErrorEvent.bind(this))\n    con.on('errorMessage', this._handleErrorMessage.bind(this))\n    con.on('readyForQuery', this._handleReadyForQuery.bind(this))\n    con.on('notice', this._handleNotice.bind(this))\n    con.on('rowDescription', this._handleRowDescription.bind(this))\n    con.on('dataRow', this._handleDataRow.bind(this))\n    con.on('portalSuspended', this._handlePortalSuspended.bind(this))\n    con.on('emptyQuery', this._handleEmptyQuery.bind(this))\n    con.on('commandComplete', this._handleCommandComplete.bind(this))\n    con.on('parseComplete', this._handleParseComplete.bind(this))\n    con.on('copyInResponse', this._handleCopyInResponse.bind(this))\n    con.on('copyData', this._handleCopyData.bind(this))\n    con.on('notification', this._handleNotification.bind(this))\n  }\n\n  // TODO(bmc): deprecate pgpass \"built in\" integration since this.password can be a function\n  // it can be supplied by the user if required - this is a breaking change!\n  _checkPgPass(cb) {\n    const con = this.connection\n    if (typeof this.password === 'function') {\n      this._Promise\n        .resolve()\n        .then(() => this.password())\n        .then((pass) => {\n          if (pass !== undefined) {\n            if (typeof pass !== 'string') {\n              con.emit('error', new TypeError('Password must be a string'))\n              return\n            }\n            this.connectionParameters.password = this.password = pass\n          } else {\n            this.connectionParameters.password = this.password = null\n          }\n          cb()\n        })\n        .catch((err) => {\n          con.emit('error', err)\n        })\n    } else if (this.password !== null) {\n      cb()\n    } else {\n      try {\n        const pgPass = require('pgpass')\n        pgPass(this.connectionParameters, (pass) => {\n          if (undefined !== pass) {\n            this.connectionParameters.password = this.password = pass\n          }\n          cb()\n        })\n      } catch (e) {\n        this.emit('error', e)\n      }\n    }\n  }\n\n  _handleAuthCleartextPassword(msg) {\n    this._checkPgPass(() => {\n      this.connection.password(this.password)\n    })\n  }\n\n  _handleAuthMD5Password(msg) {\n    this._checkPgPass(async () => {\n      try {\n        const hashedPassword = await crypto.postgresMd5PasswordHash(this.user, this.password, msg.salt)\n        this.connection.password(hashedPassword)\n      } catch (e) {\n        this.emit('error', e)\n      }\n    })\n  }\n\n  _handleAuthSASL(msg) {\n    this._checkPgPass(() => {\n      try {\n        this.saslSession = sasl.startSession(msg.mechanisms, this.enableChannelBinding && this.connection.stream)\n        this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism, this.saslSession.response)\n      } catch (err) {\n        this.connection.emit('error', err)\n      }\n    })\n  }\n\n  async _handleAuthSASLContinue(msg) {\n    try {\n      await sasl.continueSession(\n        this.saslSession,\n        this.password,\n        msg.data,\n        this.enableChannelBinding && this.connection.stream\n      )\n      this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)\n    } catch (err) {\n      this.connection.emit('error', err)\n    }\n  }\n\n  _handleAuthSASLFinal(msg) {\n    try {\n      sasl.finalizeSession(this.saslSession, msg.data)\n      this.saslSession = null\n    } catch (err) {\n      this.connection.emit('error', err)\n    }\n  }\n\n  _handleBackendKeyData(msg) {\n    this.processID = msg.processID\n    this.secretKey = msg.secretKey\n  }\n\n  _handleReadyForQuery(msg) {\n    if (this._connecting) {\n      this._connecting = false\n      this._connected = true\n      clearTimeout(this.connectionTimeoutHandle)\n\n      // process possible callback argument to Client#connect\n      if (this._connectionCallback) {\n        this._connectionCallback(null, this)\n        // remove callback for proper error handling\n        // after the connect event\n        this._connectionCallback = null\n      }\n      this.emit('connect')\n    }\n    const { activeQuery } = this\n    this.activeQuery = null\n    this.readyForQuery = true\n    if (activeQuery) {\n      activeQuery.handleReadyForQuery(this.connection)\n    }\n    this._pulseQueryQueue()\n  }\n\n  // if we receive an error event or error message\n  // during the connection process we handle it here\n  _handleErrorWhileConnecting(err) {\n    if (this._connectionError) {\n      // TODO(bmc): this is swallowing errors - we shouldn't do this\n      return\n    }\n    this._connectionError = true\n    clearTimeout(this.connectionTimeoutHandle)\n    if (this._connectionCallback) {\n      return this._connectionCallback(err)\n    }\n    this.emit('error', err)\n  }\n\n  // if we're connected and we receive an error event from the connection\n  // this means the socket is dead - do a hard abort of all queries and emit\n  // the socket error on the client as well\n  _handleErrorEvent(err) {\n    if (this._connecting) {\n      return this._handleErrorWhileConnecting(err)\n    }\n    this._queryable = false\n    this._errorAllQueries(err)\n    this.emit('error', err)\n  }\n\n  // handle error messages from the postgres backend\n  _handleErrorMessage(msg) {\n    if (this._connecting) {\n      return this._handleErrorWhileConnecting(msg)\n    }\n    const activeQuery = this.activeQuery\n\n    if (!activeQuery) {\n      this._handleErrorEvent(msg)\n      return\n    }\n\n    this.activeQuery = null\n    activeQuery.handleError(msg, this.connection)\n  }\n\n  _handleRowDescription(msg) {\n    // delegate rowDescription to active query\n    this.activeQuery.handleRowDescription(msg)\n  }\n\n  _handleDataRow(msg) {\n    // delegate dataRow to active query\n    this.activeQuery.handleDataRow(msg)\n  }\n\n  _handlePortalSuspended(msg) {\n    // delegate portalSuspended to active query\n    this.activeQuery.handlePortalSuspended(this.connection)\n  }\n\n  _handleEmptyQuery(msg) {\n    // delegate emptyQuery to active query\n    this.activeQuery.handleEmptyQuery(this.connection)\n  }\n\n  _handleCommandComplete(msg) {\n    if (this.activeQuery == null) {\n      const error = new Error('Received unexpected commandComplete message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // delegate commandComplete to active query\n    this.activeQuery.handleCommandComplete(msg, this.connection)\n  }\n\n  _handleParseComplete() {\n    if (this.activeQuery == null) {\n      const error = new Error('Received unexpected parseComplete message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // if a prepared statement has a name and properly parses\n    // we track that its already been executed so we don't parse\n    // it again on the same client\n    if (this.activeQuery.name) {\n      this.connection.parsedStatements[this.activeQuery.name] = this.activeQuery.text\n    }\n  }\n\n  _handleCopyInResponse(msg) {\n    this.activeQuery.handleCopyInResponse(this.connection)\n  }\n\n  _handleCopyData(msg) {\n    this.activeQuery.handleCopyData(msg, this.connection)\n  }\n\n  _handleNotification(msg) {\n    this.emit('notification', msg)\n  }\n\n  _handleNotice(msg) {\n    this.emit('notice', msg)\n  }\n\n  getStartupConf() {\n    const params = this.connectionParameters\n\n    const data = {\n      user: params.user,\n      database: params.database,\n    }\n\n    const appName = params.application_name || params.fallback_application_name\n    if (appName) {\n      data.application_name = appName\n    }\n    if (params.replication) {\n      data.replication = '' + params.replication\n    }\n    if (params.statement_timeout) {\n      data.statement_timeout = String(parseInt(params.statement_timeout, 10))\n    }\n    if (params.lock_timeout) {\n      data.lock_timeout = String(parseInt(params.lock_timeout, 10))\n    }\n    if (params.idle_in_transaction_session_timeout) {\n      data.idle_in_transaction_session_timeout = String(parseInt(params.idle_in_transaction_session_timeout, 10))\n    }\n    if (params.options) {\n      data.options = params.options\n    }\n\n    return data\n  }\n\n  cancel(client, query) {\n    if (client.activeQuery === query) {\n      const con = this.connection\n\n      if (this.host && this.host.indexOf('/') === 0) {\n        con.connect(this.host + '/.s.PGSQL.' + this.port)\n      } else {\n        con.connect(this.port, this.host)\n      }\n\n      // once connection is established send cancel message\n      con.on('connect', function () {\n        con.cancel(client.processID, client.secretKey)\n      })\n    } else if (client.queryQueue.indexOf(query) !== -1) {\n      client.queryQueue.splice(client.queryQueue.indexOf(query), 1)\n    }\n  }\n\n  setTypeParser(oid, format, parseFn) {\n    return this._types.setTypeParser(oid, format, parseFn)\n  }\n\n  getTypeParser(oid, format) {\n    return this._types.getTypeParser(oid, format)\n  }\n\n  // escapeIdentifier and escapeLiteral moved to utility functions & exported\n  // on PG\n  // re-exported here for backwards compatibility\n  escapeIdentifier(str) {\n    return utils.escapeIdentifier(str)\n  }\n\n  escapeLiteral(str) {\n    return utils.escapeLiteral(str)\n  }\n\n  _pulseQueryQueue() {\n    if (this.readyForQuery === true) {\n      this.activeQuery = this.queryQueue.shift()\n      if (this.activeQuery) {\n        this.readyForQuery = false\n        this.hasExecuted = true\n\n        const queryError = this.activeQuery.submit(this.connection)\n        if (queryError) {\n          process.nextTick(() => {\n            this.activeQuery.handleError(queryError, this.connection)\n            this.readyForQuery = true\n            this._pulseQueryQueue()\n          })\n        }\n      } else if (this.hasExecuted) {\n        this.activeQuery = null\n        this.emit('drain')\n      }\n    }\n  }\n\n  query(config, values, callback) {\n    // can take in strings, config object or query object\n    let query\n    let result\n    let readTimeout\n    let readTimeoutTimer\n    let queryCallback\n\n    if (config === null || config === undefined) {\n      throw new TypeError('Client was passed a null or undefined query')\n    } else if (typeof config.submit === 'function') {\n      readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n      result = query = config\n      if (typeof values === 'function') {\n        query.callback = query.callback || values\n      }\n    } else {\n      readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n      query = new Query(config, values, callback)\n      if (!query.callback) {\n        result = new this._Promise((resolve, reject) => {\n          query.callback = (err, res) => (err ? reject(err) : resolve(res))\n        }).catch((err) => {\n          // replace the stack trace that leads to `TCP.onStreamRead` with one that leads back to the\n          // application that created the query\n          Error.captureStackTrace(err)\n          throw err\n        })\n      }\n    }\n\n    if (readTimeout) {\n      queryCallback = query.callback\n\n      readTimeoutTimer = setTimeout(() => {\n        const error = new Error('Query read timeout')\n\n        process.nextTick(() => {\n          query.handleError(error, this.connection)\n        })\n\n        queryCallback(error)\n\n        // we already returned an error,\n        // just do nothing if query completes\n        query.callback = () => {}\n\n        // Remove from queue\n        const index = this.queryQueue.indexOf(query)\n        if (index > -1) {\n          this.queryQueue.splice(index, 1)\n        }\n\n        this._pulseQueryQueue()\n      }, readTimeout)\n\n      query.callback = (err, res) => {\n        clearTimeout(readTimeoutTimer)\n        queryCallback(err, res)\n      }\n    }\n\n    if (this.binary && !query.binary) {\n      query.binary = true\n    }\n\n    if (query._result && !query._result._types) {\n      query._result._types = this._types\n    }\n\n    if (!this._queryable) {\n      process.nextTick(() => {\n        query.handleError(new Error('Client has encountered a connection error and is not queryable'), this.connection)\n      })\n      return result\n    }\n\n    if (this._ending) {\n      process.nextTick(() => {\n        query.handleError(new Error('Client was closed and is not queryable'), this.connection)\n      })\n      return result\n    }\n\n    this.queryQueue.push(query)\n    this._pulseQueryQueue()\n    return result\n  }\n\n  ref() {\n    this.connection.ref()\n  }\n\n  unref() {\n    this.connection.unref()\n  }\n\n  end(cb) {\n    this._ending = true\n\n    // if we have never connected, then end is a noop, callback immediately\n    if (!this.connection._connecting || this._ended) {\n      if (cb) {\n        cb()\n      } else {\n        return this._Promise.resolve()\n      }\n    }\n\n    if (this.activeQuery || !this._queryable) {\n      // if we have an active query we need to force a disconnect\n      // on the socket - otherwise a hung query could block end forever\n      this.connection.stream.destroy()\n    } else {\n      this.connection.end()\n    }\n\n    if (cb) {\n      this.connection.once('end', cb)\n    } else {\n      return new this._Promise((resolve) => {\n        this.connection.once('end', resolve)\n      })\n    }\n  }\n}\n\n// expose a Query constructor\nClient.Query = Query\n\nmodule.exports = Client\n", "'use strict'\nconst EventEmitter = require('events').EventEmitter\n\nconst NOOP = function () {}\n\nconst removeWhere = (list, predicate) => {\n  const i = list.findIndex(predicate)\n\n  return i === -1 ? undefined : list.splice(i, 1)[0]\n}\n\nclass IdleItem {\n  constructor(client, idleListener, timeoutId) {\n    this.client = client\n    this.idleListener = idleListener\n    this.timeoutId = timeoutId\n  }\n}\n\nclass PendingItem {\n  constructor(callback) {\n    this.callback = callback\n  }\n}\n\nfunction throwOnDoubleRelease() {\n  throw new Error('Release called on client which has already been released to the pool.')\n}\n\nfunction promisify(Promise, callback) {\n  if (callback) {\n    return { callback: callback, result: undefined }\n  }\n  let rej\n  let res\n  const cb = function (err, client) {\n    err ? rej(err) : res(client)\n  }\n  const result = new Promise(function (resolve, reject) {\n    res = resolve\n    rej = reject\n  }).catch((err) => {\n    // replace the stack trace that leads to `TCP.onStreamRead` with one that leads back to the\n    // application that created the query\n    Error.captureStackTrace(err)\n    throw err\n  })\n  return { callback: cb, result: result }\n}\n\nfunction makeIdleListener(pool, client) {\n  return function idleListener(err) {\n    err.client = client\n\n    client.removeListener('error', idleListener)\n    client.on('error', () => {\n      pool.log('additional client error after disconnection due to error', err)\n    })\n    pool._remove(client)\n    // TODO - document that once the pool emits an error\n    // the client has already been closed & purged and is unusable\n    pool.emit('error', err, client)\n  }\n}\n\nclass Pool extends EventEmitter {\n  constructor(options, Client) {\n    super()\n    this.options = Object.assign({}, options)\n\n    if (options != null && 'password' in options) {\n      // \"hiding\" the password so it doesn't show up in stack traces\n      // or if the client is console.logged\n      Object.defineProperty(this.options, 'password', {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: options.password,\n      })\n    }\n    if (options != null && options.ssl && options.ssl.key) {\n      // \"hiding\" the ssl->key so it doesn't show up in stack traces\n      // or if the client is console.logged\n      Object.defineProperty(this.options.ssl, 'key', {\n        enumerable: false,\n      })\n    }\n\n    this.options.max = this.options.max || this.options.poolSize || 10\n    this.options.min = this.options.min || 0\n    this.options.maxUses = this.options.maxUses || Infinity\n    this.options.allowExitOnIdle = this.options.allowExitOnIdle || false\n    this.options.maxLifetimeSeconds = this.options.maxLifetimeSeconds || 0\n    this.log = this.options.log || function () {}\n    this.Client = this.options.Client || Client || require('pg').Client\n    this.Promise = this.options.Promise || global.Promise\n\n    if (typeof this.options.idleTimeoutMillis === 'undefined') {\n      this.options.idleTimeoutMillis = 10000\n    }\n\n    this._clients = []\n    this._idle = []\n    this._expired = new WeakSet()\n    this._pendingQueue = []\n    this._endCallback = undefined\n    this.ending = false\n    this.ended = false\n  }\n\n  _isFull() {\n    return this._clients.length >= this.options.max\n  }\n\n  _isAboveMin() {\n    return this._clients.length > this.options.min\n  }\n\n  _pulseQueue() {\n    this.log('pulse queue')\n    if (this.ended) {\n      this.log('pulse queue ended')\n      return\n    }\n    if (this.ending) {\n      this.log('pulse queue on ending')\n      if (this._idle.length) {\n        this._idle.slice().map((item) => {\n          this._remove(item.client)\n        })\n      }\n      if (!this._clients.length) {\n        this.ended = true\n        this._endCallback()\n      }\n      return\n    }\n\n    // if we don't have any waiting, do nothing\n    if (!this._pendingQueue.length) {\n      this.log('no queued requests')\n      return\n    }\n    // if we don't have any idle clients and we have no more room do nothing\n    if (!this._idle.length && this._isFull()) {\n      return\n    }\n    const pendingItem = this._pendingQueue.shift()\n    if (this._idle.length) {\n      const idleItem = this._idle.pop()\n      clearTimeout(idleItem.timeoutId)\n      const client = idleItem.client\n      client.ref && client.ref()\n      const idleListener = idleItem.idleListener\n\n      return this._acquireClient(client, pendingItem, idleListener, false)\n    }\n    if (!this._isFull()) {\n      return this.newClient(pendingItem)\n    }\n    throw new Error('unexpected condition')\n  }\n\n  _remove(client, callback) {\n    const removed = removeWhere(this._idle, (item) => item.client === client)\n\n    if (removed !== undefined) {\n      clearTimeout(removed.timeoutId)\n    }\n\n    this._clients = this._clients.filter((c) => c !== client)\n    const context = this\n    client.end(() => {\n      context.emit('remove', client)\n\n      if (typeof callback === 'function') {\n        callback()\n      }\n    })\n  }\n\n  connect(cb) {\n    if (this.ending) {\n      const err = new Error('Cannot use a pool after calling end on the pool')\n      return cb ? cb(err) : this.Promise.reject(err)\n    }\n\n    const response = promisify(this.Promise, cb)\n    const result = response.result\n\n    // if we don't have to connect a new client, don't do so\n    if (this._isFull() || this._idle.length) {\n      // if we have idle clients schedule a pulse immediately\n      if (this._idle.length) {\n        process.nextTick(() => this._pulseQueue())\n      }\n\n      if (!this.options.connectionTimeoutMillis) {\n        this._pendingQueue.push(new PendingItem(response.callback))\n        return result\n      }\n\n      const queueCallback = (err, res, done) => {\n        clearTimeout(tid)\n        response.callback(err, res, done)\n      }\n\n      const pendingItem = new PendingItem(queueCallback)\n\n      // set connection timeout on checking out an existing client\n      const tid = setTimeout(() => {\n        // remove the callback from pending waiters because\n        // we're going to call it with a timeout error\n        removeWhere(this._pendingQueue, (i) => i.callback === queueCallback)\n        pendingItem.timedOut = true\n        response.callback(new Error('timeout exceeded when trying to connect'))\n      }, this.options.connectionTimeoutMillis)\n\n      if (tid.unref) {\n        tid.unref()\n      }\n\n      this._pendingQueue.push(pendingItem)\n      return result\n    }\n\n    this.newClient(new PendingItem(response.callback))\n\n    return result\n  }\n\n  newClient(pendingItem) {\n    const client = new this.Client(this.options)\n    this._clients.push(client)\n    const idleListener = makeIdleListener(this, client)\n\n    this.log('checking client timeout')\n\n    // connection timeout logic\n    let tid\n    let timeoutHit = false\n    if (this.options.connectionTimeoutMillis) {\n      tid = setTimeout(() => {\n        this.log('ending client due to timeout')\n        timeoutHit = true\n        // force kill the node driver, and let libpq do its teardown\n        client.connection ? client.connection.stream.destroy() : client.end()\n      }, this.options.connectionTimeoutMillis)\n    }\n\n    this.log('connecting new client')\n    client.connect((err) => {\n      if (tid) {\n        clearTimeout(tid)\n      }\n      client.on('error', idleListener)\n      if (err) {\n        this.log('client failed to connect', err)\n        // remove the dead client from our list of clients\n        this._clients = this._clients.filter((c) => c !== client)\n        if (timeoutHit) {\n          err = new Error('Connection terminated due to connection timeout', { cause: err })\n        }\n\n        // this client won\u2019t be released, so move on immediately\n        this._pulseQueue()\n\n        if (!pendingItem.timedOut) {\n          pendingItem.callback(err, undefined, NOOP)\n        }\n      } else {\n        this.log('new client connected')\n\n        if (this.options.maxLifetimeSeconds !== 0) {\n          const maxLifetimeTimeout = setTimeout(() => {\n            this.log('ending client due to expired lifetime')\n            this._expired.add(client)\n            const idleIndex = this._idle.findIndex((idleItem) => idleItem.client === client)\n            if (idleIndex !== -1) {\n              this._acquireClient(\n                client,\n                new PendingItem((err, client, clientRelease) => clientRelease()),\n                idleListener,\n                false\n              )\n            }\n          }, this.options.maxLifetimeSeconds * 1000)\n\n          maxLifetimeTimeout.unref()\n          client.once('end', () => clearTimeout(maxLifetimeTimeout))\n        }\n\n        return this._acquireClient(client, pendingItem, idleListener, true)\n      }\n    })\n  }\n\n  // acquire a client for a pending work item\n  _acquireClient(client, pendingItem, idleListener, isNew) {\n    if (isNew) {\n      this.emit('connect', client)\n    }\n\n    this.emit('acquire', client)\n\n    client.release = this._releaseOnce(client, idleListener)\n\n    client.removeListener('error', idleListener)\n\n    if (!pendingItem.timedOut) {\n      if (isNew && this.options.verify) {\n        this.options.verify(client, (err) => {\n          if (err) {\n            client.release(err)\n            return pendingItem.callback(err, undefined, NOOP)\n          }\n\n          pendingItem.callback(undefined, client, client.release)\n        })\n      } else {\n        pendingItem.callback(undefined, client, client.release)\n      }\n    } else {\n      if (isNew && this.options.verify) {\n        this.options.verify(client, client.release)\n      } else {\n        client.release()\n      }\n    }\n  }\n\n  // returns a function that wraps _release and throws if called more than once\n  _releaseOnce(client, idleListener) {\n    let released = false\n\n    return (err) => {\n      if (released) {\n        throwOnDoubleRelease()\n      }\n\n      released = true\n      this._release(client, idleListener, err)\n    }\n  }\n\n  // release a client back to the poll, include an error\n  // to remove it from the pool\n  _release(client, idleListener, err) {\n    client.on('error', idleListener)\n\n    client._poolUseCount = (client._poolUseCount || 0) + 1\n\n    this.emit('release', err, client)\n\n    // TODO(bmc): expose a proper, public interface _queryable and _ending\n    if (err || this.ending || !client._queryable || client._ending || client._poolUseCount >= this.options.maxUses) {\n      if (client._poolUseCount >= this.options.maxUses) {\n        this.log('remove expended client')\n      }\n\n      return this._remove(client, this._pulseQueue.bind(this))\n    }\n\n    const isExpired = this._expired.has(client)\n    if (isExpired) {\n      this.log('remove expired client')\n      this._expired.delete(client)\n      return this._remove(client, this._pulseQueue.bind(this))\n    }\n\n    // idle timeout\n    let tid\n    if (this.options.idleTimeoutMillis && this._isAboveMin()) {\n      tid = setTimeout(() => {\n        this.log('remove idle client')\n        this._remove(client, this._pulseQueue.bind(this))\n      }, this.options.idleTimeoutMillis)\n\n      if (this.options.allowExitOnIdle) {\n        // allow Node to exit if this is all that's left\n        tid.unref()\n      }\n    }\n\n    if (this.options.allowExitOnIdle) {\n      client.unref()\n    }\n\n    this._idle.push(new IdleItem(client, idleListener, tid))\n    this._pulseQueue()\n  }\n\n  query(text, values, cb) {\n    // guard clause against passing a function as the first parameter\n    if (typeof text === 'function') {\n      const response = promisify(this.Promise, text)\n      setImmediate(function () {\n        return response.callback(new Error('Passing a function as the first parameter to pool.query is not supported'))\n      })\n      return response.result\n    }\n\n    // allow plain text query without values\n    if (typeof values === 'function') {\n      cb = values\n      values = undefined\n    }\n    const response = promisify(this.Promise, cb)\n    cb = response.callback\n\n    this.connect((err, client) => {\n      if (err) {\n        return cb(err)\n      }\n\n      let clientReleased = false\n      const onError = (err) => {\n        if (clientReleased) {\n          return\n        }\n        clientReleased = true\n        client.release(err)\n        cb(err)\n      }\n\n      client.once('error', onError)\n      this.log('dispatching query')\n      try {\n        client.query(text, values, (err, res) => {\n          this.log('query dispatched')\n          client.removeListener('error', onError)\n          if (clientReleased) {\n            return\n          }\n          clientReleased = true\n          client.release(err)\n          if (err) {\n            return cb(err)\n          }\n          return cb(undefined, res)\n        })\n      } catch (err) {\n        client.release(err)\n        return cb(err)\n      }\n    })\n    return response.result\n  }\n\n  end(cb) {\n    this.log('ending')\n    if (this.ending) {\n      const err = new Error('Called end on pool more than once')\n      return cb ? cb(err) : this.Promise.reject(err)\n    }\n    this.ending = true\n    const promised = promisify(this.Promise, cb)\n    this._endCallback = promised.callback\n    this._pulseQueue()\n    return promised.result\n  }\n\n  get waitingCount() {\n    return this._pendingQueue.length\n  }\n\n  get idleCount() {\n    return this._idle.length\n  }\n\n  get expiredCount() {\n    return this._clients.reduce((acc, client) => acc + (this._expired.has(client) ? 1 : 0), 0)\n  }\n\n  get totalCount() {\n    return this._clients.length\n  }\n}\nmodule.exports = Pool\n", "'use strict'\n\nconst EventEmitter = require('events').EventEmitter\nconst util = require('util')\nconst utils = require('../utils')\n\nconst NativeQuery = (module.exports = function (config, values, callback) {\n  EventEmitter.call(this)\n  config = utils.normalizeQueryConfig(config, values, callback)\n  this.text = config.text\n  this.values = config.values\n  this.name = config.name\n  this.queryMode = config.queryMode\n  this.callback = config.callback\n  this.state = 'new'\n  this._arrayMode = config.rowMode === 'array'\n\n  // if the 'row' event is listened for\n  // then emit them as they come in\n  // without setting singleRowMode to true\n  // this has almost no meaning because libpq\n  // reads all rows into memory before returning any\n  this._emitRowEvents = false\n  this.on(\n    'newListener',\n    function (event) {\n      if (event === 'row') this._emitRowEvents = true\n    }.bind(this)\n  )\n})\n\nutil.inherits(NativeQuery, EventEmitter)\n\nconst errorFieldMap = {\n  sqlState: 'code',\n  statementPosition: 'position',\n  messagePrimary: 'message',\n  context: 'where',\n  schemaName: 'schema',\n  tableName: 'table',\n  columnName: 'column',\n  dataTypeName: 'dataType',\n  constraintName: 'constraint',\n  sourceFile: 'file',\n  sourceLine: 'line',\n  sourceFunction: 'routine',\n}\n\nNativeQuery.prototype.handleError = function (err) {\n  // copy pq error fields into the error object\n  const fields = this.native.pq.resultErrorFields()\n  if (fields) {\n    for (const key in fields) {\n      const normalizedFieldName = errorFieldMap[key] || key\n      err[normalizedFieldName] = fields[key]\n    }\n  }\n  if (this.callback) {\n    this.callback(err)\n  } else {\n    this.emit('error', err)\n  }\n  this.state = 'error'\n}\n\nNativeQuery.prototype.then = function (onSuccess, onFailure) {\n  return this._getPromise().then(onSuccess, onFailure)\n}\n\nNativeQuery.prototype.catch = function (callback) {\n  return this._getPromise().catch(callback)\n}\n\nNativeQuery.prototype._getPromise = function () {\n  if (this._promise) return this._promise\n  this._promise = new Promise(\n    function (resolve, reject) {\n      this._once('end', resolve)\n      this._once('error', reject)\n    }.bind(this)\n  )\n  return this._promise\n}\n\nNativeQuery.prototype.submit = function (client) {\n  this.state = 'running'\n  const self = this\n  this.native = client.native\n  client.native.arrayMode = this._arrayMode\n\n  let after = function (err, rows, results) {\n    client.native.arrayMode = false\n    setImmediate(function () {\n      self.emit('_done')\n    })\n\n    // handle possible query error\n    if (err) {\n      return self.handleError(err)\n    }\n\n    // emit row events for each row in the result\n    if (self._emitRowEvents) {\n      if (results.length > 1) {\n        rows.forEach((rowOfRows, i) => {\n          rowOfRows.forEach((row) => {\n            self.emit('row', row, results[i])\n          })\n        })\n      } else {\n        rows.forEach(function (row) {\n          self.emit('row', row, results)\n        })\n      }\n    }\n\n    // handle successful result\n    self.state = 'end'\n    self.emit('end', results)\n    if (self.callback) {\n      self.callback(null, results)\n    }\n  }\n\n  if (process.domain) {\n    after = process.domain.bind(after)\n  }\n\n  // named query\n  if (this.name) {\n    if (this.name.length > 63) {\n      console.error('Warning! Postgres only supports 63 characters for query names.')\n      console.error('You supplied %s (%s)', this.name, this.name.length)\n      console.error('This can cause conflicts and silent errors executing queries')\n    }\n    const values = (this.values || []).map(utils.prepareValue)\n\n    // check if the client has already executed this named query\n    // if so...just execute it again - skip the planning phase\n    if (client.namedQueries[this.name]) {\n      if (this.text && client.namedQueries[this.name] !== this.text) {\n        const err = new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`)\n        return after(err)\n      }\n      return client.native.execute(this.name, values, after)\n    }\n    // plan the named query the first time, then execute it\n    return client.native.prepare(this.name, this.text, values.length, function (err) {\n      if (err) return after(err)\n      client.namedQueries[self.name] = self.text\n      return self.native.execute(self.name, values, after)\n    })\n  } else if (this.values) {\n    if (!Array.isArray(this.values)) {\n      const err = new Error('Query values must be an array')\n      return after(err)\n    }\n    const vals = this.values.map(utils.prepareValue)\n    client.native.query(this.text, vals, after)\n  } else if (this.queryMode === 'extended') {\n    client.native.query(this.text, [], after)\n  } else {\n    client.native.query(this.text, after)\n  }\n}\n", "'use strict'\n\n// eslint-disable-next-line\nvar Native\n// eslint-disable-next-line no-useless-catch\ntry {\n  // Wrap this `require()` in a try-catch to avoid upstream bundlers from complaining that this might not be available since it is an optional import\n  Native = require('pg-native')\n} catch (e) {\n  throw e\n}\nconst TypeOverrides = require('../type-overrides')\nconst EventEmitter = require('events').EventEmitter\nconst util = require('util')\nconst ConnectionParameters = require('../connection-parameters')\n\nconst NativeQuery = require('./query')\n\nconst Client = (module.exports = function (config) {\n  EventEmitter.call(this)\n  config = config || {}\n\n  this._Promise = config.Promise || global.Promise\n  this._types = new TypeOverrides(config.types)\n\n  this.native = new Native({\n    types: this._types,\n  })\n\n  this._queryQueue = []\n  this._ending = false\n  this._connecting = false\n  this._connected = false\n  this._queryable = true\n\n  // keep these on the object for legacy reasons\n  // for the time being. TODO: deprecate all this jazz\n  const cp = (this.connectionParameters = new ConnectionParameters(config))\n  if (config.nativeConnectionString) cp.nativeConnectionString = config.nativeConnectionString\n  this.user = cp.user\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: cp.password,\n  })\n  this.database = cp.database\n  this.host = cp.host\n  this.port = cp.port\n\n  // a hash to hold named queries\n  this.namedQueries = {}\n})\n\nClient.Query = NativeQuery\n\nutil.inherits(Client, EventEmitter)\n\nClient.prototype._errorAllQueries = function (err) {\n  const enqueueError = (query) => {\n    process.nextTick(() => {\n      query.native = this.native\n      query.handleError(err)\n    })\n  }\n\n  if (this._hasActiveQuery()) {\n    enqueueError(this._activeQuery)\n    this._activeQuery = null\n  }\n\n  this._queryQueue.forEach(enqueueError)\n  this._queryQueue.length = 0\n}\n\n// connect to the backend\n// pass an optional callback to be called once connected\n// or with an error if there was a connection error\nClient.prototype._connect = function (cb) {\n  const self = this\n\n  if (this._connecting) {\n    process.nextTick(() => cb(new Error('Client has already been connected. You cannot reuse a client.')))\n    return\n  }\n\n  this._connecting = true\n\n  this.connectionParameters.getLibpqConnectionString(function (err, conString) {\n    if (self.connectionParameters.nativeConnectionString) conString = self.connectionParameters.nativeConnectionString\n    if (err) return cb(err)\n    self.native.connect(conString, function (err) {\n      if (err) {\n        self.native.end()\n        return cb(err)\n      }\n\n      // set internal states to connected\n      self._connected = true\n\n      // handle connection errors from the native layer\n      self.native.on('error', function (err) {\n        self._queryable = false\n        self._errorAllQueries(err)\n        self.emit('error', err)\n      })\n\n      self.native.on('notification', function (msg) {\n        self.emit('notification', {\n          channel: msg.relname,\n          payload: msg.extra,\n        })\n      })\n\n      // signal we are connected now\n      self.emit('connect')\n      self._pulseQueryQueue(true)\n\n      cb()\n    })\n  })\n}\n\nClient.prototype.connect = function (callback) {\n  if (callback) {\n    this._connect(callback)\n    return\n  }\n\n  return new this._Promise((resolve, reject) => {\n    this._connect((error) => {\n      if (error) {\n        reject(error)\n      } else {\n        resolve()\n      }\n    })\n  })\n}\n\n// send a query to the server\n// this method is highly overloaded to take\n// 1) string query, optional array of parameters, optional function callback\n// 2) object query with {\n//    string query\n//    optional array values,\n//    optional function callback instead of as a separate parameter\n//    optional string name to name & cache the query plan\n//    optional string rowMode = 'array' for an array of results\n//  }\nClient.prototype.query = function (config, values, callback) {\n  let query\n  let result\n  let readTimeout\n  let readTimeoutTimer\n  let queryCallback\n\n  if (config === null || config === undefined) {\n    throw new TypeError('Client was passed a null or undefined query')\n  } else if (typeof config.submit === 'function') {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    result = query = config\n    // accept query(new Query(...), (err, res) => { }) style\n    if (typeof values === 'function') {\n      config.callback = values\n    }\n  } else {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    query = new NativeQuery(config, values, callback)\n    if (!query.callback) {\n      let resolveOut, rejectOut\n      result = new this._Promise((resolve, reject) => {\n        resolveOut = resolve\n        rejectOut = reject\n      }).catch((err) => {\n        Error.captureStackTrace(err)\n        throw err\n      })\n      query.callback = (err, res) => (err ? rejectOut(err) : resolveOut(res))\n    }\n  }\n\n  if (readTimeout) {\n    queryCallback = query.callback\n\n    readTimeoutTimer = setTimeout(() => {\n      const error = new Error('Query read timeout')\n\n      process.nextTick(() => {\n        query.handleError(error, this.connection)\n      })\n\n      queryCallback(error)\n\n      // we already returned an error,\n      // just do nothing if query completes\n      query.callback = () => {}\n\n      // Remove from queue\n      const index = this._queryQueue.indexOf(query)\n      if (index > -1) {\n        this._queryQueue.splice(index, 1)\n      }\n\n      this._pulseQueryQueue()\n    }, readTimeout)\n\n    query.callback = (err, res) => {\n      clearTimeout(readTimeoutTimer)\n      queryCallback(err, res)\n    }\n  }\n\n  if (!this._queryable) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client has encountered a connection error and is not queryable'))\n    })\n    return result\n  }\n\n  if (this._ending) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client was closed and is not queryable'))\n    })\n    return result\n  }\n\n  this._queryQueue.push(query)\n  this._pulseQueryQueue()\n  return result\n}\n\n// disconnect from the backend server\nClient.prototype.end = function (cb) {\n  const self = this\n\n  this._ending = true\n\n  if (!this._connected) {\n    this.once('connect', this.end.bind(this, cb))\n  }\n  let result\n  if (!cb) {\n    result = new this._Promise(function (resolve, reject) {\n      cb = (err) => (err ? reject(err) : resolve())\n    })\n  }\n  this.native.end(function () {\n    self._errorAllQueries(new Error('Connection terminated'))\n\n    process.nextTick(() => {\n      self.emit('end')\n      if (cb) cb()\n    })\n  })\n  return result\n}\n\nClient.prototype._hasActiveQuery = function () {\n  return this._activeQuery && this._activeQuery.state !== 'error' && this._activeQuery.state !== 'end'\n}\n\nClient.prototype._pulseQueryQueue = function (initialConnection) {\n  if (!this._connected) {\n    return\n  }\n  if (this._hasActiveQuery()) {\n    return\n  }\n  const query = this._queryQueue.shift()\n  if (!query) {\n    if (!initialConnection) {\n      this.emit('drain')\n    }\n    return\n  }\n  this._activeQuery = query\n  query.submit(this)\n  const self = this\n  query.once('_done', function () {\n    self._pulseQueryQueue()\n  })\n}\n\n// attempt to cancel an in-progress query\nClient.prototype.cancel = function (query) {\n  if (this._activeQuery === query) {\n    this.native.cancel(function () {})\n  } else if (this._queryQueue.indexOf(query) !== -1) {\n    this._queryQueue.splice(this._queryQueue.indexOf(query), 1)\n  }\n}\n\nClient.prototype.ref = function () {}\nClient.prototype.unref = function () {}\n\nClient.prototype.setTypeParser = function (oid, format, parseFn) {\n  return this._types.setTypeParser(oid, format, parseFn)\n}\n\nClient.prototype.getTypeParser = function (oid, format) {\n  return this._types.getTypeParser(oid, format)\n}\n", "'use strict'\nmodule.exports = require('./client')\n", "'use strict'\n\nconst Client = require('./client')\nconst defaults = require('./defaults')\nconst Connection = require('./connection')\nconst Result = require('./result')\nconst utils = require('./utils')\nconst Pool = require('pg-pool')\nconst TypeOverrides = require('./type-overrides')\nconst { DatabaseError } = require('pg-protocol')\nconst { escapeIdentifier, escapeLiteral } = require('./utils')\n\nconst poolFactory = (Client) => {\n  return class BoundPool extends Pool {\n    constructor(options) {\n      super(options, Client)\n    }\n  }\n}\n\nconst PG = function (clientConstructor) {\n  this.defaults = defaults\n  this.Client = clientConstructor\n  this.Query = this.Client.Query\n  this.Pool = poolFactory(this.Client)\n  this._pools = []\n  this.Connection = Connection\n  this.types = require('pg-types')\n  this.DatabaseError = DatabaseError\n  this.TypeOverrides = TypeOverrides\n  this.escapeIdentifier = escapeIdentifier\n  this.escapeLiteral = escapeLiteral\n  this.Result = Result\n  this.utils = utils\n}\n\nif (typeof process.env.NODE_PG_FORCE_NATIVE !== 'undefined') {\n  module.exports = new PG(require('./native'))\n} else {\n  module.exports = new PG(Client)\n\n  // lazy require native module...the native module may not have installed\n  Object.defineProperty(module.exports, 'native', {\n    configurable: true,\n    enumerable: false,\n    get() {\n      let native = null\n      try {\n        native = new PG(require('./native'))\n      } catch (err) {\n        if (err.code !== 'MODULE_NOT_FOUND') {\n          throw err\n        }\n      }\n\n      // overwrite module.exports.native so that getter is never called again\n      Object.defineProperty(module.exports, 'native', {\n        value: native,\n      })\n\n      return native\n    },\n  })\n}\n", "import { APIGatewayProxyEvent, APIGatewayProxyResult, Context } from 'aws-lambda';\r\nimport { EventBridgeClient, PutEventsCommand } from '@aws-sdk/client-eventbridge';\r\nimport { withSimpleErrorHandling } from '../shared/error-handler';\r\nimport { Logger } from '../shared/logger';\r\nimport { query, getPool } from '../shared/database';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { z } from 'zod';\r\nimport { createWhatsAppMCPServer } from '../../mcp-integrations/servers/whatsapp';\r\nimport { \r\n  validateConsent, \r\n  detectDescadastroKeywords, \r\n  handleDescadastro as lgpdHandleDescadastro \r\n} from '../shared/lgpd-compliance';\r\n\r\n// Use AWS SDK v2 for Lambda and Bedrock (v3 not available in dependencies)\r\nconst AWS = require('aws-sdk');\r\nconst lambda = new AWS.Lambda();\r\nconst bedrockRuntime = new AWS.BedrockRuntime({ region: process.env.AWS_REGION || 'us-east-1' });\r\n\r\n// Initialize AWS clients\r\nconst eventBridgeClient = new EventBridgeClient({});\r\nconst EVENT_BUS_NAME = process.env.EVENT_BUS_NAME || 'fibonacci-bus-dev';\r\nconst SENTIMENT_LAMBDA_ARN = process.env.SENTIMENT_LAMBDA_ARN || '';\r\n\r\n// Initialize WhatsApp MCP Server\r\nconst whatsappServer = createWhatsAppMCPServer({\r\n  timeout: 30000,\r\n  maxRetries: 3\r\n});\r\n\r\n/**\r\n * Webhook payload schema validation\r\n */\r\nconst WebhookPayloadSchema = z.object({\r\n  from: z.string().min(1, 'From is required'), // Phone number or email\r\n  message: z.string().min(1, 'Message is required'),\r\n  channel: z.enum(['whatsapp', 'email']),\r\n  messageId: z.string().optional(),\r\n  timestamp: z.string().optional(),\r\n  metadata: z.record(z.any()).optional()\r\n});\r\n\r\ntype WebhookPayload = z.infer<typeof WebhookPayloadSchema>;\r\n\r\n/**\r\n * Lead data from database\r\n */\r\ninterface Lead {\r\n  id: string;\r\n  tenantId: string;\r\n  empresa: string;\r\n  contato: string;\r\n  telefone?: string;\r\n  email?: string;\r\n  status: string;\r\n  segmento?: string;\r\n  metadata: Record<string, any>;\r\n}\r\n\r\n/**\r\n * Interaction history\r\n */\r\ninterface Interacao {\r\n  id: string;\r\n  leadId: string;\r\n  tipo: 'enviado' | 'recebido';\r\n  canal: string;\r\n  mensagem: string;\r\n  sentimento?: string;\r\n  intensidade?: number;\r\n  createdAt: Date;\r\n  metadata: Record<string, any>;\r\n}\r\n\r\n/**\r\n * Sentiment analysis result\r\n */\r\ninterface SentimentResult {\r\n  sentiment: 'positivo' | 'neutro' | 'negativo' | 'irritado';\r\n  score: number; // 0-100\r\n  shouldBlock: boolean;\r\n  blockReason?: string;\r\n}\r\n\r\n/**\r\n * LLM response generation result\r\n */\r\ninterface LLMResponse {\r\n  message: string;\r\n  tone: string;\r\n  nextAction: 'agendamento' | 'nutricao' | 'descarte' | 'escalate_human';\r\n  confidence: number;\r\n}\r\n\r\n/**\r\n * Agente de Atendimento - Nigredo\r\n * \r\n * Respons\u00E1vel por:\r\n * - Receber webhook do WhatsApp/Email\r\n * - Identificar lead no banco de dados\r\n * - Consultar hist\u00F3rico de intera\u00E7\u00F5es\r\n * - Chamar Agente de An\u00E1lise de Sentimento (invoca\u00E7\u00E3o s\u00EDncrona)\r\n * - Receber classifica\u00E7\u00E3o emocional (positivo, neutro, negativo, irritado)\r\n * - Ajustar tom da resposta baseado no sentimento\r\n * - Usar LLM (Bedrock ou similar) para gerar resposta\r\n * - Aplicar prompt template com contexto do lead\r\n * - Validar resposta contra pol\u00EDticas de marca\r\n * - Enviar resposta via MCP whatsapp\r\n * - Atualizar hist\u00F3rico de intera\u00E7\u00F5es\r\n * - Decidir pr\u00F3ximo passo (agendamento, nutri\u00E7\u00E3o, descarte)\r\n * - Publicar evento apropriado\r\n * \r\n * Requirements: 11.6, 11.7\r\n */\r\nexport const handler = withSimpleErrorHandling(\r\n  async (event: APIGatewayProxyEvent, context: Context, logger: Logger): Promise<APIGatewayProxyResult> => {\r\n    const traceId = uuidv4();\r\n    logger.setTraceId(traceId);\r\n\r\n    logger.info('Agente de Atendimento iniciado', {\r\n      functionName: context.functionName\r\n    });\r\n\r\n    try {\r\n      // Step 1: Parse and validate webhook payload\r\n      const payload = parseWebhookPayload(event, logger);\r\n\r\n      logger.info('Webhook recebido', {\r\n        from: payload.from,\r\n        channel: payload.channel,\r\n        messageLength: payload.message.length\r\n      });\r\n\r\n      // Step 2: Identify lead in database\r\n      const lead = await identificarLead(payload, logger);\r\n\r\n      if (!lead) {\r\n        logger.warn('Lead n\u00E3o encontrado', {\r\n          from: payload.from,\r\n          channel: payload.channel\r\n        });\r\n\r\n        return {\r\n          statusCode: 404,\r\n          body: JSON.stringify({\r\n            message: 'Lead not found',\r\n            traceId\r\n          })\r\n        };\r\n      }\r\n\r\n      // Update logger context with lead and tenant information\r\n      logger.updateContext({ \r\n        leadId: lead.id,\r\n        tenantId: lead.tenantId \r\n      });\r\n\r\n      logger.info('Lead identificado', {\r\n        empresa: lead.empresa\r\n      });\r\n\r\n      // LGPD: Validate consent before processing\r\n      const db = await getPool();\r\n      const hasConsent = await validateConsent(db, lead.id);\r\n      \r\n      if (!hasConsent) {\r\n        logger.warn('Lead sem consentimento LGPD', {\r\n          leadId: lead.id,\r\n          empresa: lead.empresa\r\n        });\r\n\r\n        // Send message requesting consent\r\n        const consentMessage = `Ol\u00E1! Para continuar nossa conversa, precisamos do seu consentimento para processar seus dados conforme a LGPD. Voc\u00EA autoriza? Responda SIM para continuar.`;\r\n        \r\n        if (lead.telefone && payload.channel === 'whatsapp') {\r\n          await whatsappServer.sendMessage({\r\n            to: lead.telefone,\r\n            message: consentMessage,\r\n            idempotencyKey: `consent-request-${lead.id}-${Date.now()}`\r\n          });\r\n        }\r\n\r\n        return {\r\n          statusCode: 200,\r\n          body: JSON.stringify({\r\n            message: 'Consent required',\r\n            leadId: lead.id,\r\n            traceId\r\n          })\r\n        };\r\n      }\r\n\r\n      // Step 3: Fetch interaction history\r\n      const historico = await consultarHistorico(lead.id, logger);\r\n\r\n      logger.info('Hist\u00F3rico consultado', {\r\n        interactionCount: historico.length\r\n      });\r\n\r\n      // Step 4: Register incoming message\r\n      await registrarInteracao(\r\n        lead.id,\r\n        'recebido',\r\n        payload.channel,\r\n        payload.message,\r\n        null,\r\n        null,\r\n        traceId,\r\n        logger,\r\n        payload.metadata\r\n      );\r\n\r\n      // Step 5: Analyze sentiment\r\n      const sentimentResult = await analisarSentimento(payload.message, logger, traceId);\r\n\r\n      logger.info('Sentimento analisado', {\r\n        leadId: lead.id,\r\n        sentiment: sentimentResult.sentiment,\r\n        score: sentimentResult.score,\r\n        shouldBlock: sentimentResult.shouldBlock,\r\n        traceId\r\n      });\r\n\r\n      // Step 6: Handle descadastro if detected\r\n      if (sentimentResult.shouldBlock) {\r\n        await handleDescadastro(lead, sentimentResult.blockReason || 'Descadastro solicitado', logger, traceId);\r\n\r\n        return {\r\n          statusCode: 200,\r\n          body: JSON.stringify({\r\n            message: 'Descadastro processed',\r\n            leadId: lead.id,\r\n            traceId\r\n          })\r\n        };\r\n      }\r\n\r\n      // Step 7: Generate response using LLM\r\n      const llmResponse = await gerarResposta(\r\n        lead,\r\n        historico,\r\n        payload.message,\r\n        sentimentResult,\r\n        logger,\r\n        traceId\r\n      );\r\n\r\n      logger.info('Resposta gerada', {\r\n        leadId: lead.id,\r\n        tone: llmResponse.tone,\r\n        nextAction: llmResponse.nextAction,\r\n        confidence: llmResponse.confidence,\r\n        traceId\r\n      });\r\n\r\n      // Step 8: Validate response against brand policies\r\n      const validatedResponse = validarResposta(llmResponse.message, logger);\r\n\r\n      // Step 9: Send response via MCP\r\n      await enviarResposta(\r\n        lead,\r\n        validatedResponse,\r\n        payload.channel,\r\n        logger,\r\n        traceId\r\n      );\r\n\r\n      // Step 10: Register outgoing message\r\n      await registrarInteracao(\r\n        lead.id,\r\n        'enviado',\r\n        payload.channel,\r\n        validatedResponse,\r\n        sentimentResult.sentiment,\r\n        sentimentResult.score,\r\n        traceId,\r\n        logger,\r\n        {\r\n          tone: llmResponse.tone,\r\n          nextAction: llmResponse.nextAction,\r\n          confidence: llmResponse.confidence\r\n        }\r\n      );\r\n\r\n      // Step 11: Update lead status\r\n      await atualizarStatusLead(lead.id, sentimentResult, llmResponse, logger);\r\n\r\n      // Step 12: Publish appropriate event based on next action\r\n      await publicarEvento(lead, llmResponse, sentimentResult, traceId, logger);\r\n\r\n      logger.info('Agente de Atendimento conclu\u00EDdo', {\r\n        leadId: lead.id,\r\n        nextAction: llmResponse.nextAction,\r\n        traceId\r\n      });\r\n\r\n      return {\r\n        statusCode: 200,\r\n        body: JSON.stringify({\r\n          message: 'Message processed successfully',\r\n          leadId: lead.id,\r\n          nextAction: llmResponse.nextAction,\r\n          traceId\r\n        })\r\n      };\r\n\r\n    } catch (error) {\r\n      logger.error('Erro ao processar webhook', error as Error, {\r\n        traceId\r\n      });\r\n\r\n      return {\r\n        statusCode: 500,\r\n        body: JSON.stringify({\r\n          message: 'Internal server error',\r\n          error: (error as Error).message,\r\n          traceId\r\n        })\r\n      };\r\n    }\r\n  }\r\n);\r\n\r\n/**\r\n * Parse and validate webhook payload\r\n */\r\nfunction parseWebhookPayload(event: APIGatewayProxyEvent, logger: Logger): WebhookPayload {\r\n  logger.debug('Parsing webhook payload');\r\n\r\n  if (!event.body) {\r\n    throw new Error('Missing request body');\r\n  }\r\n\r\n  const body = JSON.parse(event.body);\r\n\r\n  // Validate schema\r\n  const validationResult = WebhookPayloadSchema.safeParse(body);\r\n\r\n  if (!validationResult.success) {\r\n    logger.error('Invalid webhook payload', new Error('Validation failed'), {\r\n      errors: validationResult.error.errors\r\n    });\r\n    throw new Error(`Invalid payload: ${validationResult.error.errors.map(e => e.message).join(', ')}`);\r\n  }\r\n\r\n  return validationResult.data;\r\n}\r\n\r\n/**\r\n * Identify lead in database by phone or email\r\n */\r\nasync function identificarLead(\r\n  payload: WebhookPayload,\r\n  logger: Logger\r\n): Promise<Lead | null> {\r\n  logger.debug('Identificando lead', {\r\n    from: payload.from,\r\n    channel: payload.channel\r\n  });\r\n\r\n  try {\r\n    let result;\r\n\r\n    if (payload.channel === 'whatsapp') {\r\n      // Search by phone number\r\n      result = await query(\r\n        `SELECT \r\n          id, tenant_id, empresa, contato, telefone, email, status, segmento, metadata\r\n        FROM nigredo_leads.leads\r\n        WHERE telefone = $1\r\n        ORDER BY updated_at DESC\r\n        LIMIT 1`,\r\n        [payload.from]\r\n      );\r\n    } else {\r\n      // Search by email\r\n      result = await query(\r\n        `SELECT \r\n          id, tenant_id, empresa, contato, telefone, email, status, segmento, metadata\r\n        FROM nigredo_leads.leads\r\n        WHERE email = $1\r\n        ORDER BY updated_at DESC\r\n        LIMIT 1`,\r\n        [payload.from]\r\n      );\r\n    }\r\n\r\n    if (result.rows.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    const row = result.rows[0];\r\n\r\n    return {\r\n      id: row.id,\r\n      tenantId: row.tenant_id,\r\n      empresa: row.empresa,\r\n      contato: row.contato,\r\n      telefone: row.telefone,\r\n      email: row.email,\r\n      status: row.status,\r\n      segmento: row.segmento,\r\n      metadata: row.metadata || {}\r\n    };\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao identificar lead', error as Error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch interaction history for lead\r\n */\r\nasync function consultarHistorico(\r\n  leadId: string,\r\n  logger: Logger\r\n): Promise<Interacao[]> {\r\n  logger.debug('Consultando hist\u00F3rico de intera\u00E7\u00F5es', {\r\n    leadId\r\n  });\r\n\r\n  try {\r\n    const result = await query(\r\n      `SELECT \r\n        id, lead_id, tipo, canal, mensagem, sentimento, intensidade, created_at, metadata\r\n      FROM nigredo_leads.interacoes\r\n      WHERE lead_id = $1\r\n      ORDER BY created_at DESC\r\n      LIMIT 10`,\r\n      [leadId]\r\n    );\r\n\r\n    const historico: Interacao[] = result.rows.map(row => ({\r\n      id: row.id,\r\n      leadId: row.lead_id,\r\n      tipo: row.tipo,\r\n      canal: row.canal,\r\n      mensagem: row.mensagem,\r\n      sentimento: row.sentimento,\r\n      intensidade: row.intensidade,\r\n      createdAt: new Date(row.created_at),\r\n      metadata: row.metadata || {}\r\n    }));\r\n\r\n    logger.debug('Hist\u00F3rico consultado', {\r\n      leadId,\r\n      count: historico.length\r\n    });\r\n\r\n    return historico;\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao consultar hist\u00F3rico', error as Error, {\r\n      leadId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Analyze sentiment by invoking Sentiment Agent Lambda\r\n */\r\nasync function analisarSentimento(\r\n  message: string,\r\n  logger: Logger,\r\n  traceId: string\r\n): Promise<SentimentResult> {\r\n  logger.debug('Analisando sentimento', {\r\n    messageLength: message.length,\r\n    traceId\r\n  });\r\n\r\n  try {\r\n    // Invoke Sentiment Agent Lambda synchronously\r\n    const params = {\r\n      FunctionName: SENTIMENT_LAMBDA_ARN,\r\n      InvocationType: 'RequestResponse',\r\n      Payload: JSON.stringify({\r\n        text: message,\r\n        language: 'pt'\r\n      })\r\n    };\r\n\r\n    const response = await lambda.invoke(params).promise();\r\n\r\n    if (!response.Payload) {\r\n      throw new Error('Empty response from Sentiment Agent');\r\n    }\r\n\r\n    const payload = JSON.parse(response.Payload.toString());\r\n\r\n    // Map AWS Comprehend sentiment to our format\r\n    const sentimentMap: Record<string, 'positivo' | 'neutro' | 'negativo' | 'irritado'> = {\r\n      'POSITIVE': 'positivo',\r\n      'NEUTRAL': 'neutro',\r\n      'NEGATIVE': 'negativo',\r\n      'MIXED': 'negativo' // Treat mixed as negative for safety\r\n    };\r\n\r\n    // Determine if it's \"irritado\" based on negative score and keywords\r\n    let sentiment = sentimentMap[payload.sentiment] || 'neutro';\r\n    \r\n    if (sentiment === 'negativo' && payload.score > 80) {\r\n      sentiment = 'irritado';\r\n    }\r\n\r\n    const result: SentimentResult = {\r\n      sentiment,\r\n      score: payload.score,\r\n      shouldBlock: payload.shouldBlock || false,\r\n      blockReason: payload.blockReason\r\n    };\r\n\r\n    logger.debug('Sentimento analisado', {\r\n      sentiment: result.sentiment,\r\n      score: result.score,\r\n      shouldBlock: result.shouldBlock,\r\n      traceId\r\n    });\r\n\r\n    return result;\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao analisar sentimento', error as Error, {\r\n      traceId\r\n    });\r\n\r\n    // Return neutral sentiment on error to avoid blocking the flow\r\n    return {\r\n      sentiment: 'neutro',\r\n      score: 50,\r\n      shouldBlock: false\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Handle descadastro (LGPD compliance)\r\n * Uses the centralized LGPD compliance module\r\n */\r\nasync function handleDescadastro(\r\n  lead: Lead,\r\n  reason: string,\r\n  logger: Logger,\r\n  traceId: string\r\n): Promise<void> {\r\n  logger.info('Processando descadastro via LGPD module', {\r\n    leadId: lead.id,\r\n    reason,\r\n    traceId\r\n  });\r\n\r\n  try {\r\n    // Use the centralized LGPD compliance module\r\n    const db = await getPool();\r\n    const result = await lgpdHandleDescadastro(db, lead.id, reason);\r\n\r\n    if (!result.success) {\r\n      throw new Error(`Descadastro failed: ${result.message}`);\r\n    }\r\n\r\n    logger.info('Descadastro processado com sucesso', {\r\n      leadId: lead.id,\r\n      actionsPerformed: result.actionsPerformed,\r\n      traceId\r\n    });\r\n\r\n    // Send confirmation message\r\n    const confirmationMessage = result.message;\r\n    \r\n    if (lead.telefone) {\r\n      await whatsappServer.sendMessage({\r\n        to: lead.telefone,\r\n        message: confirmationMessage,\r\n        idempotencyKey: `descadastro-${lead.id}-${Date.now()}`\r\n      });\r\n    }\r\n\r\n    // Publish descadastro event\r\n    await eventBridgeClient.send(new PutEventsCommand({\r\n      Entries: [{\r\n        Source: 'nigredo.atendimento',\r\n        DetailType: 'atendimento.descadastro',\r\n        Detail: JSON.stringify({\r\n          leadId: lead.id,\r\n          tenantId: lead.tenantId,\r\n          reason,\r\n          actionsPerformed: result.actionsPerformed,\r\n          traceId,\r\n          timestamp: new Date().toISOString()\r\n        }),\r\n        EventBusName: EVENT_BUS_NAME\r\n      }]\r\n    }));\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao processar descadastro', error as Error, {\r\n      leadId: lead.id,\r\n      traceId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Generate response using LLM (Bedrock)\r\n */\r\nasync function gerarResposta(\r\n  lead: Lead,\r\n  historico: Interacao[],\r\n  mensagemLead: string,\r\n  sentimentResult: SentimentResult,\r\n  logger: Logger,\r\n  traceId: string\r\n): Promise<LLMResponse> {\r\n  logger.debug('Gerando resposta com LLM', {\r\n    leadId: lead.id,\r\n    sentiment: sentimentResult.sentiment,\r\n    traceId\r\n  });\r\n\r\n  try {\r\n    // Determine tone based on sentiment\r\n    const tone = determinarTom(sentimentResult.sentiment);\r\n\r\n    // Build prompt with context\r\n    const prompt = construirPrompt(lead, historico, mensagemLead, tone);\r\n\r\n    logger.debug('Prompt constru\u00EDdo', {\r\n      leadId: lead.id,\r\n      promptLength: prompt.length,\r\n      tone,\r\n      traceId\r\n    });\r\n\r\n    // Call Bedrock (using Claude 3 Haiku for cost optimization)\r\n    const modelId = 'anthropic.claude-3-haiku-20240307-v1:0';\r\n    \r\n    const requestBody = {\r\n      anthropic_version: 'bedrock-2023-05-31',\r\n      max_tokens: 500,\r\n      temperature: 0.7,\r\n      messages: [\r\n        {\r\n          role: 'user',\r\n          content: prompt\r\n        }\r\n      ]\r\n    };\r\n\r\n    const params = {\r\n      modelId,\r\n      contentType: 'application/json',\r\n      accept: 'application/json',\r\n      body: JSON.stringify(requestBody)\r\n    };\r\n\r\n    const response = await bedrockRuntime.invokeModel(params).promise();\r\n\r\n    if (!response.body) {\r\n      throw new Error('Empty response from Bedrock');\r\n    }\r\n\r\n    const responseBody = JSON.parse(response.body.toString());\r\n    const message = responseBody.content[0].text;\r\n\r\n    // Determine next action based on message content and sentiment\r\n    const nextAction = determinarProximoPasso(message, sentimentResult, historico);\r\n\r\n    // Calculate confidence based on sentiment score\r\n    const confidence = calculateConfidence(sentimentResult.score, historico.length);\r\n\r\n    logger.debug('Resposta gerada com sucesso', {\r\n      leadId: lead.id,\r\n      messageLength: message.length,\r\n      nextAction,\r\n      confidence,\r\n      traceId\r\n    });\r\n\r\n    return {\r\n      message,\r\n      tone,\r\n      nextAction,\r\n      confidence\r\n    };\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao gerar resposta com LLM', error as Error, {\r\n      leadId: lead.id,\r\n      traceId\r\n    });\r\n\r\n    // Fallback to template response\r\n    return {\r\n      message: gerarRespostaFallback(sentimentResult.sentiment),\r\n      tone: determinarTom(sentimentResult.sentiment),\r\n      nextAction: 'nutricao',\r\n      confidence: 50\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Determine tone based on sentiment\r\n */\r\nfunction determinarTom(sentiment: string): string {\r\n  const toneMap: Record<string, string> = {\r\n    'positivo': 'entusiasmado e proativo',\r\n    'neutro': 'profissional e informativo',\r\n    'negativo': 'emp\u00E1tico e compreensivo',\r\n    'irritado': 'calmo, respeitoso e conciliador'\r\n  };\r\n\r\n  return toneMap[sentiment] || 'profissional e informativo';\r\n}\r\n\r\n/**\r\n * Build LLM prompt with context\r\n */\r\nfunction construirPrompt(\r\n  lead: Lead,\r\n  historico: Interacao[],\r\n  mensagemLead: string,\r\n  tone: string\r\n): string {\r\n  // Build interaction history summary\r\n  const historicoTexto = historico\r\n    .slice(0, 5) // Last 5 interactions\r\n    .reverse() // Chronological order\r\n    .map(i => `${i.tipo === 'enviado' ? 'Voc\u00EA' : lead.contato}: ${i.mensagem}`)\r\n    .join('\\n');\r\n\r\n  const prompt = `Voc\u00EA \u00E9 um consultor comercial profissional representando uma empresa de tecnologia.\r\n\r\nCONTEXTO DO LEAD:\r\n- Empresa: ${lead.empresa}\r\n- Contato: ${lead.contato}\r\n- Segmento: ${lead.segmento || 'N\u00E3o especificado'}\r\n\r\nHIST\u00D3RICO DE CONVERSAS:\r\n${historicoTexto || 'Primeira intera\u00E7\u00E3o'}\r\n\r\n\u00DALTIMA MENSAGEM DO LEAD:\r\n\"${mensagemLead}\"\r\n\r\nINSTRU\u00C7\u00D5ES:\r\n1. Responda de forma ${tone}\r\n2. Mantenha postura profissional e consultiva\r\n3. N\u00C3O mencione que voc\u00EA \u00E9 um rob\u00F4 ou IA\r\n4. Foque em entender as necessidades do lead\r\n5. Seja conciso (m\u00E1ximo 3 par\u00E1grafos)\r\n6. Use linguagem natural e brasileira\r\n7. Se o lead demonstrar interesse, sugira agendar uma conversa\r\n8. Se o lead tiver obje\u00E7\u00F5es, seja emp\u00E1tico e ofere\u00E7a valor\r\n\r\nPOL\u00CDTICAS DA MARCA:\r\n- Sempre respeite o tempo do lead\r\n- N\u00E3o seja insistente ou agressivo\r\n- Foque em resolver problemas, n\u00E3o em vender\r\n- Use emojis com modera\u00E7\u00E3o (m\u00E1ximo 2 por mensagem)\r\n\r\nGere uma resposta apropriada:`;\r\n\r\n  return prompt;\r\n}\r\n\r\n/**\r\n * Determine next action based on message and sentiment\r\n */\r\nfunction determinarProximoPasso(\r\n  message: string,\r\n  sentimentResult: SentimentResult,\r\n  historico: Interacao[]\r\n): 'agendamento' | 'nutricao' | 'descarte' | 'escalate_human' {\r\n  const messageLower = message.toLowerCase();\r\n\r\n  // Check for scheduling keywords\r\n  const schedulingKeywords = [\r\n    'agendar',\r\n    'reuni\u00E3o',\r\n    'conversar',\r\n    'ligar',\r\n    'call',\r\n    'meeting',\r\n    'hor\u00E1rio',\r\n    'disponibilidade'\r\n  ];\r\n\r\n  if (schedulingKeywords.some(keyword => messageLower.includes(keyword))) {\r\n    return 'agendamento';\r\n  }\r\n\r\n  // Check sentiment\r\n  if (sentimentResult.sentiment === 'irritado') {\r\n    return 'escalate_human';\r\n  }\r\n\r\n  if (sentimentResult.sentiment === 'negativo' && historico.length > 3) {\r\n    return 'descarte';\r\n  }\r\n\r\n  if (sentimentResult.sentiment === 'positivo' && historico.length >= 2) {\r\n    return 'agendamento';\r\n  }\r\n\r\n  // Default to nurturing\r\n  return 'nutricao';\r\n}\r\n\r\n/**\r\n * Calculate confidence score\r\n */\r\nfunction calculateConfidence(sentimentScore: number, interactionCount: number): number {\r\n  // Base confidence on sentiment score\r\n  let confidence = sentimentScore;\r\n\r\n  // Adjust based on interaction count\r\n  if (interactionCount >= 3) {\r\n    confidence = Math.min(100, confidence + 10);\r\n  }\r\n\r\n  if (interactionCount >= 5) {\r\n    confidence = Math.min(100, confidence + 10);\r\n  }\r\n\r\n  return Math.round(confidence);\r\n}\r\n\r\n/**\r\n * Generate fallback response (when LLM fails)\r\n */\r\nfunction gerarRespostaFallback(sentiment: string): string {\r\n  const fallbackResponses: Record<string, string> = {\r\n    'positivo': 'Que \u00F3timo! Fico feliz em poder ajudar. Podemos agendar uma conversa para discutir como podemos apoiar sua empresa?',\r\n    'neutro': 'Obrigado pela sua mensagem. Estou aqui para ajudar. Poderia me contar um pouco mais sobre o que voc\u00EA est\u00E1 buscando?',\r\n    'negativo': 'Entendo sua preocupa\u00E7\u00E3o. Estamos aqui para ajudar da melhor forma poss\u00EDvel. Poderia me contar mais sobre o que n\u00E3o est\u00E1 funcionando para voc\u00EA?',\r\n    'irritado': 'Pe\u00E7o desculpas se causamos algum inc\u00F4modo. Sua satisfa\u00E7\u00E3o \u00E9 muito importante para n\u00F3s. Como posso ajudar a resolver isso?'\r\n  };\r\n\r\n  return fallbackResponses[sentiment] || fallbackResponses['neutro'];\r\n}\r\n\r\n/**\r\n * Validate response against brand policies\r\n */\r\nfunction validarResposta(message: string, logger: Logger): string {\r\n  logger.debug('Validando resposta contra pol\u00EDticas da marca');\r\n\r\n  let validatedMessage = message;\r\n\r\n  // Remove any mentions of being AI/bot\r\n  const aiKeywords = [\r\n    'intelig\u00EAncia artificial',\r\n    'ia',\r\n    'rob\u00F4',\r\n    'bot',\r\n    'automa\u00E7\u00E3o',\r\n    'sistema automatizado',\r\n    'assistente virtual'\r\n  ];\r\n\r\n  for (const keyword of aiKeywords) {\r\n    const regex = new RegExp(keyword, 'gi');\r\n    if (regex.test(validatedMessage)) {\r\n      logger.warn('Resposta cont\u00E9m men\u00E7\u00E3o a AI/bot, removendo', {\r\n        keyword\r\n      });\r\n      // Replace with more natural language\r\n      validatedMessage = validatedMessage.replace(regex, 'nossa equipe');\r\n    }\r\n  }\r\n\r\n  // Limit emoji usage (max 2)\r\n  const emojiRegex = /[\\u{1F600}-\\u{1F64F}\\u{1F300}-\\u{1F5FF}\\u{1F680}-\\u{1F6FF}\\u{1F1E0}-\\u{1F1FF}\\u{2600}-\\u{26FF}\\u{2700}-\\u{27BF}]/gu;\r\n  const emojis = validatedMessage.match(emojiRegex) || [];\r\n  \r\n  if (emojis.length > 2) {\r\n    logger.warn('Resposta cont\u00E9m muitos emojis, limitando', {\r\n      count: emojis.length\r\n    });\r\n    // Keep only first 2 emojis\r\n    let emojiCount = 0;\r\n    validatedMessage = validatedMessage.replace(emojiRegex, (match) => {\r\n      emojiCount++;\r\n      return emojiCount <= 2 ? match : '';\r\n    });\r\n  }\r\n\r\n  // Ensure message is not too long (max 1000 characters for WhatsApp)\r\n  if (validatedMessage.length > 1000) {\r\n    logger.warn('Resposta muito longa, truncando', {\r\n      originalLength: validatedMessage.length\r\n    });\r\n    validatedMessage = validatedMessage.substring(0, 997) + '...';\r\n  }\r\n\r\n  return validatedMessage.trim();\r\n}\r\n\r\n/**\r\n * Send response via MCP\r\n */\r\nasync function enviarResposta(\r\n  lead: Lead,\r\n  message: string,\r\n  channel: string,\r\n  logger: Logger,\r\n  traceId: string\r\n): Promise<void> {\r\n  logger.debug('Enviando resposta', {\r\n    leadId: lead.id,\r\n    channel,\r\n    messageLength: message.length,\r\n    traceId\r\n  });\r\n\r\n  try {\r\n    if (channel === 'whatsapp' && lead.telefone) {\r\n      // Send via WhatsApp\r\n      const idempotencyKey = `atendimento-${lead.id}-${Date.now()}`;\r\n      \r\n      const response = await whatsappServer.sendMessage({\r\n        to: lead.telefone,\r\n        message,\r\n        idempotencyKey\r\n      });\r\n\r\n      logger.info('Resposta enviada via WhatsApp', {\r\n        leadId: lead.id,\r\n        messageId: response.messageId,\r\n        status: response.status,\r\n        traceId\r\n      });\r\n\r\n    } else if (channel === 'email' && lead.email) {\r\n      // Send via Email (future implementation)\r\n      logger.info('Resposta enviada via Email (simulado)', {\r\n        leadId: lead.id,\r\n        traceId\r\n      });\r\n\r\n    } else {\r\n      throw new Error(`Canal n\u00E3o suportado ou lead sem contato: ${channel}`);\r\n    }\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao enviar resposta', error as Error, {\r\n      leadId: lead.id,\r\n      channel,\r\n      traceId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Register interaction in database\r\n */\r\nasync function registrarInteracao(\r\n  leadId: string,\r\n  tipo: 'enviado' | 'recebido',\r\n  canal: string,\r\n  mensagem: string,\r\n  sentimento: string | null,\r\n  intensidade: number | null,\r\n  traceId: string,\r\n  logger: Logger,\r\n  metadata?: Record<string, any>\r\n): Promise<void> {\r\n  logger.debug('Registrando intera\u00E7\u00E3o', {\r\n    leadId,\r\n    tipo,\r\n    canal,\r\n    traceId\r\n  });\r\n\r\n  try {\r\n    await query(\r\n      `INSERT INTO nigredo_leads.interacoes (\r\n        id, lead_id, tipo, canal, mensagem, sentimento, intensidade,\r\n        trace_id, metadata, created_at\r\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, NOW())`,\r\n      [\r\n        uuidv4(),\r\n        leadId,\r\n        tipo,\r\n        canal,\r\n        mensagem.substring(0, 1000), // Limit size\r\n        sentimento,\r\n        intensidade,\r\n        traceId,\r\n        JSON.stringify(metadata || {})\r\n      ]\r\n    );\r\n\r\n    logger.debug('Intera\u00E7\u00E3o registrada', {\r\n      leadId,\r\n      tipo,\r\n      traceId\r\n    });\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao registrar intera\u00E7\u00E3o', error as Error, {\r\n      leadId,\r\n      traceId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Update lead status\r\n */\r\nasync function atualizarStatusLead(\r\n  leadId: string,\r\n  sentimentResult: SentimentResult,\r\n  llmResponse: LLMResponse,\r\n  logger: Logger\r\n): Promise<void> {\r\n  logger.debug('Atualizando status do lead', {\r\n    leadId,\r\n    nextAction: llmResponse.nextAction\r\n  });\r\n\r\n  try {\r\n    let newStatus = 'respondeu';\r\n\r\n    if (llmResponse.nextAction === 'agendamento') {\r\n      newStatus = 'interessado';\r\n    } else if (llmResponse.nextAction === 'descarte') {\r\n      newStatus = 'descartado';\r\n    }\r\n\r\n    await query(\r\n      `UPDATE nigredo_leads.leads\r\n      SET \r\n        status = $1,\r\n        metadata = jsonb_set(\r\n          jsonb_set(\r\n            jsonb_set(metadata, '{ultimoAtendimento}', to_jsonb(NOW()::text)),\r\n            '{ultimoSentimento}', to_jsonb($2::text)\r\n          ),\r\n          '{proximoPasso}', to_jsonb($3::text)\r\n        ),\r\n        updated_at = NOW()\r\n      WHERE id = $4`,\r\n      [newStatus, sentimentResult.sentiment, llmResponse.nextAction, leadId]\r\n    );\r\n\r\n    logger.debug('Status do lead atualizado', {\r\n      leadId,\r\n      newStatus\r\n    });\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao atualizar status do lead', error as Error, {\r\n      leadId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Publish appropriate event based on next action\r\n */\r\nasync function publicarEvento(\r\n  lead: Lead,\r\n  llmResponse: LLMResponse,\r\n  sentimentResult: SentimentResult,\r\n  traceId: string,\r\n  logger: Logger\r\n): Promise<void> {\r\n  logger.debug('Publicando evento', {\r\n    leadId: lead.id,\r\n    nextAction: llmResponse.nextAction,\r\n    traceId\r\n  });\r\n\r\n  try {\r\n    let detailType = 'atendimento.completed';\r\n    \r\n    if (llmResponse.nextAction === 'agendamento') {\r\n      detailType = 'atendimento.schedule_requested';\r\n    } else if (llmResponse.nextAction === 'escalate_human') {\r\n      detailType = 'atendimento.escalate_human';\r\n    } else if (llmResponse.nextAction === 'descarte') {\r\n      detailType = 'atendimento.disqualified';\r\n    }\r\n\r\n    const command = new PutEventsCommand({\r\n      Entries: [{\r\n        Source: 'nigredo.atendimento',\r\n        DetailType: detailType,\r\n        Detail: JSON.stringify({\r\n          leadId: lead.id,\r\n          tenantId: lead.tenantId,\r\n          empresa: lead.empresa,\r\n          nextAction: llmResponse.nextAction,\r\n          sentiment: sentimentResult.sentiment,\r\n          sentimentScore: sentimentResult.score,\r\n          confidence: llmResponse.confidence,\r\n          tone: llmResponse.tone,\r\n          metadata: {\r\n            contato: lead.contato,\r\n            segmento: lead.segmento\r\n          },\r\n          traceId,\r\n          timestamp: new Date().toISOString()\r\n        }),\r\n        EventBusName: EVENT_BUS_NAME\r\n      }]\r\n    });\r\n\r\n    const response = await eventBridgeClient.send(command);\r\n\r\n    logger.info('Evento publicado', {\r\n      eventBusName: EVENT_BUS_NAME,\r\n      detailType,\r\n      leadId: lead.id,\r\n      failedEntryCount: response.FailedEntryCount || 0,\r\n      traceId\r\n    });\r\n\r\n    if (response.FailedEntryCount && response.FailedEntryCount > 0) {\r\n      logger.error('Falha ao publicar evento', new Error('EventBridge failed'), {\r\n        failedEntries: response.Entries,\r\n        traceId\r\n      });\r\n    }\r\n\r\n  } catch (error) {\r\n    logger.error('Erro ao publicar evento no EventBridge', error as Error, {\r\n      traceId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n", "import { Handler, Context } from 'aws-lambda';\r\nimport { SQS, SNS } from 'aws-sdk';\r\nimport { Logger, createLogger } from './logger';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { getSegment, addAnnotations, addMetadata } from './xray-tracer';\r\n\r\nconst sqs = new SQS();\r\nconst sns = new SNS();\r\n\r\n/**\r\n * Error classification types\r\n */\r\nexport enum ErrorType {\r\n  TRANSIENT = 'transient', // Temporary errors that should be retried\r\n  PERMANENT = 'permanent', // Permanent errors that should not be retried\r\n  CRITICAL = 'critical', // Critical errors that require immediate attention\r\n}\r\n\r\n/**\r\n * Error classification result\r\n */\r\ninterface ErrorClassification {\r\n  type: ErrorType;\r\n  shouldRetry: boolean;\r\n  shouldAlert: boolean;\r\n}\r\n\r\n/**\r\n * Classify error based on its characteristics\r\n */\r\nexport function classifyError(error: Error): ErrorClassification {\r\n  const errorMessage = error.message.toLowerCase();\r\n  const errorName = error.name.toLowerCase();\r\n  const errorCode = (error as any).code;\r\n\r\n  // Transient errors (network, timeouts, rate limits)\r\n  const transientPatterns = [\r\n    'timeout',\r\n    'econnrefused',\r\n    'econnreset',\r\n    'etimedout',\r\n    'enotfound',\r\n    'network',\r\n    'connection',\r\n    'throttl',\r\n    'rate limit',\r\n    '429',\r\n    '503',\r\n    '504',\r\n    'too many requests',\r\n    'service unavailable',\r\n    'gateway timeout',\r\n  ];\r\n\r\n  for (const pattern of transientPatterns) {\r\n    if (\r\n      errorMessage.includes(pattern) ||\r\n      errorName.includes(pattern) ||\r\n      errorCode === pattern\r\n    ) {\r\n      return {\r\n        type: ErrorType.TRANSIENT,\r\n        shouldRetry: true,\r\n        shouldAlert: false,\r\n      };\r\n    }\r\n  }\r\n\r\n  // Critical errors (security, data corruption, system failures)\r\n  const criticalPatterns = [\r\n    'unauthorized',\r\n    'forbidden',\r\n    'access denied',\r\n    'authentication',\r\n    'security',\r\n    'corruption',\r\n    'integrity',\r\n    'out of memory',\r\n    'disk full',\r\n    'database corruption',\r\n  ];\r\n\r\n  for (const pattern of criticalPatterns) {\r\n    if (errorMessage.includes(pattern) || errorName.includes(pattern)) {\r\n      return {\r\n        type: ErrorType.CRITICAL,\r\n        shouldRetry: false,\r\n        shouldAlert: true,\r\n      };\r\n    }\r\n  }\r\n\r\n  // Permanent errors (validation, not found, bad request)\r\n  const permanentPatterns = [\r\n    'validation',\r\n    'invalid',\r\n    'not found',\r\n    '404',\r\n    '400',\r\n    'bad request',\r\n    'malformed',\r\n    'schema',\r\n    'parse error',\r\n  ];\r\n\r\n  for (const pattern of permanentPatterns) {\r\n    if (\r\n      errorMessage.includes(pattern) ||\r\n      errorName.includes(pattern) ||\r\n      errorCode === pattern\r\n    ) {\r\n      return {\r\n        type: ErrorType.PERMANENT,\r\n        shouldRetry: false,\r\n        shouldAlert: false,\r\n      };\r\n    }\r\n  }\r\n\r\n  // Default to permanent error\r\n  return {\r\n    type: ErrorType.PERMANENT,\r\n    shouldRetry: false,\r\n    shouldAlert: false,\r\n  };\r\n}\r\n\r\n/**\r\n * Send message to Dead Letter Queue\r\n */\r\nasync function sendToDLQ(\r\n  event: any,\r\n  error: Error,\r\n  traceId: string,\r\n  context: Context\r\n): Promise<void> {\r\n  const dlqUrl = process.env.DLQ_URL;\r\n\r\n  if (!dlqUrl) {\r\n    console.warn('DLQ_URL not configured, skipping DLQ send');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const message = {\r\n      originalEvent: event,\r\n      error: {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack,\r\n      },\r\n      traceId,\r\n      context: {\r\n        functionName: context.functionName,\r\n        functionVersion: context.functionVersion,\r\n        requestId: context.awsRequestId,\r\n        timestamp: new Date().toISOString(),\r\n      },\r\n    };\r\n\r\n    await sqs\r\n      .sendMessage({\r\n        QueueUrl: dlqUrl,\r\n        MessageBody: JSON.stringify(message),\r\n        MessageAttributes: {\r\n          traceId: {\r\n            DataType: 'String',\r\n            StringValue: traceId,\r\n          },\r\n          errorType: {\r\n            DataType: 'String',\r\n            StringValue: error.name,\r\n          },\r\n        },\r\n      })\r\n      .promise();\r\n\r\n    console.log('Message sent to DLQ', { traceId, dlqUrl });\r\n  } catch (dlqError) {\r\n    console.error('Failed to send message to DLQ', dlqError);\r\n  }\r\n}\r\n\r\n/**\r\n * Send alert for critical errors\r\n */\r\nasync function sendAlert(\r\n  error: Error,\r\n  traceId: string,\r\n  context: Context,\r\n  event: any\r\n): Promise<void> {\r\n  const alertTopicArn = process.env.ALERT_TOPIC_ARN;\r\n\r\n  if (!alertTopicArn) {\r\n    console.warn('ALERT_TOPIC_ARN not configured, skipping alert');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const message = {\r\n      severity: 'CRITICAL',\r\n      service: context.functionName,\r\n      error: {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack,\r\n      },\r\n      traceId,\r\n      timestamp: new Date().toISOString(),\r\n      requestId: context.awsRequestId,\r\n      event: JSON.stringify(event).substring(0, 500), // Limit event size\r\n    };\r\n\r\n    await sns\r\n      .publish({\r\n        TopicArn: alertTopicArn,\r\n        Subject: `\uD83D\uDEA8 CRITICAL ERROR: ${context.functionName}`,\r\n        Message: JSON.stringify(message, null, 2),\r\n        MessageAttributes: {\r\n          severity: {\r\n            DataType: 'String',\r\n            StringValue: 'CRITICAL',\r\n          },\r\n          service: {\r\n            DataType: 'String',\r\n            StringValue: context.functionName,\r\n          },\r\n        },\r\n      })\r\n      .promise();\r\n\r\n    console.log('Critical alert sent', { traceId, alertTopicArn });\r\n  } catch (alertError) {\r\n    console.error('Failed to send alert', alertError);\r\n  }\r\n}\r\n\r\n/**\r\n * Error handler wrapper for Lambda functions\r\n * Automatically handles error classification, logging, DLQ, alerts, and X-Ray tracing\r\n */\r\nexport function withErrorHandling<TEvent = any, TResult = any>(\r\n  handler: (event: TEvent, context: Context, logger: Logger) => Promise<TResult>\r\n): Handler<TEvent, TResult> {\r\n  return async (event: TEvent, context: Context): Promise<TResult> => {\r\n    const traceId = uuidv4();\r\n    const logger = createLogger(context.functionName, { traceId });\r\n    const segment = getSegment();\r\n\r\n    // Add X-Ray annotations for filtering\r\n    addAnnotations({\r\n      traceId,\r\n      functionName: context.functionName,\r\n      functionVersion: context.functionVersion,\r\n      requestId: context.awsRequestId\r\n    });\r\n\r\n    try {\r\n      logger.info('Lambda invocation started', {\r\n        functionName: context.functionName,\r\n        functionVersion: context.functionVersion,\r\n        requestId: context.awsRequestId,\r\n        remainingTimeMs: context.getRemainingTimeInMillis(),\r\n      });\r\n\r\n      const result = await handler(event, context, logger);\r\n\r\n      // Add success annotation\r\n      addAnnotations({ status: 'success' });\r\n\r\n      logger.info('Lambda invocation completed successfully', {\r\n        remainingTimeMs: context.getRemainingTimeInMillis(),\r\n      });\r\n\r\n      return result;\r\n    } catch (error) {\r\n      const err = error as Error;\r\n      const classification = classifyError(err);\r\n\r\n      // Add error annotations and metadata to X-Ray\r\n      addAnnotations({ \r\n        status: 'error',\r\n        errorType: classification.type,\r\n        errorName: err.name\r\n      });\r\n\r\n      addMetadata({\r\n        error: {\r\n          name: err.name,\r\n          message: err.message,\r\n          stack: err.stack,\r\n          classification: classification.type\r\n        }\r\n      }, 'error');\r\n\r\n      // Add error to X-Ray segment\r\n      if (segment) {\r\n        segment.addError(err);\r\n      }\r\n\r\n      logger.error('Lambda invocation failed', err, {\r\n        errorType: classification.type,\r\n        shouldRetry: classification.shouldRetry,\r\n        shouldAlert: classification.shouldAlert,\r\n      });\r\n\r\n      // Send to DLQ for permanent and critical errors\r\n      if (\r\n        classification.type === ErrorType.PERMANENT ||\r\n        classification.type === ErrorType.CRITICAL\r\n      ) {\r\n        await sendToDLQ(event, err, traceId, context);\r\n      }\r\n\r\n      // Send alert for critical errors\r\n      if (classification.shouldAlert) {\r\n        await sendAlert(err, traceId, context, event);\r\n      }\r\n\r\n      // For transient errors, throw to trigger Lambda retry\r\n      if (classification.shouldRetry) {\r\n        logger.warn('Throwing error to trigger Lambda retry');\r\n        throw err;\r\n      }\r\n\r\n      // For permanent errors, return error response without retrying\r\n      logger.warn('Returning error response without retry');\r\n      return {\r\n        statusCode: 500,\r\n        body: JSON.stringify({\r\n          error: 'Internal error',\r\n          traceId,\r\n          message: err.message,\r\n        }),\r\n      } as any;\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Simple error handler for non-HTTP Lambda functions\r\n * Includes X-Ray tracing integration\r\n */\r\nexport function withSimpleErrorHandling<TEvent = any, TResult = any>(\r\n  handler: (event: TEvent, context: Context, logger: Logger) => Promise<TResult>\r\n): Handler<TEvent, TResult> {\r\n  return async (event: TEvent, context: Context): Promise<TResult> => {\r\n    const traceId = uuidv4();\r\n    const logger = createLogger(context.functionName, { traceId });\r\n    const segment = getSegment();\r\n\r\n    // Add X-Ray annotations for filtering\r\n    addAnnotations({\r\n      traceId,\r\n      functionName: context.functionName,\r\n      requestId: context.awsRequestId\r\n    });\r\n\r\n    try {\r\n      logger.info('Processing event', {\r\n        functionName: context.functionName,\r\n      });\r\n\r\n      const result = await handler(event, context, logger);\r\n\r\n      // Add success annotation\r\n      addAnnotations({ status: 'success' });\r\n\r\n      logger.info('Event processed successfully');\r\n      return result;\r\n    } catch (error) {\r\n      const err = error as Error;\r\n      const classification = classifyError(err);\r\n\r\n      // Add error annotations and metadata to X-Ray\r\n      addAnnotations({ \r\n        status: 'error',\r\n        errorType: classification.type,\r\n        errorName: err.name\r\n      });\r\n\r\n      addMetadata({\r\n        error: {\r\n          name: err.name,\r\n          message: err.message,\r\n          stack: err.stack,\r\n          classification: classification.type\r\n        }\r\n      }, 'error');\r\n\r\n      // Add error to X-Ray segment\r\n      if (segment) {\r\n        segment.addError(err);\r\n      }\r\n\r\n      logger.error('Event processing failed', err, {\r\n        errorType: classification.type,\r\n      });\r\n\r\n      // Send to DLQ for non-transient errors\r\n      if (!classification.shouldRetry) {\r\n        await sendToDLQ(event, err, traceId, context);\r\n      }\r\n\r\n      // Send alert for critical errors\r\n      if (classification.shouldAlert) {\r\n        await sendAlert(err, traceId, context, event);\r\n      }\r\n\r\n      // Always throw to let Lambda handle retry logic\r\n      throw err;\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Check if error is transient (for manual error handling)\r\n */\r\nexport function isTransientError(error: Error): boolean {\r\n  const classification = classifyError(error);\r\n  return classification.type === ErrorType.TRANSIENT;\r\n}\r\n\r\n/**\r\n * Check if error is critical (for manual error handling)\r\n */\r\nexport function isCriticalError(error: Error): boolean {\r\n  const classification = classifyError(error);\r\n  return classification.type === ErrorType.CRITICAL;\r\n}\r\n", "/**\n * The indent level for JSON logs.\n *\n * By default Logger will use the `LogJsonIndent.COMPACT` indent level, which\n * produces logs on a single line. This is the most efficient option for\n * CloudWatch Logs.\n *\n * When enabling the `POWERTOOLS_DEV` environment variable, Logger will use the\n * `LogJsonIndent.PRETTY` indent level, which indents the JSON logs for easier\n * reading.\n */\nconst LogJsonIndent = {\n    PRETTY: 4,\n    COMPACT: 0,\n};\nconst LogLevel = {\n    TRACE: 'TRACE',\n    DEBUG: 'DEBUG',\n    INFO: 'INFO',\n    WARN: 'WARN',\n    ERROR: 'ERROR',\n    SILENT: 'SILENT',\n    CRITICAL: 'CRITICAL',\n};\n/**\n * Numeric values for each log level.\n */\nconst LogLevelThreshold = {\n    TRACE: 6,\n    DEBUG: 8,\n    INFO: 12,\n    WARN: 16,\n    ERROR: 20,\n    CRITICAL: 24,\n    SILENT: 28,\n};\n/**\n * Reserved keys that are included in every log item when using the default log formatter.\n *\n * These keys are reserved and cannot be overwritten by custom log attributes.\n */\nconst ReservedKeys = [\n    'level',\n    'message',\n    'sampling_rate',\n    'service',\n    'timestamp',\n];\n/**\n * Message logged when an uncaught error occurs in a Lambda function.\n */\nconst UncaughtErrorLogMessage = 'Uncaught error detected, flushing log buffer before exit';\nexport { LogJsonIndent, LogLevel, LogLevelThreshold, ReservedKeys, UncaughtErrorLogMessage, };\n", "const POWERTOOLS_DEV_ENV_VAR = 'POWERTOOLS_DEV';\nconst POWERTOOLS_SERVICE_NAME_ENV_VAR = 'POWERTOOLS_SERVICE_NAME';\nconst XRAY_TRACE_ID_ENV_VAR = '_X_AMZN_TRACE_ID';\nexport { POWERTOOLS_DEV_ENV_VAR, POWERTOOLS_SERVICE_NAME_ENV_VAR, XRAY_TRACE_ID_ENV_VAR, };\n", "import { POWERTOOLS_DEV_ENV_VAR, POWERTOOLS_SERVICE_NAME_ENV_VAR, XRAY_TRACE_ID_ENV_VAR, } from './constants.js';\n/**\n * Get a string from the environment variables.\n *\n * @example\n * ```ts\n * import { getStringFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getStringFromEnv({\n *   key: 'MY_ENV_VAR',\n *   errorMessage: 'MY_ENV_VAR is required for this function',\n * });\n * ```\n *\n * By default, the value is trimmed and always required.\n *\n * You can also provide a default value, which will be returned if the environment variable is not set instead of throwing an error.\n *\n * @example\n * ```ts\n * import { getStringFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getStringFromEnv({\n *   key: 'MY_ENV_VAR',\n *   defaultValue: 'defaultValue',\n * });\n * ```\n *\n * @param options - The options for getting the string.\n * @param options.key - The key of the environment variable.\n * @param options.defaultValue - Optional default value to return if the environment variable is not set.\n * @param options.errorMessage - Optional error message to throw if the environment variable is not set and no default value is provided. Defaults to `\"Environment variable <key> is required\"`.\n */\nconst getStringFromEnv = ({ key, defaultValue, errorMessage, }) => {\n    const value = process.env[key];\n    if (value === undefined) {\n        if (defaultValue !== undefined) {\n            return defaultValue;\n        }\n        if (errorMessage) {\n            throw new Error(errorMessage);\n        }\n        throw new Error(`Environment variable ${key} is required`);\n    }\n    return value.trim();\n};\n/**\n * Get a number from the environment variables.\n *\n * @example\n * ```ts\n * import { getNumberFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getNumberFromEnv({\n *   key: 'MY_ENV_VAR',\n *   errorMessage: 'MY_ENV_VAR is required for this function',\n * });\n * ```\n *\n * By default, the value is trimmed before being converted to a number and always required.\n *\n * You can also provide a default value, which will be returned if the environment variable is not set instead of throwing an error.\n *\n * @example\n * ```ts\n * import { getNumberFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getNumberFromEnv({\n *   key: 'MY_ENV_VAR',\n *   defaultValue: 42,\n * });\n * ```\n *\n * @param options - The options for getting the number.\n * @param options.key - The key of the environment variable.\n * @param options.defaultValue - The default value to return if the environment variable is not set.\n * @param options.errorMessage - Optional error message to throw if the environment variable is not set and no default value is provided. Defaults to `\"Environment variable <key> is required\"`.\n */\nconst getNumberFromEnv = ({ key, defaultValue, errorMessage, }) => {\n    const value = getStringFromEnv({\n        key,\n        defaultValue: String(defaultValue),\n        errorMessage,\n    });\n    const parsedValue = Number(value);\n    if (Number.isNaN(parsedValue)) {\n        throw new TypeError(`Environment variable ${key} must be a number`);\n    }\n    return parsedValue;\n};\nconst truthyValues = new Set(['1', 'y', 'yes', 't', 'true', 'on']);\nconst falsyValues = new Set(['0', 'n', 'no', 'f', 'false', 'off']);\n/**\n * Get a boolean from the environment variables.\n *\n * @example\n * ```ts\n * import { getBooleanFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getBooleanFromEnv({\n *   key: 'MY_ENV_VAR',\n *   errorMessage: 'MY_ENV_VAR is required for this function',\n * });\n * ```\n *\n * By default, the value is trimmed before being converted to a boolean and always required.\n *\n * You can also provide a default value, which will be returned if the environment variable is not set instead of throwing an error.\n *\n * @example\n * ```ts\n * import { getBooleanFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getBooleanFromEnv({\n *   key: 'MY_ENV_VAR',\n *   defaultValue: true,\n * });\n * ```\n *\n * By default, the value is parsed as a boolean. You can also provide an option to extend the parsing of the boolean value to include common string representations.\n *\n * @example\n * ```ts\n * import { getBooleanFromEnv } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const myEnvVar = getBooleanFromEnv({\n *   key: 'MY_ENV_VAR',\n *   defaultValue: true,\n *   extendedParsing: true,\n * });\n * ```\n *\n * The following values are considered `true`:\n * - `\"true\"`\n * - `\"1\"`\n * - `\"yes\"`\n * - `\"on\"`\n * - `\"y\"`\n *\n * The following values are considered `false`:\n * - `\"false\"`\n * - `\"0\"`\n * - `\"no\"`\n * - `\"off\"`\n * - `\"n\"`\n *\n * @param options - The options for getting the boolean.\n * @param options.key - The key of the environment variable.\n * @param options.defaultValue - The default value to return if the environment variable is not set.\n * @param options.errorMessage - Optional error message to throw if the environment variable is not set and no default value is provided. Defaults to `\"Environment variable <key> is required\"`.\n * @param options.extendedParsing - Whether to extend the parsing of the boolean value to include common string representations like `'1'`, `'y'`, `'yes'`, `'t'`, `'true'`, `'on'` for `true` and `'0'`, `'n'`, `'no'`, `'f'`, `'false'`, `'off'` for `false`.\n */\nconst getBooleanFromEnv = ({ key, defaultValue, errorMessage, extendedParsing, }) => {\n    const value = getStringFromEnv({\n        key,\n        defaultValue: String(defaultValue),\n        errorMessage,\n    });\n    const parsedValue = value.toLowerCase();\n    if (extendedParsing) {\n        if (truthyValues.has(parsedValue)) {\n            return true;\n        }\n        if (falsyValues.has(parsedValue)) {\n            return false;\n        }\n    }\n    if (parsedValue !== 'true' && parsedValue !== 'false') {\n        throw new Error(`Environment variable ${key} must be a boolean`);\n    }\n    return parsedValue === 'true';\n};\n/**\n * Check if the current invocation is running in a development environment.\n *\n * This is determined by the `POWERTOOLS_DEV` environment variable.\n *\n * @example\n * ```ts\n * import { isDevMode } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const isDev = isDevMode();\n * ```\n */\nconst isDevMode = () => {\n    try {\n        return getBooleanFromEnv({\n            key: POWERTOOLS_DEV_ENV_VAR,\n            extendedParsing: true,\n        });\n    }\n    catch {\n        return false;\n    }\n};\n/**\n * Get the service name from the environment variables.\n *\n * This is determined by the `POWERTOOLS_SERVICE_NAME` environment variable.\n *\n * @example\n * ```ts\n * import { getServiceName } from '@aws-lambda-powertools/commons/utils/env';\n *\n * const serviceName = getServiceName();\n * ```\n */\nconst getServiceName = () => {\n    return getStringFromEnv({\n        key: POWERTOOLS_SERVICE_NAME_ENV_VAR,\n        defaultValue: '',\n    });\n};\n/**\n * Get the AWS X-Ray Trace data from the environment variable.\n *\n * The method parses the environment variable `_X_AMZN_TRACE_ID` and returns an object with the key-value pairs.\n */\nconst getXrayTraceDataFromEnv = () => {\n    const xRayTraceEnv = getStringFromEnv({\n        key: XRAY_TRACE_ID_ENV_VAR,\n        defaultValue: '',\n    });\n    if (xRayTraceEnv === '') {\n        return undefined;\n    }\n    if (!xRayTraceEnv.includes('=')) {\n        return {\n            Root: xRayTraceEnv,\n        };\n    }\n    const xRayTraceData = {};\n    for (const field of xRayTraceEnv.split(';')) {\n        const [key, value] = field.split('=');\n        xRayTraceData[key] = value;\n    }\n    return xRayTraceData;\n};\n/**\n * Determine if the current invocation is part of a sampled X-Ray trace.\n *\n * The AWS X-Ray Trace data available in the environment variable has this format:\n * `Root=1-5759e988-bd862e3fe1be46a994272793;Parent=557abcec3ee5a047;Sampled=1`,\n */\nconst isRequestXRaySampled = () => {\n    const xRayTraceData = getXrayTraceDataFromEnv();\n    return xRayTraceData?.Sampled === '1';\n};\n/**\n * Get the value of the `_X_AMZN_TRACE_ID` environment variable.\n *\n * The AWS X-Ray Trace data available in the environment variable has this format:\n * `Root=1-5759e988-bd862e3fe1be46a994272793;Parent=557abcec3ee5a047;Sampled=1`,\n *\n * The actual Trace ID is: `1-5759e988-bd862e3fe1be46a994272793`.\n */\nconst getXRayTraceIdFromEnv = () => {\n    const xRayTraceData = getXrayTraceDataFromEnv();\n    return xRayTraceData?.Root;\n};\nexport { getStringFromEnv, getNumberFromEnv, getBooleanFromEnv, isDevMode, getServiceName, getXrayTraceDataFromEnv, isRequestXRaySampled, getXRayTraceIdFromEnv, };\n", "import { getStringFromEnv, isDevMode, } from '@aws-lambda-powertools/commons/utils/env';\n/**\n * Class that defines and implements common methods for the formatting of log attributes.\n *\n * When creating a custom log formatter, you should extend this class and implement the\n * {@link formatAttributes | formatAttributes()} method to define the structure of the log item.\n *\n * @abstract\n */\nclass LogFormatter {\n    /**\n     * Format an error into a loggable object.\n     *\n     * @example\n     * ```json\n     * {\n     *   \"name\": \"Error\",\n     *   \"location\": \"file.js:1\",\n     *   \"message\": \"An error occurred\",\n     *   \"stack\": \"Error: An error occurred\\n    at file.js:1\\n    at file.js:2\\n    at file.js:3\",\n     *   \"cause\": {\n     *     \"name\": \"OtherError\",\n     *     \"location\": \"file.js:2\",\n     *     \"message\": \"Another error occurred\",\n     *     \"stack\": \"Error: Another error occurred\\n    at file.js:2\\n    at file.js:3\\n    at file.js:4\"\n     *   }\n     * }\n     * ```\n     *\n     * @param error - Error to format\n     */\n    formatError(error) {\n        const { name, message, stack, cause, ...errorAttributes } = error;\n        const formattedError = {\n            name,\n            location: this.getCodeLocation(error.stack),\n            message,\n            stack: isDevMode() && typeof stack === 'string' ? stack?.split('\\n') : stack,\n            cause: cause instanceof Error ? this.formatError(cause) : cause,\n        };\n        for (const key in error) {\n            if (typeof key === 'string' &&\n                !['name', 'message', 'stack', 'cause'].includes(key)) {\n                formattedError[key] = errorAttributes[key];\n            }\n        }\n        return formattedError;\n    }\n    /**\n     * Format a date into an ISO 8601 string with the configured timezone.\n     *\n     * The timezone is read from the `TZ` environment variable, if present.\n     * Otherwise, the timezone defaults to ':UTC'.\n     *\n     * @param now - The date to format\n     */\n    formatTimestamp(now) {\n        const defaultTimezone = 'UTC';\n        /**\n         * If a specific timezone is configured and it's not the default `UTC`,\n         * format the timestamp with the appropriate timezone offset.\n         */\n        const configuredTimezone = getStringFromEnv({\n            key: 'TZ',\n            defaultValue: '',\n        });\n        if (configuredTimezone && !configuredTimezone.includes(defaultTimezone))\n            return this.#generateISOTimestampWithOffset(now, configuredTimezone);\n        return now.toISOString();\n    }\n    /**\n     * Get the location of an error from a stack trace.\n     *\n     * @param stack - stack trace to parse\n     */\n    getCodeLocation(stack) {\n        if (!stack) {\n            return '';\n        }\n        const stackLines = stack.split('\\n');\n        const regex = /\\(([^()]*?):(\\d+?):(\\d+?)\\)\\\\?$/;\n        for (const item of stackLines) {\n            const match = regex.exec(item);\n            if (Array.isArray(match)) {\n                return `${match[1]}:${Number(match[2])}`;\n            }\n        }\n        return '';\n    }\n    /**\n     * Create a new Intl.DateTimeFormat object configured with the specified time zone\n     * and formatting options.\n     *\n     * The time is displayed in 24-hour format (hour12: false).\n     *\n     * @param timezone - IANA time zone identifier (e.g., \"Asia/Dhaka\").\n     */\n    #getDateFormatter = (timezone) => {\n        const twoDigitFormatOption = '2-digit';\n        const validTimeZone = Intl.supportedValuesOf('timeZone').includes(timezone)\n            ? timezone\n            : 'UTC';\n        return new Intl.DateTimeFormat('en', {\n            hourCycle: 'h23',\n            year: 'numeric',\n            month: twoDigitFormatOption,\n            day: twoDigitFormatOption,\n            hour: twoDigitFormatOption,\n            minute: twoDigitFormatOption,\n            second: twoDigitFormatOption,\n            timeZone: validTimeZone,\n        });\n    };\n    /**\n     * Generate an ISO 8601 timestamp string with the specified time zone and the local time zone offset.\n     *\n     * @param date - date to format\n     * @param timezone - IANA time zone identifier (e.g., \"Asia/Dhaka\").\n     */\n    #generateISOTimestampWithOffset(date, timezone) {\n        const { year, month, day, hour, minute, second } = this.#getDateFormatter(timezone)\n            .formatToParts(date)\n            .reduce((acc, item) => {\n            acc[item.type] = item.value;\n            return acc;\n        }, {});\n        const datePart = `${year}-${month}-${day}T${hour}:${minute}:${second}`;\n        const offset = -date.getTimezoneOffset();\n        const offsetSign = offset >= 0 ? '+' : '-';\n        const offsetHours = Math.abs(Math.floor(offset / 60))\n            .toString()\n            .padStart(2, '0');\n        const offsetMinutes = Math.abs(offset % 60)\n            .toString()\n            .padStart(2, '0');\n        const millisecondPart = date.getMilliseconds().toString().padStart(3, '0');\n        const offsetPart = `${offsetSign}${offsetHours}:${offsetMinutes}`;\n        return `${datePart}.${millisecondPart}${offsetPart}`;\n    }\n}\nexport { LogFormatter };\n", "import merge from 'lodash.merge';\n/**\n * LogItem is a class that holds the attributes of a log item.\n *\n * It is used by {@link LogFormatter} to store the attributes of a log item and to add additional attributes to it.\n */\nclass LogItem {\n    /**\n     * The attributes of the log item.\n     */\n    attributes = {};\n    /**\n     * Constructor for LogItem.\n     *\n     * Attributes are added in the following order:\n     * - Standard keys provided by the logger (e.g. `message`, `level`, `timestamp`)\n     * - Persistent attributes provided by developer, not formatted (done later)\n     * - Ephemeral attributes provided as parameters for a single log item (done later)\n     *\n     * @param params - The parameters for the LogItem.\n     */\n    constructor(params) {\n        this.setAttributes(params.attributes);\n    }\n    /**\n     * Add attributes to the log item.\n     *\n     * @param attributes - The attributes to add to the log item.\n     */\n    addAttributes(attributes) {\n        merge(this.attributes, attributes);\n        return this;\n    }\n    /**\n     * Get the attributes of the log item.\n     */\n    getAttributes() {\n        return this.attributes;\n    }\n    /**\n     * Prepare the log item for printing.\n     *\n     * This operation removes empty keys from the log item, see {@link removeEmptyKeys | removeEmptyKeys()} for more information.\n     */\n    prepareForPrint() {\n        this.attributes = this.removeEmptyKeys(this.getAttributes());\n    }\n    /**\n     * Remove empty keys from the log item, where empty keys are defined as keys with\n     * values of `undefined`, empty strings (`''`), or `null`.\n     *\n     * @param attributes - The attributes to remove empty keys from.\n     */\n    removeEmptyKeys(attributes) {\n        const newAttributes = {};\n        for (const key in attributes) {\n            if (attributes[key] !== undefined &&\n                attributes[key] !== '' &&\n                attributes[key] !== null) {\n                newAttributes[key] = attributes[key];\n            }\n        }\n        return newAttributes;\n    }\n    /**\n     * Replace the attributes of the log item.\n     *\n     * @param attributes - The attributes to set for the log item.\n     */\n    setAttributes(attributes) {\n        this.attributes = attributes;\n    }\n}\nexport { LogItem };\n", "import { Console } from 'node:console';\nimport { randomInt } from 'node:crypto';\nimport { isNullOrUndefined, Utility } from '@aws-lambda-powertools/commons';\nimport { getBooleanFromEnv, getNumberFromEnv, getStringFromEnv, getXRayTraceIdFromEnv, isDevMode, } from '@aws-lambda-powertools/commons/utils/env';\nimport merge from 'lodash.merge';\nimport { LogJsonIndent, LogLevelThreshold, ReservedKeys, UncaughtErrorLogMessage, } from './constants.js';\nimport { PowertoolsLogFormatter } from './formatter/PowertoolsLogFormatter.js';\nimport { CircularMap } from './logBuffer.js';\n/**\n * The Logger utility provides an opinionated logger with output structured as JSON for AWS Lambda.\n *\n * **Key features**\n * Capturing key fields from the Lambda context, cold starts, and structure logging output as JSON.\n * Logging Lambda invocation events when instructed (disabled by default).\n * Switch log level to `DEBUG` for a percentage of invocations (sampling).\n * Buffering logs for a specific request or invocation, and flushing them automatically on error or manually as needed.\n * Appending additional keys to structured logs at any point in time.\n * Providing a custom log formatter (Bring Your Own Formatter) to output logs in a structure compatible with your organization\u2019s Logging RFC.\n *\n * After initializing the Logger class, you can use the methods to log messages at different levels.\n *\n * @example\n * ```typescript\n * import { Logger } from '@aws-lambda-powertools/logger';\n *\n * const logger = new Logger({ serviceName: 'serverlessAirline' });\n *\n * export const handler = async (event, context) => {\n *   logger.info('This is an INFO log');\n *   logger.warn('This is a WARNING log');\n * };\n * ```\n *\n * To enrich the log items with information from the Lambda context, you can use the {@link Logger.addContext | `addContext()`} method.\n *\n * @example\n * ```typescript\n * import { Logger } from '@aws-lambda-powertools/logger';\n *\n * const logger = new Logger({ serviceName: 'serverlessAirline' });\n *\n * export const handler = async (event, context) => {\n *   logger.addContext(context);\n *\n *   logger.info('This is an INFO log with some context');\n * };\n * ```\n *\n * You can also add additional attributes to all log items using the {@link Logger.appendKeys | `appendKeys()`} method.\n *\n * @example\n * ```typescript\n * export const handler = async (event, context) => {\n *   logger.appendKeys({ key1: 'value1' });\n *\n *   logger.info('This is an INFO log with additional keys');\n *\n *   logger.removeKeys(['key1']);\n * };\n *```\n *\n * If you write your functions as classes and use TypeScript, you can use the {@link Logger.injectLambdaContext | `injectLambdaContext()`} class method decorator\n * to automatically add context to your logs and clear the state after the invocation.\n *\n * If instead you use Middy.js middlewares, you use the {@link \"middleware/middy\".injectLambdaContext | `injectLambdaContext()`} middleware.\n *\n * @see https://docs.aws.amazon.com/powertools/typescript/latest/core/logger/\n */\nclass Logger extends Utility {\n    /**\n     * Console instance used to print logs.\n     *\n     * In AWS Lambda, we create a new instance of the Console class so that we can have\n     * full control over the output of the logs. In testing environments, we use the\n     * default console instance.\n     *\n     * This property is initialized in the constructor in `setOptions()`.\n     */\n    console;\n    /**\n     * Custom config service instance used to configure the logger.\n     */\n    customConfigService;\n    /**\n     * Whether to print the Lambda invocation event in the logs.\n     */\n    logEvent = false;\n    /**\n     * Formatter used to format the log items.\n     * @default new PowertoolsLogFormatter()\n     */\n    logFormatter;\n    /**\n     * JSON indentation used to format the logs.\n     */\n    logIndentation = LogJsonIndent.COMPACT;\n    /**\n     * Log level used internally by the current instance of Logger.\n     */\n    logLevel = LogLevelThreshold.INFO;\n    /**\n     * Advanced Logging Control Log Level\n     * If not a valid value this will be left undefined, even if the\n     * environment variable AWS_LAMBDA_LOG_LEVEL is set\n     */\n    #alcLogLevel;\n    /**\n     * Persistent log attributes that will be logged in all log items.\n     */\n    persistentLogAttributes = {};\n    /**\n     * Standard attributes managed by Powertools that will be logged in all log items.\n     */\n    powertoolsLogData = {\n        sampleRateValue: 0,\n    };\n    /**\n     * Temporary log attributes that can be appended with `appendKeys()` method.\n     */\n    temporaryLogAttributes = {};\n    /**\n     * Buffer used to store logs until the logger is initialized.\n     *\n     * Sometimes we need to log warnings before the logger is fully initialized, however we can't log them\n     * immediately because the logger is not ready yet. This buffer stores those logs until the logger is ready.\n     */\n    #initBuffer = [];\n    /**\n     * Flag used to determine if the logger is initialized.\n     */\n    #isInitialized = false;\n    /**\n     * Map used to hold the list of keys and their type.\n     *\n     * Because keys of different types can be overwritten, we keep a list of keys that were added and their last\n     * type. We then use this map at log preparation time to pick the last one.\n     */\n    #keys = new Map();\n    /**\n     * This is the initial log leval as set during the initialization of the logger.\n     *\n     * We keep this value to be able to reset the log level to the initial value when the sample rate is refreshed.\n     */\n    #initialLogLevel = LogLevelThreshold.INFO;\n    /**\n     * Replacer function used to serialize the log items.\n     */\n    #jsonReplacerFn;\n    /**\n     * Buffer configuration options.\n     */\n    #bufferConfig = {\n        enabled: false,\n        flushOnErrorLog: true,\n        maxBytes: 20480,\n        bufferAtVerbosity: LogLevelThreshold.DEBUG,\n    };\n    /**\n     * Contains buffered logs, grouped by `_X_AMZN_TRACE_ID`, each group with a max size of `maxBufferBytesSize`\n     */\n    #buffer;\n    /**\n     * Search function for the correlation ID.\n     */\n    #correlationIdSearchFn;\n    /**\n     * The debug sampling rate configuration.\n     */\n    #debugLogSampling = {\n        /**\n         * The sampling rate value used to determine if the log level should be set to DEBUG.\n         */\n        sampleRateValue: 0,\n        /**\n         * The number of times the debug sampling rate has been refreshed.\n         *\n         * We use this to determine if we should refresh it again.\n         */\n        refreshedTimes: 0,\n    };\n    /**\n     * Map used to store the warning messages that have already been logged.\n     */\n    #warnOnceMap = new Map();\n    /**\n     * Log level used by the current instance of Logger.\n     *\n     * Returns the log level as a number. The higher the number, the less verbose the logs.\n     * To get the log level name, use the {@link getLevelName()} method.\n     */\n    get level() {\n        return this.logLevel;\n    }\n    constructor(options = {}) {\n        super();\n        const { customConfigService, ...rest } = options;\n        this.customConfigService = customConfigService\n            ? customConfigService\n            : undefined;\n        // all logs are buffered until the logger is initialized\n        this.setOptions(rest);\n        this.#isInitialized = true;\n        for (const [level, log] of this.#initBuffer) {\n            // we call the method directly and create the log item just in time\n            this.printLog(level, this.createAndPopulateLogItem(...log));\n        }\n        this.#initBuffer = [];\n    }\n    /**\n     * Add the current Lambda function's invocation context data to the powertoolLogData property of the instance.\n     * This context data will be part of all printed log items.\n     *\n     * @param context - The Lambda function's invocation context.\n     */\n    addContext(context) {\n        this.addToPowertoolsLogData({\n            lambdaContext: {\n                invokedFunctionArn: context.invokedFunctionArn,\n                coldStart: this.getColdStart(),\n                awsRequestId: context.awsRequestId,\n                memoryLimitInMB: context.memoryLimitInMB,\n                functionName: context.functionName,\n                functionVersion: context.functionVersion,\n            },\n        });\n    }\n    /**\n     * @deprecated This method is deprecated and will be removed in the future major versions, please use {@link appendPersistentKeys() `appendPersistentKeys()`} instead.\n     */\n    addPersistentLogAttributes(attributes) {\n        this.appendPersistentKeys(attributes);\n    }\n    /**\n     * Add the given temporary attributes (key-value pairs) to all log items generated by this Logger instance.\n     *\n     * If the key already exists in the attributes, it will be overwritten. If the key is one of `level`, `message`, `sampling_rate`,\n     * `service`, or `timestamp` we will log a warning and drop the value.\n     *\n     * @param attributes - The attributes to add to all log items.\n     */\n    appendKeys(attributes) {\n        this.#appendKeys(attributes, 'temp');\n    }\n    /**\n     * Add the given persistent attributes (key-value pairs) to all log items generated by this Logger instance.\n     *\n     * If the key already exists in the attributes, it will be overwritten. If the key is one of `level`, `message`, `sampling_rate`,\n     * `service`, or `timestamp` we will log a warning and drop the value.\n     *\n     * @param attributes - The attributes to add to all log items.\n     */\n    appendPersistentKeys(attributes) {\n        this.#appendKeys(attributes, 'persistent');\n    }\n    /**\n     * Create a separate Logger instance, identical to the current one.\n     * It's possible to overwrite the new instance options by passing them.\n     *\n     * @param options - The options to initialize the child logger with.\n     */\n    createChild(options = {}) {\n        const childLogger = this.createLogger(\n        // Merge parent logger options with options passed to createChild,\n        // the latter having precedence.\n        merge({}, {\n            logLevel: this.getLevelName(),\n            serviceName: this.powertoolsLogData.serviceName,\n            sampleRateValue: this.#debugLogSampling.sampleRateValue,\n            logFormatter: this.getLogFormatter(),\n            customConfigService: this.getCustomConfigService(),\n            environment: this.powertoolsLogData.environment,\n            persistentLogAttributes: this.persistentLogAttributes,\n            jsonReplacerFn: this.#jsonReplacerFn,\n            correlationIdSearchFn: this.#correlationIdSearchFn,\n            ...(this.#bufferConfig.enabled && {\n                logBufferOptions: {\n                    maxBytes: this.#bufferConfig.maxBytes,\n                    bufferAtVerbosity: this.getLogLevelNameFromNumber(this.#bufferConfig.bufferAtVerbosity),\n                    flushOnErrorLog: this.#bufferConfig.flushOnErrorLog,\n                },\n            }),\n        }, options));\n        if (this.powertoolsLogData.lambdaContext)\n            childLogger.addContext(this.powertoolsLogData.lambdaContext);\n        if (this.temporaryLogAttributes) {\n            childLogger.appendKeys(this.temporaryLogAttributes);\n        }\n        return childLogger;\n    }\n    /**\n     * Print a log item with level CRITICAL.\n     *\n     * @param input - The log message.\n     * @param extraInput - The extra input to log.\n     */\n    critical(input, ...extraInput) {\n        this.processLogItem(LogLevelThreshold.CRITICAL, input, extraInput);\n    }\n    /**\n     * Print a log item with level DEBUG.\n     *\n     * @param input\n     * @param extraInput - The extra input to log.\n     */\n    debug(input, ...extraInput) {\n        this.processLogItem(LogLevelThreshold.DEBUG, input, extraInput);\n    }\n    /**\n     * Print a log item with level ERROR.\n     *\n     * @param input - The log message.\n     * @param extraInput - The extra input to log.\n     */\n    error(input, ...extraInput) {\n        if (this.#bufferConfig.enabled && this.#bufferConfig.flushOnErrorLog) {\n            this.flushBuffer();\n        }\n        this.processLogItem(LogLevelThreshold.ERROR, input, extraInput);\n    }\n    /**\n     * Get the log level name of the current instance of Logger.\n     *\n     * Returns the log level name, i.e. `INFO`, `DEBUG`, etc.\n     * To get the log level as a number, use the {@link Logger.level} property.\n     */\n    getLevelName() {\n        return this.getLogLevelNameFromNumber(this.logLevel);\n    }\n    /**\n     * Return a boolean value. True means that the Lambda invocation events\n     * are printed in the logs.\n     */\n    getLogEvent() {\n        return this.logEvent;\n    }\n    /**\n     * Return the persistent log attributes, which are the attributes\n     * that will be logged in all log items.\n     */\n    getPersistentLogAttributes() {\n        return this.persistentLogAttributes;\n    }\n    /**\n     * Print a log item with level INFO.\n     *\n     * @param input - The log message.\n     * @param extraInput - The extra input to log.\n     */\n    info(input, ...extraInput) {\n        this.processLogItem(LogLevelThreshold.INFO, input, extraInput);\n    }\n    /**\n     * Class method decorator that adds the current Lambda function context as extra\n     * information in all log items.\n     *\n     * This decorator is useful when you want to enrich your logs with information\n     * from the function context, such as the function name, version, and request ID, and more.\n     *\n     * @example\n     * ```typescript\n     * import { Logger } from '@aws-lambda-powertools/logger';\n     * import type { LambdaInterface } from '@aws-lambda-powertools/commons/types';\n     *\n     * const logger = new Logger({ serviceName: 'serverlessAirline' });\n     *\n     * class Lambda implements LambdaInterface {\n     *   // Decorate your handler class method\n     *   \u2063@logger.injectLambdaContext()\n     *   public async handler(_event: unknown, _context: unknown): Promise<void> {\n     *     logger.info('This is an INFO log with some context');\n     *   }\n     * }\n     *\n     * const handlerClass = new Lambda();\n     * export const handler = handlerClass.handler.bind(handlerClass);\n     * ```\n     *\n     * The decorator can also be used to log the Lambda invocation event; this can be configured both via\n     * the `logEvent` parameter and the `POWERTOOLS_LOGGER_LOG_EVENT` environment variable. When both\n     * are set, the `logEvent` parameter takes precedence.\n     *\n     * Additionally, the decorator can be used to reset the temporary keys added with the `appendKeys()` method\n     * after the invocation, or to flush the buffer when an uncaught error is thrown in the handler.\n     *\n     * @see https://www.typescriptlang.org/docs/handbook/decorators.html#method-decorators\n     *\n     * @param options.logEvent - When `true` the logger will log the event.\n     * @param options.resetKeys - When `true` the logger will clear temporary keys added with {@link Logger.appendKeys() `appendKeys()`} method.\n     * @param options.flushBufferOnUncaughtError - When `true` the logger will flush the buffer when an uncaught error is thrown in the handler.\n     */\n    injectLambdaContext(options) {\n        return (_target, _propertyKey, descriptor) => {\n            const originalMethod = descriptor.value;\n            const loggerRef = this;\n            // Use a function() {} instead of an () => {} arrow function so that we can\n            // access `myClass` as `this` in a decorated `myClass.myMethod()`.\n            descriptor.value = async function (...args) {\n                loggerRef.refreshSampleRateCalculation();\n                loggerRef.addContext(args[1]);\n                loggerRef.logEventIfEnabled(args[0], options?.logEvent);\n                if (options?.correlationIdPath) {\n                    loggerRef.setCorrelationId(args[0], options?.correlationIdPath);\n                }\n                try {\n                    return await originalMethod.apply(this, args);\n                }\n                catch (error) {\n                    if (options?.flushBufferOnUncaughtError) {\n                        loggerRef.flushBuffer();\n                        loggerRef.error({\n                            message: UncaughtErrorLogMessage,\n                            error,\n                        });\n                    }\n                    throw error;\n                    /* v8 ignore next */\n                }\n                finally {\n                    if (options?.clearState || options?.resetKeys)\n                        loggerRef.resetKeys();\n                    loggerRef.clearBuffer();\n                }\n            };\n        };\n    }\n    /**\n     * @deprecated This method is deprecated and will be removed in the future major versions. Use {@link resetKeys()} instead.\n     */\n    /* v8 ignore start */ static injectLambdaContextAfterOrOnError(logger, _persistentAttributes, options) {\n        if (options && (options.clearState || options?.resetKeys)) {\n            logger.resetKeys();\n        }\n    } /* v8 ignore stop */\n    /**\n     * @deprecated - This method is deprecated and will be removed in the next major version.\n     */\n    /* v8 ignore start */ static injectLambdaContextBefore(logger, event, context, options) {\n        logger.addContext(context);\n        logger.logEventIfEnabled(event, options?.logEvent);\n    } /* v8 ignore stop */\n    /**\n     * Log the AWS Lambda event payload for the current invocation if the environment variable `POWERTOOLS_LOGGER_LOG_EVENT` is set to `true`.\n     *\n     * @example\n     * ```ts\n     * process.env.POWERTOOLS_LOGGER_LOG_EVENT = 'true';\n     *\n     * import { Logger } from '@aws-lambda-powertools/logger';\n     *\n     * const logger = new Logger();\n     *\n     * export const handler = async (event) => {\n     *   logger.logEventIfEnabled(event);\n     *   // ... your handler code\n     * }\n     * ```\n     *\n     * @param event - The AWS Lambda event payload.\n     * @param overwriteValue - Overwrite the environment variable value.\n     */\n    logEventIfEnabled(event, overwriteValue) {\n        if (!this.shouldLogEvent(overwriteValue))\n            return;\n        this.info('Lambda invocation event', { event });\n    }\n    /**\n     * This method allows recalculating the initial sampling decision for changing\n     * the log level to DEBUG based on a sample rate value used during initialization,\n     * potentially yielding a different outcome.\n     *\n     * This only works for warm starts, because we don't to avoid double sampling.\n     */\n    refreshSampleRateCalculation() {\n        if (this.#debugLogSampling.refreshedTimes === 0) {\n            this.#debugLogSampling.refreshedTimes++;\n            return;\n        }\n        if (this.#shouldEnableDebugSampling() &&\n            this.logLevel > LogLevelThreshold.TRACE) {\n            this.setLogLevel('DEBUG');\n            this.debug('Setting log level to DEBUG due to sampling rate');\n        }\n        else {\n            this.setLogLevel(this.getLogLevelNameFromNumber(this.#initialLogLevel));\n        }\n    }\n    /**\n     * Remove temporary attributes based on provided keys to all log items generated by this Logger instance.\n     *\n     * @param keys - The keys to remove.\n     */\n    removeKeys(keys) {\n        for (const key of keys) {\n            this.temporaryLogAttributes[key] = undefined;\n            if (this.persistentLogAttributes[key]) {\n                this.#keys.set(key, 'persistent');\n            }\n            else {\n                this.#keys.delete(key);\n            }\n        }\n    }\n    /**\n     * Remove the given keys from the persistent keys.\n     *\n     * @example\n     * ```typescript\n     * import { Logger } from '@aws-lambda-powertools/logger';\n     *\n     * const logger = new Logger({\n     *   persistentKeys: {\n     *     environment: 'prod',\n     *   },\n     * });\n     *\n     * logger.removePersistentKeys(['environment']);\n     * ```\n     *\n     * @param keys - The keys to remove from the persistent attributes.\n     */\n    removePersistentKeys(keys) {\n        for (const key of keys) {\n            this.persistentLogAttributes[key] = undefined;\n            if (this.temporaryLogAttributes[key]) {\n                this.#keys.set(key, 'temp');\n            }\n            else {\n                this.#keys.delete(key);\n            }\n        }\n    }\n    /**\n     * @deprecated This method is deprecated and will be removed in the future major versions. Use {@link removePersistentKeys()} instead.\n     */\n    removePersistentLogAttributes(keys) {\n        this.removePersistentKeys(keys);\n    }\n    /**\n     * Remove all temporary log attributes added with {@link appendKeys() `appendKeys()`} method.\n     */\n    resetKeys() {\n        for (const key of Object.keys(this.temporaryLogAttributes)) {\n            if (this.persistentLogAttributes[key]) {\n                this.#keys.set(key, 'persistent');\n            }\n            else {\n                this.#keys.delete(key);\n            }\n        }\n        this.temporaryLogAttributes = {};\n    }\n    /**\n     * Set the log level for this Logger instance.\n     *\n     * If the log level is set using AWS Lambda Advanced Logging Controls, it sets it\n     * instead of the given log level to avoid data loss.\n     *\n     * @param logLevel The log level to set, i.e. `error`, `warn`, `info`, `debug`, etc.\n     */\n    setLogLevel(logLevel) {\n        if (this.awsLogLevelShortCircuit(logLevel))\n            return;\n        if (this.isValidLogLevel(logLevel)) {\n            this.logLevel = LogLevelThreshold[logLevel];\n        }\n        else {\n            throw new Error(`Invalid log level: ${logLevel}`);\n        }\n    }\n    /**\n     * @deprecated This method is deprecated and will be removed in the future major versions, please use {@link appendPersistentKeys() `appendPersistentKeys()`} instead.\n     */\n    setPersistentLogAttributes(attributes) {\n        this.persistentLogAttributes = attributes;\n    }\n    /**\n     * Check whether the current Lambda invocation event should be printed in the logs or not.\n     *\n     * @param overwriteValue - Overwrite the environment variable value.\n     */\n    shouldLogEvent(overwriteValue) {\n        if (typeof overwriteValue === 'boolean') {\n            return overwriteValue;\n        }\n        return this.getLogEvent();\n    }\n    /**\n     * Print a log item with level TRACE.\n     *\n     * @param input - The log message.\n     * @param extraInput - The extra input to log.\n     */\n    trace(input, ...extraInput) {\n        this.processLogItem(LogLevelThreshold.TRACE, input, extraInput);\n    }\n    /**\n     * Print a log item with level WARN.\n     *\n     * @param input - The log message.\n     * @param extraInput - The extra input to log.\n     */\n    warn(input, ...extraInput) {\n        this.processLogItem(LogLevelThreshold.WARN, input, extraInput);\n    }\n    /**\n     * Log a warning message once per unique message.\n     *\n     * @param message - The log message.\n     */\n    #warnOnce(message) {\n        if (this.#warnOnceMap.has(message))\n            return;\n        this.#warnOnceMap.set(message, true);\n        this.warn(message);\n    }\n    /**\n     * Factory method for instantiating logger instances. Used by `createChild` method.\n     * Important for customization and subclassing. It allows subclasses, like `MyOwnLogger`,\n     * to override its behavior while keeping the main business logic in `createChild` intact.\n     *\n     * @example\n     * ```typescript\n     * // MyOwnLogger subclass\n     * class MyOwnLogger extends Logger {\n     *   protected createLogger(options?: ConstructorOptions): MyOwnLogger {\n     *     return new MyOwnLogger(options);\n     *   }\n     *   // No need to re-implement business logic from `createChild` and keep track on changes\n     *   public createChild(options?: ConstructorOptions): MyOwnLogger {\n     *     return super.createChild(options) as MyOwnLogger;\n     *   }\n     * }\n     * ```\n     *\n     * @param options - Logger configuration options.\n     */\n    createLogger(options) {\n        return new Logger(options);\n    }\n    /**\n     * A custom JSON replacer function that is used to serialize the log items.\n     *\n     * By default, we already extend the default serialization behavior to handle `BigInt` and `Error` objects, as well as remove circular references.\n     * When a custom JSON replacer function is passed to the Logger constructor, it will be called **before** our custom rules for each key-value pair in the object being stringified.\n     *\n     * This allows you to customize the serialization while still benefiting from the default behavior.\n     *\n     * @see {@link ConstructorOptions.jsonReplacerFn}\n     */\n    getJsonReplacer() {\n        const references = new WeakSet();\n        return (key, value) => {\n            let replacedValue = value;\n            if (this.#jsonReplacerFn)\n                replacedValue = this.#jsonReplacerFn?.(key, replacedValue);\n            if (replacedValue instanceof Error) {\n                replacedValue = this.getLogFormatter().formatError(replacedValue);\n            }\n            if (typeof replacedValue === 'bigint') {\n                return replacedValue.toString();\n            }\n            if (typeof replacedValue === 'object' && replacedValue !== null) {\n                if (references.has(replacedValue)) {\n                    return;\n                }\n                references.add(replacedValue);\n            }\n            return replacedValue;\n        };\n    }\n    /**\n     * Store information that is printed in all log items.\n     *\n     * @param attributes - The attributes to add to all log items.\n     */\n    addToPowertoolsLogData(attributes) {\n        merge(this.powertoolsLogData, attributes);\n    }\n    /**\n     * Shared logic for adding keys to the logger instance.\n     *\n     * @param attributes - The attributes to add to the log item.\n     * @param type - The type of the attributes to add.\n     */\n    #appendKeys(attributes, type) {\n        for (const attributeKey of Object.keys(attributes)) {\n            if (this.#checkReservedKeyAndWarn(attributeKey) === false) {\n                this.#keys.set(attributeKey, type);\n            }\n        }\n        if (type === 'temp') {\n            merge(this.temporaryLogAttributes, attributes);\n        }\n        else {\n            merge(this.persistentLogAttributes, attributes);\n        }\n    }\n    awsLogLevelShortCircuit(selectedLogLevel) {\n        if (this.#alcLogLevel !== undefined) {\n            this.logLevel = LogLevelThreshold[this.#alcLogLevel];\n            if (this.isValidLogLevel(selectedLogLevel) &&\n                this.logLevel > LogLevelThreshold[selectedLogLevel]) {\n                this.#warnOnce(`Current log level (${selectedLogLevel}) does not match AWS Lambda Advanced Logging Controls minimum log level (${this.#alcLogLevel}). This can lead to data loss, consider adjusting them.`);\n            }\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Create a log item and populate it with the given log level, input, and extra input.\n     */\n    createAndPopulateLogItem(logLevel, input, extraInput) {\n        const unformattedBaseAttributes = {\n            logLevel: this.getLogLevelNameFromNumber(logLevel),\n            timestamp: new Date(),\n            xRayTraceId: getXRayTraceIdFromEnv(),\n            ...this.getPowertoolsLogData(),\n            message: '',\n        };\n        const additionalAttributes = this.#createAdditionalAttributes();\n        this.#processMainInput(input, unformattedBaseAttributes, additionalAttributes);\n        this.#processExtraInput(extraInput, additionalAttributes);\n        return this.getLogFormatter().formatAttributes(unformattedBaseAttributes, additionalAttributes);\n    }\n    /**\n     * Create additional attributes from persistent and temporary keys\n     */\n    #createAdditionalAttributes() {\n        const attributes = {};\n        for (const [key, type] of this.#keys) {\n            if (!this.#checkReservedKeyAndWarn(key)) {\n                attributes[key] =\n                    type === 'persistent'\n                        ? this.persistentLogAttributes[key]\n                        : this.temporaryLogAttributes[key];\n            }\n        }\n        return attributes;\n    }\n    /**\n     * Process the main input message and add it to the attributes\n     */\n    #processMainInput(input, baseAttributes, additionalAttributes) {\n        if (typeof input === 'string') {\n            baseAttributes.message = input;\n            return;\n        }\n        const { message, ...rest } = input;\n        baseAttributes.message = message;\n        for (const [key, value] of Object.entries(rest)) {\n            if (!this.#checkReservedKeyAndWarn(key)) {\n                additionalAttributes[key] = value;\n            }\n        }\n    }\n    /**\n     * Process extra input items and add them to additional attributes\n     */\n    #processExtraInput(extraInput, additionalAttributes) {\n        for (const item of extraInput) {\n            if (isNullOrUndefined(item)) {\n                continue;\n            }\n            if (item instanceof Error) {\n                additionalAttributes.error = item;\n            }\n            else if (typeof item === 'string') {\n                additionalAttributes.extra = item;\n            }\n            else {\n                this.#processExtraObject(item, additionalAttributes);\n            }\n        }\n    }\n    /**\n     * Process an extra input object and add its properties to additional attributes\n     */\n    #processExtraObject(item, additionalAttributes) {\n        for (const [key, value] of Object.entries(item)) {\n            if (!this.#checkReservedKeyAndWarn(key)) {\n                additionalAttributes[key] = value;\n            }\n        }\n    }\n    /**\n     * Make a new debug log sampling decision based on the sample rate value.\n     */\n    #shouldEnableDebugSampling() {\n        return (this.#debugLogSampling.sampleRateValue &&\n            randomInt(0, 100) / 100 <= this.#debugLogSampling.sampleRateValue);\n    }\n    /**\n     * Check if a given key is reserved and warn the user if it is.\n     *\n     * @param key - The key to check\n     */\n    #checkReservedKeyAndWarn(key) {\n        if (ReservedKeys.includes(key)) {\n            this.warn(`The key \"${key}\" is a reserved key and will be dropped.`);\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Get the custom config service, an abstraction used to fetch environment variables.\n     */\n    getCustomConfigService() {\n        return this.customConfigService;\n    }\n    /**\n     * Get the instance of a service that formats the structure of a\n     * log item's keys and values in the desired way.\n     */\n    getLogFormatter() {\n        return this.logFormatter;\n    }\n    /**\n     * Get the log level name from the log level number.\n     *\n     * For example, if the log level is 16, it will return 'WARN'.\n     *\n     * @param logLevel - The log level to get the name of\n     */\n    getLogLevelNameFromNumber(logLevel) {\n        let found;\n        for (const [key, value] of Object.entries(LogLevelThreshold)) {\n            if (value === logLevel) {\n                found = key;\n                break;\n            }\n        }\n        return found;\n    }\n    /**\n     * Get information that will be added in all log item by\n     * this Logger instance (different from user-provided persistent attributes).\n     */\n    getPowertoolsLogData() {\n        return this.powertoolsLogData;\n    }\n    /**\n     * Check if a given log level is valid.\n     *\n     * @param logLevel - The log level to check\n     */\n    isValidLogLevel(logLevel) {\n        return typeof logLevel === 'string' && logLevel in LogLevelThreshold;\n    }\n    /**\n     * Check if a given sample rate value is valid.\n     *\n     * @param sampleRateValue - The sample rate value to check\n     */\n    isValidSampleRate(sampleRateValue) {\n        return (typeof sampleRateValue === 'number' &&\n            0 <= sampleRateValue &&\n            sampleRateValue <= 1);\n    }\n    /**\n     * Print a given log with given log level.\n     *\n     * @param logLevel - The log level\n     * @param log - The log item to print\n     */\n    printLog(logLevel, log) {\n        log.prepareForPrint();\n        const consoleMethod = logLevel === LogLevelThreshold.CRITICAL\n            ? 'error'\n            : this.getLogLevelNameFromNumber(logLevel).toLowerCase();\n        this.console[consoleMethod](JSON.stringify(log.getAttributes(), this.getJsonReplacer(), this.logIndentation));\n    }\n    /**\n     * Print or buffer a given log with given log level.\n     *\n     * @param logLevel - The log level threshold\n     * @param input - The log message\n     * @param extraInput - The extra input to log\n     */\n    processLogItem(logLevel, input, extraInput) {\n        const traceId = getXRayTraceIdFromEnv();\n        if (traceId !== undefined && this.shouldBufferLog(traceId, logLevel)) {\n            try {\n                this.bufferLogItem(traceId, this.createAndPopulateLogItem(logLevel, input, extraInput), logLevel);\n            }\n            catch (error) {\n                this.printLog(LogLevelThreshold.WARN, this.createAndPopulateLogItem(LogLevelThreshold.WARN, `Unable to buffer log: ${error.message}`, [error]));\n                this.printLog(logLevel, this.createAndPopulateLogItem(logLevel, input, extraInput));\n            }\n            return;\n        }\n        if (logLevel >= this.logLevel) {\n            if (this.#isInitialized) {\n                this.printLog(logLevel, this.createAndPopulateLogItem(logLevel, input, extraInput));\n            }\n            else {\n                this.#initBuffer.push([logLevel, [logLevel, input, extraInput]]);\n            }\n        }\n    }\n    /**\n     * Initialize the console property as an instance of the internal version of Console() class (PR #748)\n     * or as the global node console if the `POWERTOOLS_DEV' env variable is set and has truthy value.\n     */\n    setConsole() {\n        if (!isDevMode()) {\n            this.console = new Console({\n                stdout: process.stdout,\n                stderr: process.stderr,\n            });\n        }\n        else {\n            this.console = console;\n        }\n        /**\n         * Patch `console.trace` to avoid printing a stack trace and aligning with AWS Lambda behavior - see #2902\n         */\n        this.console.trace = (message, ...optionalParams) => {\n            this.console.log(message, ...optionalParams);\n        };\n    }\n    /**\n     * Set the initial Logger log level based on the following order:\n     * 1. If a log level is set using AWS Lambda Advanced Logging Controls, it sets it.\n     * 2. If a log level is passed to the constructor, it sets it.\n     * 3. If a log level is set via custom config service, it sets it.\n     * 4. If a log level is set via env variables, it sets it.\n     *\n     * If none of the above is true, the default log level applies (`INFO`).\n     *\n     * @param logLevel - Log level passed to the constructor\n     */\n    setInitialLogLevel(logLevel) {\n        const constructorLogLevel = logLevel?.toUpperCase();\n        if (this.awsLogLevelShortCircuit(constructorLogLevel)) {\n            this.#initialLogLevel = this.logLevel;\n            return;\n        }\n        if (this.isValidLogLevel(constructorLogLevel)) {\n            this.logLevel = LogLevelThreshold[constructorLogLevel];\n            this.#initialLogLevel = this.logLevel;\n            return;\n        }\n        const customConfigValue = this.getCustomConfigService()\n            ?.getLogLevel()\n            ?.toUpperCase();\n        if (this.isValidLogLevel(customConfigValue)) {\n            this.logLevel = LogLevelThreshold[customConfigValue];\n            this.#initialLogLevel = this.logLevel;\n            return;\n        }\n        const logLevelVariable = getStringFromEnv({\n            key: 'POWERTOOLS_LOG_LEVEL',\n            defaultValue: '',\n        });\n        const logLevelVariableAlias = getStringFromEnv({\n            key: 'LOG_LEVEL',\n            defaultValue: '',\n        });\n        const logLevelValue = logLevelVariable !== '' ? logLevelVariable : logLevelVariableAlias;\n        if (this.isValidLogLevel(logLevelValue)) {\n            this.logLevel = LogLevelThreshold[logLevelValue];\n            this.#initialLogLevel = this.logLevel;\n        }\n    }\n    /**\n     * Set the sample rate value with the following priority:\n     * 1. Constructor value\n     * 2. Custom config service value\n     * 3. Environment variable value\n     * 4. Default value (zero)\n     *\n     * @param sampleRateValue - The sample rate value\n     */\n    setInitialSampleRate(sampleRateValue) {\n        const constructorValue = sampleRateValue;\n        const customConfigValue = this.getCustomConfigService()?.getSampleRateValue();\n        const sampleRateEnvVariable = getNumberFromEnv({\n            key: 'POWERTOOLS_LOGGER_SAMPLE_RATE',\n            defaultValue: 0,\n        });\n        for (const value of [\n            constructorValue,\n            customConfigValue,\n            sampleRateEnvVariable,\n        ]) {\n            if (this.isValidSampleRate(value)) {\n                this.#debugLogSampling.sampleRateValue = value;\n                this.powertoolsLogData.sampleRateValue = value;\n                if (this.#shouldEnableDebugSampling() &&\n                    this.logLevel > LogLevelThreshold.TRACE) {\n                    this.setLogLevel('DEBUG');\n                    this.debug('Setting log level to DEBUG due to sampling rate');\n                }\n                break;\n            }\n        }\n    }\n    /**\n     * If the log event feature is enabled via env variable, it sets a property that tracks whether\n     * the event passed to the Lambda function handler should be logged or not.\n     */\n    setLogEvent() {\n        this.logEvent = getBooleanFromEnv({\n            key: 'POWERTOOLS_LOGGER_LOG_EVENT',\n            defaultValue: false,\n        });\n    }\n    /**\n     * Set the log formatter instance, in charge of giving a custom format\n     * to the structured logs, and optionally the ordering for keys within logs.\n     *\n     * @param logFormatter - The log formatter\n     * @param logRecordOrder - Optional list of keys to specify order in logs\n     */\n    setLogFormatter(logFormatter, logRecordOrder) {\n        this.logFormatter =\n            logFormatter ??\n                new PowertoolsLogFormatter({\n                    logRecordOrder,\n                });\n    }\n    /**\n     * If the `POWERTOOLS_DEV` env variable is set,\n     * add JSON indentation for pretty printing logs.\n     */\n    setLogIndentation() {\n        if (isDevMode()) {\n            this.logIndentation = LogJsonIndent.PRETTY;\n        }\n    }\n    /**\n     * Configure the Logger instance settings that will affect the Logger's behaviour\n     * and the content of all logs.\n     *\n     * @param options - Options to configure the Logger instance\n     */\n    setOptions(options) {\n        const { logLevel, serviceName, sampleRateValue, logFormatter, persistentKeys, persistentLogAttributes, // deprecated in favor of persistentKeys\n        environment, jsonReplacerFn, logRecordOrder, logBufferOptions, correlationIdSearchFn, } = options;\n        if (persistentLogAttributes &&\n            Object.keys(persistentLogAttributes).length > 0 &&\n            persistentKeys &&\n            Object.keys(persistentKeys).length > 0) {\n            this.warn('Both persistentLogAttributes and persistentKeys options were provided. Using persistentKeys as persistentLogAttributes is deprecated and will be removed in future releases');\n        }\n        // configurations that affect log content\n        this.setPowertoolsLogData(serviceName, environment, persistentKeys || persistentLogAttributes);\n        // configurations that affect Logger behavior\n        const lambdaLogLevel = getStringFromEnv({\n            key: 'AWS_LAMBDA_LOG_LEVEL',\n            defaultValue: '',\n        });\n        const AlcLogLevel = lambdaLogLevel === 'FATAL' ? 'CRITICAL' : lambdaLogLevel;\n        if (this.isValidLogLevel(AlcLogLevel)) {\n            this.#alcLogLevel = AlcLogLevel;\n        }\n        this.setLogEvent();\n        this.setInitialLogLevel(logLevel);\n        this.setInitialSampleRate(sampleRateValue);\n        // configurations that affect how logs are printed\n        this.setLogFormatter(logFormatter, logRecordOrder);\n        this.setConsole();\n        this.setLogIndentation();\n        this.#jsonReplacerFn = jsonReplacerFn;\n        this.#setLogBuffering(logBufferOptions);\n        this.#correlationIdSearchFn = correlationIdSearchFn;\n        return this;\n    }\n    /**\n     * Add important data to the Logger instance that will affect the content of all logs.\n     *\n     * @param serviceName - The service name\n     * @param environment - The environment\n     * @param persistentKeys - The persistent log attributes\n     */\n    setPowertoolsLogData(serviceName, environment, persistentKeys) {\n        this.addToPowertoolsLogData({\n            awsRegion: getStringFromEnv({\n                key: 'AWS_REGION',\n                defaultValue: '',\n            }),\n            environment: environment ||\n                this.getCustomConfigService()?.getCurrentEnvironment() ||\n                getStringFromEnv({\n                    key: 'ENVIRONMENT',\n                    defaultValue: '',\n                }),\n            serviceName: serviceName ||\n                this.getCustomConfigService()?.getServiceName() ||\n                getStringFromEnv({\n                    key: 'POWERTOOLS_SERVICE_NAME',\n                    defaultValue: '',\n                }) ||\n                this.defaultServiceName,\n        });\n        persistentKeys && this.appendPersistentKeys(persistentKeys);\n    }\n    /**\n     * Configure the buffer settings for the Logger instance.\n     *\n     * @param options - Options to configure the Logger instance\n     */\n    #setLogBuffering(options) {\n        if (options === undefined) {\n            return;\n        }\n        // `enabled` is a boolean, so we set it to true if it's not explicitly set to false\n        this.#bufferConfig.enabled = options?.enabled !== false;\n        // if `enabled` is false, we don't need to set any other options\n        if (this.#bufferConfig.enabled === false)\n            return;\n        if (options?.maxBytes !== undefined) {\n            this.#bufferConfig.maxBytes = options.maxBytes;\n        }\n        this.#buffer = new CircularMap({\n            maxBytesSize: this.#bufferConfig.maxBytes,\n        });\n        if (options?.flushOnErrorLog === false) {\n            this.#bufferConfig.flushOnErrorLog = false;\n        }\n        const bufferAtLogLevel = options?.bufferAtVerbosity?.toUpperCase();\n        if (this.isValidLogLevel(bufferAtLogLevel)) {\n            this.#bufferConfig.bufferAtVerbosity =\n                LogLevelThreshold[bufferAtLogLevel];\n        }\n        if (this.#alcLogLevel !== undefined &&\n            LogLevelThreshold[this.#alcLogLevel] >\n                this.#bufferConfig.bufferAtVerbosity) {\n            this.#warnOnce('Advanced Loggging Controls (ALC) Log Level is less verbose than Log Buffering Log Level. Buffered logs will be filtered by ALC');\n        }\n    }\n    /**\n     * Add a log to the buffer.\n     *\n     * @param xrayTraceId - `_X_AMZN_TRACE_ID` of the request\n     * @param log - Log to be buffered\n     * @param logLevel - The level of log to be buffered\n     */\n    bufferLogItem(xrayTraceId, log, logLevel) {\n        log.prepareForPrint();\n        // This is the first time we see this traceId, so we need to clear the buffer\n        // from previous requests. This is ok because in AWS Lambda, the same sandbox\n        // environment can only ever be used by one request at a time.\n        if (this.#buffer?.has(xrayTraceId) === false) {\n            this.#buffer?.clear();\n        }\n        this.#buffer?.setItem(xrayTraceId, JSON.stringify(log.getAttributes(), this.getJsonReplacer(), this.logIndentation), logLevel);\n    }\n    /**\n     * Flush all logs in the request buffer.\n     *\n     * This is called automatically when you use the {@link injectLambdaContext | `@logger.injectLambdaContext()`} decorator and\n     * your function throws an error.\n     */\n    flushBuffer() {\n        const traceId = getXRayTraceIdFromEnv();\n        if (traceId === undefined) {\n            return;\n        }\n        const buffer = this.#buffer?.get(traceId);\n        if (buffer === undefined) {\n            return;\n        }\n        for (const item of buffer) {\n            const consoleMethod = this.getLogLevelNameFromNumber(item.logLevel).toLowerCase();\n            this.console[consoleMethod](item.value);\n        }\n        if (buffer.hasEvictedLog) {\n            this.printLog(LogLevelThreshold.WARN, this.createAndPopulateLogItem(LogLevelThreshold.WARN, 'Some logs are not displayed because they were evicted from the buffer. Increase buffer size to store more logs in the buffer', []));\n        }\n        if (this.#alcLogLevel !== undefined &&\n            LogLevelThreshold[this.#alcLogLevel] >\n                this.#bufferConfig.bufferAtVerbosity) {\n            this.#warnOnce('Advanced Loggging Controls (ALC) Log Level is less verbose than Log Buffering Log Level. Some logs might be missing.');\n        }\n        this.#buffer?.delete(traceId);\n    }\n    /**\n     * Empties the buffer for the current request\n     */\n    clearBuffer() {\n        const traceId = getXRayTraceIdFromEnv();\n        if (traceId === undefined) {\n            return;\n        }\n        this.#buffer?.delete(traceId);\n    }\n    /**\n     * Test if the log meets the criteria to be buffered.\n     *\n     * @param traceId - `_X_AMZN_TRACE_ID` of the request\n     * @param logLevel - The level of the log being considered\n     */\n    shouldBufferLog(traceId, logLevel) {\n        return (this.#bufferConfig.enabled &&\n            traceId !== undefined &&\n            logLevel <= this.#bufferConfig.bufferAtVerbosity);\n    }\n    /**\n     * Set the correlation ID for the log item.\n     *\n     * This method can be used to set the correlation ID for the log item or to search for the correlation ID in the event.\n     *\n     * @example\n     * ```typescript\n     * import { Logger } from '@aws-lambda-powertools/logger';\n     *\n     * const logger = new Logger();\n     * logger.setCorrelationId('my-correlation-id'); // sets the correlation ID directly with the first argument as value\n     * ```\n     *\n     * @example\n     * ```typescript\n     * import { Logger } from '@aws-lambda-powertools/logger';\n     * import { search } from '@aws-lambda-powertools/logger/correlationId';\n     *\n     * const logger = new Logger({ correlationIdSearchFn: search });\n     * logger.setCorrelationId(event, 'requestContext.requestId'); // sets the correlation ID from the event using JMSPath expression\n     * ```\n     *\n     * @param value - The value to set as the correlation ID or the event to search for the correlation ID\n     * @param correlationIdPath - Optional JMESPath expression to extract the correlation ID for the payload\n     */\n    setCorrelationId(value, correlationIdPath) {\n        if (typeof correlationIdPath === 'string') {\n            if (!this.#correlationIdSearchFn) {\n                this.#warnOnce('correlationIdPath is set but no search function was provided. The correlation ID will not be added to the log attributes.');\n                return;\n            }\n            const correlationId = this.#correlationIdSearchFn(correlationIdPath, value);\n            if (correlationId)\n                this.appendKeys({ correlation_id: correlationId });\n            return;\n        }\n        // If no correlationIdPath is provided, set the correlation ID directly\n        this.appendKeys({ correlation_id: value });\n    }\n    /**\n     * Get the correlation ID from the log attributes.\n     */\n    getCorrelationId() {\n        return this.temporaryLogAttributes.correlation_id;\n    }\n}\nexport { Logger };\n", "// this file is auto generated, do not modify\nexport const PT_VERSION = '2.28.1';\n", "import { PT_VERSION } from './version.js';\nconst EXEC_ENV = process.env.AWS_EXECUTION_ENV || 'NA';\nconst middlewareOptions = {\n    relation: 'after',\n    toMiddleware: 'getUserAgentMiddleware',\n    name: 'addPowertoolsToUserAgent',\n    tags: ['POWERTOOLS', 'USER_AGENT'],\n};\n/**\n * Type guard to check if the client provided is a valid AWS SDK v3 client.\n *\n * @internal\n */\nconst isSdkClient = (client) => typeof client === 'object' &&\n    client !== null &&\n    'send' in client &&\n    typeof client.send === 'function' &&\n    'config' in client &&\n    client.config !== undefined &&\n    typeof client.config === 'object' &&\n    client.config !== null &&\n    'middlewareStack' in client &&\n    client.middlewareStack !== undefined &&\n    typeof client.middlewareStack === 'object' &&\n    client.middlewareStack !== null &&\n    'identify' in client.middlewareStack &&\n    typeof client.middlewareStack.identify === 'function' &&\n    'addRelativeTo' in client.middlewareStack &&\n    typeof client.middlewareStack.addRelativeTo === 'function';\n/**\n * Helper function to create a custom user agent middleware for the AWS SDK v3 clients.\n *\n * The middleware will append the provided feature name and the current version of\n * the Powertools for AWS Lambda library to the user agent string.\n *\n * @example \"PT/Tracer/2.1.0 PTEnv/nodejs20x\"\n *\n * @param feature The feature name to be added to the user agent\n *\n * @internal\n */\nconst customUserAgentMiddleware = (feature) => {\n    return (next) => async (args) => {\n        const existingUserAgent = args.request.headers['user-agent'] || '';\n        if (existingUserAgent.includes('PT/NO-OP')) {\n            const featureSpecificUserAgent = existingUserAgent.replace('PT/NO-OP', `PT/${feature}/${PT_VERSION} PTEnv/${EXEC_ENV}`);\n            args.request.headers['user-agent'] = featureSpecificUserAgent;\n            return await next(args);\n        }\n        if (existingUserAgent.includes('PT/')) {\n            return await next(args);\n        }\n        args.request.headers['user-agent'] =\n            existingUserAgent === ''\n                ? `PT/${feature}/${PT_VERSION} PTEnv/${EXEC_ENV}`\n                : `${existingUserAgent} PT/${feature}/${PT_VERSION} PTEnv/${EXEC_ENV}`;\n        return await next(args);\n    };\n};\n/**\n * Check if the provided middleware stack already has the Powertools for AWS Lambda\n * user agent middleware.\n *\n * @param middlewareStack The middleware stack to check\n *\n * @internal\n */\nconst hasPowertools = (middlewareStack) => {\n    let found = false;\n    for (const middleware of middlewareStack) {\n        if (middleware.includes('addPowertoolsToUserAgent')) {\n            found = true;\n        }\n    }\n    return found;\n};\n/**\n * Add the Powertools for AWS Lambda user agent middleware to the\n * AWS SDK v3 client provided.\n *\n * We use this middleware to unbotrusively track the usage of the library\n * and secure continued investment in the project.\n *\n * @param client The AWS SDK v3 client to add the middleware to\n * @param feature The feature name to be added to the user agent\n */\nconst addUserAgentMiddleware = (client, feature) => {\n    try {\n        if (isSdkClient(client)) {\n            if (hasPowertools(client.middlewareStack.identify())) {\n                return;\n            }\n            client.middlewareStack.addRelativeTo(customUserAgentMiddleware(feature), middlewareOptions);\n        }\n        else {\n            throw new Error('The client provided does not match the expected interface');\n        }\n    }\n    catch (error) {\n        console.warn('Failed to add user agent middleware', error);\n    }\n};\nexport { customUserAgentMiddleware, addUserAgentMiddleware, isSdkClient };\n", "/**\n * These constants are used to store cleanup functions in Middy's `request.internal` object.\n * They are used by the `cleanupPowertools` function to check if any cleanup function\n * is present and execute it.\n */\nconst PREFIX = 'powertools-for-aws';\n/**\n * Key to store the tracer instance in the `request.internal` object.\n *\n * @see {@link cleanupMiddlewares}\n */\nconst TRACER_KEY = `${PREFIX}.tracer`;\n/**\n * Key to store the metrics instance in the `request.internal` object.\n *\n * @see {@link cleanupMiddlewares}\n */\nconst METRICS_KEY = `${PREFIX}.metrics`;\n/**\n * Key to store the logger instance in the `request.internal` object.\n *\n * @see {@link cleanupMiddlewares}\n */\nconst LOGGER_KEY = `${PREFIX}.logger`;\n/**\n * Key to store the idempotency instance in the `request.internal` object.\n *\n * @see {@link cleanupMiddlewares}\n */\nconst IDEMPOTENCY_KEY = `${PREFIX}.idempotency`;\nexport { PREFIX, TRACER_KEY, METRICS_KEY, LOGGER_KEY, IDEMPOTENCY_KEY };\n", "/**\n * Check if a value is a record.\n *\n * @example\n * ```typescript\n * import { isRecord } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = { key: 'value' };\n * if (isRecord(value)) {\n *   // value is a record\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isRecord = (value) => {\n    return (Object.prototype.toString.call(value) === '[object Object]' &&\n        !Object.is(value, null));\n};\n/**\n * Check if a value is a string.\n *\n * @example\n * ```typescript\n * import { isString } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = 'foo';\n * if (isString(value)) {\n *   // value is a string\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isString = (value) => {\n    return typeof value === 'string';\n};\n/**\n * Check if a value is a number.\n *\n * @example\n * ```typescript\n * import { isNumber } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = 42;\n * if (isNumber(value)) {\n *   // value is a number\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isNumber = (value) => {\n    return typeof value === 'number';\n};\n/**\n * Check if a value is an integer number.\n *\n * @example\n * ```typescript\n * import { isIntegerNumber } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = 42;\n * if (isIntegerNumber(value)) {\n *   // value is an integer number\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isIntegerNumber = (value) => {\n    return isNumber(value) && Number.isInteger(value);\n};\n/**\n * Check if a value is truthy.\n *\n * @example\n * ```typescript\n * import { isTruthy } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = 'yes';\n * if (isTruthy(value)) {\n *   // value is truthy\n * }\n * ```\n *\n * @see https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/types-grammar/ch4.md#toboolean\n *\n * @param value - The value to check\n */\nconst isTruthy = (value) => {\n    if (isString(value)) {\n        return value !== '';\n    }\n    if (isNumber(value)) {\n        return value !== 0;\n    }\n    if (typeof value === 'boolean') {\n        return value;\n    }\n    if (Array.isArray(value)) {\n        return value.length > 0;\n    }\n    if (isRecord(value)) {\n        return Object.keys(value).length > 0;\n    }\n    return false;\n};\n/**\n * Check if a value is `null`.\n *\n * @example\n * ```typescript\n * import { isNull } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = null;\n * if (isNull(value)) {\n *   // value is null\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isNull = (value) => {\n    return Object.is(value, null);\n};\n/**\n * Check if a value is `null` or `undefined`.\n *\n * @example\n * ```typescript\n * import { isNullOrUndefined } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = null;\n * if (isNullOrUndefined(value)) {\n *   // value is null or undefined\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isNullOrUndefined = (value) => {\n    return isNull(value) || Object.is(value, undefined);\n};\n/**\n * Check if string is undefined, null, empty.\n *\n * @example\n * ```typescript\n * import { isStringUndefinedNullEmpty } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = 'foo';\n * if (isStringUndefinedNullEmpty(value)) {\n *   // value is either undefined, null, or an empty string\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isStringUndefinedNullEmpty = (value) => {\n    if (isNullOrUndefined(value))\n        return true;\n    if (!isString(value))\n        return true;\n    if (value.trim().length === 0)\n        return true;\n    return false;\n};\n/**\n * Check if a Regular Expression\n *\n * @example\n * ```typescript\n * import { isRegExp } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const value = /^foo.+$/;\n * if (isRegExp(value)) {\n *   // value is a Regular Expression\n * }\n * ```\n *\n * @param value - The value to check\n */\nconst isRegExp = (value) => {\n    return value instanceof RegExp;\n};\n/**\n * Get the type of a value as a string.\n *\n * @example\n * ```typescript\n * import { getType } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const type = getType('foo'); // 'string'\n * const otherType = getType(42); // 'number'\n * const anotherType = getType({ key: 'value' }); // 'object'\n * const unknownType = getType(Symbol('foo')); // 'unknown'\n * ```\n *\n * @param value - The value to check\n */\nconst getType = (value) => {\n    if (Array.isArray(value)) {\n        return 'array';\n    }\n    if (isRecord(value)) {\n        return 'object';\n    }\n    if (isString(value)) {\n        return 'string';\n    }\n    if (isNumber(value)) {\n        return 'number';\n    }\n    if (typeof value === 'boolean') {\n        return 'boolean';\n    }\n    if (isNull(value)) {\n        return 'null';\n    }\n    return 'unknown';\n};\n/**\n * Compare two arrays for strict equality.\n *\n * This function compares each element in the arrays, regardless of order.\n *\n * @example\n * ```typescript\n * import { areArraysEqual } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const left = [1, 2, 3];\n * const right = [3, 2, 1];\n * const equal = areArraysEqual(left, right); // true\n *\n * const otherLeft = [1, 2, 3];\n * const otherRight = [1, 2, 4];\n * const otherEqual = areArraysEqual(otherLeft, otherRight); // false\n * ```\n *\n * @param left - The left array to compare\n * @param right - The right array to compare\n */\nconst areArraysEqual = (left, right) => {\n    if (left.length !== right.length) {\n        return false;\n    }\n    return left.every((value, i) => isStrictEqual(value, right[i]));\n};\n/**\n * Compare two records for strict equality.\n *\n * @example\n * ```typescript\n * import { areRecordsEqual } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const left = { key: 'value' };\n * const right = { key: 'value' };\n * const equal = areRecordsEqual(left, right); // true\n *\n * const otherLeft = { key: 'value' };\n * const otherRight = { key: 'other value' };\n * const otherEqual = areRecordsEqual(otherLeft, otherRight); // false\n * ```\n *\n * @param left - The left record to compare\n * @param right - The right record to compare\n */\nconst areRecordsEqual = (left, right) => {\n    const leftKeys = Object.keys(left);\n    const rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) {\n        return false;\n    }\n    return leftKeys.every((key) => isStrictEqual(left[key], right[key]));\n};\n/**\n * Check if two unknown values are strictly equal.\n *\n * If the values are arrays, then each element is compared, regardless of\n * order. If the values are objects, then each key and value from left\n * is compared to the corresponding key and value from right. If the\n * values are primitives, then they are compared using strict equality.\n *\n * @example\n * ```typescript\n * import { isStrictEqual } from '@aws-lambda-powertools/commons/typeUtils';\n *\n * const left = { key: 'value' };\n * const right = { key: 'value' };\n * const equal = isStrictEqual(left, right); // true\n *\n * const otherLeft = [1, 2, 3];\n * const otherRight = [3, 2, 1];\n * const otherEqual = isStrictEqual(otherLeft, otherRight); // true\n *\n * const anotherLeft = 'foo';\n * const anotherRight = 'bar';\n * const anotherEqual = isStrictEqual(anotherLeft, anotherRight); // false\n *\n * const yetAnotherLeft = 42;\n * const yetAnotherRight = 42;\n * const yetAnotherEqual = isStrictEqual(yetAnotherLeft, yetAnotherRight); // true\n * ```\n *\n * @param left - Left side of strict equality comparison\n * @param right - Right side of strict equality comparison\n */\nconst isStrictEqual = (left, right) => {\n    if (left === right) {\n        return true;\n    }\n    if (typeof left !== typeof right) {\n        return false;\n    }\n    if (Array.isArray(left) && Array.isArray(right)) {\n        return areArraysEqual(left, right);\n    }\n    if (isRecord(left) && isRecord(right)) {\n        return areRecordsEqual(left, right);\n    }\n    return false;\n};\nexport { isRecord, isString, isNumber, isIntegerNumber, isTruthy, isNull, isNullOrUndefined, isStringUndefinedNullEmpty, isRegExp, getType, isStrictEqual, };\n", "/**\n * `Utility` is a base class that other Powertools for AWS Lambda (TypeScript) utilites can extend to inherit shared logic.\n *\n * Its main purpose is to encapsulate the cold start heuristic logic. Cold start is a term commonly used to describe the `Init` phase of a Lambda function.\n * In this phase, Lambda creates or unfreezes an execution environment with the configured resources, downloads the code for the function and all layers,\n * initializes any extensions, initializes the runtime, and then runs the function\u2019s initialization code (the code outside the main handler).\n *\n * The Init phase happens either during the first invocation, or in advance of function invocations if you have enabled provisioned concurrency.\n *\n * To learn more about the Lambda execution environment lifecycle, see the [Execution environment section](https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html) of the AWS Lambda documentation.\n *\n * As a Powertools for AWS Lambda (TypeScript) user you probably won't be using this class directly, in fact if you use other Powertools for AWS utilities the cold start heuristic found here is already used to:\n * - Add a `coldStart` key to the structured logs when injecting context information in `Logger`\n * - Emit a metric during a cold start function invocation in `Metrics`\n * - Annotate the invocation segment with a `coldStart` key in `Tracer`\n *\n * If you want to use this logic in your own utilities, `Utility` provides two methods:\n *\n * `Utility.getColdStart()`\n *\n * Since the `Utility` class is instantiated outside of the Lambda handler it will persist across invocations of the same execution environment. This means that if you call `getColdStart()` multiple times, it will return `true` during the first invocation, and `false` afterwards.\n *\n * @example\n * ```typescript\n * import { Utility } from '@aws-lambda-powertools/commons';\n *\n * const utility = new Utility();\n *\n * export const handler = async (_event: any, _context: any) => {\n *   utility.getColdStart();\n * };\n * ```\n *\n * `Utility.isColdStart()`\n *\n * This method is an alias of `getColdStart()` and is exposed for convenience and better readability in certain usages.\n *\n * @example\n * ```typescript\n * import { Utility } from '@aws-lambda-powertools/commons';\n *\n * const utility = new Utility();\n *\n * export const handler = async (_event: any, _context: any) => {\n *   if (utility.isColdStart()) {\n *     // do something, this block is only executed on the first invocation of the function\n *   } else {\n *     // do something else, this block gets executed on all subsequent invocations\n *   }\n * };\n * ```\n */\nexport class Utility {\n    #initializationType;\n    coldStart = true;\n    defaultServiceName = 'service_undefined';\n    constructor() {\n        this.#initializationType = this.getInitializationType();\n        if (this.#initializationType !== 'on-demand') {\n            this.coldStart = false;\n        }\n    }\n    /**\n     * Get the value of the `AWS_LAMBDA_INITIALIZATION_TYPE` environment variable.\n     */\n    getInitializationType() {\n        const envVarValue = process.env.AWS_LAMBDA_INITIALIZATION_TYPE?.trim();\n        if (envVarValue === 'on-demand') {\n            return 'on-demand';\n        }\n        if (envVarValue === 'provisioned-concurrency') {\n            return 'provisioned-concurrency';\n        }\n        return 'unknown';\n    }\n    /**\n     * Get the cold start status of the current execution environment.\n     *\n     * The method also flips the cold start status to `false` after the first invocation.\n     */\n    getColdStart() {\n        if (this.#initializationType !== 'on-demand') {\n            return false;\n        }\n        if (this.coldStart) {\n            this.coldStart = false;\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Validate that the service name provided is valid.\n     * Used internally during initialization.\n     *\n     * @param serviceName Service name to validate\n     */\n    isValidServiceName(serviceName) {\n        return typeof serviceName === 'string' && serviceName.trim().length > 0;\n    }\n}\n", "import { PT_VERSION } from './version.js';\nconst env = process.env.AWS_EXECUTION_ENV || 'NA';\nif (process.env.AWS_SDK_UA_APP_ID) {\n    process.env.AWS_SDK_UA_APP_ID = `${process.env.AWS_SDK_UA_APP_ID}/PT/NO-OP/${PT_VERSION}/PTEnv/${env}`;\n}\nelse {\n    process.env.AWS_SDK_UA_APP_ID = `PT/NO-OP/${PT_VERSION}/PTEnv/${env}`;\n}\nexport { addUserAgentMiddleware, isSdkClient } from './awsSdkUtils.js';\nexport { cleanupMiddlewares } from './middleware/cleanupMiddlewares.js';\nexport { IDEMPOTENCY_KEY, LOGGER_KEY, METRICS_KEY, TRACER_KEY, } from './middleware/constants.js';\nexport { getType, isIntegerNumber, isNull, isNullOrUndefined, isNumber, isRecord, isRegExp, isStrictEqual, isString, isStringUndefinedNullEmpty, isTruthy, } from './typeUtils.js';\nexport { Utility } from './Utility.js';\nexport { PT_VERSION } from './version.js';\n", "import { LogFormatter } from './LogFormatter.js';\nimport { LogItem } from './LogItem.js';\n/**\n * This class is used to transform a set of log key-value pairs\n * in the Powertools for AWS Lambda default structure log format.\n *\n * @class\n * @extends {LogFormatter}\n */\nclass PowertoolsLogFormatter extends LogFormatter {\n    /**\n     * List of keys to order log attributes by.\n     *\n     * This can be a set of keys or an array of keys.\n     */\n    #logRecordOrder;\n    constructor(options) {\n        super();\n        this.#logRecordOrder = options?.logRecordOrder;\n    }\n    /**\n     * It formats key-value pairs of log attributes.\n     *\n     * @param {UnformattedAttributes} attributes - unformatted attributes\n     * @param {LogAttributes} additionalLogAttributes - additional log attributes\n     */\n    formatAttributes(attributes, additionalLogAttributes) {\n        const baseAttributes = {\n            level: attributes.logLevel,\n            message: attributes.message,\n            timestamp: this.formatTimestamp(attributes.timestamp),\n            service: attributes.serviceName,\n            cold_start: attributes.lambdaContext?.coldStart,\n            function_arn: attributes.lambdaContext?.invokedFunctionArn,\n            function_memory_size: attributes.lambdaContext?.memoryLimitInMB,\n            function_name: attributes.lambdaContext?.functionName,\n            function_request_id: attributes.lambdaContext?.awsRequestId,\n            sampling_rate: attributes.sampleRateValue,\n            xray_trace_id: attributes.xRayTraceId,\n        };\n        // If logRecordOrder is not set, return the log item with the attributes in the order they were added\n        if (this.#logRecordOrder === undefined) {\n            return new LogItem({ attributes: baseAttributes }).addAttributes(additionalLogAttributes);\n        }\n        const orderedAttributes = {};\n        // If logRecordOrder is set, order the attributes in the log item\n        for (const key of this.#logRecordOrder) {\n            if (key in baseAttributes && !(key in orderedAttributes)) {\n                orderedAttributes[key] = baseAttributes[key];\n            }\n            else if (key in additionalLogAttributes &&\n                !(key in orderedAttributes)) {\n                orderedAttributes[key] = additionalLogAttributes[key];\n            }\n        }\n        // Add remaining attributes from baseAttributes\n        for (const key in baseAttributes) {\n            if (!(key in orderedAttributes)) {\n                orderedAttributes[key] = baseAttributes[key];\n            }\n        }\n        // Add remaining attributes from additionalLogAttributes\n        for (const key in additionalLogAttributes) {\n            if (!(key in orderedAttributes)) {\n                orderedAttributes[key] = additionalLogAttributes[key];\n            }\n        }\n        const powertoolsLogItem = new LogItem({\n            attributes: orderedAttributes,\n        });\n        return powertoolsLogItem;\n    }\n}\nexport { PowertoolsLogFormatter };\n", "import { isString } from '@aws-lambda-powertools/commons/typeutils';\n/**\n * A data structure that holds a value and its byte size.\n *\n * @internal\n */\nexport class SizedItem {\n    value;\n    logLevel;\n    byteSize;\n    constructor(value, logLevel) {\n        if (!isString(value)) {\n            throw new Error('Value should be a string');\n        }\n        this.value = value;\n        this.logLevel = logLevel;\n        this.byteSize = Buffer.byteLength(value);\n    }\n}\n/**\n * A set that tracks its current byte size.\n *\n * @internal\n */\nexport class SizedSet extends Set {\n    currentBytesSize = 0;\n    hasEvictedLog = false;\n    /**\n     * Adds an item to the set and updates the current byte size.\n     *\n     * @param item - The item to add\n     */\n    add(item) {\n        this.currentBytesSize += item.byteSize;\n        super.add(item);\n        return this;\n    }\n    /**\n     * Deletes an item from the set and updates the current byte size.\n     *\n     * @param item - The item to delete\n     */\n    delete(item) {\n        const wasDeleted = super.delete(item);\n        if (wasDeleted) {\n            this.currentBytesSize -= item.byteSize;\n        }\n        return wasDeleted;\n    }\n    /**\n     * Clears all items from the set and resets the current byte size.\n     */\n    clear() {\n        super.clear();\n        this.currentBytesSize = 0;\n    }\n    /**\n     * Removes the first item from the set and returns it.\n     */\n    shift() {\n        const firstElement = this.values().next().value;\n        if (firstElement) {\n            this.delete(firstElement);\n        }\n        return firstElement;\n    }\n}\n/**\n * A ring buffer that stores logs in a circular manner.\n *\n * @internal\n */\nexport class CircularMap extends Map {\n    #maxBytesSize;\n    #onBufferOverflow;\n    constructor({ maxBytesSize, onBufferOverflow, }) {\n        super();\n        this.#maxBytesSize = maxBytesSize;\n        this.#onBufferOverflow = onBufferOverflow;\n    }\n    /**\n     * Adds an item to the buffer, evicting older items if necessary.\n     *\n     * @param key - The key to associate with the item\n     * @param value - The item to add\n     * @param logLevel - The log level of the item\n     */\n    setItem(key, value, logLevel) {\n        const item = new SizedItem(value, logLevel);\n        if (item.byteSize > this.#maxBytesSize) {\n            throw new Error('Item too big');\n        }\n        const buffer = this.get(key) || new SizedSet();\n        if (buffer.currentBytesSize + item.byteSize >= this.#maxBytesSize) {\n            this.#deleteFromBufferUntilSizeIsLessThanMax(buffer, item);\n            if (this.#onBufferOverflow) {\n                this.#onBufferOverflow();\n            }\n        }\n        buffer.add(item);\n        super.set(key, buffer);\n        return this;\n    }\n    /**\n     * Deletes an item from the buffer.\n     *\n     * @param key - The key associated with the item\n     * @param value - The item to delete\n     */\n    #deleteFromBufferUntilSizeIsLessThanMax(buffer, item) {\n        while (buffer.currentBytesSize + item.byteSize >= this.#maxBytesSize) {\n            buffer.shift();\n            buffer.hasEvictedLog = true;\n        }\n    }\n}\n", "import { Logger as PowertoolsLogger } from '@aws-lambda-powertools/logger';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n/**\r\n * Context information for structured logging\r\n */\r\nexport interface LogContext {\r\n  traceId?: string;\r\n  agent?: string;\r\n  leadId?: string;\r\n  tenantId?: string;\r\n  campaignId?: string;\r\n  [key: string]: any;\r\n}\r\n\r\n/**\r\n * Structured logger using AWS Lambda Powertools\r\n * Automatically includes trace_id, agent, leadId, and tenantId in all logs\r\n */\r\nexport class Logger {\r\n  private logger: PowertoolsLogger;\r\n  private context: LogContext;\r\n\r\n  constructor(serviceName?: string, context?: LogContext) {\r\n    this.logger = new PowertoolsLogger({\r\n      serviceName: serviceName || process.env.POWERTOOLS_SERVICE_NAME || 'fibonacci-service',\r\n      logLevel: (process.env.LOG_LEVEL as 'DEBUG' | 'INFO' | 'WARN' | 'ERROR') || 'INFO',\r\n      sampleRateValue: 0.1, // Sample 10% of logs for detailed tracing\r\n    });\r\n\r\n    this.context = {\r\n      traceId: context?.traceId || uuidv4(),\r\n      ...context,\r\n    };\r\n\r\n    // Add persistent context to all logs\r\n    if (this.context.agent) {\r\n      this.logger.appendKeys({ agent: this.context.agent });\r\n    }\r\n    if (this.context.leadId) {\r\n      this.logger.appendKeys({ leadId: this.context.leadId });\r\n    }\r\n    if (this.context.tenantId) {\r\n      this.logger.appendKeys({ tenantId: this.context.tenantId });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get the current trace ID\r\n   */\r\n  getTraceId(): string {\r\n    return this.context.traceId || '';\r\n  }\r\n\r\n  /**\r\n   * Set a new trace ID\r\n   */\r\n  setTraceId(traceId: string): void {\r\n    this.context.traceId = traceId;\r\n  }\r\n\r\n  /**\r\n   * Get the current context\r\n   */\r\n  getContext(): LogContext {\r\n    return { ...this.context };\r\n  }\r\n\r\n  /**\r\n   * Update context with new values\r\n   */\r\n  updateContext(newContext: Partial<LogContext>): void {\r\n    this.context = { ...this.context, ...newContext };\r\n    \r\n    // Update persistent keys in Powertools logger\r\n    const keysToAdd: Record<string, any> = {};\r\n    if (newContext.agent) keysToAdd.agent = newContext.agent;\r\n    if (newContext.leadId) keysToAdd.leadId = newContext.leadId;\r\n    if (newContext.tenantId) keysToAdd.tenantId = newContext.tenantId;\r\n    if (newContext.campaignId) keysToAdd.campaignId = newContext.campaignId;\r\n    \r\n    if (Object.keys(keysToAdd).length > 0) {\r\n      this.logger.appendKeys(keysToAdd);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Log info level message\r\n   */\r\n  info(message: string, metadata?: Record<string, any>): void {\r\n    this.logger.info(message, {\r\n      trace_id: this.context.traceId,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Log warning level message\r\n   */\r\n  warn(message: string, metadata?: Record<string, any>): void {\r\n    this.logger.warn(message, {\r\n      trace_id: this.context.traceId,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Log error level message\r\n   */\r\n  error(message: string, error?: Error, metadata?: Record<string, any>): void {\r\n    const errorDetails = error\r\n      ? {\r\n          error: {\r\n            name: error.name,\r\n            message: error.message,\r\n            stack: error.stack,\r\n          },\r\n        }\r\n      : {};\r\n\r\n    this.logger.error(message, {\r\n      trace_id: this.context.traceId,\r\n      ...errorDetails,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Log debug level message\r\n   */\r\n  debug(message: string, metadata?: Record<string, any>): void {\r\n    this.logger.debug(message, {\r\n      trace_id: this.context.traceId,\r\n      ...metadata,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Add persistent log keys that will be included in all subsequent logs\r\n   */\r\n  appendKeys(keys: Record<string, any>): void {\r\n    this.logger.appendKeys(keys);\r\n  }\r\n\r\n  /**\r\n   * Remove persistent log keys\r\n   */\r\n  removeKeys(keys: string[]): void {\r\n    this.logger.removeKeys(keys);\r\n  }\r\n\r\n  /**\r\n   * Create a child logger with additional context\r\n   */\r\n  createChild(additionalContext: Partial<LogContext>): Logger {\r\n    const childLogger = new Logger(\r\n      process.env.POWERTOOLS_SERVICE_NAME || 'fibonacci-service',\r\n      { ...this.context, ...additionalContext }\r\n    );\r\n    return childLogger;\r\n  }\r\n\r\n  /**\r\n   * Log custom metric (for backward compatibility)\r\n   */\r\n  logCustomMetric(metricName: string, value: number, metadata?: Record<string, any>): void {\r\n    this.info(`Custom metric: ${metricName}`, {\r\n      metric: metricName,\r\n      value,\r\n      ...metadata\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Log API request (for backward compatibility)\r\n   */\r\n  logApiRequest(method: string, path: string, metadata?: Record<string, any>): void {\r\n    this.info(`API Request: ${method} ${path}`, {\r\n      method,\r\n      path,\r\n      ...metadata\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Finish operation logging (for backward compatibility)\r\n   */\r\n  finishOperation(success: boolean, metadata?: Record<string, any>): void {\r\n    if (success) {\r\n      this.info('Operation completed successfully', metadata);\r\n    } else {\r\n      this.error('Operation failed', undefined, metadata);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Create a logger instance with optional service name and context\r\n */\r\nexport function createLogger(serviceName?: string, context?: LogContext): Logger {\r\n  return new Logger(serviceName, context);\r\n}\r\n\r\n/**\r\n * Create a logger for an agent with automatic agent name context\r\n */\r\nexport function createAgentLogger(agentName: string, context?: Partial<LogContext>): Logger {\r\n  return new Logger(`fibonacci-${agentName}`, {\r\n    agent: agentName,\r\n    ...context,\r\n  });\r\n}\r\n\r\n/**\r\n * Type alias for enhanced logger (for backward compatibility)\r\n */\r\nexport type EnhancedLogger = Logger;\r\n\r\n/**\r\n * Default logger instance\r\n */\r\nexport const logger = new Logger();\r\n", "/**\n * If the AWS_XRAY_CONTEXT_MISSING environment variable is not set, we set it to IGNORE_ERROR.\n *\n * This is to prevent the AWS X-Ray SDK from logging errors when using top-level await features that make HTTP requests.\n * For example, when using the Parameters utility to fetch parameters during the initialization of the Lambda handler - See #2046\n */\nif (process.env.AWS_XRAY_CONTEXT_MISSING === '' ||\n    process.env.AWS_XRAY_CONTEXT_MISSING === undefined) {\n    process.env.AWS_XRAY_CONTEXT_MISSING = 'IGNORE_ERROR';\n}\nimport { Utility } from '@aws-lambda-powertools/commons';\nimport { getServiceName, getStringFromEnv, getXRayTraceIdFromEnv, isRequestXRaySampled, } from '@aws-lambda-powertools/commons/utils/env';\nimport xraySdk from 'aws-xray-sdk-core';\nimport { ProviderService } from './provider/ProviderService.js';\nconst { Subsegment: XraySubsegment } = xraySdk;\n/**\n * Tracer is an opinionated thin wrapper for [AWS X-Ray SDK for Node.js](https://github.com/aws/aws-xray-sdk-node).\n *\n * Tracing data can be visualized through AWS X-Ray Console.\n *\n * **Key features**\n * - Auto capture cold start as annotation, and responses or full exceptions as metadata\n * - Auto-disable when not running in AWS Lambda environment\n * - Automatically trace HTTP(s) clients and generate segments for each request\n * - Support tracing functions via decorators, middleware, and manual instrumentation\n * - Support tracing AWS SDK v2 and v3 via AWS X-Ray SDK for Node.js\n *\n * **Functions usage with middleware**\n *\n * If you use function-based Lambda handlers you can use the {@link Tracer.captureLambdaHandler} middy middleware to automatically:\n * - handle the subsegment lifecycle\n * - add the `ServiceName` and `ColdStart` annotations\n * - add the function response as metadata\n * - add the function error as metadata (if any)\n *\n * @example\n * ```typescript\n * import { Tracer } from '@aws-lambda-powertools/tracer';\n * import { captureLambdaHandler } from '@aws-lambda-powertools/tracer/middleware';\n * import middy from '@middy/core';\n *\n * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n *\n * const lambdaHandler = async (_event: unknown, _context: unknown) => {\n *   ...\n * };\n *\n * export const handler = middy(lambdaHandler).use(captureLambdaHandler(tracer));\n * ```\n *\n * **Object oriented usage with decorators**\n *\n * If instead you use TypeScript Classes to wrap your Lambda handler you can use the {@link Tracer.captureLambdaHandler} decorator to automatically:\n * - handle the subsegment lifecycle\n * - add the `ServiceName` and `ColdStart` annotations\n * - add the function response as metadata\n * - add the function error as metadata (if any)\n *\n * @example\n * ```typescript\n * import { Tracer } from '@aws-lambda-powertools/tracer';\n * import type { LambdaInterface } from '@aws-lambda-powertools/commons/types';\n *\n * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n *\n * class Lambda implements LambdaInterface {\n *   \u2063@tracer.captureLambdaHandler()\n *   public handler(_event: unknown, _context: unknown) {\n *     ...\n *   }\n * }\n *\n * const handlerClass = new Lambda();\n * export const handler = handlerClass.handler.bind(handlerClass);\n * ```\n *\n * **Functions usage with manual instrumentation**\n *\n * If you prefer to manually instrument your Lambda handler you can use the methods in the tracer class directly.\n *\n * @example\n * ```typescript\n * import { Tracer } from '@aws-lambda-powertools/tracer';\n *\n * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n *\n * export const handler = async (_event: unknown, _context: unknown) => {\n *   const segment = tracer.getSegment(); // This is the facade segment (the one that is created by AWS Lambda)\n *   // Create subsegment for the function & set it as active\n *   const subsegment = segment.addNewSubsegment(`## ${process.env._HANDLER}`);\n *   tracer.setSegment(subsegment);\n *\n *   // Annotate the subsegment with the cold start & serviceName\n *   tracer.annotateColdStart();\n *   tracer.addServiceNameAnnotation();\n *\n *   let res;\n *   try {\n *       // ... your own logic goes here\n *       // Add the response as metadata\n *       tracer.addResponseAsMetadata(res, process.env._HANDLER);\n *   } catch (err) {\n *       // Add the error as metadata\n *       tracer.addErrorAsMetadata(err as Error);\n *       throw err;\n *   } finally {\n *       // Close the subsegment\n *       subsegment.close();\n *       // Set the facade segment as active again\n *       tracer.setSegment(segment);\n *   }\n *\n *   return res;\n * }\n * ```\n */\nclass Tracer extends Utility {\n    /**\n     * The provider service interface used by the Tracer.\n     * This interface defines the methods and properties that a provider service must implement.\n     */\n    provider;\n    /**\n     * Flag indicating whether to capture errors.\n     * This is used to determine if errors should be added to the trace as metadata.\n     *\n     * @default true\n     */\n    captureError = true;\n    /**\n     * Flag indicating whether to capture HTTP(s) requests.\n     * @default true\n     */\n    captureHTTPsRequests = true;\n    /**\n     * Flag indicating whether to capture response data.\n     * @default true\n     */\n    captureResponse = true;\n    /**\n     * The custom configuration service used by the Tracer.\n     */\n    customConfigService;\n    /**\n     * Cache environment variables once at init time.\n     */\n    #envConfig = {\n        awsExecutionEnv: '',\n        samLocal: '',\n        captureError: '',\n        captureHTTPsRequests: '',\n        captureResponse: '',\n        tracingEnabled: '',\n        serviceName: '',\n    };\n    /**\n     * The name of the service, is always initialized in the constructor in setOptions().\n     */\n    serviceName;\n    /**\n     * Flag indicating whether tracing is enabled.\n     * @default true\n     */\n    tracingEnabled = true;\n    constructor(options = {}) {\n        super();\n        this.#setEnvConfig();\n        this.setOptions(options);\n        this.provider = new ProviderService();\n        if (this.isTracingEnabled() && this.captureHTTPsRequests) {\n            this.provider.captureHTTPsGlobal();\n            this.provider.instrumentFetch();\n        }\n        if (!this.isTracingEnabled()) {\n            // Tell x-ray-sdk to not throw an error if context is missing but tracing is disabled\n            this.provider.setContextMissingStrategy(() => ({}));\n        }\n    }\n    /**\n     * Add an error to the current segment or subsegment as metadata.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-errors\n     *\n     * @param error - Error to serialize as metadata\n     * @param [remote] - Whether the error was thrown by a remote service. Defaults to `false`\n     */\n    addErrorAsMetadata(error, remote) {\n        if (!this.isTracingEnabled()) {\n            return;\n        }\n        const subsegment = this.getSegment();\n        if (subsegment === undefined) {\n            return;\n        }\n        if (!this.captureError) {\n            subsegment.addErrorFlag();\n            return;\n        }\n        subsegment.addError(error, remote || false);\n    }\n    /**\n     * Add response data to the current segment or subsegment as metadata.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-annotations\n     *\n     * @param data - Data to serialize as metadata\n     * @param methodName - Name of the method that is being traced\n     */\n    addResponseAsMetadata(data, methodName) {\n        if (data === undefined ||\n            !this.captureResponse ||\n            !this.isTracingEnabled()) {\n            return;\n        }\n        this.putMetadata(`${methodName} response`, data);\n    }\n    /**\n     * Add service name to the current segment or subsegment as annotation.\n     */\n    addServiceNameAnnotation() {\n        if (!this.isTracingEnabled()) {\n            return;\n        }\n        this.putAnnotation('Service', this.serviceName);\n    }\n    /**\n     * Add ColdStart annotation to the current segment or subsegment.\n     *\n     * If Tracer has been initialized outside the Lambda handler then the same instance\n     * of Tracer will be reused throughout the lifecycle of that same Lambda execution environment\n     * and this method will annotate `ColdStart: false` after the first invocation.\n     *\n     * @see https://docs.aws.amazon.com/lambda/latest/dg/runtimes-context.html\n     */\n    annotateColdStart() {\n        if (this.isTracingEnabled()) {\n            this.putAnnotation('ColdStart', this.getColdStart());\n        }\n    }\n    /**\n     * @deprecated Use {@link captureAWSv3Client | `captureAWSv3Client()`} instead.\n     *\n     * Patch all AWS SDK v2 clients and create traces when your application makes calls to AWS services.\n     *\n     * If you want to patch a specific client use {@link captureAWSClient} and if you are using AWS SDK v3 use {@link captureAWSv3Client} instead.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     * const AWS = tracer.captureAWS(require('aws-sdk'));\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   ...\n     * }\n     * ```\n     *\n     * @param aws - AWS SDK v2 import\n     */\n    /* v8 ignore start */ captureAWS(aws) {\n        if (!this.isTracingEnabled())\n            return aws;\n        return this.provider.captureAWS(aws);\n    } /* v8 ignore stop */\n    /**\n     * @deprecated Use {@link captureAWSv3Client | `captureAWSv3Client()`} instead.\n     *\n     * Patch a specific AWS SDK v2 client and create traces when your application makes calls to that AWS service.\n     *\n     * If you want to patch all clients use {@link captureAWS} and if you are using AWS SDK v3 use {@link captureAWSv3Client} instead.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html\n     *\n     * @example\n     * ```typescript\n     * import { S3 } from 'aws-sdk';\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     * const s3 = tracer.captureAWSClient(new S3({ apiVersion: '2006-03-01' }));\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   ...\n     * }\n     * ```\n     *\n     * @param service - AWS SDK v2 client\n     */\n    /* v8 ignore start */ captureAWSClient(service) {\n        if (!this.isTracingEnabled())\n            return service;\n        try {\n            return this.provider.captureAWSClient(service);\n        }\n        catch (error) {\n            try {\n                // This is needed because some aws-sdk clients like AWS.DynamoDB.DocumentDB don't comply with the same\n                // instrumentation contract like most base clients.\n                // For detailed explanation see: https://github.com/aws-powertools/powertools-lambda-typescript/issues/524#issuecomment-1024493662\n                this.provider.captureAWSClient(service.service);\n                return service;\n            }\n            catch {\n                throw error;\n            }\n        }\n    } /* v8 ignore stop */\n    /**\n     * Patch an AWS SDK v3 client and create traces when your application makes calls to that AWS service.\n     *\n     * If you are using AWS SDK v2 use {@link captureAWSClient} instead.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-awssdkclients.html\n     *\n     * @example\n     * ```typescript\n     * import { S3Client } from '@aws-sdk/client-s3';\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     * const client = new S3Client({});\n     * tracer.captureAWSv3Client(client);\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   ...\n     * }\n     * ```\n     *\n     * @param service - AWS SDK v3 client\n     */\n    captureAWSv3Client(service) {\n        if (!this.isTracingEnabled())\n            return service;\n        return this.provider.captureAWSv3Client(service);\n    }\n    /**\n     * A decorator automating capture of metadata and annotations on segments or subsegments for a Lambda Handler.\n     *\n     * Using this decorator on your handler function will automatically:\n     * - handle the subsegment lifecycle\n     * - add the `ColdStart` annotation\n     * - add the function response as metadata\n     * - add the function error as metadata (if any)\n     *\n     * Note: Currently TypeScript only supports decorators on classes and methods. If you are using the\n     * function syntax, you should use the middleware instead.\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     * import type { LambdaInterface } from '@aws-lambda-powertools/commons/types';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * class Lambda implements LambdaInterface {\n     *   \u2063@tracer.captureLambdaHandler()\n     *   public handler(_event: unknown, _context: unknown) {\n     *     // ...\n     *   }\n     * }\n     *\n     * const handlerClass = new Lambda();\n     * export const handler = handlerClass.handler.bind(handlerClass);\n     * ```\n     *\n     * @param options - (_optional_) Options for the decorator\n     */\n    captureLambdaHandler(options) {\n        return (_target, _propertyKey, descriptor) => {\n            // biome-ignore lint/style/noNonNullAssertion: The descriptor.value is the method this decorator decorates, it cannot be undefined.\n            const originalMethod = descriptor.value;\n            const tracerRef = this;\n            // Use a function() {} instead of an () => {} arrow function so that we can\n            // access `myClass` as `this` in a decorated `myClass.myMethod()`.\n            descriptor.value = function (...args) {\n                if (!tracerRef.isTracingEnabled()) {\n                    return originalMethod.apply(this, args);\n                }\n                return tracerRef.provider.captureAsyncFunc(`## ${process.env._HANDLER}`, async (subsegment) => {\n                    tracerRef.annotateColdStart();\n                    tracerRef.addServiceNameAnnotation();\n                    let result;\n                    try {\n                        result = await originalMethod.apply(this, args);\n                        if (options?.captureResponse ?? true) {\n                            tracerRef.addResponseAsMetadata(result, process.env._HANDLER);\n                        }\n                    }\n                    catch (error) {\n                        tracerRef.addErrorAsMetadata(error);\n                        throw error;\n                    }\n                    finally {\n                        try {\n                            subsegment?.close();\n                        }\n                        catch (error) {\n                            console.warn('Failed to close or serialize segment %s. We are catching the error but data might be lost.', subsegment?.name, error);\n                        }\n                    }\n                    return result;\n                });\n            };\n            return descriptor;\n        };\n    }\n    /**\n     * A decorator automating capture of metadata and annotations on segments or subsegments for an arbitrary function.\n     *\n     * Using this decorator on your function will automatically:\n     * - handle the subsegment lifecycle\n     * - add the function response as metadata\n     * - add the function error as metadata (if any)\n     *\n     * Note: Currently TypeScript only supports decorators on classes and methods. If you are using the\n     * function syntax, you should use the middleware instead.\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     * import { LambdaInterface } from '@aws-lambda-powertools/commons';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * class Lambda implements LambdaInterface {\n     *   \u2063@tracer.captureMethod()\n     *   public myMethod(param: string) {\n     *     // ...\n     *   }\n     *\n     *   public handler(_event: unknown, _context: unknown) {\n     *     this.myMethod('foo');\n     *   }\n     * }\n     *\n     * const handlerClass = new Lambda();\n     * export const handler = handlerClass.handler.bind(handlerClass);;\n     * ```\n     *\n     * @param options - (_optional_) Options for the decorator\n     */\n    captureMethod(options) {\n        return (_target, propertyKey, descriptor) => {\n            // biome-ignore lint/style/noNonNullAssertion: The descriptor.value is the method this decorator decorates, it cannot be undefined.\n            const originalMethod = descriptor.value;\n            const tracerRef = this;\n            // Use a function() {} instead of an () => {} arrow function so that we can\n            // access `myClass` as `this` in a decorated `myClass.myMethod()`.\n            descriptor.value = function (...args) {\n                if (!tracerRef.isTracingEnabled()) {\n                    return originalMethod.apply(this, [...args]);\n                }\n                const methodName = String(propertyKey);\n                const subsegmentName = options?.subSegmentName\n                    ? options.subSegmentName\n                    : `### ${methodName}`;\n                return tracerRef.provider.captureAsyncFunc(subsegmentName, async (subsegment) => {\n                    // biome-ignore lint/suspicious/noExplicitAny: we don't know the type of the result because we're decorating arbitrary functions\n                    let result;\n                    try {\n                        result = await originalMethod.apply(this, [...args]);\n                        if (options?.captureResponse ?? true) {\n                            tracerRef.addResponseAsMetadata(result, methodName);\n                        }\n                    }\n                    catch (error) {\n                        tracerRef.addErrorAsMetadata(error);\n                        throw error;\n                    }\n                    finally {\n                        try {\n                            subsegment?.close();\n                        }\n                        catch (error) {\n                            console.warn('Failed to close or serialize segment %s. We are catching the error but data might be lost.', subsegment?.name, error);\n                        }\n                    }\n                    return result;\n                });\n            };\n            return descriptor;\n        };\n    }\n    /**\n     * Get the current root AWS X-Ray trace id.\n     *\n     * Utility method that returns the current AWS X-Ray Root trace id. Useful as correlation id for downstream processes.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-traces\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * export const handler = async () => {\n     *   try {\n     *     ...\n     *   } catch (err) {\n     *     const rootTraceId = tracer.getRootXrayTraceId();\n     *\n     *     // Example of returning an error response\n     *     return {\n     *       statusCode: 500,\n     *       // Include the rootTraceId in the response so we can show a \"contact support\" button that\n     *       // takes the customer to a customer service form with the trace as additional context.\n     *       body: `Internal Error - Please contact support and quote the following id: ${rootTraceId}`,\n     *       headers: { '_X_AMZN_TRACE_ID': rootTraceId },\n     *     };\n     *   }\n     * }\n     * ```\n     */\n    getRootXrayTraceId() {\n        return getXRayTraceIdFromEnv();\n    }\n    /**\n     * Get the active segment or subsegment (if any) in the current scope.\n     *\n     * Usually you won't need to call this method unless you are creating custom subsegments or using manual mode.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-segments\n     * @see https://docs.aws.amazon.com/powertools/typescript/latest/core/tracer/#escape-hatch-mechanism\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   const currentSegment = tracer.getSegment();\n     *   ... // Do something with segment\n     * }\n     * ```\n     */\n    getSegment() {\n        if (!this.isTracingEnabled()) {\n            return new XraySubsegment('## Dummy segment');\n        }\n        const segment = this.provider.getSegment();\n        if (segment === undefined) {\n            console.warn('Failed to get the current sub/segment from the context, this is likely because you are not using the Tracer in a Lambda function.');\n        }\n        return segment;\n    }\n    /**\n     * Get the current value of the AWS X-Ray Sampled flag.\n     *\n     * Utility method that returns the current AWS X-Ray Sampled flag.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-concepts.html#xray-concepts-traces\n     */\n    isTraceSampled() {\n        if (!this.isTracingEnabled())\n            return false;\n        return isRequestXRaySampled();\n    }\n    /**\n     * Get the current value of the `tracingEnabled` property.\n     *\n     * You can use this method during manual instrumentation to determine\n     * if tracer is currently enabled.\n     */\n    isTracingEnabled() {\n        return this.tracingEnabled;\n    }\n    /**\n     * Add annotation to existing segment or subsegment.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-segment.html#xray-sdk-nodejs-segment-annotations\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   tracer.putAnnotation('successfulBooking', true);\n     * }\n     * ```\n     *\n     * @param key - Annotation key\n     * @param value - Value for annotation\n     */\n    putAnnotation(key, value) {\n        if (!this.isTracingEnabled())\n            return;\n        this.provider.putAnnotation(key, value);\n    }\n    /**\n     * Add metadata to existing segment or subsegment.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-segment.html#xray-sdk-nodejs-segment-metadata\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   const res = someLogic();\n     *   tracer.putMetadata('paymentResponse', res);\n     * }\n     * ```\n     *\n     * @param key - Metadata key\n     * @param value - Value for metadata\n     * @param namespace - Namespace that metadata will lie under, if none is passed it will use the serviceName\n     */\n    putMetadata(key, value, namespace) {\n        if (!this.isTracingEnabled())\n            return;\n        this.provider.putMetadata(key, value, namespace || this.serviceName);\n    }\n    /**\n     * Set the passed subsegment as the current active subsegment.\n     *\n     * If you are using a middleware or a decorator this is done automatically for you.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-subsegments.html\n     *\n     * @example\n     * ```typescript\n     * import { Tracer } from '@aws-lambda-powertools/tracer';\n     * import { Subsegment } from 'aws-xray-sdk-core';\n     *\n     * const tracer = new Tracer({ serviceName: 'serverlessAirline' });\n     *\n     * export const handler = async (_event: unknown, _context: unknown) => {\n     *   const subsegment = new Subsegment('### foo.bar');\n     *   tracer.setSegment(subsegment);\n     * }\n     * ```\n     *\n     * @param segment - Subsegment to set as the current segment\n     */\n    setSegment(segment) {\n        if (!this.isTracingEnabled())\n            return;\n        this.provider.setSegment(segment);\n    }\n    /**\n     * Getter for `customConfigService`.\n     * Used internally during initialization.\n     */\n    getCustomConfigService() {\n        return this.customConfigService;\n    }\n    /**\n     * Determine if we are running inside an Amplify CLI process.\n     * Used internally during initialization.\n     */\n    isAmplifyCli() {\n        return this.#envConfig.awsExecutionEnv === 'AWS_Lambda_amplify-mock';\n    }\n    /**\n     * Determine if we are running in a Lambda execution environment.\n     * Used internally during initialization.\n     */\n    isLambdaExecutionEnv() {\n        return this.#envConfig.awsExecutionEnv !== '';\n    }\n    /**\n     * Determine if we are running inside a SAM CLI process.\n     * Used internally during initialization.\n     */\n    isLambdaSamCli() {\n        return this.#envConfig.samLocal !== '';\n    }\n    /**\n     * Set `captureError` based on configuration passed and environment variables.\n     * Used internally during initialization.\n     */\n    setCaptureError() {\n        const customConfigValue = this.getCustomConfigService()?.getTracingCaptureError();\n        if (customConfigValue !== undefined &&\n            customConfigValue.toLowerCase() === 'false') {\n            this.captureError = false;\n            return;\n        }\n        if (this.#envConfig.captureError.toLowerCase() === 'false') {\n            this.captureError = false;\n            return;\n        }\n    }\n    /**\n     * Patch all HTTP(s) clients and create traces when your application makes calls outgoing calls.\n     *\n     * Calls using third-party HTTP request libraries, such as Axios, are supported as long as they use the native http\n     * module under the hood. Support for third-party HTTP request libraries is provided on a best effort basis.\n     *\n     * @see https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-nodejs-httpclients.html\n     *\n     * @param enabled - Whether or not to patch all HTTP clients\n     */\n    setCaptureHTTPsRequests(enabled) {\n        if (enabled !== undefined && !enabled) {\n            this.captureHTTPsRequests = false;\n            return;\n        }\n        const customConfigValue = this.getCustomConfigService()?.getCaptureHTTPsRequests();\n        if (customConfigValue !== undefined &&\n            customConfigValue.toLowerCase() === 'false') {\n            this.captureHTTPsRequests = false;\n            return;\n        }\n        if (this.#envConfig.captureHTTPsRequests.toLowerCase() === 'false') {\n            this.captureHTTPsRequests = false;\n        }\n    }\n    /**\n     * Set `captureResponse` based on configuration passed and environment variables.\n     * Used internally during initialization.\n     */\n    setCaptureResponse() {\n        const customConfigValue = this.getCustomConfigService()?.getTracingCaptureResponse();\n        if (customConfigValue !== undefined &&\n            customConfigValue.toLowerCase() === 'false') {\n            this.captureResponse = false;\n            return;\n        }\n        if (this.#envConfig.captureResponse.toLowerCase() === 'false') {\n            this.captureResponse = false;\n            return;\n        }\n    }\n    /**\n     * Set `customConfigService` based on configuration passed.\n     * Used internally during initialization.\n     *\n     * @param customConfigService - Custom configuration service to use\n     */\n    setCustomConfigService(customConfigService) {\n        this.customConfigService = customConfigService\n            ? customConfigService\n            : undefined;\n    }\n    /**\n     * Method that reconciles the configuration passed with the environment variables.\n     * Used internally during initialization.\n     *\n     * @param options - Configuration passed to the tracer\n     */\n    setOptions(options) {\n        const { enabled, serviceName, captureHTTPsRequests, customConfigService } = options;\n        this.setCustomConfigService(customConfigService);\n        this.setTracingEnabled(enabled);\n        this.setCaptureResponse();\n        this.setCaptureError();\n        this.setServiceName(serviceName);\n        this.setCaptureHTTPsRequests(captureHTTPsRequests);\n        return this;\n    }\n    /**\n     * Set `customConfigService` based on configurations passed and environment variables.\n     * Used internally during initialization.\n     *\n     * @param serviceName - Name of the service to use\n     */\n    setServiceName(serviceName) {\n        if (serviceName !== undefined && this.isValidServiceName(serviceName)) {\n            this.serviceName = serviceName;\n            return;\n        }\n        const customConfigValue = this.getCustomConfigService()?.getServiceName();\n        if (customConfigValue !== undefined &&\n            this.isValidServiceName(customConfigValue)) {\n            this.serviceName = customConfigValue;\n            return;\n        }\n        if (this.#envConfig.serviceName !== undefined &&\n            this.isValidServiceName(this.#envConfig.serviceName)) {\n            this.serviceName = this.#envConfig.serviceName;\n            return;\n        }\n        this.serviceName = this.defaultServiceName;\n    }\n    /**\n     * Set `tracingEnabled` based on configurations passed and environment variables.\n     * Used internally during initialization.\n     *\n     * @param enabled - Whether or not tracing is enabled\n     */\n    setTracingEnabled(enabled) {\n        if (enabled !== undefined && !enabled) {\n            this.tracingEnabled = enabled;\n            return;\n        }\n        const customConfigValue = this.getCustomConfigService()?.getTracingEnabled();\n        if (customConfigValue !== undefined &&\n            customConfigValue.toLowerCase() === 'false') {\n            this.tracingEnabled = false;\n            return;\n        }\n        if (this.#envConfig.tracingEnabled.toLowerCase() === 'false') {\n            this.tracingEnabled = false;\n            return;\n        }\n        if (this.isAmplifyCli() ||\n            this.isLambdaSamCli() ||\n            !this.isLambdaExecutionEnv()) {\n            this.tracingEnabled = false;\n        }\n    }\n    /**\n     * Set environment variables for the tracer.\n     * This method is called during initialization to ensure environment variables are available.\n     */\n    #setEnvConfig() {\n        this.#envConfig.awsExecutionEnv = getStringFromEnv({\n            key: 'AWS_EXECUTION_ENV',\n            defaultValue: '',\n        });\n        this.#envConfig.samLocal = getStringFromEnv({\n            key: 'AWS_SAM_LOCAL',\n            defaultValue: '',\n        });\n        this.#envConfig.captureError = getStringFromEnv({\n            key: 'POWERTOOLS_TRACER_CAPTURE_ERROR',\n            defaultValue: '',\n        });\n        this.#envConfig.captureHTTPsRequests = getStringFromEnv({\n            key: 'POWERTOOLS_TRACER_CAPTURE_HTTPS_REQUESTS',\n            defaultValue: '',\n        });\n        this.#envConfig.captureResponse = getStringFromEnv({\n            key: 'POWERTOOLS_TRACER_CAPTURE_RESPONSE',\n            defaultValue: '',\n        });\n        this.#envConfig.tracingEnabled = getStringFromEnv({\n            key: 'POWERTOOLS_TRACE_ENABLED',\n            defaultValue: '',\n        });\n        this.#envConfig.serviceName = getServiceName();\n    }\n}\nexport { Tracer };\n", "import xraySdk from 'aws-xray-sdk-core';\nconst { captureAWS, captureAWSClient, captureAWSv3Client, captureAsyncFunc, captureFunc, captureHTTPsGlobal, getNamespace, getSegment, setSegment, Segment: XraySegment, setContextMissingStrategy, setDaemonAddress, setLogger, } = xraySdk;\nimport { subscribe } from 'node:diagnostics_channel';\nimport http from 'node:http';\nimport https from 'node:https';\nimport { addUserAgentMiddleware } from '@aws-lambda-powertools/commons';\nimport { getXRayTraceIdFromEnv } from '@aws-lambda-powertools/commons/utils/env';\nimport { findHeaderAndDecode, getRequestURL, isHttpSubsegment, } from './utilities.js';\n/**\n * The ProviderService class is a wrapper around the AWS X-Ray SDK for Node.js.\n *\n * The service provides exposes a selection of methods to interact with the SDK directly,\n * these methods were chosen to be the most useful in the context of a Lambda function and\n * have been tested to work with Powertools for AWS Lambda.\n *\n * If you want to use one of the other methods that are not exposed by this class,\n * you can import the methods directly from the `aws-xray-sdk-core` package, and for most cases,\n * they should work as expected. However, support for these methods is not guaranteed.\n */\nclass ProviderService {\n    /**\n     * @deprecated Use {@link captureAWSv3Client} instead.\n     */\n    /* v8 ignore start */ captureAWS(awssdk) {\n        return captureAWS(awssdk);\n    } /* v8 ignore stop */\n    /**\n     * @deprecated Use {@link captureAWSv3Client} instead.\n     */\n    /* v8 ignore start */ captureAWSClient(service) {\n        return captureAWSClient(service);\n    } /* v8 ignore stop */\n    captureAWSv3Client(service) {\n        addUserAgentMiddleware(service, 'tracer');\n        // biome-ignore lint/suspicious/noExplicitAny: Type must be aliased as any because of this https://github.com/aws/aws-xray-sdk-node/issues/439#issuecomment-859715660\n        return captureAWSv3Client(service);\n    }\n    captureAsyncFunc(name, fcn, _parent) {\n        return captureAsyncFunc(name, fcn);\n    }\n    captureFunc(name, fcn, _parent) {\n        return captureFunc(name, fcn);\n    }\n    captureHTTPsGlobal() {\n        captureHTTPsGlobal(http);\n        captureHTTPsGlobal(https);\n    }\n    getNamespace() {\n        return getNamespace();\n    }\n    getSegment() {\n        return getSegment();\n    }\n    /**\n     * Instrument `fetch` requests with AWS X-Ray\n     *\n     * The instrumentation is done by subscribing to the `undici` events. When a request is created,\n     * a new subsegment is created with the hostname of the request.\n     *\n     * Then, when the headers are received, the subsegment is updated with the request and response details.\n     *\n     * Finally, when the request is completed, the subsegment is closed.\n     *\n     * @see {@link https://nodejs.org/api/diagnostics_channel.html#diagnostics_channel_channel_publish | Diagnostics Channel - Node.js Documentation}\n     */\n    instrumentFetch() {\n        /**\n         * Create a segment at the start of a request made with `undici` or `fetch`.\n         *\n         * That `message` must be `unknown` because that's the type expected by `subscribe`\n         *\n         * @param message The message received from the `undici` channel\n         */\n        const onRequestStart = (message) => {\n            const { request } = message;\n            const method = request.method;\n            if (method === 'CONNECT')\n                return;\n            const parentSubsegment = this.getSegment();\n            const requestURL = getRequestURL(request);\n            if (parentSubsegment && requestURL) {\n                const subsegment = parentSubsegment.addNewSubsegment(requestURL.hostname);\n                subsegment.addAttribute('namespace', 'remote');\n                // addHeader is not part of the type definition but it's available https://github.com/nodejs/undici/blob/main/docs/docs/api/DiagnosticsChannel.md#undicirequestcreate\n                // @ts-expect-error\n                request.addHeader('X-Amzn-Trace-Id', `Root=${getXRayTraceIdFromEnv()};Parent=${subsegment.id};Sampled=${subsegment.notTraced ? '0' : '1'}`);\n                subsegment.http = {\n                    request: {\n                        url: `${requestURL.protocol}//${requestURL.hostname}${requestURL.pathname}`,\n                        method,\n                    },\n                };\n                this.setSegment(subsegment);\n            }\n        };\n        /**\n         * Enrich the subsegment with the response details, and close it.\n         * Then, set the parent segment as the active segment.\n         *\n         * `message` must be `unknown` because that's the type expected by `subscribe`\n         *\n         * @param message The message received from the `undici` channel\n         */\n        const onResponse = (message) => {\n            const { response } = message;\n            const subsegment = this.getSegment();\n            if (isHttpSubsegment(subsegment)) {\n                const status = response.statusCode;\n                const contentLenght = findHeaderAndDecode(response.headers, 'content-length');\n                subsegment.http = {\n                    ...subsegment.http,\n                    response: {\n                        status,\n                        ...(contentLenght && {\n                            content_length: Number.parseInt(contentLenght, 10),\n                        }),\n                    },\n                };\n                if (status === 429) {\n                    subsegment.addThrottleFlag();\n                }\n                if (status >= 400 && status < 500) {\n                    subsegment.addErrorFlag();\n                }\n                else if (status >= 500 && status < 600) {\n                    subsegment.addFaultFlag();\n                }\n                subsegment.close();\n                this.setSegment(subsegment.parent);\n            }\n        };\n        /**\n         * Add an error to the subsegment when the request fails.\n         *\n         * This is used to handle the case when the request fails to establish a connection with the server or timeouts.\n         * In all other cases, for example, when the server returns a 4xx or 5xx status code, the error is added in the `onResponse` function.\n         *\n         * that `message` must be `unknown` because that's the type expected by `subscribe`\n         *\n         * @param message The message received from the `undici` channel\n         */\n        const onError = (message) => {\n            const { error } = message;\n            const subsegment = this.getSegment();\n            if (isHttpSubsegment(subsegment)) {\n                subsegment.addErrorFlag();\n                error instanceof Error && subsegment.addError(error, true);\n                subsegment.close();\n                this.setSegment(subsegment.parent);\n            }\n        };\n        subscribe('undici:request:create', onRequestStart);\n        subscribe('undici:request:headers', onResponse);\n        subscribe('undici:request:error', onError);\n    }\n    putAnnotation(key, value) {\n        const segment = this.getSegment();\n        if (segment === undefined) {\n            console.warn('No active segment or subsegment found, skipping annotation');\n            return;\n        }\n        if (segment instanceof XraySegment) {\n            console.warn('You cannot annotate the main segment in a Lambda execution environment');\n            return;\n        }\n        segment.addAnnotation(key, value);\n    }\n    putMetadata(key, value, namespace) {\n        const segment = this.getSegment();\n        if (segment === undefined) {\n            console.warn('No active segment or subsegment found, skipping metadata addition');\n            return;\n        }\n        if (segment instanceof XraySegment) {\n            console.warn('You cannot add metadata to the main segment in a Lambda execution environment');\n            return;\n        }\n        segment.addMetadata(key, value, namespace);\n    }\n    setContextMissingStrategy(strategy) {\n        setContextMissingStrategy(strategy);\n    }\n    setDaemonAddress(address) {\n        setDaemonAddress(address);\n    }\n    setLogger(logObj) {\n        setLogger(logObj);\n    }\n    setSegment(segment) {\n        setSegment(segment);\n    }\n}\nexport { ProviderService };\n", "import { URL } from 'node:url';\nconst decoder = new TextDecoder();\n/**\n * The `fetch` implementation based on `undici` includes the headers as an array of encoded key-value pairs.\n * This function finds the header with the given key and decodes the value.\n *\n * The function walks through the array of encoded headers and decodes the key of each pair.\n * If the key matches the given key, the function returns the decoded value of the next element in the array.\n *\n * @param encodedHeaders The array of encoded headers\n * @param key The key to search for\n */\nconst findHeaderAndDecode = (encodedHeaders, key) => {\n    let foundIndex = -1;\n    for (let i = 0; i < encodedHeaders.length; i += 2) {\n        const header = decoder.decode(encodedHeaders[i]);\n        if (header.toLowerCase() === key) {\n            foundIndex = i;\n            break;\n        }\n    }\n    if (foundIndex === -1) {\n        return null;\n    }\n    return decoder.decode(encodedHeaders[foundIndex + 1]);\n};\n/**\n * Type guard to check if the given subsegment is an `HttpSubsegment`\n *\n * @param subsegment The subsegment to check\n */\nconst isHttpSubsegment = (subsegment) => {\n    return (subsegment !== undefined &&\n        'http' in subsegment &&\n        'parent' in subsegment &&\n        'namespace' in subsegment &&\n        subsegment.namespace === 'remote');\n};\n/**\n * Convert the origin url to a URL object when it is a string and append the path if provided\n *\n * @param origin The request object containing the origin url and path\n */\nconst getRequestURL = (request) => {\n    if (typeof request.origin === 'string') {\n        return new URL(`${request.origin}${request.path || ''}`);\n    }\n    if (request.origin instanceof URL) {\n        request.origin.pathname = request.path || '';\n        return request.origin;\n    }\n    return undefined;\n};\nexport { findHeaderAndDecode, isHttpSubsegment, getRequestURL };\n", "import { Tracer } from '@aws-lambda-powertools/tracer';\r\nimport { Segment, Subsegment } from 'aws-xray-sdk-core';\r\n\r\n/**\r\n * X-Ray Tracer utility for standardized distributed tracing\r\n * \r\n * Features:\r\n * - Automatic subsegment creation and management\r\n * - Standardized annotations for filtering (leadId, tenantId, agent)\r\n * - Metadata capture for debugging\r\n * - Error tracking with stack traces\r\n * - Integration with Lambda Powertools\r\n * \r\n * Requirements: 15.6\r\n */\r\n\r\n// Initialize Powertools Tracer\r\nconst tracer = new Tracer({\r\n  serviceName: process.env.POWERTOOLS_SERVICE_NAME || 'fibonacci-service'\r\n});\r\n\r\n/**\r\n * Standard annotations for X-Ray filtering\r\n */\r\nexport interface XRayAnnotations {\r\n  leadId?: string;\r\n  tenantId?: string;\r\n  agent?: string;\r\n  traceId?: string;\r\n  status?: 'success' | 'error' | 'warning';\r\n  [key: string]: string | number | boolean | undefined;\r\n}\r\n\r\n/**\r\n * Metadata for debugging (not indexed, can be any structure)\r\n */\r\nexport interface XRayMetadata {\r\n  [key: string]: any;\r\n}\r\n\r\n/**\r\n * Get the current X-Ray tracer instance\r\n */\r\nexport function getTracer(): Tracer {\r\n  return tracer;\r\n}\r\n\r\n/**\r\n * Type alias for enhanced X-Ray tracer\r\n */\r\nexport type EnhancedXRayTracer = Tracer;\r\n\r\n/**\r\n * Create a tracer instance\r\n */\r\nexport function createTracer(serviceName?: string): Tracer {\r\n  return new Tracer({\r\n    serviceName: serviceName || process.env.POWERTOOLS_SERVICE_NAME || 'fibonacci-service'\r\n  });\r\n}\r\n\r\n/**\r\n * Extract X-Ray context from headers\r\n */\r\nexport function extractXRayContext(headers: Record<string, string | undefined>): { traceId?: string; parentId?: string } {\r\n  const traceHeader = headers['X-Amzn-Trace-Id'] || headers['x-amzn-trace-id'];\r\n  if (!traceHeader) {\r\n    return {};\r\n  }\r\n\r\n  const parts = traceHeader.split(';');\r\n  const context: { traceId?: string; parentId?: string } = {};\r\n\r\n  for (const part of parts) {\r\n    const [key, value] = part.split('=');\r\n    if (key === 'Root') {\r\n      context.traceId = value;\r\n    } else if (key === 'Parent') {\r\n      context.parentId = value;\r\n    }\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\n/**\r\n * Extract log context from headers\r\n */\r\nexport function extractLogContext(headers: Record<string, string | undefined>): { traceId?: string; requestId?: string } {\r\n  return {\r\n    traceId: headers['X-Amzn-Trace-Id'] || headers['x-amzn-trace-id'],\r\n    requestId: headers['X-Request-Id'] || headers['x-request-id']\r\n  };\r\n}\r\n\r\n/**\r\n * Get the current X-Ray segment\r\n */\r\nexport function getSegment(): Segment | Subsegment | undefined {\r\n  try {\r\n    return tracer.getSegment();\r\n  } catch (error) {\r\n    console.warn('Failed to get X-Ray segment:', error);\r\n    return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Create a new subsegment for a specific operation\r\n * \r\n * @param name - Name of the subsegment (e.g., 'ProcessLead', 'EnrichData')\r\n * @param annotations - Standard annotations for filtering\r\n * @param metadata - Additional metadata for debugging\r\n * @returns Subsegment instance or undefined if tracing is disabled\r\n * \r\n * @example\r\n * const subsegment = createSubsegment('ProcessLead', {\r\n *   leadId: lead.id,\r\n *   tenantId: lead.tenantId,\r\n *   agent: 'recebimento'\r\n * });\r\n * \r\n * try {\r\n *   // Your code here\r\n *   closeSubsegment(subsegment, 'success');\r\n * } catch (error) {\r\n *   closeSubsegment(subsegment, 'error', error);\r\n *   throw error;\r\n * }\r\n */\r\nexport function createSubsegment(\r\n  name: string,\r\n  annotations?: XRayAnnotations,\r\n  metadata?: XRayMetadata\r\n): Subsegment | undefined {\r\n  try {\r\n    const segment = getSegment();\r\n    if (!segment) {\r\n      return undefined;\r\n    }\r\n\r\n    const subsegment = segment.addNewSubsegment(name);\r\n\r\n    // Add standard annotations for filtering\r\n    if (annotations) {\r\n      for (const [key, value] of Object.entries(annotations)) {\r\n        if (value !== undefined) {\r\n          subsegment.addAnnotation(key, value);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Add metadata for debugging\r\n    if (metadata) {\r\n      for (const [key, value] of Object.entries(metadata)) {\r\n        subsegment.addMetadata(key, value);\r\n      }\r\n    }\r\n\r\n    return subsegment;\r\n  } catch (error) {\r\n    console.warn('Failed to create X-Ray subsegment:', error);\r\n    return undefined;\r\n  }\r\n}\r\n\r\n/**\r\n * Close a subsegment with status and optional error\r\n * \r\n * @param subsegment - Subsegment to close\r\n * @param status - Status of the operation ('success' or 'error')\r\n * @param error - Optional error object if status is 'error'\r\n */\r\nexport function closeSubsegment(\r\n  subsegment: Subsegment | undefined,\r\n  status: 'success' | 'error' = 'success',\r\n  error?: Error\r\n): void {\r\n  if (!subsegment) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    // Add status annotation\r\n    subsegment.addAnnotation('status', status);\r\n\r\n    // Add error if present\r\n    if (error) {\r\n      subsegment.addError(error);\r\n      subsegment.addMetadata('error', {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack\r\n      });\r\n    }\r\n\r\n    subsegment.close();\r\n  } catch (err) {\r\n    console.warn('Failed to close X-Ray subsegment:', err);\r\n  }\r\n}\r\n\r\n/**\r\n * Execute a function within a traced subsegment\r\n * Automatically handles subsegment creation, error tracking, and cleanup\r\n * \r\n * @param name - Name of the subsegment\r\n * @param fn - Function to execute\r\n * @param annotations - Standard annotations for filtering\r\n * @param metadata - Additional metadata for debugging\r\n * @returns Result of the function\r\n * \r\n * @example\r\n * const result = await traceSubsegment(\r\n *   'EnrichLead',\r\n *   async () => {\r\n *     return await enrichmentService.enrich(lead);\r\n *   },\r\n *   { leadId: lead.id, tenantId: lead.tenantId },\r\n *   { leadData: lead }\r\n * );\r\n */\r\nexport async function traceSubsegment<T>(\r\n  name: string,\r\n  fn: () => Promise<T> | T,\r\n  annotations?: XRayAnnotations,\r\n  metadata?: XRayMetadata\r\n): Promise<T> {\r\n  const subsegment = createSubsegment(name, annotations, metadata);\r\n\r\n  try {\r\n    const result = await fn();\r\n    closeSubsegment(subsegment, 'success');\r\n    return result;\r\n  } catch (error) {\r\n    closeSubsegment(subsegment, 'error', error as Error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Add annotations to the current segment or subsegment\r\n * \r\n * @param annotations - Annotations to add\r\n */\r\nexport function addAnnotations(annotations: XRayAnnotations): void {\r\n  try {\r\n    const segment = getSegment();\r\n    if (!segment) {\r\n      return;\r\n    }\r\n\r\n    for (const [key, value] of Object.entries(annotations)) {\r\n      if (value !== undefined) {\r\n        segment.addAnnotation(key, value);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.warn('Failed to add X-Ray annotations:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Add metadata to the current segment or subsegment\r\n * \r\n * @param metadata - Metadata to add\r\n * @param namespace - Optional namespace for organizing metadata\r\n */\r\nexport function addMetadata(metadata: XRayMetadata, namespace?: string): void {\r\n  try {\r\n    const segment = getSegment();\r\n    if (!segment) {\r\n      return;\r\n    }\r\n\r\n    if (namespace) {\r\n      segment.addMetadata(namespace, metadata);\r\n    } else {\r\n      for (const [key, value] of Object.entries(metadata)) {\r\n        segment.addMetadata(key, value);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.warn('Failed to add X-Ray metadata:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Capture an AWS SDK v3 client for automatic X-Ray tracing\r\n * \r\n * @param client - AWS SDK v3 client instance\r\n * @returns Traced client\r\n * \r\n * @example\r\n * const dynamoClient = captureAWSClient(new DynamoDBClient({}));\r\n */\r\nexport function captureAWSClient<T>(client: T): T {\r\n  try {\r\n    return tracer.captureAWSv3Client(client);\r\n  } catch (error) {\r\n    console.warn('Failed to capture AWS client for X-Ray:', error);\r\n    return client;\r\n  }\r\n}\r\n\r\n/**\r\n * Wrapper for Lambda handlers to automatically trace execution\r\n * \r\n * @param handler - Lambda handler function\r\n * @returns Wrapped handler with X-Ray tracing\r\n * \r\n * @example\r\n * export const handler = withXRayTracing(async (event, context) => {\r\n *   // Your handler code here\r\n * });\r\n */\r\nexport function withXRayTracing<TEvent, TResult>(\r\n  handler: (event: TEvent, context: any) => Promise<TResult>\r\n): (event: TEvent, context: any) => Promise<TResult> {\r\n  return async (event: TEvent, context: any): Promise<TResult> => {\r\n    const segment = getSegment();\r\n    \r\n    // Add standard annotations\r\n    addAnnotations({\r\n      functionName: context.functionName,\r\n      functionVersion: context.functionVersion,\r\n      requestId: context.awsRequestId\r\n    });\r\n\r\n    // Add event metadata (be careful with sensitive data)\r\n    addMetadata({\r\n      eventType: (event as any).Records ? 'SQS' : 'API',\r\n      timestamp: new Date().toISOString()\r\n    }, 'handler');\r\n\r\n    try {\r\n      const result = await handler(event, context);\r\n      addAnnotations({ status: 'success' });\r\n      return result;\r\n    } catch (error) {\r\n      addAnnotations({ status: 'error' });\r\n      if (segment && error instanceof Error) {\r\n        segment.addError(error);\r\n      }\r\n      throw error;\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Helper to trace database queries\r\n * \r\n * @param queryName - Name of the query (e.g., 'GetLead', 'SaveLead')\r\n * @param query - Query function to execute\r\n * @param params - Query parameters for metadata\r\n * @returns Query result\r\n */\r\nexport async function traceQuery<T>(\r\n  queryName: string,\r\n  query: () => Promise<T>,\r\n  params?: Record<string, any>\r\n): Promise<T> {\r\n  return traceSubsegment(\r\n    `DB:${queryName}`,\r\n    query,\r\n    { operation: 'database' },\r\n    { queryParams: params }\r\n  );\r\n}\r\n\r\n/**\r\n * Helper to trace HTTP/API calls\r\n * \r\n * @param serviceName - Name of the external service (e.g., 'WhatsApp', 'Calendar')\r\n * @param operation - Operation name (e.g., 'sendMessage', 'createEvent')\r\n * @param call - API call function to execute\r\n * @param params - Call parameters for metadata\r\n * @returns API call result\r\n */\r\nexport async function traceAPICall<T>(\r\n  serviceName: string,\r\n  operation: string,\r\n  call: () => Promise<T>,\r\n  params?: Record<string, any>\r\n): Promise<T> {\r\n  return traceSubsegment(\r\n    `API:${serviceName}:${operation}`,\r\n    call,\r\n    { \r\n      operation: 'external_api',\r\n      service: serviceName\r\n    },\r\n    { callParams: params }\r\n  );\r\n}\r\n\r\n/**\r\n * Helper to trace MCP calls\r\n * \r\n * @param server - MCP server name (e.g., 'whatsapp', 'calendar')\r\n * @param method - MCP method name\r\n * @param call - MCP call function to execute\r\n * @param params - Call parameters for metadata\r\n * @returns MCP call result\r\n */\r\nexport async function traceMCPCall<T>(\r\n  server: string,\r\n  method: string,\r\n  call: () => Promise<T>,\r\n  params?: Record<string, any>\r\n): Promise<T> {\r\n  return traceSubsegment(\r\n    `MCP:${server}:${method}`,\r\n    call,\r\n    { \r\n      operation: 'mcp',\r\n      mcpServer: server,\r\n      mcpMethod: method\r\n    },\r\n    { mcpParams: params }\r\n  );\r\n}\r\n\r\n/**\r\n * Export tracer instance for direct use if needed\r\n */\r\nexport { tracer };\r\n", "// ESM wrapper for pg\nimport pg from '../lib/index.js'\n\n// Re-export all the properties\nexport const Client = pg.Client\nexport const Pool = pg.Pool\nexport const Connection = pg.Connection\nexport const types = pg.types\nexport const Query = pg.Query\nexport const DatabaseError = pg.DatabaseError\nexport const escapeIdentifier = pg.escapeIdentifier\nexport const escapeLiteral = pg.escapeLiteral\nexport const Result = pg.Result\nexport const TypeOverrides = pg.TypeOverrides\n\n// Also export the defaults\nexport const defaults = pg.defaults\n\n// Re-export the default\nexport default pg\n", "import { Pool, PoolClient, QueryResult, QueryResultRow } from 'pg';\r\nimport { SecretsManager } from 'aws-sdk';\r\nimport { Logger } from './logger';\r\nimport { traceQuery, addAnnotations, addMetadata } from './xray-tracer';\r\n\r\nconst logger = new Logger('database');\r\nconst secretsManager = new SecretsManager();\r\n\r\n/**\r\n * Database credentials interface\r\n */\r\ninterface DbCredentials {\r\n  username: string;\r\n  password: string;\r\n  host: string;\r\n  port: number;\r\n  dbname: string;\r\n}\r\n\r\n/**\r\n * Database connection pool singleton\r\n */\r\nclass DatabasePool {\r\n  private pool: Pool | null = null;\r\n  private credentials: DbCredentials | null = null;\r\n  private secretArn: string;\r\n\r\n  constructor(secretArn?: string) {\r\n    this.secretArn = secretArn || process.env.DB_SECRET_ARN || '';\r\n  }\r\n\r\n  /**\r\n   * Get database credentials from Secrets Manager\r\n   */\r\n  private async getCredentials(): Promise<DbCredentials> {\r\n    if (this.credentials) {\r\n      return this.credentials;\r\n    }\r\n\r\n    try {\r\n      logger.info('Fetching database credentials from Secrets Manager', {\r\n        secretArn: this.secretArn,\r\n      });\r\n\r\n      const response = await secretsManager\r\n        .getSecretValue({ SecretId: this.secretArn })\r\n        .promise();\r\n\r\n      if (!response.SecretString) {\r\n        throw new Error('Secret string is empty');\r\n      }\r\n\r\n      const secret = JSON.parse(response.SecretString);\r\n      this.credentials = {\r\n        username: secret.username,\r\n        password: secret.password,\r\n        host: secret.host,\r\n        port: secret.port || 5432,\r\n        dbname: secret.dbname || 'fibonacci',\r\n      };\r\n\r\n      logger.info('Database credentials fetched successfully');\r\n      return this.credentials;\r\n    } catch (error) {\r\n      logger.error('Failed to fetch database credentials', error as Error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Initialize connection pool\r\n   */\r\n  private async initializePool(): Promise<Pool> {\r\n    if (this.pool) {\r\n      return this.pool;\r\n    }\r\n\r\n    const credentials = await this.getCredentials();\r\n\r\n    logger.info('Initializing database connection pool', {\r\n      host: credentials.host,\r\n      port: credentials.port,\r\n      database: credentials.dbname,\r\n    });\r\n\r\n    this.pool = new Pool({\r\n      user: credentials.username,\r\n      password: credentials.password,\r\n      host: credentials.host,\r\n      port: credentials.port,\r\n      database: credentials.dbname,\r\n      max: 10, // Maximum number of clients in the pool\r\n      idleTimeoutMillis: 30000, // Close idle clients after 30 seconds\r\n      connectionTimeoutMillis: 10000, // Return error after 10 seconds if connection cannot be established\r\n      ssl: {\r\n        rejectUnauthorized: false, // Required for Aurora\r\n      },\r\n    });\r\n\r\n    // Handle pool errors\r\n    this.pool.on('error', (err) => {\r\n      logger.error('Unexpected error on idle database client', err);\r\n    });\r\n\r\n    logger.info('Database connection pool initialized');\r\n    return this.pool;\r\n  }\r\n\r\n  /**\r\n   * Get the connection pool\r\n   */\r\n  async getPool(): Promise<Pool> {\r\n    return await this.initializePool();\r\n  }\r\n\r\n  /**\r\n   * Close the connection pool\r\n   */\r\n  async close(): Promise<void> {\r\n    if (this.pool) {\r\n      logger.info('Closing database connection pool');\r\n      await this.pool.end();\r\n      this.pool = null;\r\n      this.credentials = null;\r\n    }\r\n  }\r\n}\r\n\r\n// Singleton instance\r\nconst dbPool = new DatabasePool();\r\n\r\n/**\r\n * Execute a query with retry logic and X-Ray tracing\r\n */\r\nexport async function query<T extends QueryResultRow = any>(\r\n  text: string,\r\n  params?: any[],\r\n  maxRetries: number = 3\r\n): Promise<QueryResult<T>> {\r\n  // Extract query operation for better tracing\r\n  const operation = text.trim().split(' ')[0].toUpperCase();\r\n  \r\n  return traceQuery(\r\n    operation,\r\n    async () => {\r\n      const pool = await dbPool.getPool();\r\n      let lastError: Error | null = null;\r\n\r\n      for (let attempt = 1; attempt <= maxRetries; attempt++) {\r\n        try {\r\n          logger.debug('Executing database query', {\r\n            attempt,\r\n            query: text.substring(0, 100), // Log first 100 chars\r\n            paramCount: params?.length || 0,\r\n          });\r\n\r\n          // Add query metadata to X-Ray\r\n          addMetadata({\r\n            query: text.substring(0, 200),\r\n            paramCount: params?.length || 0,\r\n            attempt\r\n          }, 'database');\r\n\r\n          const startTime = Date.now();\r\n          const result = await pool.query<T>(text, params);\r\n          const duration = Date.now() - startTime;\r\n\r\n          // Add success annotations\r\n          addAnnotations({\r\n            dbOperation: operation,\r\n            dbRowCount: result.rowCount || 0,\r\n            dbDuration: duration\r\n          });\r\n\r\n          logger.debug('Query executed successfully', {\r\n            rowCount: result.rowCount,\r\n            duration,\r\n          });\r\n\r\n          return result;\r\n        } catch (error) {\r\n          lastError = error as Error;\r\n          logger.warn(`Query failed on attempt ${attempt}`, {\r\n            attempt,\r\n            maxRetries,\r\n            error: lastError.message,\r\n          });\r\n\r\n          // Check if error is transient (connection issues)\r\n          const isTransient = isTransientError(lastError);\r\n\r\n          if (!isTransient || attempt === maxRetries) {\r\n            // Add error annotations\r\n            addAnnotations({\r\n              dbOperation: operation,\r\n              dbError: lastError.name\r\n            });\r\n\r\n            logger.error('Query failed permanently', lastError, {\r\n              query: text.substring(0, 100),\r\n              attempts: attempt,\r\n            });\r\n            throw lastError;\r\n          }\r\n\r\n          // Exponential backoff\r\n          const delay = Math.pow(2, attempt) * 100;\r\n          logger.debug(`Retrying query after ${delay}ms`);\r\n          await sleep(delay);\r\n        }\r\n      }\r\n\r\n      throw lastError || new Error('Query failed after retries');\r\n    },\r\n    {\r\n      operation,\r\n      paramCount: params?.length || 0\r\n    }\r\n  );\r\n}\r\n\r\n/**\r\n * Execute a transaction with automatic rollback on error and X-Ray tracing\r\n */\r\nexport async function transaction<T>(\r\n  callback: (client: PoolClient) => Promise<T>\r\n): Promise<T> {\r\n  return traceQuery(\r\n    'TRANSACTION',\r\n    async () => {\r\n      const pool = await dbPool.getPool();\r\n      const client = await pool.connect();\r\n\r\n      try {\r\n        logger.debug('Starting database transaction');\r\n        await client.query('BEGIN');\r\n\r\n        const result = await callback(client);\r\n\r\n        await client.query('COMMIT');\r\n        logger.debug('Transaction committed successfully');\r\n\r\n        // Add success annotation\r\n        addAnnotations({ dbTransactionStatus: 'committed' });\r\n\r\n        return result;\r\n      } catch (error) {\r\n        await client.query('ROLLBACK');\r\n        logger.error('Transaction rolled back due to error', error as Error);\r\n        \r\n        // Add rollback annotation\r\n        addAnnotations({ dbTransactionStatus: 'rolled_back' });\r\n        \r\n        throw error;\r\n      } finally {\r\n        client.release();\r\n      }\r\n    },\r\n    { operation: 'transaction' }\r\n  );\r\n}\r\n\r\n/**\r\n * Get the database connection pool\r\n * Useful for LGPD compliance functions that need direct pool access\r\n */\r\nexport async function getPool(): Promise<Pool> {\r\n  return await dbPool.getPool();\r\n}\r\n\r\n/**\r\n * Get a client from the pool for manual transaction management\r\n */\r\nexport async function getClient(): Promise<PoolClient> {\r\n  const pool = await dbPool.getPool();\r\n  return await pool.connect();\r\n}\r\n\r\n/**\r\n * Close the database connection pool\r\n */\r\nexport async function closePool(): Promise<void> {\r\n  await dbPool.close();\r\n}\r\n\r\n/**\r\n * Check if an error is transient (should retry)\r\n */\r\nfunction isTransientError(error: Error): boolean {\r\n  const transientErrorCodes = [\r\n    'ECONNREFUSED',\r\n    'ECONNRESET',\r\n    'ETIMEDOUT',\r\n    'ENOTFOUND',\r\n    '57P03', // PostgreSQL: cannot connect now\r\n    '53300', // PostgreSQL: too many connections\r\n    '08006', // PostgreSQL: connection failure\r\n    '08003', // PostgreSQL: connection does not exist\r\n  ];\r\n\r\n  const errorMessage = error.message.toLowerCase();\r\n  const errorCode = (error as any).code;\r\n\r\n  return (\r\n    transientErrorCodes.includes(errorCode) ||\r\n    errorMessage.includes('connection') ||\r\n    errorMessage.includes('timeout') ||\r\n    errorMessage.includes('econnrefused')\r\n  );\r\n}\r\n\r\n/**\r\n * Sleep utility for retry delays\r\n */\r\nfunction sleep(ms: number): Promise<void> {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\n/**\r\n * Health check - verify database connectivity\r\n */\r\nexport async function healthCheck(): Promise<boolean> {\r\n  try {\r\n    const result = await query('SELECT 1 as health');\r\n    return result.rows.length > 0 && result.rows[0].health === 1;\r\n  } catch (error) {\r\n    logger.error('Database health check failed', error as Error);\r\n    return false;\r\n  }\r\n}\r\n", "export * from \"./errors.js\";\nexport * from \"./helpers/parseUtil.js\";\nexport * from \"./helpers/typeAliases.js\";\nexport * from \"./helpers/util.js\";\nexport * from \"./types.js\";\nexport * from \"./ZodError.js\";\n", "export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n", "import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                const firstEl = sub.path[0];\n                fieldErrors[firstEl] = fieldErrors[firstEl] || [];\n                fieldErrors[firstEl].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n", "import { ZodIssueCode } from \"../ZodError.js\";\nimport { util, ZodParsedType } from \"../helpers/util.js\";\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"bigint\")\n                message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\nexport default errorMap;\n", "import defaultErrorMap from \"./locales/en.js\";\nlet overrideErrorMap = defaultErrorMap;\nexport { defaultErrorMap };\nexport function setErrorMap(map) {\n    overrideErrorMap = map;\n}\nexport function getErrorMap() {\n    return overrideErrorMap;\n}\n", "import { getErrorMap } from \"../errors.js\";\nimport defaultErrorMap from \"../locales/en.js\";\nexport const makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nexport const EMPTY_PATH = [];\nexport function addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === defaultErrorMap ? undefined : defaultErrorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nexport class ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" && (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nexport const INVALID = Object.freeze({\n    status: \"aborted\",\n});\nexport const DIRTY = (value) => ({ status: \"dirty\", value });\nexport const OK = (value) => ({ status: \"valid\", value });\nexport const isAborted = (x) => x.status === \"aborted\";\nexport const isDirty = (x) => x.status === \"dirty\";\nexport const isValid = (x) => x.status === \"valid\";\nexport const isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n", "export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n", "import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        if (!header)\n            return false;\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n", "// Type declarations for Node.js globals\r\ndeclare const require: any;\r\ndeclare const console: any;\r\ndeclare const global: any;\r\ndeclare class AbortController {\r\n  signal: any;\r\n  abort(): void;\r\n}\r\n\r\n// Use require for uuid to avoid type issues\r\nconst { v4: uuidv4 } = require('uuid');\r\n\r\n/**\r\n * MCP Tool definition\r\n */\r\nexport interface MCPTool {\r\n  name: string;\r\n  description: string;\r\n  inputSchema: Record<string, any>;\r\n}\r\n\r\n/**\r\n * MCP Client configuration\r\n */\r\nexport interface MCPClientConfig {\r\n  timeout?: number; // milliseconds\r\n  maxRetries?: number;\r\n  initialRetryDelay?: number; // milliseconds\r\n  maxRetryDelay?: number; // milliseconds\r\n  logger?: MCPLogger;\r\n}\r\n\r\n/**\r\n * Logger interface for MCP operations\r\n */\r\nexport interface MCPLogger {\r\n  info(message: string, metadata?: Record<string, any>): void;\r\n  warn(message: string, metadata?: Record<string, any>): void;\r\n  error(message: string, error: Error, metadata?: Record<string, any>): void;\r\n  debug(message: string, metadata?: Record<string, any>): void;\r\n}\r\n\r\n/**\r\n * MCP Error types\r\n */\r\nexport class MCPError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public readonly code: string,\r\n    public readonly server: string,\r\n    public readonly method: string,\r\n    public readonly traceId: string,\r\n    public readonly isRetryable: boolean = false\r\n  ) {\r\n    super(message);\r\n    this.name = 'MCPError';\r\n  }\r\n}\r\n\r\nexport class MCPTimeoutError extends MCPError {\r\n  constructor(server: string, method: string, traceId: string, timeout: number) {\r\n    super(\r\n      `MCP call timed out after ${timeout}ms`,\r\n      'MCP_TIMEOUT',\r\n      server,\r\n      method,\r\n      traceId,\r\n      true\r\n    );\r\n    this.name = 'MCPTimeoutError';\r\n  }\r\n}\r\n\r\nexport class MCPNetworkError extends MCPError {\r\n  constructor(server: string, method: string, traceId: string, originalError: Error) {\r\n    super(\r\n      `Network error during MCP call: ${originalError.message}`,\r\n      'MCP_NETWORK_ERROR',\r\n      server,\r\n      method,\r\n      traceId,\r\n      true\r\n    );\r\n    this.name = 'MCPNetworkError';\r\n  }\r\n}\r\n\r\nexport class MCPServerError extends MCPError {\r\n  constructor(server: string, method: string, traceId: string, statusCode: number) {\r\n    super(\r\n      `MCP server error: ${statusCode}`,\r\n      'MCP_SERVER_ERROR',\r\n      server,\r\n      method,\r\n      traceId,\r\n      statusCode >= 500 && statusCode < 600 // 5xx errors are retryable\r\n    );\r\n    this.name = 'MCPServerError';\r\n  }\r\n}\r\n\r\n/**\r\n * Default console logger implementation\r\n */\r\nclass ConsoleLogger implements MCPLogger {\r\n  info(message: string, metadata?: Record<string, any>): void {\r\n    console.log(JSON.stringify({ level: 'INFO', message, ...metadata }));\r\n  }\r\n\r\n  warn(message: string, metadata?: Record<string, any>): void {\r\n    console.warn(JSON.stringify({ level: 'WARN', message, ...metadata }));\r\n  }\r\n\r\n  error(message: string, error: Error, metadata?: Record<string, any>): void {\r\n    console.error(\r\n      JSON.stringify({\r\n        level: 'ERROR',\r\n        message,\r\n        error: {\r\n          name: error.name,\r\n          message: error.message,\r\n          stack: error.stack,\r\n        },\r\n        ...metadata,\r\n      })\r\n    );\r\n  }\r\n\r\n  debug(message: string, metadata?: Record<string, any>): void {\r\n    console.debug(JSON.stringify({ level: 'DEBUG', message, ...metadata }));\r\n  }\r\n}\r\n\r\n/**\r\n * Base MCP Client for integrating external tools via Model Context Protocol\r\n * \r\n * Features:\r\n * - Retry logic with exponential backoff\r\n * - Configurable timeout\r\n * - Structured logging with trace_id\r\n * - Error classification (transient vs permanent)\r\n * \r\n * Requirements: 13.1, 13.8, 13.9\r\n */\r\nexport class MCPClient {\r\n  private readonly timeout: number;\r\n  private readonly maxRetries: number;\r\n  private readonly initialRetryDelay: number;\r\n  private readonly maxRetryDelay: number;\r\n  private readonly logger: MCPLogger;\r\n\r\n  constructor(config: MCPClientConfig = {}) {\r\n    this.timeout = config.timeout ?? 30000; // 30 seconds default\r\n    this.maxRetries = config.maxRetries ?? 3;\r\n    this.initialRetryDelay = config.initialRetryDelay ?? 1000; // 1 second\r\n    this.maxRetryDelay = config.maxRetryDelay ?? 30000; // 30 seconds\r\n    this.logger = config.logger ?? new ConsoleLogger();\r\n  }\r\n\r\n  /**\r\n   * Call an MCP server method with retry logic and exponential backoff\r\n   * \r\n   * @param server - MCP server name (e.g., 'whatsapp', 'calendar')\r\n   * @param method - Method name to call\r\n   * @param params - Method parameters\r\n   * @returns Promise with method result\r\n   * @throws MCPError if call fails after all retries\r\n   */\r\n  async call<T = any>(\r\n    server: string,\r\n    method: string,\r\n    params: Record<string, any> = {}\r\n  ): Promise<T> {\r\n    const traceId = uuidv4();\r\n    const startTime = Date.now();\r\n\r\n    this.logger.info('MCP call initiated', {\r\n      traceId,\r\n      server,\r\n      method,\r\n      params: this.sanitizeParams(params),\r\n    });\r\n\r\n    let lastError: MCPError | null = null;\r\n\r\n    for (let attempt = 1; attempt <= this.maxRetries; attempt++) {\r\n      try {\r\n        const result = await this.executeCall<T>(server, method, params, traceId, attempt);\r\n\r\n        const duration = Date.now() - startTime;\r\n        this.logger.info('MCP call succeeded', {\r\n          traceId,\r\n          server,\r\n          method,\r\n          attempt,\r\n          duration,\r\n        });\r\n\r\n        return result;\r\n      } catch (error) {\r\n        const duration = Date.now() - startTime;\r\n\r\n        if (error instanceof MCPError) {\r\n          lastError = error;\r\n\r\n          this.logger.warn('MCP call failed', {\r\n            traceId,\r\n            server,\r\n            method,\r\n            attempt,\r\n            maxRetries: this.maxRetries,\r\n            duration,\r\n            error: error.message,\r\n            code: error.code,\r\n            isRetryable: error.isRetryable,\r\n          });\r\n\r\n          // Don't retry if error is not retryable\r\n          if (!error.isRetryable) {\r\n            this.logger.error('MCP call failed with non-retryable error', error, {\r\n              traceId,\r\n              server,\r\n              method,\r\n            });\r\n            throw error;\r\n          }\r\n\r\n          // Don't retry if this was the last attempt\r\n          if (attempt === this.maxRetries) {\r\n            break;\r\n          }\r\n\r\n          // Calculate delay with exponential backoff\r\n          const delay = this.calculateRetryDelay(attempt);\r\n          this.logger.debug('Retrying MCP call after delay', {\r\n            traceId,\r\n            server,\r\n            method,\r\n            attempt,\r\n            nextAttempt: attempt + 1,\r\n            delayMs: delay,\r\n          });\r\n\r\n          await this.sleep(delay);\r\n        } else {\r\n          // Unexpected error - wrap it and don't retry\r\n          const mcpError = new MCPError(\r\n            `Unexpected error during MCP call: ${error}`,\r\n            'MCP_UNEXPECTED_ERROR',\r\n            server,\r\n            method,\r\n            traceId,\r\n            false\r\n          );\r\n          this.logger.error('MCP call failed with unexpected error', mcpError, {\r\n            traceId,\r\n            server,\r\n            method,\r\n            originalError: error,\r\n          });\r\n          throw mcpError;\r\n        }\r\n      }\r\n    }\r\n\r\n    // All retries exhausted\r\n    this.logger.error('MCP call failed after all retries', lastError!, {\r\n      traceId,\r\n      server,\r\n      method,\r\n      attempts: this.maxRetries,\r\n    });\r\n\r\n    throw lastError!;\r\n  }\r\n\r\n  /**\r\n   * List available tools from an MCP server\r\n   * \r\n   * @param server - MCP server name\r\n   * @returns Promise with array of available tools\r\n   */\r\n  async listTools(server: string): Promise<MCPTool[]> {\r\n    const traceId = uuidv4();\r\n\r\n    this.logger.info('Listing MCP tools', {\r\n      traceId,\r\n      server,\r\n    });\r\n\r\n    try {\r\n      // In a real implementation, this would call the MCP server's list_tools endpoint\r\n      // For now, we'll return a mock implementation\r\n      const tools = await this.executeListTools(server, traceId);\r\n\r\n      this.logger.info('MCP tools listed successfully', {\r\n        traceId,\r\n        server,\r\n        toolCount: tools.length,\r\n      });\r\n\r\n      return tools;\r\n    } catch (error) {\r\n      this.logger.error('Failed to list MCP tools', error as Error, {\r\n        traceId,\r\n        server,\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Execute the actual MCP call (to be implemented by specific integrations)\r\n   * This is a placeholder that should be overridden or extended\r\n   */\r\n  private async executeCall<T>(\r\n    server: string,\r\n    method: string,\r\n    params: Record<string, any>,\r\n    traceId: string,\r\n    attempt: number\r\n  ): Promise<T> {\r\n    // Create abort controller for timeout\r\n    const controller = new AbortController();\r\n    const timeoutId = global.setTimeout(() => controller.abort(), this.timeout);\r\n\r\n    try {\r\n      // In a real implementation, this would make an HTTP request to the MCP server\r\n      // For now, we'll simulate the call\r\n      const result = await this.simulateMCPCall<T>(\r\n        server,\r\n        method,\r\n        params,\r\n        controller.signal\r\n      );\r\n\r\n      global.clearTimeout(timeoutId);\r\n      return result;\r\n    } catch (error) {\r\n      global.clearTimeout(timeoutId);\r\n\r\n      if (error instanceof Error && error.name === 'AbortError') {\r\n        throw new MCPTimeoutError(server, method, traceId, this.timeout);\r\n      }\r\n\r\n      // Classify error type\r\n      if (this.isNetworkError(error)) {\r\n        throw new MCPNetworkError(server, method, traceId, error as Error);\r\n      }\r\n\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Execute list tools call (to be implemented by specific integrations)\r\n   */\r\n  private async executeListTools(server: string, traceId: string): Promise<MCPTool[]> {\r\n    // In a real implementation, this would call the MCP server's list_tools endpoint\r\n    // For now, return empty array\r\n    return [];\r\n  }\r\n\r\n  /**\r\n   * Simulate MCP call (placeholder for actual implementation)\r\n   */\r\n  private async simulateMCPCall<T>(\r\n    server: string,\r\n    method: string,\r\n    params: Record<string, any>,\r\n    signal: any\r\n  ): Promise<T> {\r\n    // This is a placeholder that should be replaced with actual MCP protocol implementation\r\n    // In a real implementation, this would:\r\n    // 1. Construct MCP request payload\r\n    // 2. Make HTTP request to MCP server endpoint\r\n    // 3. Parse and validate response\r\n    // 4. Return result\r\n\r\n    return new Promise((resolve, reject) => {\r\n      // Check if already aborted\r\n      if (signal.aborted) {\r\n        reject(new Error('AbortError'));\r\n        return;\r\n      }\r\n\r\n      // Listen for abort signal\r\n      signal.addEventListener('abort', () => {\r\n        reject(new Error('AbortError'));\r\n      });\r\n\r\n      // Simulate async operation\r\n      global.setTimeout(() => {\r\n        resolve({} as T);\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Calculate retry delay with exponential backoff and jitter\r\n   */\r\n  private calculateRetryDelay(attempt: number): number {\r\n    // Exponential backoff: initialDelay * 2^(attempt-1)\r\n    const exponentialDelay = this.initialRetryDelay * Math.pow(2, attempt - 1);\r\n\r\n    // Add jitter (\u00B125% random variation)\r\n    const jitter = exponentialDelay * 0.25 * (Math.random() * 2 - 1);\r\n    const delayWithJitter = exponentialDelay + jitter;\r\n\r\n    // Cap at maxRetryDelay\r\n    return Math.min(delayWithJitter, this.maxRetryDelay);\r\n  }\r\n\r\n  /**\r\n   * Sleep for specified milliseconds\r\n   */\r\n  private sleep(ms: number): Promise<void> {\r\n    return new Promise((resolve) => global.setTimeout(resolve, ms));\r\n  }\r\n\r\n  /**\r\n   * Check if error is a network error\r\n   */\r\n  private isNetworkError(error: any): boolean {\r\n    if (error instanceof Error) {\r\n      const networkErrorCodes = [\r\n        'ECONNREFUSED',\r\n        'ECONNRESET',\r\n        'ETIMEDOUT',\r\n        'ENOTFOUND',\r\n        'ENETUNREACH',\r\n      ];\r\n      return networkErrorCodes.some((code) => error.message.includes(code));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Sanitize params for logging (remove sensitive data)\r\n   */\r\n  private sanitizeParams(params: Record<string, any>): Record<string, any> {\r\n    const sensitiveKeys = ['password', 'token', 'apiKey', 'secret', 'authorization'];\r\n    const sanitized = { ...params };\r\n\r\n    for (const key of Object.keys(sanitized)) {\r\n      if (sensitiveKeys.some((sensitive) => key.toLowerCase().includes(sensitive))) {\r\n        sanitized[key] = '***REDACTED***';\r\n      }\r\n    }\r\n\r\n    return sanitized;\r\n  }\r\n}\r\n\r\n/**\r\n * Create a configured MCP client instance\r\n */\r\nexport function createMCPClient(config?: MCPClientConfig): MCPClient {\r\n  return new MCPClient(config);\r\n}\r\n", "import { MCPClient, MCPClientConfig, MCPError, MCPLogger } from '../base-client';\r\n\r\n// Type declarations for Node.js globals\r\ndeclare const require: any;\r\ndeclare const process: any;\r\ndeclare const setTimeout: any;\r\n\r\n// Use require for uuid and AWS SDK to avoid type issues\r\nconst { v4: uuidv4 } = require('uuid');\r\nconst AWS = require('aws-sdk');\r\n\r\n/**\r\n * WhatsApp message status types\r\n */\r\nexport type WhatsAppMessageStatus =\r\n  | 'queued'\r\n  | 'sent'\r\n  | 'delivered'\r\n  | 'read'\r\n  | 'failed';\r\n\r\n/**\r\n * WhatsApp send message parameters\r\n */\r\nexport interface WhatsAppSendMessageParams {\r\n  to: string; // Phone number in international format (+5511987654321)\r\n  message: string;\r\n  idempotencyKey?: string; // Optional idempotency key for duplicate prevention\r\n}\r\n\r\n/**\r\n * WhatsApp send message response\r\n */\r\nexport interface WhatsAppSendMessageResponse {\r\n  messageId: string;\r\n  status: WhatsAppMessageStatus;\r\n  timestamp: string;\r\n}\r\n\r\n/**\r\n * WhatsApp get message status response\r\n */\r\nexport interface WhatsAppMessageStatusResponse {\r\n  messageId: string;\r\n  status: WhatsAppMessageStatus;\r\n  timestamp: string;\r\n  errorCode?: string;\r\n  errorMessage?: string;\r\n}\r\n\r\n/**\r\n * WhatsApp MCP Server configuration\r\n */\r\nexport interface WhatsAppMCPConfig extends MCPClientConfig {\r\n  secretName?: string; // AWS Secrets Manager secret name\r\n  apiEndpoint?: string; // WhatsApp Business API endpoint\r\n  rateLimit?: {\r\n    messagesPerSecond: number;\r\n    messagesPerMinute: number;\r\n    messagesPerHour: number;\r\n  };\r\n}\r\n\r\n/**\r\n * Rate limiter for WhatsApp API calls\r\n */\r\nclass RateLimiter {\r\n  private readonly messagesPerSecond: number;\r\n  private readonly messagesPerMinute: number;\r\n  private readonly messagesPerHour: number;\r\n\r\n  private secondWindow: number[] = [];\r\n  private minuteWindow: number[] = [];\r\n  private hourWindow: number[] = [];\r\n\r\n  constructor(config: {\r\n    messagesPerSecond: number;\r\n    messagesPerMinute: number;\r\n    messagesPerHour: number;\r\n  }) {\r\n    this.messagesPerSecond = config.messagesPerSecond;\r\n    this.messagesPerMinute = config.messagesPerMinute;\r\n    this.messagesPerHour = config.messagesPerHour;\r\n  }\r\n\r\n  /**\r\n   * Check if a message can be sent based on rate limits\r\n   * Returns true if allowed, false if rate limit exceeded\r\n   */\r\n  async checkAndRecord(): Promise<boolean> {\r\n    const now = Date.now();\r\n\r\n    // Clean up old timestamps\r\n    this.cleanupWindows(now);\r\n\r\n    // Check rate limits\r\n    if (this.secondWindow.length >= this.messagesPerSecond) {\r\n      return false;\r\n    }\r\n    if (this.minuteWindow.length >= this.messagesPerMinute) {\r\n      return false;\r\n    }\r\n    if (this.hourWindow.length >= this.messagesPerHour) {\r\n      return false;\r\n    }\r\n\r\n    // Record this message\r\n    this.secondWindow.push(now);\r\n    this.minuteWindow.push(now);\r\n    this.hourWindow.push(now);\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Wait until rate limit allows sending\r\n   */\r\n  async waitForSlot(): Promise<void> {\r\n    while (!(await this.checkAndRecord())) {\r\n      // Wait 100ms before checking again\r\n      await this.sleep(100);\r\n    }\r\n  }\r\n\r\n  private cleanupWindows(now: number): void {\r\n    const oneSecondAgo = now - 1000;\r\n    const oneMinuteAgo = now - 60000;\r\n    const oneHourAgo = now - 3600000;\r\n\r\n    this.secondWindow = this.secondWindow.filter((ts) => ts > oneSecondAgo);\r\n    this.minuteWindow = this.minuteWindow.filter((ts) => ts > oneMinuteAgo);\r\n    this.hourWindow = this.hourWindow.filter((ts) => ts > oneHourAgo);\r\n  }\r\n\r\n  private sleep(ms: number): Promise<void> {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n  }\r\n}\r\n\r\n/**\r\n * WhatsApp MCP Server for integrating with WhatsApp Business API\r\n * \r\n * Features:\r\n * - Send messages with idempotency support\r\n * - Get message delivery status\r\n * - Rate limiting (80 msg/second default)\r\n * - Retry with exponential backoff\r\n * - API key stored in AWS Secrets Manager\r\n * \r\n * Requirements: 13.2, 13.7, 13.8, 13.9, 13.10\r\n */\r\nexport class WhatsAppMCPServer {\r\n  private readonly mcpClient: MCPClient;\r\n  private readonly secretName: string;\r\n  private readonly apiEndpoint: string;\r\n  private readonly rateLimiter: RateLimiter;\r\n  private readonly logger: MCPLogger;\r\n  private readonly secretsManager: any;\r\n\r\n  private apiKey: string | null = null;\r\n  private apiKeyExpiry: number = 0;\r\n\r\n  // In-memory idempotency cache (in production, use Redis or DynamoDB)\r\n  private idempotencyCache: Map<string, WhatsAppSendMessageResponse> = new Map();\r\n\r\n  constructor(config: WhatsAppMCPConfig = {}) {\r\n    this.mcpClient = new MCPClient(config);\r\n    this.secretName = config.secretName ?? 'fibonacci/mcp/whatsapp';\r\n    this.apiEndpoint =\r\n      config.apiEndpoint ?? 'https://graph.facebook.com/v18.0';\r\n    this.logger = config.logger ?? this.mcpClient['logger'];\r\n\r\n    // Configure rate limiting (default: 80 msg/sec as per WhatsApp Business API limits)\r\n    this.rateLimiter = new RateLimiter(\r\n      config.rateLimit ?? {\r\n        messagesPerSecond: 80,\r\n        messagesPerMinute: 1000,\r\n        messagesPerHour: 10000,\r\n      }\r\n    );\r\n\r\n    // Initialize AWS Secrets Manager\r\n    this.secretsManager = new AWS.SecretsManager({\r\n      region: process.env.AWS_REGION ?? 'us-east-1',\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Send a WhatsApp message\r\n   * \r\n   * @param params - Message parameters\r\n   * @returns Promise with message ID and status\r\n   * @throws MCPError if send fails\r\n   */\r\n  async sendMessage(\r\n    params: WhatsAppSendMessageParams\r\n  ): Promise<WhatsAppSendMessageResponse> {\r\n    const traceId = uuidv4();\r\n    const startTime = Date.now();\r\n\r\n    // Validate parameters\r\n    this.validateSendMessageParams(params);\r\n\r\n    // Generate idempotency key if not provided\r\n    const idempotencyKey =\r\n      params.idempotencyKey ?? this.generateIdempotencyKey(params);\r\n\r\n    this.logger.info('WhatsApp sendMessage initiated', {\r\n      traceId,\r\n      to: this.maskPhoneNumber(params.to),\r\n      idempotencyKey,\r\n    });\r\n\r\n    // Check idempotency cache\r\n    const cachedResponse = this.idempotencyCache.get(idempotencyKey);\r\n    if (cachedResponse) {\r\n      this.logger.info('WhatsApp sendMessage returned from cache (idempotent)', {\r\n        traceId,\r\n        idempotencyKey,\r\n        messageId: cachedResponse.messageId,\r\n      });\r\n      return cachedResponse;\r\n    }\r\n\r\n    try {\r\n      // Wait for rate limit slot\r\n      await this.rateLimiter.waitForSlot();\r\n\r\n      // Get API key from Secrets Manager\r\n      const apiKey = await this.getApiKey();\r\n\r\n      // Send message via WhatsApp Business API\r\n      const response = await this.sendWhatsAppMessage(\r\n        params,\r\n        apiKey,\r\n        idempotencyKey,\r\n        traceId\r\n      );\r\n\r\n      // Cache response for idempotency\r\n      this.idempotencyCache.set(idempotencyKey, response);\r\n\r\n      // Clean up old cache entries (keep last 10000)\r\n      if (this.idempotencyCache.size > 10000) {\r\n        const firstKey = this.idempotencyCache.keys().next().value as string;\r\n        if (firstKey) {\r\n          this.idempotencyCache.delete(firstKey);\r\n        }\r\n      }\r\n\r\n      const duration = Date.now() - startTime;\r\n      this.logger.info('WhatsApp sendMessage succeeded', {\r\n        traceId,\r\n        messageId: response.messageId,\r\n        status: response.status,\r\n        duration,\r\n      });\r\n\r\n      return response;\r\n    } catch (error) {\r\n      const duration = Date.now() - startTime;\r\n      this.logger.error('WhatsApp sendMessage failed', error as Error, {\r\n        traceId,\r\n        to: this.maskPhoneNumber(params.to),\r\n        duration,\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get message delivery status\r\n   * \r\n   * @param messageId - WhatsApp message ID\r\n   * @returns Promise with message status\r\n   * @throws MCPError if status check fails\r\n   */\r\n  async getMessageStatus(\r\n    messageId: string\r\n  ): Promise<WhatsAppMessageStatusResponse> {\r\n    const traceId = uuidv4();\r\n    const startTime = Date.now();\r\n\r\n    this.logger.info('WhatsApp getMessageStatus initiated', {\r\n      traceId,\r\n      messageId,\r\n    });\r\n\r\n    try {\r\n      // Get API key from Secrets Manager\r\n      const apiKey = await this.getApiKey();\r\n\r\n      // Get status from WhatsApp Business API\r\n      const response = await this.fetchMessageStatus(messageId, apiKey, traceId);\r\n\r\n      const duration = Date.now() - startTime;\r\n      this.logger.info('WhatsApp getMessageStatus succeeded', {\r\n        traceId,\r\n        messageId,\r\n        status: response.status,\r\n        duration,\r\n      });\r\n\r\n      return response;\r\n    } catch (error) {\r\n      const duration = Date.now() - startTime;\r\n      this.logger.error('WhatsApp getMessageStatus failed', error as Error, {\r\n        traceId,\r\n        messageId,\r\n        duration,\r\n      });\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get API key from AWS Secrets Manager with caching\r\n   */\r\n  private async getApiKey(): Promise<string> {\r\n    const now = Date.now();\r\n\r\n    // Return cached key if still valid (cache for 5 minutes)\r\n    if (this.apiKey && now < this.apiKeyExpiry) {\r\n      return this.apiKey;\r\n    }\r\n\r\n    try {\r\n      this.logger.debug('Fetching WhatsApp API key from Secrets Manager', {\r\n        secretName: this.secretName,\r\n      });\r\n\r\n      const data = await this.secretsManager\r\n        .getSecretValue({ SecretId: this.secretName })\r\n        .promise() as any;\r\n\r\n      if (!data.SecretString) {\r\n        throw new Error('Secret value is empty');\r\n      }\r\n\r\n      const secret = JSON.parse(data.SecretString);\r\n      this.apiKey = secret.apiKey;\r\n\r\n      if (!this.apiKey) {\r\n        throw new Error('apiKey not found in secret');\r\n      }\r\n\r\n      // Cache for 5 minutes\r\n      this.apiKeyExpiry = now + 300000;\r\n\r\n      this.logger.debug('WhatsApp API key fetched successfully');\r\n\r\n      return this.apiKey;\r\n    } catch (error) {\r\n      this.logger.error('Failed to fetch WhatsApp API key', error as Error, {\r\n        secretName: this.secretName,\r\n      });\r\n      throw new MCPError(\r\n        `Failed to fetch API key from Secrets Manager: ${error}`,\r\n        'WHATSAPP_AUTH_ERROR',\r\n        'whatsapp',\r\n        'getApiKey',\r\n        uuidv4(),\r\n        false\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Send message to WhatsApp Business API\r\n   */\r\n  private async sendWhatsAppMessage(\r\n    params: WhatsAppSendMessageParams,\r\n    apiKey: string,\r\n    idempotencyKey: string,\r\n    traceId: string\r\n  ): Promise<WhatsAppSendMessageResponse> {\r\n    // In a real implementation, this would make an HTTP request to WhatsApp Business API\r\n    // Example endpoint: POST https://graph.facebook.com/v18.0/{phone-number-id}/messages\r\n    \r\n    const payload = {\r\n      messaging_product: 'whatsapp',\r\n      recipient_type: 'individual',\r\n      to: params.to,\r\n      type: 'text',\r\n      text: {\r\n        body: params.message,\r\n      },\r\n    };\r\n\r\n    try {\r\n      // Simulate API call (in production, use fetch or axios)\r\n      const response = await this.makeHttpRequest(\r\n        'POST',\r\n        `${this.apiEndpoint}/messages`,\r\n        payload,\r\n        {\r\n          Authorization: `Bearer ${apiKey}`,\r\n          'Content-Type': 'application/json',\r\n          'X-Idempotency-Key': idempotencyKey,\r\n          'X-Trace-Id': traceId,\r\n        }\r\n      );\r\n\r\n      // Parse response\r\n      const messageId = response.messages?.[0]?.id ?? uuidv4();\r\n\r\n      return {\r\n        messageId,\r\n        status: 'sent',\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n    } catch (error) {\r\n      throw new MCPError(\r\n        `WhatsApp API error: ${error}`,\r\n        'WHATSAPP_API_ERROR',\r\n        'whatsapp',\r\n        'sendMessage',\r\n        traceId,\r\n        this.isRetryableError(error)\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Fetch message status from WhatsApp Business API\r\n   */\r\n  private async fetchMessageStatus(\r\n    messageId: string,\r\n    apiKey: string,\r\n    traceId: string\r\n  ): Promise<WhatsAppMessageStatusResponse> {\r\n    // In a real implementation, this would make an HTTP request to WhatsApp Business API\r\n    // Example endpoint: GET https://graph.facebook.com/v18.0/{message-id}\r\n\r\n    try {\r\n      const response = await this.makeHttpRequest(\r\n        'GET',\r\n        `${this.apiEndpoint}/messages/${messageId}`,\r\n        null,\r\n        {\r\n          Authorization: `Bearer ${apiKey}`,\r\n          'X-Trace-Id': traceId,\r\n        }\r\n      );\r\n\r\n      return {\r\n        messageId,\r\n        status: this.mapWhatsAppStatus(response.status),\r\n        timestamp: response.timestamp ?? new Date().toISOString(),\r\n        errorCode: response.error?.code,\r\n        errorMessage: response.error?.message,\r\n      };\r\n    } catch (error) {\r\n      throw new MCPError(\r\n        `WhatsApp API error: ${error}`,\r\n        'WHATSAPP_API_ERROR',\r\n        'whatsapp',\r\n        'getMessageStatus',\r\n        traceId,\r\n        this.isRetryableError(error)\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Make HTTP request (placeholder for actual implementation)\r\n   * In production, use fetch or axios with proper error handling\r\n   */\r\n  private async makeHttpRequest(\r\n    method: string,\r\n    url: string,\r\n    body: any,\r\n    headers: Record<string, string>\r\n  ): Promise<any> {\r\n    // This is a placeholder implementation\r\n    // In production, replace with actual HTTP client (fetch, axios, etc.)\r\n    \r\n    this.logger.debug('Making HTTP request to WhatsApp API', {\r\n      method,\r\n      url: url.replace(/\\/\\d+\\//g, '/****/'), // Mask phone number IDs\r\n    });\r\n\r\n    // Simulate successful response\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        if (method === 'POST') {\r\n          resolve({\r\n            messages: [{ id: uuidv4() }],\r\n          });\r\n        } else {\r\n          resolve({\r\n            status: 'delivered',\r\n            timestamp: new Date().toISOString(),\r\n          });\r\n        }\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Validate send message parameters\r\n   */\r\n  private validateSendMessageParams(params: WhatsAppSendMessageParams): void {\r\n    if (!params.to) {\r\n      throw new MCPError(\r\n        'Missing required parameter: to',\r\n        'WHATSAPP_INVALID_PARAMS',\r\n        'whatsapp',\r\n        'sendMessage',\r\n        uuidv4(),\r\n        false\r\n      );\r\n    }\r\n\r\n    if (!params.message) {\r\n      throw new MCPError(\r\n        'Missing required parameter: message',\r\n        'WHATSAPP_INVALID_PARAMS',\r\n        'whatsapp',\r\n        'sendMessage',\r\n        uuidv4(),\r\n        false\r\n      );\r\n    }\r\n\r\n    // Validate phone number format (should start with +)\r\n    if (!params.to.startsWith('+')) {\r\n      throw new MCPError(\r\n        'Phone number must be in international format (e.g., +5511987654321)',\r\n        'WHATSAPP_INVALID_PHONE',\r\n        'whatsapp',\r\n        'sendMessage',\r\n        uuidv4(),\r\n        false\r\n      );\r\n    }\r\n\r\n    // Validate message length (WhatsApp limit is 4096 characters)\r\n    if (params.message.length > 4096) {\r\n      throw new MCPError(\r\n        'Message exceeds maximum length of 4096 characters',\r\n        'WHATSAPP_MESSAGE_TOO_LONG',\r\n        'whatsapp',\r\n        'sendMessage',\r\n        uuidv4(),\r\n        false\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Generate idempotency key from message parameters\r\n   */\r\n  private generateIdempotencyKey(params: WhatsAppSendMessageParams): string {\r\n    // Create deterministic key from phone + message hash\r\n    const content = `${params.to}:${params.message}`;\r\n    // Simple hash (in production, use crypto.createHash)\r\n    let hash = 0;\r\n    for (let i = 0; i < content.length; i++) {\r\n      const char = content.charCodeAt(i);\r\n      hash = (hash << 5) - hash + char;\r\n      hash = hash & hash; // Convert to 32-bit integer\r\n    }\r\n    return `whatsapp-${Math.abs(hash)}-${Date.now()}`;\r\n  }\r\n\r\n  /**\r\n   * Map WhatsApp API status to our status enum\r\n   */\r\n  private mapWhatsAppStatus(status: string): WhatsAppMessageStatus {\r\n    const statusMap: Record<string, WhatsAppMessageStatus> = {\r\n      queued: 'queued',\r\n      sent: 'sent',\r\n      delivered: 'delivered',\r\n      read: 'read',\r\n      failed: 'failed',\r\n    };\r\n\r\n    return statusMap[status.toLowerCase()] ?? 'sent';\r\n  }\r\n\r\n  /**\r\n   * Check if error is retryable\r\n   */\r\n  private isRetryableError(error: any): boolean {\r\n    // Network errors are retryable\r\n    if (error instanceof Error) {\r\n      const networkErrorCodes = [\r\n        'ECONNREFUSED',\r\n        'ECONNRESET',\r\n        'ETIMEDOUT',\r\n        'ENOTFOUND',\r\n      ];\r\n      if (networkErrorCodes.some((code) => error.message.includes(code))) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // HTTP 5xx errors are retryable\r\n    if (error.statusCode >= 500 && error.statusCode < 600) {\r\n      return true;\r\n    }\r\n\r\n    // Rate limit errors (429) are retryable\r\n    if (error.statusCode === 429) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Mask phone number for logging (keep only country code and last 4 digits)\r\n   */\r\n  private maskPhoneNumber(phone: string): string {\r\n    if (phone.length <= 7) {\r\n      return phone;\r\n    }\r\n    const countryCode = phone.substring(0, 3); // +55\r\n    const lastFour = phone.substring(phone.length - 4);\r\n    const masked = '*'.repeat(phone.length - 7);\r\n    return `${countryCode}${masked}${lastFour}`;\r\n  }\r\n}\r\n\r\n/**\r\n * Create a configured WhatsApp MCP server instance\r\n */\r\nexport function createWhatsAppMCPServer(\r\n  config?: WhatsAppMCPConfig\r\n): WhatsAppMCPServer {\r\n  return new WhatsAppMCPServer(config);\r\n}\r\n", "/**\r\n * LGPD Compliance Module\r\n * \r\n * Provides functions for LGPD (Lei Geral de Prote\u00E7\u00E3o de Dados) compliance:\r\n * - Consent validation\r\n * - Automatic unsubscribe (descadastro)\r\n * - Right to be forgotten (direito ao esquecimento)\r\n * \r\n * Requirements: 17.7, 17.8, 11.12\r\n */\r\n\r\nimport { Pool } from 'pg';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { logger } from './logger';\r\n\r\n// ============================================================================\r\n// Types and Interfaces\r\n// ============================================================================\r\n\r\nexport interface ConsentData {\r\n  leadId: string;\r\n  consentGiven: boolean;\r\n  consentDate?: Date;\r\n  consentSource?: string;\r\n  consentIpAddress?: string;\r\n}\r\n\r\nexport interface DescadastroResult {\r\n  success: boolean;\r\n  leadId: string;\r\n  message: string;\r\n  actionsPerformed: string[];\r\n}\r\n\r\nexport interface EsquecimentoResult {\r\n  success: boolean;\r\n  leadId: string;\r\n  message: string;\r\n  recordsAnonymized: {\r\n    lead: boolean;\r\n    interactions: number;\r\n    appointments: number;\r\n  };\r\n}\r\n\r\n// ============================================================================\r\n// Consent Management\r\n// ============================================================================\r\n\r\n/**\r\n * Validate if a lead has given explicit consent for data processing\r\n * \r\n * @param db - Database connection pool\r\n * @param leadId - Lead UUID\r\n * @returns true if consent is given, false otherwise\r\n */\r\nexport async function validateConsent(\r\n  db: Pool,\r\n  leadId: string\r\n): Promise<boolean> {\r\n  const traceId = uuidv4();\r\n  \r\n  try {\r\n    logger.info('Validating LGPD consent', { traceId, leadId });\r\n    \r\n    const result = await db.query(\r\n      `SELECT consent_given FROM nigredo_leads.leads WHERE id = $1`,\r\n      [leadId]\r\n    );\r\n    \r\n    if (result.rows.length === 0) {\r\n      logger.warn('Lead not found for consent validation', { traceId, leadId });\r\n      return false;\r\n    }\r\n    \r\n    const consentGiven = result.rows[0].consent_given;\r\n    \r\n    logger.info('Consent validation result', { \r\n      traceId, \r\n      leadId, \r\n      consentGiven \r\n    });\r\n    \r\n    return consentGiven;\r\n    \r\n  } catch (error) {\r\n    logger.error('Error validating consent', error as Error, { traceId, leadId });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Record explicit consent from a lead\r\n * \r\n * @param db - Database connection pool\r\n * @param consentData - Consent information\r\n * @returns Updated consent status\r\n */\r\nexport async function recordConsent(\r\n  db: Pool,\r\n  consentData: ConsentData\r\n): Promise<boolean> {\r\n  const traceId = uuidv4();\r\n  \r\n  try {\r\n    logger.info('Recording LGPD consent', { \r\n      traceId, \r\n      leadId: consentData.leadId,\r\n      consentGiven: consentData.consentGiven\r\n    });\r\n    \r\n    const result = await db.query(\r\n      `UPDATE nigredo_leads.leads\r\n       SET consent_given = $1,\r\n           consent_date = $2,\r\n           consent_source = $3,\r\n           consent_ip_address = $4,\r\n           updated_at = NOW()\r\n       WHERE id = $5\r\n       RETURNING id, consent_given`,\r\n      [\r\n        consentData.consentGiven,\r\n        consentData.consentDate || new Date(),\r\n        consentData.consentSource || 'api',\r\n        consentData.consentIpAddress,\r\n        consentData.leadId\r\n      ]\r\n    );\r\n    \r\n    if (result.rows.length === 0) {\r\n      logger.error('Lead not found when recording consent', new Error('Lead not found'), { \r\n        traceId, \r\n        leadId: consentData.leadId \r\n      });\r\n      return false;\r\n    }\r\n    \r\n    logger.info('Consent recorded successfully', { \r\n      traceId, \r\n      leadId: consentData.leadId,\r\n      consentGiven: result.rows[0].consent_given\r\n    });\r\n    \r\n    return true;\r\n    \r\n  } catch (error) {\r\n    logger.error('Error recording consent', error as Error, { \r\n      traceId, \r\n      leadId: consentData.leadId\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Block lead processing if consent is not given\r\n * \r\n * @param db - Database connection pool\r\n * @param leadId - Lead UUID\r\n * @throws Error if consent is not given\r\n */\r\nexport async function enforceConsent(\r\n  db: Pool,\r\n  leadId: string\r\n): Promise<void> {\r\n  const hasConsent = await validateConsent(db, leadId);\r\n  \r\n  if (!hasConsent) {\r\n    const error = new Error('LGPD: Lead processing blocked - consent not given');\r\n    logger.error('Consent enforcement failed', error, { leadId });\r\n    throw error;\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Descadastro (Unsubscribe)\r\n// ============================================================================\r\n\r\n/**\r\n * Handle automatic unsubscribe request (descadastro)\r\n * \r\n * Actions performed:\r\n * 1. Mark lead as unsubscribed\r\n * 2. Cancel future appointments\r\n * 3. Add to blocklist\r\n * 4. Send confirmation\r\n * 5. Register audit log\r\n * \r\n * @param db - Database connection pool\r\n * @param leadId - Lead UUID\r\n * @param reason - Reason for unsubscribe\r\n * @returns Result of descadastro operation\r\n */\r\nexport async function handleDescadastro(\r\n  db: Pool,\r\n  leadId: string,\r\n  reason: string = 'Solicita\u00E7\u00E3o do lead'\r\n): Promise<DescadastroResult> {\r\n  const traceId = uuidv4();\r\n  const actionsPerformed: string[] = [];\r\n  \r\n  try {\r\n    logger.info('Starting descadastro process', { traceId, leadId, reason });\r\n    \r\n    // Start transaction\r\n    await db.query('BEGIN');\r\n    \r\n    // 1. Get lead information before marking as unsubscribed\r\n    const leadResult = await db.query(\r\n      `SELECT id, telefone, email, empresa, contato\r\n       FROM nigredo_leads.leads\r\n       WHERE id = $1`,\r\n      [leadId]\r\n    );\r\n    \r\n    if (leadResult.rows.length === 0) {\r\n      await db.query('ROLLBACK');\r\n      return {\r\n        success: false,\r\n        leadId,\r\n        message: 'Lead not found',\r\n        actionsPerformed\r\n      };\r\n    }\r\n    \r\n    const lead = leadResult.rows[0];\r\n    \r\n    // 2. Mark lead as unsubscribed\r\n    await db.query(\r\n      `UPDATE nigredo_leads.leads\r\n       SET status = 'descadastrado',\r\n           metadata = jsonb_set(\r\n             COALESCE(metadata, '{}'::jsonb),\r\n             '{descadastro}',\r\n             $1::jsonb\r\n           ),\r\n           updated_at = NOW()\r\n       WHERE id = $2`,\r\n      [\r\n        JSON.stringify({\r\n          date: new Date().toISOString(),\r\n          reason,\r\n          trace_id: traceId\r\n        }),\r\n        leadId\r\n      ]\r\n    );\r\n    actionsPerformed.push('Lead marked as descadastrado');\r\n    \r\n    // 3. Cancel future appointments\r\n    const cancelResult = await db.query(\r\n      `UPDATE nigredo_leads.agendamentos\r\n       SET status = 'cancelado',\r\n           updated_at = NOW()\r\n       WHERE lead_id = $1 \r\n         AND data_hora > NOW()\r\n         AND status NOT IN ('cancelado', 'realizado')\r\n       RETURNING id`,\r\n      [leadId]\r\n    );\r\n    \r\n    if (cancelResult.rows.length > 0) {\r\n      actionsPerformed.push(`${cancelResult.rows.length} future appointment(s) cancelled`);\r\n    }\r\n    \r\n    // 4. Add to blocklist\r\n    await db.query(\r\n      `INSERT INTO nigredo_leads.blocklist (lead_id, telefone, email, reason, created_at)\r\n       VALUES ($1, $2, $3, $4, NOW())\r\n       ON CONFLICT DO NOTHING`,\r\n      [leadId, lead.telefone, lead.email, reason]\r\n    );\r\n    actionsPerformed.push('Added to blocklist');\r\n    \r\n    // 5. Register audit log (if audit table exists)\r\n    try {\r\n      await db.query(\r\n        `INSERT INTO alquimista_platform.audit_logs \r\n         (trace_id, agent_id, action_type, lead_id, result, metadata, created_at)\r\n         VALUES ($1, $2, $3, $4, $5, $6, NOW())`,\r\n        [\r\n          traceId,\r\n          'lgpd-compliance',\r\n          'descadastro',\r\n          leadId,\r\n          'success',\r\n          JSON.stringify({\r\n            reason,\r\n            empresa: lead.empresa,\r\n            contato: lead.contato,\r\n            actionsPerformed\r\n          })\r\n        ]\r\n      );\r\n      actionsPerformed.push('Audit log registered');\r\n    } catch (auditError) {\r\n      // Audit log is optional, don't fail the operation\r\n      logger.warn('Failed to register audit log', { traceId, error: auditError });\r\n    }\r\n    \r\n    // Commit transaction\r\n    await db.query('COMMIT');\r\n    \r\n    logger.info('Descadastro completed successfully', { \r\n      traceId, \r\n      leadId, \r\n      actionsPerformed \r\n    });\r\n    \r\n    return {\r\n      success: true,\r\n      leadId,\r\n      message: 'Descadastro realizado com sucesso. Seus dados foram removidos conforme LGPD.',\r\n      actionsPerformed\r\n    };\r\n    \r\n  } catch (error) {\r\n    await db.query('ROLLBACK');\r\n    logger.error('Error during descadastro', error as Error, { traceId, leadId });\r\n    \r\n    return {\r\n      success: false,\r\n      leadId,\r\n      message: 'Erro ao processar descadastro',\r\n      actionsPerformed\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Detect unsubscribe keywords in message\r\n * \r\n * @param message - Message text to analyze\r\n * @returns true if unsubscribe keywords are detected\r\n */\r\nexport function detectDescadastroKeywords(message: string): boolean {\r\n  const keywords = [\r\n    'pare',\r\n    'parar',\r\n    'stop',\r\n    'descadastre',\r\n    'descadastrar',\r\n    'remover',\r\n    'remova',\r\n    'n\u00E3o quero',\r\n    'nao quero',\r\n    'n\u00E3o tenho interesse',\r\n    'nao tenho interesse',\r\n    'lgpd',\r\n    'dados pessoais',\r\n    'privacidade',\r\n    'cancelar',\r\n    'sair da lista'\r\n  ];\r\n  \r\n  const normalizedMessage = message.toLowerCase().trim();\r\n  \r\n  return keywords.some(keyword => normalizedMessage.includes(keyword));\r\n}\r\n\r\n// ============================================================================\r\n// Direito ao Esquecimento (Right to be Forgotten)\r\n// ============================================================================\r\n\r\n/**\r\n * Handle right to be forgotten request (direito ao esquecimento)\r\n * \r\n * Actions performed:\r\n * 1. Anonymize personal data in leads table\r\n * 2. Anonymize interactions\r\n * 3. Keep only aggregated data for metrics\r\n * \r\n * @param db - Database connection pool\r\n * @param leadId - Lead UUID\r\n * @returns Result of esquecimento operation\r\n */\r\nexport async function handleDireitoEsquecimento(\r\n  db: Pool,\r\n  leadId: string\r\n): Promise<EsquecimentoResult> {\r\n  const traceId = uuidv4();\r\n  \r\n  try {\r\n    logger.info('Starting direito ao esquecimento process', { traceId, leadId });\r\n    \r\n    // Start transaction\r\n    await db.query('BEGIN');\r\n    \r\n    // 1. Anonymize personal data in leads table\r\n    const leadResult = await db.query(\r\n      `UPDATE nigredo_leads.leads\r\n       SET \r\n         contato = 'ANONIMIZADO',\r\n         telefone = NULL,\r\n         email = NULL,\r\n         cnpj = NULL,\r\n         empresa = 'EMPRESA ANONIMIZADA',\r\n         metadata = jsonb_build_object(\r\n           'anonymized', true,\r\n           'anonymized_date', NOW(),\r\n           'trace_id', $2\r\n         ),\r\n         consent_given = FALSE,\r\n         consent_date = NULL,\r\n         consent_source = NULL,\r\n         consent_ip_address = NULL,\r\n         updated_at = NOW()\r\n       WHERE id = $1\r\n       RETURNING id`,\r\n      [leadId, traceId]\r\n    );\r\n    \r\n    const leadAnonymized = leadResult.rows.length > 0;\r\n    \r\n    // 2. Anonymize interactions\r\n    const interactionsResult = await db.query(\r\n      `UPDATE nigredo_leads.interacoes\r\n       SET mensagem = 'MENSAGEM ANONIMIZADA'\r\n       WHERE lead_id = $1\r\n       RETURNING id`,\r\n      [leadId]\r\n    );\r\n    \r\n    const interactionsAnonymized = interactionsResult.rows.length;\r\n    \r\n    // 3. Anonymize appointments briefing\r\n    const appointmentsResult = await db.query(\r\n      `UPDATE nigredo_leads.agendamentos\r\n       SET briefing = 'BRIEFING ANONIMIZADO'\r\n       WHERE lead_id = $1\r\n       RETURNING id`,\r\n      [leadId]\r\n    );\r\n    \r\n    const appointmentsAnonymized = appointmentsResult.rows.length;\r\n    \r\n    // 4. Register audit log\r\n    try {\r\n      await db.query(\r\n        `INSERT INTO alquimista_platform.audit_logs \r\n         (trace_id, agent_id, action_type, lead_id, result, metadata, created_at)\r\n         VALUES ($1, $2, $3, $4, $5, $6, NOW())`,\r\n        [\r\n          traceId,\r\n          'lgpd-compliance',\r\n          'direito_esquecimento',\r\n          leadId,\r\n          'success',\r\n          JSON.stringify({\r\n            recordsAnonymized: {\r\n              lead: leadAnonymized,\r\n              interactions: interactionsAnonymized,\r\n              appointments: appointmentsAnonymized\r\n            }\r\n          })\r\n        ]\r\n      );\r\n    } catch (auditError) {\r\n      logger.warn('Failed to register audit log', { traceId, error: auditError });\r\n    }\r\n    \r\n    // Commit transaction\r\n    await db.query('COMMIT');\r\n    \r\n    logger.info('Direito ao esquecimento completed successfully', { \r\n      traceId, \r\n      leadId,\r\n      recordsAnonymized: {\r\n        lead: leadAnonymized,\r\n        interactions: interactionsAnonymized,\r\n        appointments: appointmentsAnonymized\r\n      }\r\n    });\r\n    \r\n    return {\r\n      success: true,\r\n      leadId,\r\n      message: 'Dados pessoais anonimizados com sucesso conforme LGPD Art. 18',\r\n      recordsAnonymized: {\r\n        lead: leadAnonymized,\r\n        interactions: interactionsAnonymized,\r\n        appointments: appointmentsAnonymized\r\n      }\r\n    };\r\n    \r\n  } catch (error) {\r\n    await db.query('ROLLBACK');\r\n    logger.error('Error during direito ao esquecimento', error as Error, { traceId, leadId });\r\n    \r\n    return {\r\n      success: false,\r\n      leadId,\r\n      message: 'Erro ao processar direito ao esquecimento',\r\n      recordsAnonymized: {\r\n        lead: false,\r\n        interactions: 0,\r\n        appointments: 0\r\n      }\r\n    };\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Blocklist Validation\r\n// ============================================================================\r\n\r\n/**\r\n * Check if a contact (phone or email) is in the blocklist\r\n * \r\n * @param db - Database connection pool\r\n * @param telefone - Phone number (optional)\r\n * @param email - Email address (optional)\r\n * @returns true if contact is blocked, false otherwise\r\n */\r\nexport async function isBlocked(\r\n  db: Pool,\r\n  telefone?: string,\r\n  email?: string\r\n): Promise<boolean> {\r\n  const traceId = uuidv4();\r\n  \r\n  try {\r\n    if (!telefone && !email) {\r\n      return false;\r\n    }\r\n    \r\n    const result = await db.query(\r\n      `SELECT id FROM nigredo_leads.blocklist\r\n       WHERE ($1::VARCHAR IS NOT NULL AND telefone = $1)\r\n          OR ($2::VARCHAR IS NOT NULL AND email = $2)\r\n       LIMIT 1`,\r\n      [telefone, email]\r\n    );\r\n    \r\n    const blocked = result.rows.length > 0;\r\n    \r\n    if (blocked) {\r\n      logger.warn('Contact is in blocklist', { traceId, telefone, email });\r\n    }\r\n    \r\n    return blocked;\r\n    \r\n  } catch (error) {\r\n    logger.error('Error checking blocklist', error as Error, { traceId, telefone, email });\r\n    throw error;\r\n  }\r\n}\r\n\r\n// ============================================================================\r\n// Export all functions\r\n// ============================================================================\r\n\r\nexport default {\r\n  validateConsent,\r\n  recordConsent,\r\n  enforceConsent,\r\n  handleDescadastro,\r\n  detectDescadastroKeywords,\r\n  handleDireitoEsquecimento,\r\n  isBlocked\r\n};\r\n"],
  "mappings": "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AAa,CACZ,YAAa,0BACd,EACA,YAAa,CACZ,YAAa,uBACd,EACA,iBAAkB,CACjB,YAAa,sBACd,EACA,iBAAkB,CACjB,YAAa,sBACd,EACA,iBAAkB,CACjB,YAAa,sBACd,EACA,aAAc,CACb,YAAa,uBACd,EACA,aAAc,CACb,YAAa,0BACd,EACA,iBAAkB,CACjB,YAAa,0BACd,EACA,iBAAkB,CACjB,YAAa,uBACd,EACA,iBAAkB,CACjB,YAAa,wBACd,EACA,iBAAkB,CACjB,YAAa,0BACd,EACA,iBAAkB,CACjB,YAAa,yBACd,EACA,iBAAkB,CACjB,YAAa,4BACd,EACA,iBAAkB,CACjB,YAAa,yBACd,EACA,aAAc,CACb,YAAa,mBACd,EACA,eAAgB,CACf,YAAa,kBACd,EACA,YAAa,CACZ,YAAa,uBACd,EACA,eAAgB,CACf,YAAa,oBACd,EACA,eAAgB,CACf,YAAa,iBACd,EACA,aAAc,CACb,YAAa,oBACd,EACA,aAAc,CACb,YAAa,gBACd,EACA,aAAc,CACb,YAAa,gBACd,EACA,YAAa,CACZ,YAAa,kBACd,EACA,YAAa,CACZ,YAAa,iBACd,EACA,YAAa,CACZ,YAAa,gBACd,EACA,eAAgB,CACf,YAAa,mBACd,EACA,eAAgB,CACf,YAAa,mBACd,EACA,aAAc,CACb,YAAa,uBACd,EACA,eAAgB,CACf,YAAa,kBACd,EACA,YAAa,CACZ,YAAa,2BACd,EACA,YAAa,CACZ,YAAa,uBACd,EACA,YAAa,CACZ,YAAa,gBACd,EACA,YAAa,CACZ,YAAa,yBACd,EACA,YAAa,CACZ,YAAa,kBACd,CACD,CACD,EACA,CACC,GAAI,SACJ,QAAS,CACR,UAAW,mBACX,mBAAoB,+BACpB,qBAAsB,iBACtB,KAAM,SACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,qBACb,QAAS,CACR,gBAAiB,CAChB,YAAa,sBACd,EACA,aAAc,CACb,YAAa,iBACd,EACA,iBAAkB,CACjB,YAAa,iBACd,CACD,CACD,EACA,CACC,GAAI,WACJ,QAAS,CACR,UAAW,eACX,mBAAoB,2BACpB,qBAAsB,iBACtB,KAAM,WACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,8BACb,QAAS,CACR,iBAAkB,CACjB,YAAa,cACd,CACD,CACD,EACA,CACC,GAAI,UACJ,QAAS,CACR,UAAW,aACX,mBAAoB,iBACpB,qBAAsB,gBACtB,KAAM,UACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,2BACb,QAAS,CACR,iBAAkB,CACjB,YAAa,uBACd,EACA,gBAAiB,CAChB,YAAa,aACd,EACA,gBAAiB,CAChB,YAAa,aACd,CACD,CACD,EACA,CACC,GAAI,YACJ,QAAS,CACR,UAAW,gBACX,mBAAoB,iBACpB,qBAAsB,iBACtB,KAAM,YACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,4BACb,QAAS,CACR,mBAAoB,CACnB,YAAa,yBACd,EACA,iBAAkB,CACjB,YAAa,qBACd,EACA,iBAAkB,CACjB,YAAa,cACd,CACD,CACD,EACA,CACC,GAAI,YACJ,QAAS,CACR,UAAW,iBACX,mBAAoB,yBACpB,qBAAsB,iBACtB,KAAM,YACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,4BACb,QAAS,CACR,mBAAoB,CACnB,YAAa,yBACd,EACA,iBAAkB,CACjB,YAAa,cACd,CACD,CACD,EACA,CACC,GAAI,YACJ,QAAS,CACR,UAAW,iBACX,mBAAoB,qBACpB,qBAAsB,kBACtB,KAAM,YACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,4BACb,QAAS,CACR,mBAAoB,CACnB,YAAa,yBACd,EACA,iBAAkB,CACjB,YAAa,cACd,EACA,kBAAmB,CAClB,YAAa,eACd,CACD,CACD,EACA,CACC,GAAI,aACJ,QAAS,CACR,UAAW,gBACX,mBAAoB,UACpB,qBAAsB,gBACtB,KAAM,aACN,kBAAmB,GACnB,aAAc,EACf,EACA,YAAa,2BACb,QAAS,CACR,oBAAqB,CACpB,YAAa,0BACd,EACA,gBAAiB,CAChB,YAAa,wBACd,EACA,gBAAiB,CAChB,YAAa,wBACd,CACD,CACD,CACD,EACIC,GAAU,MACVC,GAAiB,CACpB,WA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EACA,IAAM2b,IACN,IAAMC,GACV,EACI4K,IAAiB,CACjB,EACAzN,EACAvY,GACA,EACA,IAAMqb,IACN,IAAMI,GACV,EACIwK,IAAiB,CACjB,EACA1N,EACAtY,GACA,EACA,IAAMyb,IACN,IAAMI,GACV,EACIoK,IAA2B,CAC3B,EACA3N,EACAzX,IACA,EACA,IAAMib,IACN,IAAMC,GACV,EACImK,IAAwB,CACxB,EACA5N,EACApU,IACA,EACA,IAAM8X,IACN,IAAMyJ,EACV,EACIU,IAAwB,CACxB,EACA7N,EACAzV,IACA,EACA,IAAMoZ,IACN,IAAMC,GACV,EACIkK,IAAuB,CACvB,EACA9N,EACApW,IACA,EACA,IAAMia,IACN,IAAMC,GACV,EACIiK,IAAgB,CAChB,EACA/N,EACArW,IACA,EACA,IAAMoa,IACN,IAAMC,GACV,EACIgK,IAAmB,CACnB,EACAhO,EACAhV,IACA,EACA,IAAMiZ,IACN,IAAMC,GACV,EACI+J,IAAiB,CACjB,EACAjO,EACA9U,IACA,EACA,IAAMiZ,IACN,IAAMC,GACV,EACI8J,IAAiB,CAAC,EAAGlO,EAAI7U,IAAM,EAAG,IAAMkZ,IAAuB,IAAM8I,EAAM,EAC3EgB,IAA2B,CAC3B,EACAnO,EACA7T,IACA,EACA,IAAMmY,IACN,IAAM6I,EACV,EACIiB,IAAa,CAAC,EAAGpO,EAAIxT,IAAK,EAAG,IAAM+X,IAAmB,IAAM4I,EAAM,EAClEkB,IAAyB,CACzB,EACArO,EACA/V,IACA,EACA,IAAMua,IACN,IAAMC,GACV,EACI6J,IAAkB,CAClB,EACAtO,EACA1V,IACA,EACA,IAAMoa,IACN,IAAMC,GACV,EACI4J,IAAqB,CACrB,EACAvO,EACA/U,IACA,EACA,IAAM4Z,IACN,IAAMC,GACV,EACI0J,IAAmB,CACnB,EACAxO,EACA/T,IACA,EACA,IAAM8Y,IACN,IAAMC,GACV,EACIyJ,IAAmB,CACnB,EACAzO,EACAzU,IACA,EACA,IAAM0Z,IACN,IAAMC,GACV,EACIwJ,IAAsB,CACtB,EACA1O,EACAhU,IACA,EACA,IAA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AChB,oBAAuB,CACrB,aAAgB,CACd,SAAY,GACZ,UAAa,aACf,CACF,EACA,oBAAuB,CACrB,mBACA,uBACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,yBACA,wBACA,wBACA,WACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,WACF,EACA,oBAAuB,CACrB,mBACA,uBACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,WACF,CACF,EACA,cAAiB,CACf,mBAAsB,CACpB,WACF,CACF,EACA,QAAW,CACT,mBAAsB,CACpB,iBACA,uBACA,WACF,EACA,oBAAuB,CACrB,kBACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,0BACA,OACF,EACA,qBAAwB,CACtB,WAAc,CACZ,KAAQ,GACR,UAAa,GACb,UAAa,aACf,CACF,CACF,EACA,QAAW,CACT,mBAAsB,CACpB,WACF,EACA,oBAAuB,CACrB,mBACA,uBACF,CACF,EACA,MAAS,CACP,mBAAsB,CACpB,kBACA,iBACA,YACA,QACA,uBACA,mBACA,SACA,WACF,EACA,oBAAuB,CACrB,kBACF,CACF,EACA,KAAQ,CACN,mBAAsB,CACpB,kBACA,iBACA,YACA,QACA,uBACA,UACA,SACA,YACA,eACF,EACA,oBAAuB,CACrB,mBACA,QACA,cACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,WACF,EACA,oBAAuB,CACrB,mBACA,uBACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,uBACA,8BACA,wBACA,WACF,CACF,CACF,CACF,EACA,IAAO,CACL,WAAc,CACZ,cAAiB,CACf,mBAAsB,CACpB,QACA,UACF,CACF,EACA,wBAA2B,CACzB,mBAAsB,CACpB,WACA,mBACF,CACF,EACA,6BAAgC,CAC9B,mBAAsB,CACpB,UACF,EACA,oBAAuB,CACrB,QACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,aACA,WACF,CACF,EACA,cAAiB,CACf,mBAAsB,CACpB,UACF,CACF,EACA,mBAAsB,CACpB,mBAAsB,CACpB,UACF,EACA,oBAAuB,CACrB,QACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,UACF,CACF,EACA,mBAAsB,CACpB,mBAAsB,CACpB,UACF,EACA,oBAAuB,CACrB,YACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,YACA,wBACF,EACA,oBAAuB,CACrB,UACF,CACF,EACA,2BAA8B,CAC5B,mBAAsB,CACpB,UACF,EACA,oBAAuB,CACrB,WACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,iBACF,EACA,qBAAwB,CACtB,UAAa,CACX,KAAQ,GACR,UAAa,GACb,UAAa,aACf,CACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,UACF,CACF,EACA,eAAkB,CAChB,mBAAsB,CACpB,iBACA,sBACA,wBACA,WACA,oBACA,iBACF,EACA,qBAAwB,CACtB,SAAY,CACV,KAAQ,GACR,UAAa,GACb,UAAa,eACf,CACF,CACF,EACA,iBAAoB,CAClB,mBAAsB,CACpB,UACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,eACA,UACF,EACA,oBAAuB,CACrB,kBAAqB,CACnB,SAAY,GACZ,UAAa,yBACf,CACF,EACA,oBAAuB,CACrB,WACF,CACF,EACA,iBAAoB,CAClB,mBAAsB,CACpB,UACF,EACA,oBAAuB,CACrB,QAAW,CACT,KAAQ,GACR,UAAa,GACb,UAAa,eACf,CACF,EACA,qBAAwB,CACtB,OAAU,CACR,KAAQ,GACR,UAAa,GACb,UAAa,cACf,EACA,WAAc,CACZ,KAAQ,GACR,UAAa,GACb,UAAa,kBACf,CACF,CACF,EACA,mBAAsB,CACpB,mBAAsB,CACpB,UACF,EACA,oBAAuB,CACrB,WAAc,CACZ,SAAY,GACZ,UAAa,iBACf,CACF,CACF,CACF,CACF,EACA,IAAO,CACL,WAAc,CACZ,QAAW,CACT,mBAAsB,CACpB,UACF,CACF,EACA,aAAgB,CACd,mBAAsB,CACpB,UACF,CACF,CACF,CACF,EACA,OAAU,CACR,WAAc,CACZ,OAAU,CACR,mBAAsB,CACpB,eACA,iBACA,UACA,WACF,EACA,oBAAuB,CACrB,gBACA,YACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,cACF,EACA,oBAAuB,CACrB,QACF,CACF,CACF,CACF,EACA,GAAM,CACJ,WAAc,CACZ,qBAAwB,CACtB,mBAAsB,CACpB,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,wBAA2B,CACzB,mBAAsB,CACpB,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,aACA,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,aAAgB,CACd,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,sBAAyB,CACvB,mBAAsB,CACpB,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,aAAgB,CACd,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mCAAsC,CACpC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,uBAA0B,CACxB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mCAAsC,CACpC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,sBAAyB,CACvB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iCAAoC,CAClC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mBAAsB,CACpB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,wBAA2B,CACzB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,aAAgB,CACd,mBAAsB,CACpB,MACA,WACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,mBAAsB,CACpB,MACA,WACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,cAAiB,CACf,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iCAAoC,CAClC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,aAAgB,CACd,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,cAAiB,CACf,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mBAAsB,CACpB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,kBAAqB,CACnB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,8BAAiC,CAC/B,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,sBAAyB,CACvB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mCAAsC,CACpC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gBAAmB,CACjB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,qBAAwB,CACtB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,wBAA2B,CACzB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,UAAa,CACX,mBAAsB,CACpB,MACA,WACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,aAAgB,CACd,mBAAsB,CACpB,MACA,WACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,mBAAsB,CACpB,MACA,WACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,mBAAsB,CACpB,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,WAAc,CACZ,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,WAAc,CACZ,mBAAsB,CACpB,MACA,WACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,kCAAqC,CACnC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,kCAAqC,CACnC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,qBAAwB,CACtB,mBAAsB,CACpB,QACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mBAAsB,CACpB,mBAAsB,CACpB,QACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,YAAe,CACb,mBAAsB,CACpB,QACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,cAAiB,CACf,mBAAsB,CACpB,QACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,UAAa,CACX,mBAAsB,CACpB,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iCAAoC,CAClC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,aAAgB,CACd,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,cAAiB,CACf,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mBAAsB,CACpB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gCAAmC,CACjC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,8BAAiC,CAC/B,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,sBAAyB,CACvB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,mCAAsC,CACpC,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,gBAAmB,CACjB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,qBAAwB,CACtB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,wBAA2B,CACzB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,oBAAuB,CACrB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,iBAAoB,CAClB,oBAAuB,CACrB,OAAU,CACR,UAAa,aACf,CACF,CACF,EACA,UAAa,CACX,mBAAsB,CACpB,KACF,EACA,oBAAuB,CACrB,OAAU,CACR,UAAa,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",
  "names": ["require_dist_cjs", "__commonJSMin", "exports", "HttpAuthLocation", "HttpApiKeyAuthLocation", "EndpointURLScheme", "AlgorithmId", "getChecksumConfiguration", "runtimeConfig", "checksumAlgorithms", "algo", "resolveChecksumRuntimeConfig", "clientConfig", "checksumAlgorithm", "getDefaultClientConfiguration", "resolveDefaultRuntimeConfig", "config", "FieldPosition", "SMITHY_CONTEXT_KEY", "IniSectionType", "RequestHandlerProtocol", "require_dist_cjs", "__commonJSMin", "exports", "types", "getHttpHandlerExtensionConfiguration", "runtimeConfig", "handler", "key", "value", "resolveHttpHandlerRuntimeConfig", "httpHandlerExtensionConfiguration", "Field", "name", "kind", "values", "__publicField", "v", "Fields", "fields", "encoding", "field", "HttpRequest", "_HttpRequest", "options", "request", "cloned", "cloneQuery", "req", "query", "carry", "paramName", "param", "HttpResponse", "response", "resp", "isValidHostname", "hostname", "require_dist_cjs", "__commonJSMin", "exports", "protocolHttp", "resolveHostHeaderConfig", "input", "hostHeaderMiddleware", "options", "next", "args", "request", "handlerProtocol", "host", "hostHeaderMiddlewareOptions", "getHostHeaderPlugin", "clientStack", "require_dist_cjs", "__commonJSMin", "exports", "loggerMiddleware", "next", "context", "args", "response", "clientName", "commandName", "logger", "dynamoDbDocumentClientOptions", "overrideInputFilterSensitiveLog", "overrideOutputFilterSensitiveLog", "inputFilterSensitiveLog", "outputFilterSensitiveLog", "$metadata", "outputWithoutMetadata", "error", "loggerMiddlewareOptions", "getLoggerPlugin", "options", "clientStack", "invoke_store_exports", "__export", "InvokeStore", "import_async_hooks", "noGlobalAwsLambda", "PROTECTED_KEYS", "InvokeStoreImpl", "instance", "init_invoke_store", "__esmMin", "context", "fn", "key", "value", "__publicField", "require_recursionDetectionMiddleware", "__commonJSMin", "exports", "lambda_invoke_store_1", "protocol_http_1", "TRACE_ID_HEADER_NAME", "ENV_LAMBDA_FUNCTION_NAME", "ENV_TRACE_ID", "recursionDetectionMiddleware", "next", "args", "request", "traceIdHeader", "h", "functionName", "traceIdFromEnv", "traceId", "nonEmptyString", "str", "require_dist_cjs", "__commonJSMin", "exports", "recursionDetectionMiddleware", "recursionDetectionMiddlewareOptions", "getRecursionDetectionPlugin", "options", "clientStack", "k", "import_types", "getSmithyContext", "init_getSmithyContext", "__esmMin", "context", "require_dist_cjs", "__commonJSMin", "exports", "types", "getSmithyContext", "context", "normalizeProvider", "input", "promisified", "resolveAuthOptions", "init_resolveAuthOptions", "__esmMin", "candidateAuthOptions", "authSchemePreference", "preferredAuthOptions", "preferredSchemeName", "candidateAuthOption", "schemeId", "convertHttpAuthSchemesToMap", "httpAuthSchemes", "map", "scheme", "import_util_middleware", "httpAuthSchemeMiddleware", "init_httpAuthSchemeMiddleware", "__esmMin", "init_resolveAuthOptions", "config", "mwOptions", "next", "context", "args", "options", "authSchemePreference", "resolvedOptions", "resolveAuthOptions", "authSchemes", "smithyContext", "failureReasons", "option", "identityProvider", "identityProperties", "signingProperties", "httpAuthSchemeEndpointRuleSetMiddlewareOptions", "getHttpAuthSchemeEndpointRuleSetPlugin", "init_getHttpAuthSchemeEndpointRuleSetPlugin", "__esmMin", "init_httpAuthSchemeMiddleware", "config", "httpAuthSchemeParametersProvider", "identityProviderConfigProvider", "clientStack", "httpAuthSchemeMiddleware", "require_dist_cjs", "__commonJSMin", "exports", "protocolHttp", "deserializerMiddleware", "options", "deserializer", "next", "context", "args", "response", "parsed", "error", "hint", "headers", "headerEntries", "findHeader", "pattern", "k", "serializerMiddleware", "serializer", "endpointConfig", "endpoint", "request", "deserializerMiddlewareOption", "serializerMiddlewareOption", "getSerdePlugin", "config", "commandStack", "import_middleware_serde", "httpAuthSchemeMiddlewareOptions", "getHttpAuthSchemePlugin", "init_getHttpAuthSchemePlugin", "__esmMin", "init_httpAuthSchemeMiddleware", "config", "httpAuthSchemeParametersProvider", "identityProviderConfigProvider", "clientStack", "httpAuthSchemeMiddleware", "init_middleware_http_auth_scheme", "__esmMin", "init_httpAuthSchemeMiddleware", "init_getHttpAuthSchemeEndpointRuleSetPlugin", "init_getHttpAuthSchemePlugin", "import_protocol_http", "import_util_middleware", "defaultErrorHandler", "defaultSuccessHandler", "httpSigningMiddleware", "init_httpSigningMiddleware", "__esmMin", "signingProperties", "error", "httpResponse", "config", "next", "context", "args", "scheme", "identity", "signer", "output", "httpSigningMiddlewareOptions", "getHttpSigningPlugin", "init_getHttpSigningMiddleware", "__esmMin", "init_httpSigningMiddleware", "config", "clientStack", "httpSigningMiddleware", "init_middleware_http_signing", "__esmMin", "init_httpSigningMiddleware", "init_getHttpSigningMiddleware", "normalizeProvider", "init_normalizeProvider", "__esmMin", "input", "promisified", "createPaginator", "ClientCtor", "CommandCtor", "inputTokenName", "outputTokenName", "pageSizeTokenName", "config", "input", "additionalArguments", "_input", "token", "hasNext", "page", "makePagedClientRequest", "prevToken", "get", "init_createPaginator", "__esmMin", "client", "withCommand", "_", "args", "command", "fromObject", "path", "cursor", "pathComponents", "step", "require_dist_cjs", "__commonJSMin", "exports", "isArrayBuffer", "arg", "require_dist_cjs", "__commonJSMin", "exports", "isArrayBuffer", "buffer", "fromArrayBuffer", "input", "offset", "length", "fromString", "encoding", "require_fromBase64", "__commonJSMin", "exports", "util_buffer_from_1", "BASE64_REGEX", "fromBase64", "input", "buffer", "require_dist_cjs", "__commonJSMin", "exports", "utilBufferFrom", "fromUtf8", "input", "buf", "toUint8Array", "data", "toUtf8", "require_toBase64", "__commonJSMin", "exports", "util_buffer_from_1", "util_utf8_1", "toBase64", "_input", "input", "require_dist_cjs", "__commonJSMin", "exports", "fromBase64", "toBase64", "k", "require_ChecksumStream", "__commonJSMin", "exports", "util_base64_1", "stream_1", "ChecksumStream", "expectedChecksum", "checksum", "source", "checksumSourceLocation", "base64Encoder", "__publicField", "size", "chunk", "encoding", "callback", "e", "digest", "received", "require_stream_type_check", "__commonJSMin", "exports", "isReadableStream", "stream", "isBlob", "blob", "require_ChecksumStream_browser", "__commonJSMin", "exports", "ReadableStreamRef", "ChecksumStream", "require_createChecksumStream_browser", "__commonJSMin", "exports", "util_base64_1", "stream_type_check_1", "ChecksumStream_browser_1", "createChecksumStream", "expectedChecksum", "checksum", "source", "checksumSourceLocation", "base64Encoder", "encoder", "transform", "chunk", "controller", "digest", "received", "error", "readable", "require_createChecksumStream", "__commonJSMin", "exports", "createChecksumStream", "stream_type_check_1", "ChecksumStream_1", "createChecksumStream_browser_1", "init", "require_ByteArrayCollector", "__commonJSMin", "exports", "ByteArrayCollector", "allocByteArray", "__publicField", "byteArray", "bytes", "aggregation", "cursor", "i", "require_createBufferedReadableStream", "__commonJSMin", "exports", "createBufferedReadableStream", "merge", "flush", "sizeOf", "modeOf", "ByteArrayCollector_1", "upstream", "size", "logger", "reader", "streamBufferingLoggedWarning", "bytesSeen", "buffers", "mode", "pull", "controller", "value", "done", "chunk", "remainder", "chunkMode", "chunkSize", "bufferSize", "newSize", "s", "allowBuffer", "require_createBufferedReadable", "__commonJSMin", "exports", "createBufferedReadable", "node_stream_1", "ByteArrayCollector_1", "createBufferedReadableStream_1", "stream_type_check_1", "upstream", "size", "logger", "downstream", "streamBufferingLoggedWarning", "bytesSeen", "buffers", "mode", "chunk", "chunkMode", "chunkSize", "bufferSize", "newSize", "remainder", "require_getAwsChunkedEncodingStream", "__commonJSMin", "exports", "stream_1", "getAwsChunkedEncodingStream", "readableStream", "options", "base64Encoder", "bodyLengthChecker", "checksumAlgorithmFn", "checksumLocationName", "streamHasher", "checksumRequired", "digest", "awsChunkedEncodingStream", "data", "length", "checksum", "require_headStream_browser", "__commonJSMin", "exports", "headStream", "stream", "bytes", "byteLengthCounter", "chunks", "reader", "isDone", "done", "value", "collected", "offset", "chunk", "require_headStream", "__commonJSMin", "exports", "stream_1", "headStream_browser_1", "stream_type_check_1", "headStream", "stream", "bytes", "resolve", "reject", "collector", "Collector", "err", "__publicField", "chunk", "encoding", "callback", "excess", "tailBuffer", "require_dist_cjs", "__commonJSMin", "exports", "escapeUri", "uri", "hexEncode", "c", "escapeUriPath", "require_dist_cjs", "__commonJSMin", "exports", "utilUriEscape", "buildQueryString", "query", "parts", "key", "value", "i", "iLen", "qsEntry", "require_dist_cjs", "__commonJSMin", "exports", "protocolHttp", "querystringBuilder", "http", "https", "stream", "http2", "NODEJS_TIMEOUT_ERROR_CODES", "getTransformedHeaders", "headers", "transformedHeaders", "name", "headerValues", "timing", "cb", "ms", "timeoutId", "DEFER_EVENT_LISTENER_TIME$2", "setConnectionTimeout", "request", "reject", "timeoutInMs", "registerTimeout", "offset", "doWithSocket", "socket", "setRequestTimeout", "req", "throwOnRequestTimeout", "logger", "msg", "error", "DEFER_EVENT_LISTENER_TIME$1", "setSocketKeepAlive", "keepAlive", "keepAliveMsecs", "deferTimeMs", "registerListener", "DEFER_EVENT_LISTENER_TIME", "setSocketTimeout", "timeout", "onTimeout", "MIN_WAIT_TIME", "writeRequestBody", "httpRequest", "maxContinueTimeoutMs", "externalAgent", "expect", "sendBody", "resolve", "writeBody", "body", "uint8", "DEFAULT_REQUEST_TIMEOUT", "NodeHttpHandler", "_NodeHttpHandler", "options", "__publicField", "_options", "instanceOrOptions", "agent", "socketWarningTimestamp", "sockets", "requests", "maxSockets", "origin", "socketsInUse", "requestsEnqueued", "requestTimeout", "connectionTimeout", "socketTimeout", "socketAcquisitionWarningTimeout", "httpAgent", "httpsAgent", "abortSignal", "_resolve", "_reject", "config", "writeRequestBodyPromise", "timeouts", "arg", "abortError", "isSSL", "expectContinue", "queryString", "auth", "username", "password", "path", "hostname", "nodeHttpsOptions", "res", "httpResponse", "err", "onAbort", "signal", "effectiveRequestTimeout", "e", "key", "value", "NodeHttp2ConnectionPool", "sessions", "session", "s", "connection", "NodeHttp2ConnectionManager", "requestContext", "connectionConfiguration", "url", "existingPool", "existingSession", "destroySessionCb", "connectionPool", "authority", "existingConnectionPool", "cacheKey", "maxConcurrentStreams", "disableConcurrentStreams", "NodeHttp2Handler", "_NodeHttp2Handler", "opts", "configRequestTimeout", "fulfilled", "method", "port", "protocol", "query", "rejectWithDestroy", "timeoutError", "type", "code", "id", "Collector", "chunk", "encoding", "callback", "streamCollector", "isReadableStreamInstance", "collectReadableStream", "collector", "bytes", "chunks", "reader", "isDone", "length", "done", "collected", "require_dist_cjs", "__commonJSMin", "exports", "protocolHttp", "querystringBuilder", "utilBase64", "createRequest", "url", "requestOptions", "requestTimeout", "timeoutInMs", "resolve", "reject", "timeoutError", "keepAliveSupport", "FetchHttpHandler", "_FetchHttpHandler", "options", "__publicField", "opts", "instanceOrOptions", "request", "abortSignal", "requestTimeout$1", "requestTimeoutInMs", "keepAlive", "credentials", "abortError", "path", "queryString", "auth", "username", "password", "port", "method", "body", "removeSignalEventListener", "fetchRequest", "raceOfPromises", "response", "fetchHeaders", "transformedHeaders", "pair", "onAbort", "signal", "key", "value", "config", "streamCollector", "stream", "collectBlob", "collectStream", "blob", "base64", "readToBase64", "arrayBuffer", "chunks", "reader", "isDone", "length", "done", "collected", "offset", "chunk", "result", "commaIndex", "dataOffset", "require_dist_cjs", "__commonJSMin", "exports", "SHORT_TO_HEX", "HEX_TO_SHORT", "i", "encodedByte", "fromHex", "encoded", "out", "toHex", "bytes", "require_sdk_stream_mixin_browser", "__commonJSMin", "exports", "fetch_http_handler_1", "util_base64_1", "util_hex_encoding_1", "util_utf8_1", "stream_type_check_1", "ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED", "sdkStreamMixin", "stream", "isBlobInstance", "name", "transformed", "transformToByteArray", "blobToWebStream", "blob", "encoding", "buf", "require_sdk_stream_mixin", "__commonJSMin", "exports", "node_http_handler_1", "util_buffer_from_1", "stream_1", "sdk_stream_mixin_browser_1", "ERR_MSG_STREAM_HAS_BEEN_TRANSFORMED", "sdkStreamMixin", "stream", "name", "transformed", "transformToByteArray", "encoding", "buf", "require_splitStream_browser", "__commonJSMin", "exports", "splitStream", "stream", "require_splitStream", "__commonJSMin", "exports", "splitStream", "stream_1", "splitStream_browser_1", "stream_type_check_1", "stream", "stream1", "stream2", "require_dist_cjs", "__commonJSMin", "exports", "utilBase64", "utilUtf8", "ChecksumStream", "createChecksumStream", "createBufferedReadable", "getAwsChunkedEncodingStream", "headStream", "sdkStreamMixin", "splitStream", "streamTypeCheck", "Uint8ArrayBlobAdapter", "_Uint8ArrayBlobAdapter", "source", "encoding", "k", "import_util_stream", "collectBody", "init_collect_stream_body", "__esmMin", "streamBody", "context", "fromContext", "extendedEncodeURIComponent", "str", "c", "init_extended_encode_uri_component", "__esmMin", "deref", "init_deref", "__esmMin", "schemaRef", "operation", "init_operation", "__esmMin", "namespace", "name", "traits", "input", "output", "import_protocol_http", "import_util_middleware", "schemaDeserializationMiddleware", "findHeader", "init_schemaDeserializationMiddleware", "__esmMin", "init_operation", "config", "next", "context", "args", "response", "operationSchema", "ns", "n", "t", "i", "o", "parsed", "operation", "error", "hint", "headers", "headerEntries", "pattern", "k", "import_util_middleware", "schemaSerializationMiddleware", "init_schemaSerializationMiddleware", "__esmMin", "init_operation", "config", "next", "context", "args", "operationSchema", "ns", "n", "t", "i", "o", "endpoint", "request", "operation", "getSchemaSerdePlugin", "config", "commandStack", "schemaSerializationMiddleware", "serializerMiddlewareOption", "schemaDeserializationMiddleware", "deserializerMiddlewareOption", "init_getSchemaSerdePlugin", "__esmMin", "init_schemaDeserializationMiddleware", "init_schemaSerializationMiddleware", "Schema", "init_Schema", "__esmMin", "__publicField", "instance", "values", "lhs", "isPrototype", "_ListSchema", "ListSchema", "list", "init_ListSchema", "__esmMin", "init_Schema", "Schema", "__publicField", "namespace", "name", "traits", "valueSchema", "_MapSchema", "MapSchema", "map", "init_MapSchema", "__esmMin", "init_Schema", "Schema", "__publicField", "namespace", "name", "traits", "keySchema", "valueSchema", "_OperationSchema", "OperationSchema", "op", "init_OperationSchema", "__esmMin", "init_Schema", "Schema", "__publicField", "namespace", "name", "traits", "input", "output", "_StructureSchema", "StructureSchema", "struct", "init_StructureSchema", "__esmMin", "init_Schema", "Schema", "__publicField", "namespace", "name", "traits", "memberNames", "memberList", "_ErrorSchema", "ErrorSchema", "error", "init_ErrorSchema", "__esmMin", "init_Schema", "init_StructureSchema", "StructureSchema", "__publicField", "namespace", "name", "traits", "memberNames", "memberList", "ctor", "Schema", "translateTraits", "indicator", "traits", "i", "trait", "init_translateTraits", "__esmMin", "member", "memberSchema", "memberName", "NormalizedSchema", "internalCtorAccess", "_NormalizedSchema", "isMemberSchema", "isStaticSchema", "init_NormalizedSchema", "__esmMin", "init_deref", "init_translateTraits", "ref", "__publicField", "traitStack", "_ref", "schema", "deref", "i", "traitSet", "translateTraits", "computedMemberTraits", "lhs", "isPrototype", "sc", "ns", "traits", "withNamespace", "name", "streaming", "match", "normalizedTraits", "memberTraits", "isDoc", "isMap", "isList", "struct", "buffer", "k", "v", "_SimpleSchema", "SimpleSchema", "sim", "simAdapter", "init_SimpleSchema", "__esmMin", "init_Schema", "Schema", "__publicField", "namespace", "name", "schemaRef", "traits", "SCHEMA", "init_sentinels", "__esmMin", "_TypeRegistry", "TypeRegistry", "init_TypeRegistry", "__esmMin", "namespace", "schemas", "exceptions", "__publicField", "shapeId", "schema", "qualifiedName", "id", "es", "ctor", "$error", "registry", "exceptionKey", "ns", "name", "predicate", "schema_exports", "__export", "ErrorSchema", "ListSchema", "MapSchema", "NormalizedSchema", "OperationSchema", "SCHEMA", "Schema", "SimpleSchema", "StructureSchema", "TypeRegistry", "deref", "deserializerMiddlewareOption", "error", "getSchemaSerdePlugin", "isStaticSchema", "list", "map", "op", "operation", "serializerMiddlewareOption", "sim", "simAdapter", "struct", "translateTraits", "init_schema", "__esmMin", "init_deref", "init_getSchemaSerdePlugin", "init_ListSchema", "init_MapSchema", "init_OperationSchema", "init_operation", "init_ErrorSchema", "init_NormalizedSchema", "init_Schema", "init_SimpleSchema", "init_StructureSchema", "init_sentinels", "init_translateTraits", "init_TypeRegistry", "copyDocumentWithTransform", "init_copyDocumentWithTransform", "__esmMin", "source", "schemaRef", "transform", "_", "parseBoolean", "expectBoolean", "expectNumber", "MAX_FLOAT", "expectFloat32", "expectLong", "expectInt", "expectInt32", "expectShort", "expectByte", "expectSizedInt", "castInt", "expectNonNull", "expectObject", "expectString", "expectUnion", "strictParseDouble", "strictParseFloat", "strictParseFloat32", "NUMBER_REGEX", "parseNumber", "limitedParseDouble", "handleFloat", "limitedParseFloat", "limitedParseFloat32", "parseFloatString", "strictParseLong", "strictParseInt", "strictParseInt32", "strictParseShort", "strictParseByte", "stackTraceWarning", "logger", "init_parse_utils", "__esmMin", "value", "lower", "parsed", "expected", "size", "location", "receivedType", "asObject", "setKeys", "v", "k", "matches", "message", "s", "dateToUtcString", "date", "year", "month", "dayOfWeek", "dayOfMonthInt", "hoursInt", "minutesInt", "secondsInt", "dayOfMonthString", "hoursString", "minutesString", "secondsString", "DAYS", "MONTHS", "RFC3339", "parseRfc3339DateTime", "RFC3339_WITH_OFFSET", "parseRfc3339DateTimeWithOffset", "IMF_FIXDATE", "RFC_850_DATE", "ASC_TIME", "parseRfc7231DateTime", "parseEpochTimestamp", "buildDate", "parseTwoDigitYear", "FIFTY_YEARS_IN_MILLIS", "adjustRfc850Year", "parseMonthByShortName", "DAYS_IN_MONTH", "validateDayOfMonth", "isLeapYear", "parseDateValue", "parseMilliseconds", "parseOffsetToMilliseconds", "stripLeadingZeroes", "init_date_utils", "__esmMin", "init_parse_utils", "value", "match", "_", "yearStr", "monthStr", "dayStr", "hours", "minutes", "seconds", "fractionalMilliseconds", "strictParseShort", "day", "offsetStr", "valueAsDouble", "strictParseDouble", "time", "adjustedMonth", "thisYear", "valueInThisCentury", "input", "monthIdx", "maxDays", "type", "lower", "upper", "dateVal", "strictParseByte", "strictParseFloat32", "directionStr", "direction", "hour", "minute", "idx", "tslib_es6_exports", "__export", "__addDisposableResource", "__assign", "__asyncDelegator", "__asyncGenerator", "__asyncValues", "__await", "__awaiter", "__classPrivateFieldGet", "__classPrivateFieldIn", "__classPrivateFieldSet", "__createBinding", "__decorate", "__disposeResources", "__esDecorate", "__exportStar", "__extends", "__generator", "__importDefault", "__importStar", "__makeTemplateObject", "__metadata", "__param", "__propKey", "__read", "__rest", "__rewriteRelativeImportExtension", "__runInitializers", "__setFunctionName", "__spread", "__spreadArray", "__spreadArrays", "__values", "tslib_es6_default", "d", "b", "extendStatics", "__", "s", "t", "p", "i", "decorators", "target", "key", "desc", "c", "r", "paramIndex", "decorator", "ctor", "descriptorIn", "contextIn", "initializers", "extraInitializers", "accept", "f", "kind", "descriptor", "_", "done", "context", "result", "thisArg", "value", "useValue", "x", "name", "prefix", "metadataKey", "metadataValue", "_arguments", "P", "generator", "adopt", "resolve", "reject", "fulfilled", "step", "e", "rejected", "body", "y", "g", "verb", "n", "v", "op", "m", "o", "ar", "error", "il", "k", "a", "j", "jl", "to", "from", "pack", "l", "q", "awaitReturn", "resume", "settle", "fulfill", "cooked", "raw", "mod", "ownKeys", "__setModuleDefault", "receiver", "state", "env", "async", "dispose", "inner", "fail", "_SuppressedError", "next", "path", "preserveJsx", "tsx", "ext", "cm", "init_tslib_es6", "__esmMin", "k2", "suppressed", "message", "require_randomUUID", "__commonJSMin", "exports", "tslib_1", "crypto_1", "require_dist_cjs", "__commonJSMin", "exports", "randomUUID", "decimalToHex", "_", "i", "v4", "rnds", "import_uuid", "init_generateIdempotencyToken", "__esmMin", "LazyJsonString", "init_lazy_json", "__esmMin", "val", "object", "quoteHeader", "part", "init_quote_header", "__esmMin", "range", "v", "min", "max", "_v", "ddd", "mmm", "time", "date", "year", "RFC3339_WITH_OFFSET", "IMF_FIXDATE", "RFC_850_DATE", "ASC_TIME", "months", "_parseEpochTimestamp", "_parseRfc3339DateTimeWithOffset", "_parseRfc7231DateTime", "init_schema_date_utils", "__esmMin", "value", "num", "matches", "yearStr", "monthStr", "dayStr", "hours", "minutes", "seconds", "ms", "offsetStr", "sign", "offsetH", "offsetM", "scalar", "day", "month", "hour", "minute", "second", "fraction", "timestamp", "splitEvery", "value", "delimiter", "numDelimiters", "segments", "compoundSegments", "currentSegment", "i", "init_split_every", "__esmMin", "splitHeader", "init_split_header", "__esmMin", "value", "z", "values", "withinQuotes", "prevChar", "anchor", "i", "char", "v", "nv", "input", "NumericValue", "format", "init_NumericValue", "__esmMin", "_NumericValue", "string", "type", "__publicField", "object", "_nv", "serde_exports", "__export", "LazyJsonString", "NumericValue", "_parseEpochTimestamp", "_parseRfc3339DateTimeWithOffset", "_parseRfc7231DateTime", "copyDocumentWithTransform", "dateToUtcString", "expectBoolean", "expectByte", "expectFloat32", "expectInt", "expectInt32", "expectLong", "expectNonNull", "expectNumber", "expectObject", "expectShort", "expectString", "expectUnion", "generateIdempotencyToken", "handleFloat", "limitedParseDouble", "limitedParseFloat", "limitedParseFloat32", "logger", "nv", "parseBoolean", "parseEpochTimestamp", "parseRfc3339DateTime", "parseRfc3339DateTimeWithOffset", "parseRfc7231DateTime", "quoteHeader", "splitEvery", "splitHeader", "strictParseByte", "strictParseDouble", "strictParseFloat", "strictParseFloat32", "strictParseInt", "strictParseInt32", "strictParseLong", "strictParseShort", "init_serde", "__esmMin", "init_copyDocumentWithTransform", "init_date_utils", "init_generateIdempotencyToken", "init_lazy_json", "init_parse_utils", "init_quote_header", "init_schema_date_utils", "init_split_every", "init_split_header", "init_NumericValue", "SerdeContext", "init_SerdeContext", "__esmMin", "__publicField", "serdeContext", "import_util_utf8", "EventStreamSerde", "init_EventStreamSerde", "__esmMin", "marshaller", "serializer", "deserializer", "serdeContext", "defaultContentType", "__publicField", "eventStream", "requestSchema", "initialRequest", "eventStreamMember", "unionSchema", "initialRequestMarker", "eventStreamIterable", "headers", "body", "page", "event", "unionMember", "key", "additionalHeaders", "eventType", "explicitPayloadContentType", "response", "responseSchema", "initialResponseContainer", "memberSchemas", "initialResponseMarker", "asyncIterable", "dataObject", "eventStreamSchema", "asyncIterator", "firstEvent", "value", "done", "explicitPayloadMember", "isKnownSchema", "eventSchema", "memberName", "memberSchema", "eventHeader", "eventPayload", "type", "payloadSchema", "messageSerialization", "event_streams_exports", "__export", "EventStreamSerde", "init_event_streams", "__esmMin", "init_EventStreamSerde", "import_protocol_http", "HttpProtocol", "init_HttpProtocol", "__esmMin", "init_schema", "init_SerdeContext", "SerdeContext", "options", "__publicField", "serdeContext", "request", "endpoint", "k", "v", "operationSchema", "input", "inputNs", "NormalizedSchema", "opTraits", "translateTraits", "hostPrefix", "hostLabelInputs", "member", "name", "replacement", "output", "eventStream", "requestSchema", "initialRequest", "response", "responseSchema", "initialResponseContainer", "EventStreamSerde", "schema", "context", "arg4", "arg5", "import_protocol_http", "import_util_stream", "HttpBindingProtocol", "init_HttpBindingProtocol", "__esmMin", "init_schema", "init_serde", "init_collect_stream_body", "init_extended_encode_uri_component", "init_HttpProtocol", "HttpProtocol", "operationSchema", "_input", "context", "input", "serializer", "query", "headers", "endpoint", "ns", "NormalizedSchema", "schema", "hasNonHttpBindingMember", "payload", "request", "opTraits", "translateTraits", "path", "search", "traitSearchParams", "memberName", "memberNs", "memberTraits", "inputMemberValue", "replacement", "extendedEncodeURIComponent", "key", "val", "amalgam", "data", "traits", "valueSchema", "sparse", "buffer", "item", "serializable", "response", "deserializer", "dataObject", "bytes", "collectBody", "header", "value", "nonHttpBindingMembers", "dataFromBody", "member", "arg4", "arg5", "memberSchema", "headerListValueSchema", "sections", "splitEvery", "splitHeader", "list", "section", "import_protocol_http", "RpcProtocol", "init_RpcProtocol", "__esmMin", "init_schema", "init_collect_stream_body", "init_HttpProtocol", "HttpProtocol", "operationSchema", "input", "context", "serializer", "query", "headers", "endpoint", "ns", "NormalizedSchema", "schema", "payload", "request", "_input", "eventStreamMember", "initialRequest", "memberName", "memberSchema", "response", "deserializer", "dataObject", "bytes", "collectBody", "header", "value", "resolvedPath", "init_resolve_path", "__esmMin", "init_extended_encode_uri_component", "input", "memberName", "labelValueProvider", "uriLabel", "isGreedyLabel", "labelValue", "segment", "extendedEncodeURIComponent", "requestBuilder", "input", "context", "RequestBuilder", "import_protocol_http", "init_requestBuilder", "__esmMin", "init_resolve_path", "__publicField", "hostname", "protocol", "port", "basePath", "resolvePath", "uriLabel", "memberName", "labelValueProvider", "isGreedyLabel", "path", "resolvedPath", "headers", "query", "body", "method", "determineTimestampFormat", "ns", "settings", "httpLabel", "httpPrefixHeaders", "httpHeader", "httpQuery", "init_determineTimestampFormat", "__esmMin", "import_util_base64", "import_util_utf8", "FromStringShapeDeserializer", "init_FromStringShapeDeserializer", "__esmMin", "init_schema", "init_serde", "init_SerdeContext", "init_determineTimestampFormat", "SerdeContext", "settings", "__publicField", "_schema", "data", "ns", "NormalizedSchema", "splitHeader", "item", "determineTimestampFormat", "_parseRfc3339DateTimeWithOffset", "_parseRfc7231DateTime", "_parseEpochTimestamp", "mediaType", "intermediateValue", "LazyJsonString", "NumericValue", "base64String", "import_util_utf8", "HttpInterceptingShapeDeserializer", "init_HttpInterceptingShapeDeserializer", "__esmMin", "init_schema", "init_SerdeContext", "init_FromStringShapeDeserializer", "SerdeContext", "codecDeserializer", "codecSettings", "__publicField", "FromStringShapeDeserializer", "serdeContext", "schema", "data", "ns", "NormalizedSchema", "traits", "toString", "toBytes", "import_util_base64", "ToStringShapeSerializer", "init_ToStringShapeSerializer", "__esmMin", "init_schema", "init_serde", "init_SerdeContext", "init_determineTimestampFormat", "SerdeContext", "settings", "__publicField", "schema", "value", "ns", "NormalizedSchema", "determineTimestampFormat", "dateToUtcString", "buffer", "item", "headerItem", "serialized", "quoteHeader", "mediaType", "intermediateValue", "LazyJsonString", "HttpInterceptingShapeSerializer", "init_HttpInterceptingShapeSerializer", "__esmMin", "init_schema", "init_ToStringShapeSerializer", "codecSerializer", "codecSettings", "stringSerializer", "ToStringShapeSerializer", "__publicField", "serdeContext", "schema", "value", "ns", "NormalizedSchema", "traits", "buffer", "protocols_exports", "__export", "FromStringShapeDeserializer", "HttpBindingProtocol", "HttpInterceptingShapeDeserializer", "HttpInterceptingShapeSerializer", "HttpProtocol", "RequestBuilder", "RpcProtocol", "SerdeContext", "ToStringShapeSerializer", "collectBody", "determineTimestampFormat", "extendedEncodeURIComponent", "requestBuilder", "resolvedPath", "init_protocols", "__esmMin", "init_collect_stream_body", "init_extended_encode_uri_component", "init_HttpBindingProtocol", "init_HttpProtocol", "init_RpcProtocol", "init_requestBuilder", "init_resolve_path", "init_FromStringShapeDeserializer", "init_HttpInterceptingShapeDeserializer", "init_HttpInterceptingShapeSerializer", "init_ToStringShapeSerializer", "init_determineTimestampFormat", "init_SerdeContext", "init_requestBuilder", "__esmMin", "init_protocols", "setFeature", "context", "feature", "value", "init_setFeature", "__esmMin", "DefaultIdentityProviderConfig", "init_DefaultIdentityProviderConfig", "__esmMin", "config", "__publicField", "key", "value", "schemeId", "import_protocol_http", "import_types", "HttpApiKeyAuthSigner", "init_httpApiKeyAuth", "__esmMin", "httpRequest", "identity", "signingProperties", "clonedRequest", "import_protocol_http", "HttpBearerAuthSigner", "init_httpBearerAuth", "__esmMin", "httpRequest", "identity", "signingProperties", "clonedRequest", "NoAuthSigner", "init_noAuth", "__esmMin", "httpRequest", "identity", "signingProperties", "init_httpAuthSchemes", "__esmMin", "init_httpApiKeyAuth", "init_httpBearerAuth", "init_noAuth", "createIsIdentityExpiredFunction", "EXPIRATION_MS", "isIdentityExpired", "doesIdentityRequireRefresh", "memoizeIdentityProvider", "init_memoizeIdentityProvider", "__esmMin", "expirationMs", "identity", "provider", "isExpired", "requiresRefresh", "normalizedProvider", "resolved", "pending", "hasResult", "isConstant", "coalesceProvider", "options", "init_util_identity_and_auth", "__esmMin", "init_DefaultIdentityProviderConfig", "init_httpAuthSchemes", "init_memoizeIdentityProvider", "dist_es_exports", "__export", "DefaultIdentityProviderConfig", "EXPIRATION_MS", "HttpApiKeyAuthSigner", "HttpBearerAuthSigner", "NoAuthSigner", "createIsIdentityExpiredFunction", "createPaginator", "doesIdentityRequireRefresh", "getHttpAuthSchemeEndpointRuleSetPlugin", "getHttpAuthSchemePlugin", "getHttpSigningPlugin", "getSmithyContext", "httpAuthSchemeEndpointRuleSetMiddlewareOptions", "httpAuthSchemeMiddleware", "httpAuthSchemeMiddlewareOptions", "httpSigningMiddleware", "httpSigningMiddlewareOptions", "isIdentityExpired", "memoizeIdentityProvider", "normalizeProvider", "requestBuilder", "setFeature", "init_dist_es", "__esmMin", "init_getSmithyContext", "init_middleware_http_auth_scheme", "init_middleware_http_signing", "init_normalizeProvider", "init_createPaginator", "init_requestBuilder", "init_setFeature", "init_util_identity_and_auth", "require_dist_cjs", "__commonJSMin", "exports", "types", "EndpointCache", "size", "params", "__publicField", "endpointParams", "resolver", "key", "keys", "value", "done", "buffer", "parameters", "param", "val", "IP_V4_REGEX", "isIpAddress", "VALID_HOST_LABEL_REGEX", "isValidHostLabel", "allowSubDomains", "labels", "label", "customEndpointFunctions", "debugId", "toDebugString", "input", "EndpointError", "message", "booleanEquals", "value1", "value2", "getAttrPathList", "path", "parts", "pathList", "part", "squareBracketIndex", "arrayIndex", "getAttr", "acc", "index", "isSet", "not", "DEFAULT_PORTS", "parseURL", "whatwgURL", "hostname", "port", "protocol", "query", "url", "k", "v", "urlString", "host", "pathname", "search", "scheme", "isIp", "inputContainsDefaultPort", "authority", "stringEquals", "substring", "start", "stop", "reverse", "uriEncode", "c", "endpointFunctions", "evaluateTemplate", "template", "options", "evaluatedTemplateArr", "templateContext", "currentIndex", "openingBraceIndex", "closingBraceIndex", "parameterName", "refName", "attrName", "getReferenceValue", "ref", "evaluateExpression", "obj", "keyName", "group$2", "callFunction", "fn", "argv", "evaluatedArgs", "arg", "fnSegments", "evaluateCondition", "assign", "fnArgs", "evaluateConditions", "conditions", "conditionsReferenceRecord", "condition", "result", "toAssign", "getEndpointHeaders", "headers", "headerKey", "headerVal", "headerValEntry", "processedExpr", "getEndpointProperties", "properties", "propertyKey", "propertyVal", "group$1", "getEndpointProperty", "property", "propertyEntry", "getEndpointUrl", "endpointUrl", "expression", "error", "evaluateEndpointRule", "endpointRule", "endpoint", "referenceRecord", "endpointRuleOptions", "evaluateErrorRule", "errorRule", "evaluateRules", "rules", "rule", "endpointOrUndefined", "group", "evaluateTreeRule", "treeRule", "resolveEndpoint", "ruleSetObject", "logger", "paramsWithDefault", "paramKey", "paramDefaultValue", "requiredParams", "requiredParam", "require_dist_cjs", "__commonJSMin", "exports", "parseQueryString", "querystring", "query", "pair", "key", "value", "require_dist_cjs", "__commonJSMin", "exports", "querystringParser", "parseUrl", "url", "hostname", "pathname", "port", "protocol", "search", "query", "require_dist_cjs", "__commonJSMin", "exports", "utilEndpoints", "urlParser", "isVirtualHostableS3Bucket", "value", "allowSubDomains", "label", "ARN_DELIMITER", "RESOURCE_DELIMITER", "parseArn", "segments", "arn", "partition", "service", "region", "accountId", "resourcePath", "resourceId", "resource", "partitions", "version", "partitionsInfo", "selectedPartitionsInfo", "selectedUserAgentPrefix", "regions", "outputs", "regionData", "regionRegex", "DEFAULT_PARTITION", "setPartitionInfo", "userAgentPrefix", "useDefaultPartitionInfo", "getUserAgentPrefix", "awsEndpointFunctions", "resolveDefaultAwsRegionalEndpointsConfig", "input", "endpoint", "toEndpointV1", "state", "emitWarningIfUnsupportedVersion", "init_emitWarningIfUnsupportedVersion", "__esmMin", "version", "setCredentialFeature", "credentials", "feature", "value", "init_setCredentialFeature", "__esmMin", "setFeature", "context", "feature", "value", "init_setFeature", "__esmMin", "setTokenFeature", "token", "feature", "value", "init_setTokenFeature", "__esmMin", "client_exports", "__export", "emitWarningIfUnsupportedVersion", "setCredentialFeature", "setFeature", "setTokenFeature", "state", "init_client", "__esmMin", "init_emitWarningIfUnsupportedVersion", "init_setCredentialFeature", "init_setFeature", "init_setTokenFeature", "import_protocol_http", "getDateHeader", "init_getDateHeader", "__esmMin", "response", "getSkewCorrectedDate", "init_getSkewCorrectedDate", "__esmMin", "systemClockOffset", "isClockSkewed", "init_isClockSkewed", "__esmMin", "init_getSkewCorrectedDate", "clockTime", "systemClockOffset", "getSkewCorrectedDate", "getUpdatedSystemClockOffset", "init_getUpdatedSystemClockOffset", "__esmMin", "init_isClockSkewed", "clockTime", "currentSystemClockOffset", "clockTimeInMs", "isClockSkewed", "init_utils", "__esmMin", "init_getDateHeader", "init_getSkewCorrectedDate", "init_getUpdatedSystemClockOffset", "import_protocol_http", "throwSigningPropertyError", "validateSigningProperties", "AwsSdkSigV4Signer", "AWSSDKSigV4Signer", "init_AwsSdkSigV4Signer", "__esmMin", "init_utils", "name", "property", "signingProperties", "context", "config", "authScheme", "signer", "signingRegion", "signingRegionSet", "signingName", "httpRequest", "identity", "validatedProps", "handlerExecutionContext", "first", "second", "getSkewCorrectedDate", "error", "serverTime", "getDateHeader", "initialSystemClockOffset", "getUpdatedSystemClockOffset", "httpResponse", "dateHeader", "import_protocol_http", "AwsSdkSigV4ASigner", "init_AwsSdkSigV4ASigner", "__esmMin", "init_utils", "init_AwsSdkSigV4Signer", "AwsSdkSigV4Signer", "httpRequest", "identity", "signingProperties", "config", "signer", "signingRegion", "signingRegionSet", "signingName", "validateSigningProperties", "multiRegionOverride", "getSkewCorrectedDate", "getArrayForCommaSeparatedString", "init_getArrayForCommaSeparatedString", "__esmMin", "str", "item", "getBearerTokenEnvKey", "init_getBearerTokenEnvKey", "__esmMin", "signingName", "NODE_AUTH_SCHEME_PREFERENCE_ENV_KEY", "NODE_AUTH_SCHEME_PREFERENCE_CONFIG_KEY", "NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "init_NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "__esmMin", "init_getArrayForCommaSeparatedString", "init_getBearerTokenEnvKey", "env", "options", "getBearerTokenEnvKey", "getArrayForCommaSeparatedString", "profile", "require_dist_cjs", "__commonJSMin", "exports", "ProviderError", "_ProviderError", "message", "options", "logger", "tryNextLink", "__publicField", "error", "CredentialsProviderError", "_CredentialsProviderError", "TokenProviderError", "_TokenProviderError", "chain", "providers", "lastProviderError", "provider", "err", "fromStatic", "staticValue", "memoize", "isExpired", "requiresRefresh", "resolved", "pending", "hasResult", "isConstant", "coalesceProvider", "import_property_provider", "resolveAwsSdkSigV4AConfig", "NODE_SIGV4A_CONFIG_OPTIONS", "init_resolveAwsSdkSigV4AConfig", "__esmMin", "init_dist_es", "config", "normalizeProvider", "env", "_", "profile", "require_dist_cjs", "__commonJSMin", "exports", "utilHexEncoding", "utilUtf8", "isArrayBuffer", "protocolHttp", "utilMiddleware", "utilUriEscape", "ALGORITHM_QUERY_PARAM", "CREDENTIAL_QUERY_PARAM", "AMZ_DATE_QUERY_PARAM", "SIGNED_HEADERS_QUERY_PARAM", "EXPIRES_QUERY_PARAM", "SIGNATURE_QUERY_PARAM", "TOKEN_QUERY_PARAM", "REGION_SET_PARAM", "AUTH_HEADER", "AMZ_DATE_HEADER", "DATE_HEADER", "GENERATED_HEADERS", "SIGNATURE_HEADER", "SHA256_HEADER", "TOKEN_HEADER", "HOST_HEADER", "ALWAYS_UNSIGNABLE_HEADERS", "PROXY_HEADER_PATTERN", "SEC_HEADER_PATTERN", "UNSIGNABLE_PATTERNS", "ALGORITHM_IDENTIFIER", "ALGORITHM_IDENTIFIER_V4A", "EVENT_ALGORITHM_IDENTIFIER", "UNSIGNED_PAYLOAD", "MAX_CACHE_SIZE", "KEY_TYPE_IDENTIFIER", "MAX_PRESIGNED_TTL", "signingKeyCache", "cacheQueue", "createScope", "shortDate", "region", "service", "getSigningKey", "sha256Constructor", "credentials", "credsHash", "hmac", "cacheKey", "key", "signable", "clearCredentialCache", "ctor", "secret", "data", "hash", "getCanonicalHeaders", "headers", "unsignableHeaders", "signableHeaders", "canonical", "headerName", "canonicalHeaderName", "getPayloadHash", "body", "hashConstructor", "hashCtor", "HeaderFormatter", "chunks", "bytes", "out", "carry", "position", "chunk", "header", "shortView", "intView", "longBytes", "binView", "binBytes", "utf8Bytes", "strView", "strBytes", "tsBytes", "Int64", "UUID_PATTERN", "uuidBytes", "_Int64", "__publicField", "number", "i", "remaining", "negate", "negative", "hasHeader", "soughtHeader", "moveHeadersToQuery", "request", "options", "query", "name", "lname", "prepareRequest", "getCanonicalQuery", "keys", "serialized", "encodedKey", "value", "encoded", "iso8601", "time", "toDate", "SignatureV4Base", "applyChecksum", "sha256", "uriEscapePath", "canonicalHeaders", "payloadHash", "sortedHeaders", "longDate", "credentialScope", "canonicalRequest", "algorithmIdentifier", "hashedRequest", "path", "normalizedPathSegments", "pathSegment", "normalizedPath", "now", "SignatureV4", "originalRequest", "signingDate", "expiresIn", "unhoistableHeaders", "hoistableHeaders", "signingRegion", "signingService", "scope", "toSign", "payload", "priorSignature", "hashedPayload", "hashedHeaders", "stringToSign", "signableMessage", "signature", "requestToSign", "keyPromise", "signatureV4aContainer", "normalizeCredentialProvider", "config", "credentials", "credentialDefaultProvider", "credentialsProvider", "memoizeIdentityProvider", "isIdentityExpired", "doesIdentityRequireRefresh", "normalizeProvider", "bindCallerConfig", "fn", "options", "import_signature_v4", "resolveAwsSdkSigV4Config", "resolveAWSSDKSigV4Config", "init_resolveAwsSdkSigV4Config", "__esmMin", "init_client", "init_dist_es", "inputCredentials", "isUserSupplied", "resolvedCredentials", "memoizedProvider", "boundProvider", "creds", "setCredentialFeature", "signingEscapePath", "systemClockOffset", "sha256", "signer", "region", "regionInfo", "signingRegion", "signingService", "params", "SignerCtor", "authScheme", "init_aws_sdk", "__esmMin", "init_AwsSdkSigV4Signer", "init_AwsSdkSigV4ASigner", "init_NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "init_resolveAwsSdkSigV4AConfig", "init_resolveAwsSdkSigV4Config", "httpAuthSchemes_exports", "__export", "AWSSDKSigV4Signer", "AwsSdkSigV4ASigner", "AwsSdkSigV4Signer", "NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "NODE_SIGV4A_CONFIG_OPTIONS", "getBearerTokenEnvKey", "resolveAWSSDKSigV4Config", "resolveAwsSdkSigV4AConfig", "resolveAwsSdkSigV4Config", "validateSigningProperties", "init_httpAuthSchemes", "__esmMin", "init_aws_sdk", "init_getBearerTokenEnvKey", "alloc", "size", "tag", "data", "tagSymbol", "init_cbor_types", "__esmMin", "setPayload", "bytes", "payload", "dataView", "decode", "at", "to", "major", "minor", "unsignedInt", "offset", "countLength", "minorValueToArgumentLength", "countOffset", "countIndex", "_offset", "castBigInt", "negativeInt", "length", "decodeCount", "b", "start", "i", "decimalFraction", "exponent", "mantissa", "normalizer", "mantissaStr", "numericString", "sign", "nv", "value", "tag", "decodeUtf8StringIndefinite", "decodeMapIndefinite", "decodeListIndefinite", "decodeUnstructuredByteStringIndefinite", "decodeUtf8String", "decodeMap", "decodeList", "decodeUnstructuredByteString", "decodeSpecial", "bytesToUtf8", "USE_BUFFER", "textDecoder", "demote", "bigInteger", "num", "bytesToFloat16", "a", "fraction", "scalar", "exponentComponent", "summation", "vector", "base", "data", "alloc", "listDataLength", "list", "item", "itemOffset", "mapDataLength", "map", "key", "bigInt", "import_util_utf8", "USE_TEXT_DECODER", "init_cbor_decode", "__esmMin", "init_serde", "init_cbor_types", "ensureSpace", "bytes", "data", "cursor", "resize", "toUint8Array", "out", "alloc", "size", "old", "dataView", "encodeHeader", "major", "value", "encode", "_input", "encodeStack", "input", "USE_BUFFER", "nonNegative", "n", "binaryBigInt", "bigIntBytes", "b", "i", "NumericValue", "decimalIndex", "exponent", "mantissa", "tagSymbol", "keys", "key", "import_util_utf8", "initialSize", "init_cbor_encode", "__esmMin", "init_serde", "init_cbor_types", "cbor", "init_cbor", "__esmMin", "init_cbor_decode", "init_cbor_encode", "payload", "setPayload", "decode", "input", "encode", "toUint8Array", "size", "resize", "dateToTag", "loadSmithyRpcV2CborErrorCode", "init_parseCborBody", "__esmMin", "init_cbor_types", "date", "tag", "output", "data", "sanitizeErrorCode", "rawValue", "cleanValue", "codeKey", "key", "import_util_base64", "CborCodec", "CborShapeSerializer", "CborShapeDeserializer", "init_CborCodec", "__esmMin", "init_protocols", "init_schema", "init_serde", "init_cbor", "init_parseCborBody", "SerdeContext", "serializer", "deserializer", "__publicField", "schema", "value", "source", "ns", "NormalizedSchema", "generateIdempotencyToken", "dateToTag", "sourceObject", "sparse", "newArray", "i", "item", "newObject", "key", "memberSchema", "buffer", "cbor", "bytes", "data", "_schema", "_parseEpochTimestamp", "itemValue", "targetSchema", "v", "import_util_middleware", "SmithyRpcV2CborProtocol", "init_SmithyRpcV2CborProtocol", "__esmMin", "init_protocols", "init_schema", "init_CborCodec", "init_parseCborBody", "RpcProtocol", "defaultNamespace", "__publicField", "CborCodec", "operationSchema", "input", "context", "request", "deref", "service", "operation", "path", "response", "dataObject", "metadata", "errorName", "loadSmithyRpcV2CborErrorCode", "namespace", "errorMetadata", "registry", "TypeRegistry", "errorSchema", "synthetic", "baseExceptionSchema", "ErrorCtor", "ns", "NormalizedSchema", "message", "exception", "output", "name", "member", "init_cbor", "__esmMin", "init_parseCborBody", "init_SmithyRpcV2CborProtocol", "init_CborCodec", "ProtocolLib", "init_ProtocolLib", "__esmMin", "init_schema", "defaultContentType", "inputSchema", "members", "httpPayloadMember", "m", "mediaType", "httpQuery", "httpQueryParams", "httpHeader", "httpLabel", "httpPrefixHeaders", "errorIdentifier", "defaultNamespace", "response", "dataObject", "metadata", "getErrorSchema", "namespace", "errorName", "errorMetadata", "registry", "TypeRegistry", "synthetic", "baseExceptionSchema", "ErrorCtor", "output", "queryErrorHeader", "Code", "Type", "entries", "Error", "k", "v", "queryCompatErrorData", "errorData", "AwsSmithyRpcV2CborProtocol", "init_AwsSmithyRpcV2CborProtocol", "__esmMin", "init_cbor", "init_schema", "init_ProtocolLib", "SmithyRpcV2CborProtocol", "defaultNamespace", "awsQueryCompatible", "__publicField", "ProtocolLib", "operationSchema", "input", "context", "request", "response", "dataObject", "metadata", "errorName", "loadSmithyRpcV2CborErrorCode", "errorSchema", "errorMetadata", "ns", "NormalizedSchema", "message", "ErrorCtor", "TypeRegistry", "exception", "output", "name", "member", "_toStr", "_toBool", "_toNum", "init_coercing_serializers", "__esmMin", "val", "warning", "lowercase", "num", "SerdeContextConfig", "init_ConfigurableSerdeContext", "__esmMin", "__publicField", "serdeContext", "jsonReviver", "key", "value", "context", "numericString", "NumericValue", "init_jsonReviver", "__esmMin", "init_serde", "require_dist_cjs", "__commonJSMin", "exports", "getAllAliases", "name", "aliases", "_aliases", "alias", "getMiddlewareNameWithAliases", "constructStack", "absoluteEntries", "relativeEntries", "identifyOnResolve", "entriesNameSet", "sort", "entries", "a", "b", "stepWeights", "priorityWeights", "removeByName", "toRemove", "isRemoved", "filterCb", "entry", "removeByReference", "cloneTo", "toStack", "stack", "expandRelativeMiddlewareList", "from", "expandedMiddlewareList", "getMiddlewareList", "debug", "normalizedAbsoluteEntries", "normalizedRelativeEntries", "normalizedEntriesNameMap", "normalizedEntry", "toMiddleware", "wholeList", "middleware", "options", "override", "toOverrideIndex", "toOverride", "plugin", "tags", "cloned", "mw", "step", "toggle", "handler", "context", "require_dist_cjs", "__commonJSMin", "exports", "middlewareStack", "protocols", "types", "schema", "serde", "Client", "config", "__publicField", "command", "optionsOrCb", "cb", "options", "callback", "useHandlerCache", "handler", "handlers", "result", "err", "SENSITIVE_STRING$1", "schemaLogFilter", "schema$1", "data", "ns", "object", "newObject", "member", "memberNs", "Command", "ClassBuilder", "clientStack", "configuration", "middlewareFn", "clientName", "commandName", "inputFilterSensitiveLog", "outputFilterSensitiveLog", "smithyContext", "additionalContext", "CommandCtor", "mw", "stack", "logger", "handlerExecutionContext", "requestHandler", "request", "endpointParameterInstructions", "middlewareSupplier", "service", "operation", "inputFilter", "_", "outputFilter", "serializer", "deserializer", "closure", "CommandRef", "input", "op", "output", "SENSITIVE_STRING", "createAggregatedClient", "commands", "methodImpl", "args", "methodName", "ServiceException", "_ServiceException", "value", "candidate", "instance", "decorateServiceException", "exception", "additions", "v", "k", "message", "throwDefaultError", "parsedBody", "exceptionCtor", "errorCode", "$metadata", "deserializeMetadata", "statusCode", "response", "withBaseException", "ExceptionCtor", "loadConfigsForDefaultMode", "mode", "warningEmitted", "emitWarningIfUnsupportedVersion", "version", "getChecksumConfiguration", "runtimeConfig", "checksumAlgorithms", "id", "algorithmId", "algo", "resolveChecksumRuntimeConfig", "clientConfig", "checksumAlgorithm", "getRetryConfiguration", "retryStrategy", "resolveRetryRuntimeConfig", "retryStrategyConfiguration", "getDefaultExtensionConfiguration", "getDefaultClientConfiguration", "resolveDefaultRuntimeConfig", "getArrayIfSingleItem", "mayBeArray", "getValueFromTextNode", "obj", "textNodeName", "key", "isSerializableHeaderValue", "NoOpLogger", "map", "arg0", "arg1", "arg2", "target", "filter", "instructions", "mapWithFilter", "applyInstruction", "convertMap", "take", "source", "out", "_instructions", "targetKey", "instruction", "nonNullish", "valueFn", "pass", "sourceKey", "_value", "defaultFilterPassed", "customFilterPassed", "serializeFloat", "serializeDateTime", "date", "_json", "import_smithy_client", "import_util_utf8", "collectBodyString", "init_common", "__esmMin", "streamBody", "context", "body", "parseJsonBody", "parseJsonErrorBody", "loadRestJsonErrorCode", "init_parseJsonBody", "__esmMin", "init_common", "streamBody", "context", "collectBodyString", "encoded", "e", "errorBody", "value", "output", "data", "findKey", "object", "key", "k", "sanitizeErrorCode", "rawValue", "cleanValue", "headerKey", "codeKey", "import_util_base64", "JsonShapeDeserializer", "init_JsonShapeDeserializer", "__esmMin", "init_protocols", "init_schema", "init_serde", "init_ConfigurableSerdeContext", "init_jsonReviver", "init_parseJsonBody", "SerdeContextConfig", "settings", "__publicField", "schema", "data", "jsonReviver", "parseJsonBody", "value", "isObject", "ns", "NormalizedSchema", "listMember", "out", "sparse", "item", "mapMember", "_k", "_v", "memberName", "memberSchema", "fromKey", "deserializedValue", "mediaType", "LazyJsonString", "determineTimestampFormat", "parseRfc3339DateTimeWithOffset", "parseRfc7231DateTime", "parseEpochTimestamp", "NumericValue", "untyped", "k", "v", "NUMERIC_CONTROL_CHAR", "JsonReplacer", "init_jsonReplacer", "__esmMin", "init_serde", "__publicField", "key", "value", "NumericValue", "v", "s", "json", "import_util_base64", "JsonShapeSerializer", "init_JsonShapeSerializer", "__esmMin", "init_protocols", "init_schema", "init_serde", "init_ConfigurableSerdeContext", "init_jsonReplacer", "SerdeContextConfig", "settings", "__publicField", "schema", "value", "NormalizedSchema", "rootSchema", "replacer", "JsonReplacer", "container", "isObject", "ns", "listMember", "out", "sparse", "item", "mapMember", "_k", "_v", "memberName", "memberSchema", "targetKey", "serializableValue", "determineTimestampFormat", "dateToUtcString", "generateIdempotencyToken", "mediaType", "LazyJsonString", "k", "v", "NumericValue", "JsonCodec", "init_JsonCodec", "__esmMin", "init_ConfigurableSerdeContext", "init_JsonShapeDeserializer", "init_JsonShapeSerializer", "SerdeContextConfig", "settings", "__publicField", "serializer", "JsonShapeSerializer", "deserializer", "JsonShapeDeserializer", "AwsJsonRpcProtocol", "init_AwsJsonRpcProtocol", "__esmMin", "init_protocols", "init_schema", "init_ProtocolLib", "init_JsonCodec", "init_parseJsonBody", "RpcProtocol", "defaultNamespace", "serviceTarget", "awsQueryCompatible", "__publicField", "ProtocolLib", "JsonCodec", "operationSchema", "input", "context", "request", "deref", "response", "dataObject", "metadata", "errorIdentifier", "loadRestJsonErrorCode", "errorSchema", "errorMetadata", "ns", "NormalizedSchema", "message", "ErrorCtor", "TypeRegistry", "exception", "output", "name", "member", "target", "AwsJson1_0Protocol", "init_AwsJson1_0Protocol", "__esmMin", "init_AwsJsonRpcProtocol", "AwsJsonRpcProtocol", "defaultNamespace", "serviceTarget", "awsQueryCompatible", "AwsJson1_1Protocol", "init_AwsJson1_1Protocol", "__esmMin", "init_AwsJsonRpcProtocol", "AwsJsonRpcProtocol", "defaultNamespace", "serviceTarget", "awsQueryCompatible", "AwsRestJsonProtocol", "init_AwsRestJsonProtocol", "__esmMin", "init_protocols", "init_schema", "init_ProtocolLib", "init_JsonCodec", "init_parseJsonBody", "HttpBindingProtocol", "defaultNamespace", "__publicField", "ProtocolLib", "settings", "JsonCodec", "HttpInterceptingShapeSerializer", "HttpInterceptingShapeDeserializer", "serdeContext", "operationSchema", "input", "context", "request", "inputSchema", "NormalizedSchema", "contentType", "response", "dataObject", "metadata", "errorIdentifier", "loadRestJsonErrorCode", "errorSchema", "errorMetadata", "ns", "message", "ErrorCtor", "TypeRegistry", "exception", "output", "name", "member", "target", "import_smithy_client", "awsExpectUnion", "init_awsExpectUnion", "__esmMin", "value", "require_fxp", "__commonJSMin", "exports", "module", "e", "n", "i", "t", "ft", "st", "mt", "s", "r", "o", "l", "x", "N", "a", "h", "d", "f", "p", "c", "b", "g", "m", "E", "v", "y", "T", "w", "C", "O", "S", "A", "P", "$", "I", "j", "D", "V", "M", "_", "k", "F", "X", "L", "B", "G", "Z", "R", "J", "q", "Y", "H", "U", "W", "z", "u", "K", "Q", "tt", "et", "it", "nt", "rt", "ot", "at", "ut", "ht", "lt", "dt", "gt", "ct", "pt", "require_xml_parser", "__commonJSMin", "exports", "parseXML", "fast_xml_parser_1", "parser", "_", "val", "xmlString", "require_dist_cjs", "__commonJSMin", "exports", "xmlParser", "escapeAttribute", "value", "escapeElement", "XmlText", "__publicField", "XmlNode", "_XmlNode", "name", "children", "childText", "withName", "node", "child", "input", "field", "listName", "memberName", "valueProvider", "nodes", "containerNode", "hasChildren", "xmlText", "attributes", "attributeName", "attribute", "c", "import_xml_builder", "import_smithy_client", "import_util_utf8", "XmlShapeDeserializer", "init_XmlShapeDeserializer", "__esmMin", "init_protocols", "init_schema", "init_ConfigurableSerdeContext", "SerdeContextConfig", "settings", "__publicField", "FromStringShapeDeserializer", "serdeContext", "schema", "bytes", "key", "ns", "NormalizedSchema", "memberSchemas", "memberNs", "output", "memberName", "xmlString", "parsedObject", "_schema", "value", "traits", "sparse", "flat", "listValue", "buffer", "sourceKey", "source", "sourceArray", "v", "keyNs", "entries", "keyProperty", "valueProperty", "entry", "memberSchema", "memberTraits", "xmlObjectKey", "xml", "parsedObj", "e", "textNodeName", "parsedObjToReturn", "import_smithy_client", "import_util_base64", "QueryShapeSerializer", "init_QueryShapeSerializer", "__esmMin", "init_protocols", "init_schema", "init_serde", "init_ConfigurableSerdeContext", "SerdeContextConfig", "settings", "__publicField", "schema", "value", "prefix", "ns", "NormalizedSchema", "generateIdempotencyToken", "NumericValue", "determineTimestampFormat", "member", "flat", "i", "item", "suffix", "key", "keySchema", "memberSchema", "k", "v", "keySuffix", "valueSuffix", "valueKey", "memberName", "str", "xmlName", "extendedEncodeURIComponent", "AwsQueryProtocol", "init_AwsQueryProtocol", "__esmMin", "init_protocols", "init_schema", "init_ProtocolLib", "init_XmlShapeDeserializer", "init_QueryShapeSerializer", "RpcProtocol", "options", "__publicField", "ProtocolLib", "settings", "QueryShapeSerializer", "XmlShapeDeserializer", "serdeContext", "operationSchema", "input", "context", "request", "deref", "action", "response", "deserializer", "ns", "NormalizedSchema", "dataObject", "bytes", "collectBody", "header", "value", "shortName", "awsQueryResultKey", "metadata", "errorIdentifier", "errorData", "message", "errorSchema", "errorMetadata", "registry", "errorName", "schema", "ErrorCtor", "TypeRegistry", "exception", "output", "name", "member", "target", "data", "code", "AwsEc2QueryProtocol", "init_AwsEc2QueryProtocol", "__esmMin", "init_AwsQueryProtocol", "AwsQueryProtocol", "options", "__publicField", "ec2Settings", "import_xml_builder", "import_smithy_client", "parseXmlBody", "parseXmlErrorBody", "loadRestXmlErrorCode", "init_parseXmlBody", "__esmMin", "init_common", "streamBody", "context", "collectBodyString", "encoded", "parsedObj", "e", "textNodeName", "key", "parsedObjToReturn", "errorBody", "value", "output", "data", "import_xml_builder", "import_smithy_client", "import_util_base64", "XmlShapeSerializer", "init_XmlShapeSerializer", "__esmMin", "init_protocols", "init_schema", "init_serde", "init_ConfigurableSerdeContext", "SerdeContextConfig", "settings", "__publicField", "schema", "value", "ns", "NormalizedSchema", "traits", "bytes", "str", "buffer", "parentXmlns", "name", "structXmlNode", "xmlnsAttr", "xmlns", "memberName", "memberSchema", "val", "memberNode", "listMember", "array", "container", "listTraits", "listValueSchema", "listValueTraits", "sparse", "flat", "writeItem", "struct", "listItemNode", "listNode", "mapMember", "map", "containerIsMap", "mapTraits", "mapKeySchema", "keyTag", "mapValueSchema", "mapValueTraits", "valueTag", "addKeyValue", "entry", "key", "keyNode", "keyXmlnsAttr", "keyXmlns", "valueNode", "mapNode", "_schema", "nodeContents", "determineTimestampFormat", "NumericValue", "generateIdempotencyToken", "into", "content", "prefix", "XmlCodec", "init_XmlCodec", "__esmMin", "init_ConfigurableSerdeContext", "init_XmlShapeDeserializer", "init_XmlShapeSerializer", "SerdeContextConfig", "settings", "__publicField", "serializer", "XmlShapeSerializer", "deserializer", "XmlShapeDeserializer", "AwsRestXmlProtocol", "init_AwsRestXmlProtocol", "__esmMin", "init_protocols", "init_schema", "init_ProtocolLib", "init_parseXmlBody", "init_XmlCodec", "HttpBindingProtocol", "options", "__publicField", "ProtocolLib", "settings", "XmlCodec", "HttpInterceptingShapeSerializer", "HttpInterceptingShapeDeserializer", "operationSchema", "input", "context", "request", "inputSchema", "NormalizedSchema", "contentType", "response", "dataObject", "metadata", "errorIdentifier", "loadRestXmlErrorCode", "errorSchema", "errorMetadata", "ns", "message", "ErrorCtor", "TypeRegistry", "exception", "output", "name", "member", "target", "value", "protocols_exports", "__export", "AwsEc2QueryProtocol", "AwsJson1_0Protocol", "AwsJson1_1Protocol", "AwsJsonRpcProtocol", "AwsQueryProtocol", "AwsRestJsonProtocol", "AwsRestXmlProtocol", "AwsSmithyRpcV2CborProtocol", "JsonCodec", "JsonShapeDeserializer", "JsonShapeSerializer", "XmlCodec", "XmlShapeDeserializer", "XmlShapeSerializer", "_toBool", "_toNum", "_toStr", "awsExpectUnion", "loadRestJsonErrorCode", "loadRestXmlErrorCode", "parseJsonBody", "parseJsonErrorBody", "parseXmlBody", "parseXmlErrorBody", "init_protocols", "__esmMin", "init_AwsSmithyRpcV2CborProtocol", "init_coercing_serializers", "init_AwsJson1_0Protocol", "init_AwsJson1_1Protocol", "init_AwsJsonRpcProtocol", "init_AwsRestJsonProtocol", "init_JsonCodec", "init_JsonShapeDeserializer", "init_JsonShapeSerializer", "init_awsExpectUnion", "init_parseJsonBody", "init_AwsEc2QueryProtocol", "init_AwsQueryProtocol", "init_AwsRestXmlProtocol", "init_XmlCodec", "init_XmlShapeDeserializer", "init_XmlShapeSerializer", "init_parseXmlBody", "dist_es_exports", "__export", "AWSSDKSigV4Signer", "AwsEc2QueryProtocol", "AwsJson1_0Protocol", "AwsJson1_1Protocol", "AwsJsonRpcProtocol", "AwsQueryProtocol", "AwsRestJsonProtocol", "AwsRestXmlProtocol", "AwsSdkSigV4ASigner", "AwsSdkSigV4Signer", "AwsSmithyRpcV2CborProtocol", "JsonCodec", "JsonShapeDeserializer", "JsonShapeSerializer", "NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "NODE_SIGV4A_CONFIG_OPTIONS", "XmlCodec", "XmlShapeDeserializer", "XmlShapeSerializer", "_toBool", "_toNum", "_toStr", "awsExpectUnion", "emitWarningIfUnsupportedVersion", "getBearerTokenEnvKey", "loadRestJsonErrorCode", "loadRestXmlErrorCode", "parseJsonBody", "parseJsonErrorBody", "parseXmlBody", "parseXmlErrorBody", "resolveAWSSDKSigV4Config", "resolveAwsSdkSigV4AConfig", "resolveAwsSdkSigV4Config", "setCredentialFeature", "setFeature", "setTokenFeature", "state", "validateSigningProperties", "init_dist_es", "__esmMin", "init_client", "init_httpAuthSchemes", "init_protocols", "require_dist_cjs", "__commonJSMin", "exports", "core", "utilEndpoints", "protocolHttp", "core$1", "DEFAULT_UA_APP_ID", "isValidUserAgentAppId", "appId", "resolveUserAgentConfig", "input", "normalizedAppIdProvider", "customUserAgent", "logger", "ACCOUNT_ID_ENDPOINT_REGEX", "checkFeatures", "context", "config", "args", "retryStrategy", "endpointV2", "identity", "credentials", "key", "value", "USER_AGENT", "X_AMZ_USER_AGENT", "SPACE", "UA_NAME_SEPARATOR", "UA_NAME_ESCAPE_REGEX", "UA_VALUE_ESCAPE_REGEX", "UA_ESCAPE_CHAR", "BYTE_LIMIT", "encodeFeatures", "features", "buffer", "val", "userAgentMiddleware", "options", "next", "request", "headers", "userAgent", "escapeUserAgent", "defaultUserAgent", "awsContext", "prefix", "sdkUserAgentValue", "normalUAValue", "section", "userAgentPair", "name", "part", "version", "prefixSeparatorIndex", "uaName", "item", "acc", "index", "getUserAgentMiddlewareOptions", "getUserAgentPlugin", "clientStack", "require_dist_cjs", "__commonJSMin", "exports", "booleanSelector", "obj", "key", "type", "numberSelector", "numberValue", "SelectorType", "require_dist_cjs", "__commonJSMin", "exports", "utilConfigProvider", "utilMiddleware", "utilEndpoints", "ENV_USE_DUALSTACK_ENDPOINT", "CONFIG_USE_DUALSTACK_ENDPOINT", "DEFAULT_USE_DUALSTACK_ENDPOINT", "NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS", "env", "profile", "ENV_USE_FIPS_ENDPOINT", "CONFIG_USE_FIPS_ENDPOINT", "DEFAULT_USE_FIPS_ENDPOINT", "NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS", "resolveCustomEndpointsConfig", "input", "tls", "endpoint", "urlParser", "useDualstackEndpoint", "getEndpointFromRegion", "region", "useFipsEndpoint", "hostname", "resolveEndpointsConfig", "REGION_ENV_NAME", "REGION_INI_NAME", "NODE_REGION_CONFIG_OPTIONS", "NODE_REGION_CONFIG_FILE_OPTIONS", "validRegions", "checkRegion", "check", "isFipsRegion", "getRealRegion", "resolveRegionConfig", "providedRegion", "realRegion", "getHostnameFromVariants", "variants", "tags", "getResolvedHostname", "resolvedRegion", "regionHostname", "partitionHostname", "getResolvedPartition", "partitionHash", "key", "getResolvedSigningRegion", "signingRegion", "regionRegex", "regionRegexJs", "regionRegexmatchArray", "getRegionInfo", "signingService", "regionHash", "partition", "hostnameOptions", "require_dist_cjs", "__commonJSMin", "exports", "protocolHttp", "CONTENT_LENGTH_HEADER", "contentLengthMiddleware", "bodyLengthChecker", "next", "args", "request", "body", "headers", "str", "length", "contentLengthMiddlewareOptions", "getContentLengthPlugin", "options", "clientStack", "require_getHomeDir", "__commonJSMin", "exports", "os_1", "path_1", "homeDirCache", "getHomeDirCacheKey", "getHomeDir", "HOME", "USERPROFILE", "HOMEPATH", "HOMEDRIVE", "homeDirCacheKey", "require_getSSOTokenFilepath", "__commonJSMin", "exports", "crypto_1", "path_1", "getHomeDir_1", "getSSOTokenFilepath", "id", "cacheName", "require_getSSOTokenFromFile", "__commonJSMin", "exports", "promises_1", "getSSOTokenFilepath_1", "getSSOTokenFromFile", "id", "ssoTokenFilepath", "ssoTokenText", "require_readFile", "__commonJSMin", "exports", "promises_1", "readFile", "path", "options", "require_dist_cjs", "__commonJSMin", "exports", "getHomeDir", "getSSOTokenFilepath", "getSSOTokenFromFile", "path", "types", "readFile", "ENV_PROFILE", "DEFAULT_PROFILE", "getProfileName", "init", "CONFIG_PREFIX_SEPARATOR", "getConfigData", "data", "key", "indexOfSeparator", "acc", "value", "updatedKey", "ENV_CONFIG_PATH", "getConfigFilepath", "ENV_CREDENTIALS_PATH", "getCredentialsFilepath", "prefixKeyRegex", "profileNameBlockList", "parseIni", "iniData", "map", "currentSection", "currentSubSection", "iniLine", "trimmedLine", "sectionName", "matches", "prefix", "name", "indexOfEqualsSign", "swallowError$1", "loadSharedConfigFiles", "filepath", "configFilepath", "homeDir", "relativeHomeDirPrefix", "resolvedFilepath", "resolvedConfigFilepath", "parsedFiles", "getSsoSessionData", "swallowError", "loadSsoSessionData", "mergeConfigFiles", "files", "merged", "file", "values", "parseKnownFiles", "externalDataInterceptor", "contents", "id", "k", "require_dist_cjs", "__commonJSMin", "exports", "propertyProvider", "sharedIniFileLoader", "getSelectorName", "functionString", "constants", "fromEnv", "envVarSelector", "options", "config", "e", "fromSharedConfigFiles", "configSelector", "preferredFile", "init", "profile", "configFile", "credentialsFile", "profileFromCredentials", "profileFromConfig", "mergedProfile", "configValue", "isFunction", "func", "fromStatic", "defaultValue", "loadConfig", "environmentVariableSelector", "configFileSelector", "configuration", "signingName", "logger", "envOptions", "require_getEndpointUrlConfig", "__commonJSMin", "exports", "shared_ini_file_loader_1", "ENV_ENDPOINT_URL", "CONFIG_ENDPOINT_URL", "getEndpointUrlConfig", "serviceId", "env", "serviceSuffixParts", "w", "serviceEndpointUrl", "endpointUrl", "profile", "config", "servicesSection", "servicePrefixParts", "require_getEndpointFromConfig", "__commonJSMin", "exports", "node_config_provider_1", "getEndpointUrlConfig_1", "getEndpointFromConfig", "serviceId", "require_dist_cjs", "__commonJSMin", "exports", "getEndpointFromConfig", "urlParser", "core", "utilMiddleware", "middlewareSerde", "resolveParamsForS3", "endpointParams", "bucket", "isArnBucketName", "isDnsCompatibleBucketName", "DOMAIN_PATTERN", "IP_ADDRESS_PATTERN", "DOTS_PATTERN", "bucketName", "arn", "partition", "service", "isArn", "isValidArn", "createConfigValueProvider", "configKey", "canonicalEndpointParamKey", "config", "configProvider", "configValue", "credentials", "endpoint", "protocol", "hostname", "port", "path", "toEndpointV1", "getEndpointFromInstructions", "commandInput", "instructionsSupplier", "clientConfig", "context", "endpointFromConfig", "resolveParams", "instructions", "name", "instruction", "endpointMiddleware", "next", "args", "authScheme", "httpAuthOption", "endpointMiddlewareOptions", "getEndpointPlugin", "clientStack", "resolveEndpointConfig", "input", "tls", "useDualstackEndpoint", "useFipsEndpoint", "customEndpointProvider", "resolvedConfig", "configuredEndpointPromise", "resolveEndpointRequiredConfig", "require_dist_cjs", "__commonJSMin", "exports", "CLOCK_SKEW_ERROR_CODES", "THROTTLING_ERROR_CODES", "TRANSIENT_ERROR_CODES", "TRANSIENT_ERROR_STATUS_CODES", "NODEJS_TIMEOUT_ERROR_CODES", "NODEJS_NETWORK_ERROR_CODES", "isRetryableByTrait", "error", "isClockSkewError", "isClockSkewCorrectedError", "isBrowserNetworkError", "errorMessages", "isThrottlingError", "isTransientError", "depth", "isServerError", "statusCode", "require_dist_cjs", "__commonJSMin", "exports", "serviceErrorClassification", "RETRY_MODES", "DEFAULT_MAX_ATTEMPTS", "DEFAULT_RETRY_MODE", "_DefaultRateLimiter", "options", "__publicField", "currentTimeInSeconds", "amount", "delay", "resolve", "timestamp", "fillAmount", "response", "calculatedRate", "rateToUse", "newRate", "t", "timeBucket", "currentRate", "num", "DefaultRateLimiter", "DEFAULT_RETRY_DELAY_BASE", "MAXIMUM_RETRY_DELAY", "THROTTLING_RETRY_DELAY_BASE", "INITIAL_RETRY_TOKENS", "RETRY_COST", "TIMEOUT_RETRY_COST", "NO_RETRY_INCREMENT", "INVOCATION_ID_HEADER", "REQUEST_HEADER", "getDefaultRetryBackoffStrategy", "delayBase", "attempts", "createDefaultRetryToken", "retryDelay", "retryCount", "retryCost", "StandardRetryStrategy", "maxAttempts", "retryTokenScope", "token", "errorInfo", "errorType", "delayFromErrorType", "capacityCost", "tokenToRenew", "AdaptiveRetryStrategy", "maxAttemptsProvider", "rateLimiter", "ConfiguredRetryStrategy", "computeNextBackoffDelay", "require_isStreamingPayload", "__commonJSMin", "exports", "stream_1", "isStreamingPayload", "request", "require_dist_cjs", "__commonJSMin", "exports", "utilRetry", "protocolHttp", "serviceErrorClassification", "uuid", "utilMiddleware", "smithyClient", "isStreamingPayload", "getDefaultRetryQuota", "initialRetryTokens", "options", "MAX_CAPACITY", "noRetryIncrement", "retryCost", "timeoutRetryCost", "availableCapacity", "getCapacityAmount", "error", "hasRetryTokens", "capacityAmount", "capacityReleaseAmount", "defaultDelayDecider", "delayBase", "attempts", "defaultRetryDecider", "asSdkError", "StandardRetryStrategy", "maxAttemptsProvider", "__publicField", "maxAttempts", "next", "args", "retryTokenAmount", "totalDelay", "request", "response", "output", "e", "err", "delayFromDecider", "delayFromResponse", "getDelayFromRetryAfterHeader", "delay", "resolve", "retryAfterHeaderName", "key", "retryAfter", "retryAfterSeconds", "AdaptiveRetryStrategy", "rateLimiter", "superOptions", "ENV_MAX_ATTEMPTS", "CONFIG_MAX_ATTEMPTS", "NODE_MAX_ATTEMPT_CONFIG_OPTIONS", "env", "value", "maxAttempt", "profile", "resolveRetryConfig", "input", "retryStrategy", "_retryMode", "_maxAttempts", "ENV_RETRY_MODE", "CONFIG_RETRY_MODE", "NODE_RETRY_MODE_CONFIG_OPTIONS", "omitRetryHeadersMiddleware", "omitRetryHeadersMiddlewareOptions", "getOmitRetryHeadersPlugin", "clientStack", "retryMiddleware", "context", "isRetryStrategyV2", "retryToken", "lastError", "totalRetryDelay", "isRequest", "retryErrorInfo", "getRetryErrorInfo", "errorInfo", "getRetryErrorType", "retryAfterHint", "getRetryAfterHint", "retryMiddlewareOptions", "getRetryPlugin", "require_dist_cjs", "__commonJSMin", "exports", "module", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__name", "target", "value", "__export", "all", "name", "__copyProps", "to", "from", "except", "desc", "key", "__toCommonJS", "mod", "index_exports", "build", "parse", "validate", "str", "arn", "segments", "partition", "service", "region", "accountId", "resource", "arnObject", "segment", "require_dist_cjs", "__commonJSMin", "exports", "protocolHttp", "smithyClient", "signatureV4", "utilConfigProvider", "core", "core$1", "utilMiddleware", "utilStream", "utilArnParser", "CONTENT_LENGTH_HEADER", "DECODED_CONTENT_LENGTH_HEADER", "checkContentLengthHeader", "next", "context", "args", "request", "message", "checkContentLengthHeaderMiddlewareOptions", "getCheckContentLengthHeaderPlugin", "unused", "clientStack", "regionRedirectEndpointMiddleware", "config", "originalRegion", "regionProviderRef", "unlock", "result", "region", "e", "regionRedirectEndpointMiddlewareOptions", "regionRedirectMiddleware", "clientConfig", "err", "statusCode", "isHeadBucket", "bucketRegionHeader", "actualRegion", "regionRedirectMiddlewareOptions", "getRegionRedirectMiddlewarePlugin", "s3ExpiresMiddleware", "response", "s3ExpiresMiddlewareOptions", "getS3ExpiresMiddlewarePlugin", "_S3ExpressIdentityCache", "data", "__publicField", "key", "entry", "now", "credential", "S3ExpressIdentityCache", "S3ExpressIdentityCacheEntry", "_identity", "isRefreshing", "accessed", "_S3ExpressIdentityProviderImpl", "createSessionFn", "cache", "awsIdentity", "identityProperties", "identity", "id", "error", "session", "S3ExpressIdentityProviderImpl", "S3_EXPRESS_BUCKET_TYPE", "S3_EXPRESS_BACKEND", "S3_EXPRESS_AUTH_SCHEME", "SESSION_TOKEN_QUERY_PARAM", "SESSION_TOKEN_HEADER", "NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_ENV_NAME", "NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_INI_NAME", "NODE_DISABLE_S3_EXPRESS_SESSION_AUTH_OPTIONS", "env", "profile", "SignatureV4S3Express", "requestToSign", "credentials", "options", "credentialsWithoutSessionToken", "getCredentialsWithoutSessionToken", "privateAccess", "setSingleOverride", "currentCredentialProvider", "overrideCredentialsProviderOnce", "s3ExpressMiddleware", "endpoint", "isS3ExpressAuth", "requestBucket", "s3ExpressIdentity", "s3ExpressMiddlewareOptions", "getS3ExpressPlugin", "signS3Express", "signingOptions", "sigV4MultiRegionSigner", "signedRequest", "defaultErrorHandler", "signingProperties", "defaultSuccessHandler", "httpResponse", "s3ExpressHttpSigningMiddlewareOptions", "s3ExpressHttpSigningMiddleware", "scheme", "signer", "output", "getS3ExpressHttpSigningPlugin", "resolveS3Config", "input", "s3ClientProvider", "CreateSessionCommandCtor", "forcePathStyle", "useAccelerateEndpoint", "disableMultiregionAccessPoints", "followRegionRedirects", "s3ExpressIdentityProvider", "bucketEndpoint", "expectContinueHeader", "THROW_IF_EMPTY_BODY", "MAX_BYTES_TO_INSPECT", "throw200ExceptionsMiddleware", "sourceBody", "bodyCopy", "body", "bodyBytes", "collectBody", "stream", "bodyStringTail", "streamBody", "throw200ExceptionsMiddlewareOptions", "getThrow200ExceptionsPlugin", "bucketEndpointMiddleware", "bucket", "bucketEndpointUrl", "warning", "bucketEndpointMiddlewareOptions", "validateBucketNameMiddleware", "Bucket", "validateBucketNameMiddlewareOptions", "getValidateBucketNamePlugin", "require_dist_cjs", "__commonJSMin", "exports", "middlewareSdkS3", "signatureV4", "signatureV4CrtContainer", "SignatureV4MultiRegion", "options", "__publicField", "requestToSign", "credentials", "signer", "CrtSignerV4", "originalRequest", "JsSigV4aSigner", "require_ruleset", "__commonJSMin", "exports", "E", "F", "G", "H", "I", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "_data", "require_endpointResolver", "__commonJSMin", "exports", "util_endpoints_1", "util_endpoints_2", "ruleset_1", "cache", "defaultEndpointResolver", "endpointParams", "context", "require_httpAuthSchemeProvider", "__commonJSMin", "exports", "core_1", "signature_v4_multi_region_1", "middleware_endpoint_1", "util_middleware_1", "endpointResolver_1", "createEndpointRuleSetHttpAuthSchemeParametersProvider", "defaultHttpAuthSchemeParametersProvider", "config", "context", "input", "defaultParameters", "instructionsFn", "endpointParameters", "_defaultEventBridgeHttpAuthSchemeParametersProvider", "createAwsAuthSigv4HttpAuthOption", "authParameters", "createAwsAuthSigv4aHttpAuthOption", "createEndpointRuleSetHttpAuthSchemeProvider", "defaultEndpointResolver", "defaultHttpAuthSchemeResolver", "createHttpAuthOptionFunctions", "authSchemes", "options", "scheme", "resolvedName", "properties", "rest", "name", "schemeId", "sigv4Present", "s", "createOption", "option", "_defaultEventBridgeHttpAuthSchemeProvider", "resolveHttpAuthSchemeConfig", "config_0", "config_1", "require_package", "__commonJSMin", "exports", "module", "require_dist_cjs", "__commonJSMin", "exports", "client", "propertyProvider", "ENV_KEY", "ENV_SECRET", "ENV_SESSION", "ENV_EXPIRATION", "ENV_CREDENTIAL_SCOPE", "ENV_ACCOUNT_ID", "fromEnv", "init", "accessKeyId", "secretAccessKey", "sessionToken", "expiry", "credentialScope", "accountId", "credentials", "require_dist_cjs", "__commonJSMin", "exports", "propertyProvider", "url", "buffer", "http", "nodeConfigProvider", "urlParser", "httpRequest", "options", "resolve", "reject", "req", "err", "res", "statusCode", "chunks", "chunk", "isImdsCredentials", "arg", "fromImdsCredentials", "creds", "DEFAULT_TIMEOUT", "DEFAULT_MAX_RETRIES", "providerConfigFromInit", "maxRetries", "timeout", "retry", "toRetry", "promise", "i", "ENV_CMDS_FULL_URI", "ENV_CMDS_RELATIVE_URI", "ENV_CMDS_AUTH_TOKEN", "fromContainerMetadata", "init", "requestOptions", "getCmdsUri", "credsResponse", "requestFromEcsImds", "CMDS_IP", "GREENGRASS_HOSTS", "GREENGRASS_PROTOCOLS", "logger", "parsed", "InstanceMetadataV1FallbackError", "_InstanceMetadataV1FallbackError", "message", "tryNextLink", "__publicField", "Endpoint", "ENV_ENDPOINT_NAME", "CONFIG_ENDPOINT_NAME", "ENDPOINT_CONFIG_OPTIONS", "env", "profile", "EndpointMode", "ENV_ENDPOINT_MODE_NAME", "CONFIG_ENDPOINT_MODE_NAME", "ENDPOINT_MODE_CONFIG_OPTIONS", "getInstanceMetadataEndpoint", "getFromEndpointConfig", "getFromEndpointModeConfig", "endpointMode", "STATIC_STABILITY_REFRESH_INTERVAL_SECONDS", "STATIC_STABILITY_REFRESH_INTERVAL_JITTER_WINDOW_SECONDS", "STATIC_STABILITY_DOC_URL", "getExtendedInstanceMetadataCredentials", "credentials", "refreshInterval", "newExpiration", "originalExpiration", "staticStabilityProvider", "provider", "pastCredentials", "e", "IMDS_PATH", "IMDS_TOKEN_PATH", "AWS_EC2_METADATA_V1_DISABLED", "PROFILE_AWS_EC2_METADATA_V1_DISABLED", "X_AWS_EC2_METADATA_TOKEN", "fromInstanceMetadata", "getInstanceMetadataProvider", "disableFetchToken", "getCredentials", "fallbackBlockedFromProfile", "fallbackBlockedFromProcessEnv", "configValue", "envValue", "profileValue", "causes", "imdsProfile", "getProfile", "getCredentialsFromProfile", "endpoint", "token", "getMetadataToken", "error", "credentialsResponse", "require_checkUrl", "__commonJSMin", "exports", "property_provider_1", "ECS_CONTAINER_HOST", "EKS_CONTAINER_HOST_IPv4", "EKS_CONTAINER_HOST_IPv6", "checkUrl", "url", "logger", "ipComponents", "inRange", "component", "num", "require_requestHelpers", "__commonJSMin", "exports", "createGetRequest", "getCredentials", "property_provider_1", "protocol_http_1", "smithy_client_1", "util_stream_1", "url", "acc", "k", "v", "response", "logger", "str", "parsed", "parsedBody", "require_retry_wrapper", "__commonJSMin", "exports", "retryWrapper", "toRetry", "maxRetries", "delayMs", "i", "resolve", "require_fromHttp", "__commonJSMin", "exports", "tslib_1", "client_1", "node_http_handler_1", "property_provider_1", "promises_1", "checkUrl_1", "requestHelpers_1", "retry_wrapper_1", "AWS_CONTAINER_CREDENTIALS_RELATIVE_URI", "DEFAULT_LINK_LOCAL_HOST", "AWS_CONTAINER_CREDENTIALS_FULL_URI", "AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE", "AWS_CONTAINER_AUTHORIZATION_TOKEN", "fromHttp", "options", "host", "relative", "full", "token", "tokenFile", "warn", "url", "requestHandler", "request", "result", "creds", "e", "require_dist_cjs", "__commonJSMin", "exports", "fromHttp_1", "createAwsAuthSigv4HttpAuthOption", "authParameters", "config", "context", "createSmithyApiNoAuthHttpAuthOption", "import_util_middleware", "defaultSSOOIDCHttpAuthSchemeParametersProvider", "defaultSSOOIDCHttpAuthSchemeProvider", "resolveHttpAuthSchemeConfig", "init_httpAuthSchemeProvider", "__esmMin", "init_dist_es", "input", "options", "config_0", "resolveAwsSdkSigV4Config", "resolveClientEndpointParameters", "commonParams", "init_EndpointParameters", "__esmMin", "options", "package_default", "init_package", "__esmMin", "require_dist_cjs", "__commonJSMin", "exports", "os", "process", "middlewareUserAgent", "crtAvailability", "isCrtAvailable", "createDefaultUserAgentProvider", "serviceId", "clientVersion", "config", "sections", "crtAvailable", "appId", "defaultUserAgent", "UA_APP_ID_ENV_NAME", "UA_APP_ID_INI_NAME", "UA_APP_ID_INI_NAME_DEPRECATED", "NODE_APP_ID_CONFIG_OPTIONS", "env", "profile", "require_dist_cjs", "__commonJSMin", "exports", "utilBufferFrom", "utilUtf8", "buffer", "crypto", "Hash", "algorithmIdentifier", "secret", "__publicField", "toHash", "encoding", "castSourceData", "toCast", "require_dist_cjs", "__commonJSMin", "exports", "node_fs", "calculateBodyLength", "body", "u", "v", "w", "x", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "_data", "ruleSet", "init_ruleset", "__esmMin", "import_util_endpoints", "cache", "defaultEndpointResolver", "init_endpointResolver", "__esmMin", "init_ruleset", "endpointParams", "context", "ruleSet", "import_smithy_client", "import_url_parser", "import_util_base64", "import_util_utf8", "getRuntimeConfig", "init_runtimeConfig_shared", "__esmMin", "init_dist_es", "init_protocols", "init_httpAuthSchemeProvider", "init_endpointResolver", "config", "defaultEndpointResolver", "defaultSSOOIDCHttpAuthSchemeProvider", "ipc", "AwsSdkSigV4Signer", "NoAuthSigner", "AwsRestJsonProtocol", "require_dist_cjs", "__commonJSMin", "exports", "configResolver", "nodeConfigProvider", "propertyProvider", "AWS_EXECUTION_ENV", "AWS_REGION_ENV", "AWS_DEFAULT_REGION_ENV", "ENV_IMDS_DISABLED", "DEFAULTS_MODE_OPTIONS", "IMDS_REGION_PATH", "AWS_DEFAULTS_MODE_ENV", "AWS_DEFAULTS_MODE_CONFIG", "NODE_DEFAULTS_MODE_CONFIG_OPTIONS", "env", "profile", "resolveDefaultsModeConfig", "region", "defaultsMode", "mode", "resolveNodeDefaultsModeAuto", "clientRegion", "resolvedRegion", "inferredRegion", "inferPhysicalRegion", "getInstanceMetadataEndpoint", "httpRequest", "endpoint", "import_util_user_agent_node", "import_config_resolver", "import_hash_node", "import_middleware_retry", "import_node_config_provider", "import_node_http_handler", "import_util_body_length_node", "import_util_retry", "import_smithy_client", "import_util_defaults_mode_node", "getRuntimeConfig", "init_runtimeConfig", "__esmMin", "init_package", "init_dist_es", "init_runtimeConfig_shared", "config", "defaultsMode", "defaultConfigProvider", "clientSharedValues", "emitWarningIfUnsupportedVersion", "loaderConfig", "loadNodeConfig", "NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "package_default", "RequestHandler", "require_stsRegionDefaultResolver", "__commonJSMin", "exports", "stsRegionDefaultResolver", "config_resolver_1", "node_config_provider_1", "loaderConfig", "require_dist_cjs", "__commonJSMin", "exports", "configResolver", "stsRegionDefaultResolver", "getAwsRegionExtensionConfiguration", "runtimeConfig", "region", "resolveAwsRegionExtensionConfiguration", "awsRegionExtensionConfiguration", "k", "getHttpAuthExtensionConfiguration", "resolveHttpAuthRuntimeConfig", "init_httpAuthExtensionConfiguration", "__esmMin", "runtimeConfig", "_httpAuthSchemes", "_httpAuthSchemeProvider", "_credentials", "httpAuthScheme", "index", "scheme", "httpAuthSchemeProvider", "credentials", "config", "import_region_config_resolver", "import_protocol_http", "import_smithy_client", "resolveRuntimeExtensions", "init_runtimeExtensions", "__esmMin", "init_httpAuthExtensionConfiguration", "runtimeConfig", "extensions", "extensionConfiguration", "getHttpAuthExtensionConfiguration", "extension", "resolveHttpAuthRuntimeConfig", "import_middleware_host_header", "import_middleware_logger", "import_middleware_recursion_detection", "import_middleware_user_agent", "import_config_resolver", "import_middleware_content_length", "import_middleware_endpoint", "import_middleware_retry", "import_smithy_client", "SSOOIDCClient", "init_SSOOIDCClient", "__esmMin", "init_dist_es", "init_schema", "init_httpAuthSchemeProvider", "init_EndpointParameters", "init_runtimeConfig", "init_runtimeExtensions", "__Client", "configuration", "_config_0", "getRuntimeConfig", "__publicField", "_config_1", "resolveClientEndpointParameters", "_config_2", "_config_3", "_config_4", "_config_5", "_config_6", "_config_7", "resolveHttpAuthSchemeConfig", "_config_8", "resolveRuntimeExtensions", "getSchemaSerdePlugin", "getHttpAuthSchemeEndpointRuleSetPlugin", "defaultSSOOIDCHttpAuthSchemeParametersProvider", "config", "DefaultIdentityProviderConfig", "getHttpSigningPlugin", "import_smithy_client", "SSOOIDCServiceException", "init_SSOOIDCServiceException", "__esmMin", "_SSOOIDCServiceException", "__ServiceException", "options", "AccessDeniedExceptionReason", "AccessDeniedException", "AuthorizationPendingException", "ExpiredTokenException", "InternalServerException", "InvalidClientException", "InvalidGrantException", "InvalidRequestExceptionReason", "InvalidRequestException", "InvalidScopeException", "SlowDownException", "UnauthorizedClientException", "UnsupportedGrantTypeException", "init_models_0", "__esmMin", "init_SSOOIDCServiceException", "_AccessDeniedException", "SSOOIDCServiceException", "opts", "__publicField", "_AuthorizationPendingException", "_ExpiredTokenException", "_InternalServerException", "_InvalidClientException", "_InvalidGrantException", "_InvalidRequestException", "_InvalidScopeException", "_SlowDownException", "_UnauthorizedClientException", "_UnsupportedGrantTypeException", "init_models", "__esmMin", "init_models_0", "_ADE", "_APE", "_AT", "_CS", "_CT", "_CTR", "_CTRr", "_CV", "_ETE", "_ICE", "_IGE", "_IRE", "_ISE", "_ISEn", "_IT", "_RT", "_SDE", "_UCE", "_UGTE", "_aT", "_c", "_cI", "_cS", "_cV", "_co", "_dC", "_e", "_eI", "_ed", "_gT", "_h", "_hE", "_iT", "_r", "_rT", "_rU", "_s", "_se", "_sm", "_tT", "n0", "AccessToken", "ClientSecret", "CodeVerifier", "IdToken", "RefreshToken", "AccessDeniedException", "AuthorizationPendingException", "CreateTokenRequest", "CreateTokenResponse", "ExpiredTokenException", "InternalServerException", "InvalidClientException", "InvalidGrantException", "InvalidRequestException", "InvalidScopeException", "SlowDownException", "UnauthorizedClientException", "UnsupportedGrantTypeException", "SSOOIDCServiceException", "CreateToken", "init_schemas_0", "__esmMin", "init_schema", "init_models", "init_SSOOIDCServiceException", "TypeRegistry", "import_middleware_endpoint", "import_smithy_client", "CreateTokenCommand", "init_CreateTokenCommand", "__esmMin", "init_EndpointParameters", "init_schemas_0", "$Command", "commonParams", "Command", "cs", "config", "o", "CreateToken", "import_smithy_client", "commands", "SSOOIDC", "init_SSOOIDC", "__esmMin", "init_CreateTokenCommand", "init_SSOOIDCClient", "CreateTokenCommand", "SSOOIDCClient", "init_commands", "__esmMin", "init_CreateTokenCommand", "sso_oidc_exports", "__export", "$Command", "AccessDeniedException", "AccessDeniedExceptionReason", "AuthorizationPendingException", "CreateTokenCommand", "ExpiredTokenException", "InternalServerException", "InvalidClientException", "InvalidGrantException", "InvalidRequestException", "InvalidRequestExceptionReason", "InvalidScopeException", "SSOOIDC", "SSOOIDCClient", "SSOOIDCServiceException", "SlowDownException", "UnauthorizedClientException", "UnsupportedGrantTypeException", "__Client", "init_sso_oidc", "__esmMin", "init_SSOOIDCClient", "init_SSOOIDC", "init_commands", "init_models", "init_SSOOIDCServiceException", "require_dist_cjs", "__commonJSMin", "exports", "client", "httpAuthSchemes", "propertyProvider", "sharedIniFileLoader", "fs", "fromEnvSigningName", "logger", "signingName", "bearerTokenKey", "token", "EXPIRE_WINDOW_MS", "REFRESH_MESSAGE", "getSsoOidcClient", "ssoRegion", "init", "SSOOIDCClient", "coalesce", "prop", "getNewSsoOidcToken", "ssoToken", "CreateTokenCommand", "validateTokenExpiry", "validateTokenKey", "key", "value", "forRefresh", "writeFile", "writeSSOTokenToFile", "id", "tokenFilepath", "tokenString", "lastRefreshAttemptTime", "fromSso", "_init", "callerClientConfig", "profiles", "profileName", "profile", "ssoSessionName", "ssoSession", "ssoSessionRequiredKey", "accessToken", "expiresAt", "existingToken", "newSsoOidcToken", "newTokenExpiration", "fromStatic", "nodeProvider", "require_httpAuthSchemeProvider", "__commonJSMin", "exports", "core_1", "util_middleware_1", "defaultSSOHttpAuthSchemeParametersProvider", "config", "context", "input", "createAwsAuthSigv4HttpAuthOption", "authParameters", "createSmithyApiNoAuthHttpAuthOption", "defaultSSOHttpAuthSchemeProvider", "options", "resolveHttpAuthSchemeConfig", "config_0", "require_package", "__commonJSMin", "exports", "module", "require_ruleset", "__commonJSMin", "exports", "u", "v", "w", "x", "a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "_data", "require_endpointResolver", "__commonJSMin", "exports", "util_endpoints_1", "util_endpoints_2", "ruleset_1", "cache", "defaultEndpointResolver", "endpointParams", "context", "require_runtimeConfig_shared", "__commonJSMin", "exports", "core_1", "protocols_1", "core_2", "smithy_client_1", "url_parser_1", "util_base64_1", "util_utf8_1", "httpAuthSchemeProvider_1", "endpointResolver_1", "getRuntimeConfig", "config", "ipc", "require_runtimeConfig", "__commonJSMin", "exports", "tslib_1", "package_json_1", "core_1", "util_user_agent_node_1", "config_resolver_1", "hash_node_1", "middleware_retry_1", "node_config_provider_1", "node_http_handler_1", "util_body_length_node_1", "util_retry_1", "runtimeConfig_shared_1", "smithy_client_1", "util_defaults_mode_node_1", "smithy_client_2", "getRuntimeConfig", "config", "defaultsMode", "defaultConfigProvider", "clientSharedValues", "loaderConfig", "require_dist_cjs", "__commonJSMin", "exports", "middlewareHostHeader", "middlewareLogger", "middlewareRecursionDetection", "middlewareUserAgent", "configResolver", "core", "schema", "middlewareContentLength", "middlewareEndpoint", "middlewareRetry", "smithyClient", "httpAuthSchemeProvider", "runtimeConfig", "regionConfigResolver", "protocolHttp", "resolveClientEndpointParameters", "options", "commonParams", "getHttpAuthExtensionConfiguration", "_httpAuthSchemes", "_httpAuthSchemeProvider", "_credentials", "httpAuthScheme", "index", "scheme", "credentials", "resolveHttpAuthRuntimeConfig", "config", "resolveRuntimeExtensions", "extensions", "extensionConfiguration", "extension", "SSOClient", "configuration", "_config_0", "__publicField", "_config_1", "_config_2", "_config_3", "_config_4", "_config_5", "_config_6", "_config_7", "_config_8", "SSOServiceException$1", "SSOServiceException", "InvalidRequestException$1", "InvalidRequestException", "opts", "ResourceNotFoundException$1", "ResourceNotFoundException", "TooManyRequestsException$1", "TooManyRequestsException", "UnauthorizedException$1", "UnauthorizedException", "_AI", "_ALT", "_ATT", "_GRC", "_GRCR", "_GRCRe", "_IRE", "_L", "_LA", "_LAR", "_LARR", "_LARRi", "_LARi", "_LARis", "_LR", "_RC", "_RI", "_RLT", "_RNFE", "_SAKT", "_STT", "_TMRE", "_UE", "_aI", "_aKI", "_aL", "_aN", "_aT", "_ai", "_c", "_e", "_eA", "_ex", "_h", "_hE", "_hH", "_hQ", "_m", "_mR", "_mr", "_nT", "_nt", "_rC", "_rL", "_rN", "_rn", "_s", "_sAK", "_sT", "_xasbt", "n0", "AccessTokenType", "SecretAccessKeyType", "SessionTokenType", "AccountInfo", "GetRoleCredentialsRequest", "GetRoleCredentialsResponse", "RoleCredentials", "ListAccountRolesRequest", "ListAccountRolesResponse", "RoleListType", "ListAccountsRequest", "ListAccountsResponse", "AccountListType", "LogoutRequest", "RoleInfo", "__Unit", "GetRoleCredentials", "ListAccountRoles", "ListAccounts", "Logout", "GetRoleCredentialsCommand", "Command", "cs", "o", "ListAccountRolesCommand", "ListAccountsCommand", "LogoutCommand", "commands", "SSO", "paginateListAccountRoles", "paginateListAccounts", "require_loadSso_CVy8iqsZ", "__commonJSMin", "exports", "clientSso", "require_dist_cjs", "__commonJSMin", "exports", "propertyProvider", "sharedIniFileLoader", "client", "tokenProviders", "isSsoProfile", "arg", "SHOULD_FAIL_CREDENTIAL_CHAIN", "resolveSSOCredentials", "ssoStartUrl", "ssoSession", "ssoAccountId", "ssoRegion", "ssoRoleName", "ssoClient", "clientConfig", "parentClientConfig", "profile", "filepath", "configFilepath", "ignoreCache", "logger", "token", "refreshMessage", "_token", "e", "accessToken", "SSOClient", "GetRoleCredentialsCommand", "sso", "ssoResp", "accessKeyId", "secretAccessKey", "sessionToken", "expiration", "credentialScope", "accountId", "credentials", "validateSsoProfile", "sso_start_url", "sso_account_id", "sso_region", "sso_role_name", "fromSSO", "init", "callerClientConfig", "profileName", "session", "conflictMsg", "sso_session", "createAwsAuthSigv4HttpAuthOption", "authParameters", "config", "context", "createSmithyApiNoAuthHttpAuthOption", "import_util_middleware", "defaultSTSHttpAuthSchemeParametersProvider", "defaultSTSHttpAuthSchemeProvider", "resolveStsAuthConfig", "resolveHttpAuthSchemeConfig", "init_httpAuthSchemeProvider", "__esmMin", "init_dist_es", "init_STSClient", "input", "options", "STSClient", "config_0", "config_1", "resolveAwsSdkSigV4Config", "resolveClientEndpointParameters", "commonParams", "init_EndpointParameters", "__esmMin", "options", "F", "G", "H", "I", "J", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "_data", "ruleSet", "init_ruleset", "__esmMin", "import_util_endpoints", "cache", "defaultEndpointResolver", "init_endpointResolver", "__esmMin", "init_ruleset", "endpointParams", "context", "ruleSet", "import_smithy_client", "import_url_parser", "import_util_base64", "import_util_utf8", "getRuntimeConfig", "init_runtimeConfig_shared", "__esmMin", "init_dist_es", "init_httpAuthSchemeProvider", "init_endpointResolver", "config", "defaultEndpointResolver", "defaultSTSHttpAuthSchemeProvider", "ipc", "AwsSdkSigV4Signer", "NoAuthSigner", "import_util_user_agent_node", "import_config_resolver", "import_hash_node", "import_middleware_retry", "import_node_config_provider", "import_node_http_handler", "import_util_body_length_node", "import_util_retry", "import_smithy_client", "import_util_defaults_mode_node", "getRuntimeConfig", "init_runtimeConfig", "__esmMin", "init_package", "init_dist_es", "init_runtimeConfig_shared", "config", "defaultsMode", "defaultConfigProvider", "clientSharedValues", "emitWarningIfUnsupportedVersion", "loaderConfig", "loadNodeConfig", "NODE_AUTH_SCHEME_PREFERENCE_OPTIONS", "package_default", "ipc", "idProps", "AwsSdkSigV4Signer", "NoAuthSigner", "RequestHandler", "getHttpAuthExtensionConfiguration", "resolveHttpAuthRuntimeConfig", "init_httpAuthExtensionConfiguration", "__esmMin", "runtimeConfig", "_httpAuthSchemes", "_httpAuthSchemeProvider", "_credentials", "httpAuthScheme", "index", "scheme", "httpAuthSchemeProvider", "credentials", "config", "import_region_config_resolver", "import_protocol_http", "import_smithy_client", "resolveRuntimeExtensions", "init_runtimeExtensions", "__esmMin", "init_httpAuthExtensionConfiguration", "runtimeConfig", "extensions", "extensionConfiguration", "getHttpAuthExtensionConfiguration", "extension", "resolveHttpAuthRuntimeConfig", "import_middleware_host_header", "import_middleware_logger", "import_middleware_recursion_detection", "import_middleware_user_agent", "import_config_resolver", "import_middleware_content_length", "import_middleware_endpoint", "import_middleware_retry", "import_smithy_client", "STSClient", "init_STSClient", "__esmMin", "init_dist_es", "init_httpAuthSchemeProvider", "init_EndpointParameters", "init_runtimeConfig", "init_runtimeExtensions", "__Client", "configuration", "_config_0", "getRuntimeConfig", "__publicField", "_config_1", "resolveClientEndpointParameters", "_config_2", "_config_3", "_config_4", "_config_5", "_config_6", "_config_7", "resolveHttpAuthSchemeConfig", "_config_8", "resolveRuntimeExtensions", "getHttpAuthSchemeEndpointRuleSetPlugin", "defaultSTSHttpAuthSchemeParametersProvider", "config", "DefaultIdentityProviderConfig", "getHttpSigningPlugin", "import_smithy_client", "STSServiceException", "init_STSServiceException", "__esmMin", "_STSServiceException", "__ServiceException", "options", "import_smithy_client", "CredentialsFilterSensitiveLog", "AssumeRoleResponseFilterSensitiveLog", "ExpiredTokenException", "MalformedPolicyDocumentException", "PackedPolicyTooLargeException", "RegionDisabledException", "IDPRejectedClaimException", "InvalidIdentityTokenException", "AssumeRoleWithWebIdentityRequestFilterSensitiveLog", "AssumeRoleWithWebIdentityResponseFilterSensitiveLog", "IDPCommunicationErrorException", "init_models_0", "__esmMin", "init_STSServiceException", "obj", "_ExpiredTokenException", "STSServiceException", "opts", "__publicField", "_MalformedPolicyDocumentException", "_PackedPolicyTooLargeException", "_RegionDisabledException", "_IDPRejectedClaimException", "_InvalidIdentityTokenException", "_IDPCommunicationErrorException", "import_protocol_http", "import_smithy_client", "se_AssumeRoleCommand", "se_AssumeRoleWithWebIdentityCommand", "de_AssumeRoleCommand", "de_AssumeRoleWithWebIdentityCommand", "de_CommandError", "de_ExpiredTokenExceptionRes", "de_IDPCommunicationErrorExceptionRes", "de_IDPRejectedClaimExceptionRes", "de_InvalidIdentityTokenExceptionRes", "de_MalformedPolicyDocumentExceptionRes", "de_PackedPolicyTooLargeExceptionRes", "de_RegionDisabledExceptionRes", "se_AssumeRoleRequest", "se_AssumeRoleWithWebIdentityRequest", "se_policyDescriptorListType", "se_PolicyDescriptorType", "se_ProvidedContext", "se_ProvidedContextsListType", "se_Tag", "se_tagKeyListType", "se_tagListType", "de_AssumedRoleUser", "de_AssumeRoleResponse", "de_AssumeRoleWithWebIdentityResponse", "de_Credentials", "de_ExpiredTokenException", "de_IDPCommunicationErrorException", "de_IDPRejectedClaimException", "de_InvalidIdentityTokenException", "de_MalformedPolicyDocumentException", "de_PackedPolicyTooLargeException", "de_RegionDisabledException", "deserializeMetadata", "throwDefaultError", "buildHttpRpcRequest", "SHARED_HEADERS", "_", "_A", "_AKI", "_AR", "_ARI", "_ARU", "_ARWWI", "_Ar", "_Au", "_C", "_CA", "_DS", "_E", "_EI", "_K", "_P", "_PA", "_PAr", "_PC", "_PI", "_PPS", "_Pr", "_RA", "_RSN", "_SAK", "_SFWIT", "_SI", "_SN", "_ST", "_T", "_TC", "_TTK", "_V", "_Va", "_WIT", "_a", "_m", "buildFormUrlencodedString", "loadQueryErrorCode", "init_Aws_query", "__esmMin", "init_dist_es", "init_models_0", "init_STSServiceException", "input", "context", "headers", "body", "output", "data", "parseXmlBody", "contents", "parsedOutput", "parseXmlErrorBody", "errorCode", "parsedBody", "deserialized", "exception", "ExpiredTokenException", "__decorateServiceException", "IDPCommunicationErrorException", "IDPRejectedClaimException", "InvalidIdentityTokenException", "MalformedPolicyDocumentException", "PackedPolicyTooLargeException", "RegionDisabledException", "entries", "memberEntries", "key", "value", "loc", "counter", "entry", "__expectString", "__strictParseInt32", "__expectNonNull", "__parseRfc3339DateTimeWithOffset", "STSServiceException", "path", "resolvedHostname", "hostname", "protocol", "port", "basePath", "__HttpRequest", "formEntries", "__extendedEncodeURIComponent", "import_middleware_endpoint", "import_middleware_serde", "import_smithy_client", "AssumeRoleCommand", "init_AssumeRoleCommand", "__esmMin", "init_EndpointParameters", "init_models_0", "init_Aws_query", "$Command", "commonParams", "Command", "cs", "config", "o", "AssumeRoleResponseFilterSensitiveLog", "se_AssumeRoleCommand", "de_AssumeRoleCommand", "import_middleware_endpoint", "import_middleware_serde", "import_smithy_client", "AssumeRoleWithWebIdentityCommand", "init_AssumeRoleWithWebIdentityCommand", "__esmMin", "init_EndpointParameters", "init_models_0", "init_Aws_query", "$Command", "commonParams", "Command", "cs", "config", "o", "AssumeRoleWithWebIdentityRequestFilterSensitiveLog", "AssumeRoleWithWebIdentityResponseFilterSensitiveLog", "se_AssumeRoleWithWebIdentityCommand", "de_AssumeRoleWithWebIdentityCommand", "import_smithy_client", "commands", "STS", "init_STS", "__esmMin", "init_AssumeRoleCommand", "init_AssumeRoleWithWebIdentityCommand", "init_STSClient", "AssumeRoleCommand", "AssumeRoleWithWebIdentityCommand", "STSClient", "init_commands", "__esmMin", "init_AssumeRoleCommand", "init_AssumeRoleWithWebIdentityCommand", "init_models", "__esmMin", "init_models_0", "import_region_config_resolver", "getAccountIdFromAssumedRoleUser", "resolveRegion", "getDefaultRoleAssumer", "getDefaultRoleAssumerWithWebIdentity", "isH2", "init_defaultStsRoleAssumers", "__esmMin", "init_client", "init_AssumeRoleCommand", "init_AssumeRoleWithWebIdentityCommand", "assumedRoleUser", "arnComponents", "_region", "_parentRegion", "credentialProviderLogger", "loaderConfig", "region", "parentRegion", "stsDefaultRegion", "stsOptions", "STSClient", "stsClient", "closureSourceCreds", "sourceCreds", "params", "logger", "profile", "requestHandler", "userAgentAppId", "resolvedRegion", "isCompatibleRequestHandler", "Credentials", "AssumedRoleUser", "AssumeRoleCommand", "accountId", "credentials", "setCredentialFeature", "AssumeRoleWithWebIdentityCommand", "getCustomizableStsClientCtor", "getDefaultRoleAssumer", "getDefaultRoleAssumerWithWebIdentity", "decorateDefaultCredentialProvider", "init_defaultRoleAssumers", "__esmMin", "init_defaultStsRoleAssumers", "init_STSClient", "baseCtor", "customizations", "config", "customization", "stsOptions", "stsPlugins", "STSClient", "provider", "input", "sts_exports", "__export", "AssumeRoleCommand", "AssumeRoleResponseFilterSensitiveLog", "AssumeRoleWithWebIdentityCommand", "AssumeRoleWithWebIdentityRequestFilterSensitiveLog", "AssumeRoleWithWebIdentityResponseFilterSensitiveLog", "CredentialsFilterSensitiveLog", "ExpiredTokenException", "IDPCommunicationErrorException", "IDPRejectedClaimException", "InvalidIdentityTokenException", "MalformedPolicyDocumentException", "PackedPolicyTooLargeException", "RegionDisabledException", "STS", "STSClient", "STSServiceException", "__Client", "decorateDefaultCredentialProvider", "getDefaultRoleAssumer", "getDefaultRoleAssumerWithWebIdentity", "init_sts", "__esmMin", "init_STSClient", "init_STS", "init_commands", "init_models", "init_defaultRoleAssumers", "init_STSServiceException", "require_dist_cjs", "__commonJSMin", "exports", "sharedIniFileLoader", "propertyProvider", "child_process", "util", "client", "getValidatedProcessCredentials", "profileName", "data", "profiles", "currentTime", "accountId", "credentials", "resolveProcessCredentials", "logger", "profile", "credentialProcess", "execPromise", "stdout", "error", "fromProcess", "init", "callerClientConfig", "require_fromWebToken", "__commonJSMin", "exports", "__createBinding", "o", "m", "k", "k2", "desc", "__setModuleDefault", "v", "__importStar", "ownKeys", "ar", "mod", "result", "i", "fromWebToken", "init", "awsIdentityProperties", "roleArn", "roleSessionName", "webIdentityToken", "providerId", "policyArns", "policy", "durationSeconds", "roleAssumerWithWebIdentity", "getDefaultRoleAssumerWithWebIdentity", "require_fromTokenFile", "__commonJSMin", "exports", "client_1", "property_provider_1", "shared_ini_file_loader_1", "fs_1", "fromWebToken_1", "ENV_TOKEN_FILE", "ENV_ROLE_ARN", "ENV_ROLE_SESSION_NAME", "fromTokenFile", "init", "awsIdentityProperties", "webIdentityTokenFile", "roleArn", "roleSessionName", "credentials", "require_dist_cjs", "__commonJSMin", "exports", "fromTokenFile", "fromWebToken", "k", "require_dist_cjs", "__commonJSMin", "exports", "sharedIniFileLoader", "propertyProvider", "client", "resolveCredentialSource", "credentialSource", "profileName", "logger", "sourceProvidersMap", "options", "fromHttp", "fromContainerMetadata", "setNamedProvider", "fromInstanceMetadata", "fromEnv", "creds", "isAssumeRoleProfile", "arg", "profile", "isAssumeRoleWithSourceProfile", "isCredentialSourceProfile", "withSourceProfile", "withProviderProfile", "resolveAssumeRoleCredentials", "profiles", "visitedProfiles", "resolveProfileData", "profileData", "source_profile", "region", "getDefaultRoleAssumer", "sourceCredsProvider", "isCredentialSourceWithoutRoleArn", "params", "mfa_serial", "sourceCreds", "section", "isProcessProfile", "resolveProcessCredentials", "fromProcess", "resolveSsoCredentials", "fromSSO", "isSsoProfile", "isStaticCredsProfile", "resolveStaticCredentials", "credentials", "isWebIdentityProfile", "resolveWebIdentityCredentials", "fromTokenFile", "isAssumeRoleRecursiveCall", "data", "fromIni", "_init", "callerClientConfig", "init", "require_dist_cjs", "__commonJSMin", "exports", "credentialProviderEnv", "propertyProvider", "sharedIniFileLoader", "ENV_IMDS_DISABLED", "remoteProvider", "init", "ENV_CMDS_FULL_URI", "ENV_CMDS_RELATIVE_URI", "fromContainerMetadata", "fromInstanceMetadata", "fromHttp", "memoizeChain", "providers", "treatAsExpired", "chain", "internalCreateChain", "activeLock", "passiveLock", "credentials", "provider", "options", "awsIdentityProperties", "lastProviderError", "err", "multipleCredentialSourceWarningEmitted", "defaultProvider", "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName", "ssoSession", "fromSSO", "fromIni", "fromProcess", "fromTokenFile", "credentialsTreatedAsExpired", "credentialsWillNeedRefresh", "require_runtimeConfig_shared", "__commonJSMin", "exports", "core_1", "protocols_1", "signature_v4_multi_region_1", "smithy_client_1", "url_parser_1", "util_base64_1", "util_utf8_1", "httpAuthSchemeProvider_1", "endpointResolver_1", "getRuntimeConfig", "config", "ipc", "require_runtimeConfig", "__commonJSMin", "exports", "tslib_1", "package_json_1", "core_1", "credential_provider_node_1", "util_user_agent_node_1", "config_resolver_1", "hash_node_1", "middleware_retry_1", "node_config_provider_1", "node_http_handler_1", "util_body_length_node_1", "util_retry_1", "runtimeConfig_shared_1", "smithy_client_1", "util_defaults_mode_node_1", "smithy_client_2", "getRuntimeConfig", "config", "defaultsMode", "defaultConfigProvider", "clientSharedValues", "loaderConfig", "require_dist_cjs", "__commonJSMin", "exports", "middlewareHostHeader", "middlewareLogger", "middlewareRecursionDetection", "middlewareUserAgent", "configResolver", "core", "schema", "middlewareContentLength", "middlewareEndpoint", "middlewareRetry", "smithyClient", "httpAuthSchemeProvider", "runtimeConfig", "regionConfigResolver", "protocolHttp", "resolveClientEndpointParameters", "options", "commonParams", "getHttpAuthExtensionConfiguration", "_httpAuthSchemes", "_httpAuthSchemeProvider", "_credentials", "httpAuthScheme", "index", "scheme", "credentials", "resolveHttpAuthRuntimeConfig", "config", "resolveRuntimeExtensions", "extensions", "extensionConfiguration", "extension", "EventBridgeClient", "configuration", "_config_0", "__publicField", "_config_1", "_config_2", "_config_3", "_config_4", "_config_5", "_config_6", "_config_7", "_config_8", "EventBridgeServiceException$1", "EventBridgeServiceException", "AccessDeniedException$1", "AccessDeniedException", "opts", "ConcurrentModificationException$1", "ConcurrentModificationException", "InternalException$1", "InternalException", "InvalidStateException$1", "InvalidStateException", "OperationDisabledException$1", "OperationDisabledException", "ResourceNotFoundException$1", "ResourceNotFoundException", "ApiDestinationState", "ApiDestinationHttpMethod", "ArchiveState", "AssignPublicIp", "ReplayState", "IllegalStatusException$1", "IllegalStatusException", "LimitExceededException$1", "LimitExceededException", "ResourceAlreadyExistsException$1", "ResourceAlreadyExistsException", "InvalidEventPatternException$1", "InvalidEventPatternException", "ConnectionAuthorizationType", "ConnectionOAuthHttpMethod", "ConnectionState", "ThrottlingException$1", "ThrottlingException", "ReplicationState", "EndpointState", "IncludeDetail", "Level", "ManagedRuleException$1", "ManagedRuleException", "EventSourceState", "RuleState", "LaunchType", "PlacementConstraintType", "PlacementStrategyType", "PropagateTags", "PolicyLengthExceededException$1", "PolicyLengthExceededException", "_A", "_AA", "_AD", "_ADA", "_ADE", "_ADRL", "_ADS", "_ADp", "_AE", "_AES", "_AESR", "_AHPS", "_AKAP", "_AKN", "_AKV", "_AN", "_AP", "_API", "_APu", "_ARL", "_ASP", "_AT", "_AVC", "_Ac", "_Act", "_Ar", "_Arc", "_At", "_BAP", "_BAPa", "_BP", "_BPo", "_BRS", "_C", "_CA", "_CAD", "_CADR", "_CADRr", "_CAKARP", "_CAR", "_CARP", "_CARr", "_CAr", "_CB", "_CBARP", "_CBP", "_CBPL", "_CC", "_CCAKARP", "_CCARP", "_CCBARP", "_CCOACRP", "_CCOARP", "_CCR", "_CCRr", "_CE", "_CEB", "_CEBR", "_CEBRr", "_CER", "_CERr", "_CHP", "_CHPL", "_CHPo", "_CID", "_CME", "_COACRP", "_COARP", "_CP", "_CPES", "_CPESR", "_CPESRr", "_CPS", "_CPSI", "_CPl", "_CQSP", "_CQSPL", "_CR", "_CRCA", "_CRL", "_CRP", "_CRR", "_CRRa", "_CS", "_CSl", "_CT", "_Co", "_Con", "_D", "_DA", "_DAD", "_DADR", "_DADRe", "_DADRes", "_DADResc", "_DADe", "_DAR", "_DARe", "_DARes", "_DAResc", "_DAe", "_DC", "_DCCP", "_DCR", "_DCRP", "_DCRe", "_DCRel", "_DCRele", "_DCRes", "_DCResc", "_DCe", "_DCes", "_DE", "_DEB", "_DEBR", "_DEBRe", "_DEBRes", "_DEBe", "_DER", "_DERe", "_DERes", "_DEResc", "_DES", "_DESR", "_DESRe", "_DESRes", "_DESe", "_DEe", "_DLC", "_DPES", "_DPESR", "_DPESRe", "_DPESRes", "_DPESe", "_DR", "_DRR", "_DRRe", "_DRRes", "_DRResc", "_DRRescr", "_DRRi", "_DRe", "_DRes", "_DRi", "_DT", "_DU", "_Da", "_De", "_Det", "_E", "_EB", "_EBA", "_EBL", "_EBN", "_EBv", "_EC", "_ECr", "_EEB", "_EEBL", "_EEC", "_EECSMT", "_EET", "_EI", "_EIv", "_EL", "_ELRT", "_EM", "_EP", "_EPc", "_ER", "_ERR", "_ES", "_ESA", "_ESL", "_ESN", "_EST", "_ESv", "_ET", "_EU", "_En", "_Ent", "_Ev", "_F", "_FA", "_FC", "_FE", "_FEC", "_G", "_GQLO", "_HC", "_HM", "_HP", "_HPt", "_HR", "_HVS", "_I", "_ICP", "_ID", "_IE", "_IEPE", "_IEn", "_IHP", "_IP", "_IPM", "_IRLPS", "_ISE", "_ISEn", "_IT", "_ITn", "_IVS", "_Id", "_In", "_JD", "_JN", "_K", "_KKI", "_KP", "_L", "_LA", "_LAD", "_LADR", "_LADRi", "_LAR", "_LARi", "_LAT", "_LC", "_LCR", "_LCRi", "_LCi", "_LE", "_LEB", "_LEBR", "_LEBRi", "_LEE", "_LER", "_LERi", "_LES", "_LESR", "_LESRi", "_LMT", "_LPES", "_LPESA", "_LPESAR", "_LPESARi", "_LPESR", "_LPESRi", "_LR", "_LRNBT", "_LRNBTR", "_LRNBTRi", "_LRR", "_LRRi", "_LRRis", "_LRRist", "_LRi", "_LT", "_LTBR", "_LTBRR", "_LTBRRi", "_LTFR", "_LTFRR", "_LTFRRi", "_Le", "_MB", "_MEAIS", "_MGI", "_MR", "_MRA", "_MRE", "_N", "_NC", "_NP", "_NT", "_OAHP", "_OAP", "_ODE", "_P", "_PC", "_PCl", "_PE", "_PER", "_PERE", "_PEREL", "_PERELu", "_PEREu", "_PERu", "_PES", "_PESA", "_PESAL", "_PESAa", "_PESL", "_PESa", "_PKP", "_PLEE", "_PP", "_PPE", "_PPER", "_PPERE", "_PPEREL", "_PPERELu", "_PPEREu", "_PPERu", "_PPL", "_PPR", "_PPV", "_PR", "_PRR", "_PRRu", "_PS", "_PSl", "_PT", "_PTR", "_PTRE", "_PTREL", "_PTRu", "_PTu", "_PV", "_Po", "_Pr", "_Pri", "_QSP", "_QSVS", "_R", "_RA", "_RAA", "_RAEE", "_RAP", "_RARN", "_RAo", "_RAu", "_RC", "_RCA", "_RCP", "_RCT", "_RCTu", "_RCe", "_RD", "_RDP", "_RDe", "_RET", "_RI", "_RL", "_RN", "_RNFE", "_RNu", "_RP", "_RPR", "_RPe", "_RPem", "_RRL", "_RS", "_RST", "_RT", "_RTR", "_RTRE", "_RTREL", "_RTRe", "_Re", "_Rep", "_Res", "_Ro", "_Ru", "_Rul", "_S", "_SA", "_SB", "_SE", "_SG", "_SI", "_SMA", "_SMPP", "_SMPPL", "_SMPPa", "_SN", "_SP", "_SR", "_SRR", "_SRRt", "_SRt", "_SS", "_Se", "_Si", "_So", "_Sq", "_St", "_Su", "_T", "_TA", "_TC", "_TDA", "_TE", "_TEP", "_TEPR", "_TEPRe", "_TH", "_TI", "_TK", "_TL", "_TLa", "_TR", "_TRR", "_TRRa", "_Ta", "_Tag", "_Tar", "_Targ", "_Ti", "_U", "_UA", "_UAD", "_UADR", "_UADRp", "_UAR", "_UARp", "_UC", "_UCAKARP", "_UCARP", "_UCBARP", "_UCOACRP", "_UCOARP", "_UCR", "_UCRp", "_UE", "_UEB", "_UEBR", "_UEBRp", "_UER", "_UERp", "_UR", "_URR", "_URRn", "_V", "_Va", "_WE", "_aC", "_b", "_c", "_cP", "_e", "_ex", "_f", "_m", "_s", "_sm", "_t", "_w", "n0", "AuthHeaderParametersSensitive", "GraphQLOperation", "HeaderValueSensitive", "QueryStringValueSensitive", "SensitiveString", "Sql", "ActivateEventSourceRequest", "ApiDestination", "AppSyncParameters", "Archive", "AwsVpcConfiguration", "BatchArrayProperties", "BatchParameters", "BatchRetryStrategy", "CancelReplayRequest", "CancelReplayResponse", "CapacityProviderStrategyItem", "Condition", "Connection", "ConnectionApiKeyAuthResponseParameters", "ConnectionAuthResponseParameters", "ConnectionBasicAuthResponseParameters", "ConnectionOAuthResponseParameters", "ConnectionHttpParameters", "DescribeConnectionConnectivityParameters", "ConnectionBodyParameter", "ConnectionHeaderParameter", "ConnectionHeaderParametersList", "ConnectionQueryStringParametersList", "ConnectionBodyParametersList", "ConnectionOAuthClientResponseParameters", "ConnectionQueryStringParameter", "ConnectivityResourceConfigurationArn", "ConnectivityResourceParameters", "CreateApiDestinationRequest", "CreateApiDestinationResponse", "CreateArchiveRequest", "CreateArchiveResponse", "CreateConnectionApiKeyAuthRequestParameters", "CreateConnectionAuthRequestParameters", "CreateConnectionBasicAuthRequestParameters", "CreateConnectionOAuthRequestParameters", "CreateConnectionOAuthClientRequestParameters", "CreateConnectionRequest", "CreateConnectionResponse", "CreateEndpointRequest", "RoutingConfig", "ReplicationConfig", "EndpointEventBusList", "CreateEndpointResponse", "CreateEventBusRequest", "DeadLetterConfig", "LogConfig", "TagList", "CreateEventBusResponse", "CreatePartnerEventSourceRequest", "CreatePartnerEventSourceResponse", "DeactivateEventSourceRequest", "DeauthorizeConnectionRequest", "DeauthorizeConnectionResponse", "DeleteApiDestinationRequest", "DeleteApiDestinationResponse", "DeleteArchiveRequest", "DeleteArchiveResponse", "DeleteConnectionRequest", "DeleteConnectionResponse", "DeleteEndpointRequest", "DeleteEndpointResponse", "DeleteEventBusRequest", "DeletePartnerEventSourceRequest", "DeleteRuleRequest", "DescribeApiDestinationRequest", "DescribeApiDestinationResponse", "DescribeArchiveRequest", "DescribeArchiveResponse", "DescribeConnectionResourceParameters", "DescribeConnectionRequest", "DescribeConnectionResponse", "DescribeEndpointRequest", "DescribeEndpointResponse", "DescribeEventBusRequest", "DescribeEventBusResponse", "DescribeEventSourceRequest", "DescribeEventSourceResponse", "DescribePartnerEventSourceRequest", "DescribePartnerEventSourceResponse", "DescribeReplayRequest", "DescribeReplayResponse", "ReplayDestination", "DescribeRuleRequest", "DescribeRuleResponse", "DisableRuleRequest", "EcsParameters", "NetworkConfiguration", "CapacityProviderStrategy", "PlacementConstraints", "PlacementStrategies", "EnableRuleRequest", "Endpoint", "EndpointEventBus", "EventBus", "EventSource", "FailoverConfig", "Primary", "Secondary", "HttpParameters", "InputTransformer", "KinesisParameters", "ListApiDestinationsRequest", "ListApiDestinationsResponse", "ApiDestinationResponseList", "ListArchivesRequest", "ListArchivesResponse", "ArchiveResponseList", "ListConnectionsRequest", "ListConnectionsResponse", "ConnectionResponseList", "ListEndpointsRequest", "ListEndpointsResponse", "EndpointList", "ListEventBusesRequest", "ListEventBusesResponse", "EventBusList", "ListEventSourcesRequest", "ListEventSourcesResponse", "EventSourceList", "ListPartnerEventSourceAccountsRequest", "ListPartnerEventSourceAccountsResponse", "PartnerEventSourceAccountList", "ListPartnerEventSourcesRequest", "ListPartnerEventSourcesResponse", "PartnerEventSourceList", "ListReplaysRequest", "ListReplaysResponse", "ReplayList", "ListRuleNamesByTargetRequest", "ListRuleNamesByTargetResponse", "ListRulesRequest", "ListRulesResponse", "RuleResponseList", "ListTagsForResourceRequest", "ListTagsForResourceResponse", "ListTargetsByRuleRequest", "ListTargetsByRuleResponse", "TargetList", "PartnerEventSource", "PartnerEventSourceAccount", "PlacementConstraint", "PlacementStrategy", "PutEventsRequest", "PutEventsRequestEntryList", "PutEventsRequestEntry", "PutEventsResponse", "PutEventsResultEntryList", "PutEventsResultEntry", "PutPartnerEventsRequest", "PutPartnerEventsRequestEntryList", "PutPartnerEventsRequestEntry", "PutPartnerEventsResponse", "PutPartnerEventsResultEntryList", "PutPartnerEventsResultEntry", "PutPermissionRequest", "PutRuleRequest", "PutRuleResponse", "PutTargetsRequest", "PutTargetsResponse", "PutTargetsResultEntryList", "PutTargetsResultEntry", "RedshiftDataParameters", "Sqls", "RemovePermissionRequest", "RemoveTargetsRequest", "RemoveTargetsResponse", "RemoveTargetsResultEntryList", "RemoveTargetsResultEntry", "Replay", "RetryPolicy", "Rule", "RunCommandParameters", "RunCommandTargets", "RunCommandTarget", "SageMakerPipelineParameter", "SageMakerPipelineParameters", "SageMakerPipelineParameterList", "SqsParameters", "StartReplayRequest", "StartReplayResponse", "Tag", "TagResourceRequest", "TagResourceResponse", "Target", "TestEventPatternRequest", "TestEventPatternResponse", "UntagResourceRequest", "UntagResourceResponse", "UpdateApiDestinationRequest", "UpdateApiDestinationResponse", "UpdateArchiveRequest", "UpdateArchiveResponse", "UpdateConnectionApiKeyAuthRequestParameters", "UpdateConnectionAuthRequestParameters", "UpdateConnectionBasicAuthRequestParameters", "UpdateConnectionOAuthRequestParameters", "UpdateConnectionOAuthClientRequestParameters", "UpdateConnectionRequest", "UpdateConnectionResponse", "UpdateEndpointRequest", "UpdateEndpointResponse", "UpdateEventBusRequest", "UpdateEventBusResponse", "__Unit", "ActivateEventSource", "CancelReplay", "CreateApiDestination", "CreateArchive", "CreateConnection", "CreateEndpoint", "CreateEventBus", "CreatePartnerEventSource", "DeactivateEventSource", "DeauthorizeConnection", "DeleteApiDestination", "DeleteArchive", "DeleteConnection", "DeleteEndpoint", "DeleteEventBus", "DeletePartnerEventSource", "DeleteRule", "DescribeApiDestination", "DescribeArchive", "DescribeConnection", "DescribeEndpoint", "DescribeEventBus", "DescribeEventSource", "DescribePartnerEventSource", "DescribeReplay", "DescribeRule", "DisableRule", "EnableRule", "ListApiDestinations", "ListArchives", "ListConnections", "ListEndpoints", "ListEventBuses", "ListEventSources", "ListPartnerEventSourceAccounts", "ListPartnerEventSources", "ListReplays", "ListRuleNamesByTarget", "ListRules", "ListTagsForResource", "ListTargetsByRule", "PutEvents", "PutPartnerEvents", "PutPermission", "PutRule", "PutTargets", "RemovePermission", "RemoveTargets", "StartReplay", "TagResource", "TestEventPattern", "UntagResource", "UpdateApiDestination", "UpdateArchive", "UpdateConnection", "UpdateEndpoint", "UpdateEventBus", "ActivateEventSourceCommand", "Command", "cs", "o", "CancelReplayCommand", "CreateApiDestinationCommand", "CreateArchiveCommand", "CreateConnectionCommand", "CreateEndpointCommand", "CreateEventBusCommand", "CreatePartnerEventSourceCommand", "DeactivateEventSourceCommand", "DeauthorizeConnectionCommand", "DeleteApiDestinationCommand", "DeleteArchiveCommand", "DeleteConnectionCommand", "DeleteEndpointCommand", "DeleteEventBusCommand", "DeletePartnerEventSourceCommand", "DeleteRuleCommand", "DescribeApiDestinationCommand", "DescribeArchiveCommand", "DescribeConnectionCommand", "DescribeEndpointCommand", "DescribeEventBusCommand", "DescribeEventSourceCommand", "DescribePartnerEventSourceCommand", "DescribeReplayCommand", "DescribeRuleCommand", "DisableRuleCommand", "EnableRuleCommand", "ListApiDestinationsCommand", "ListArchivesCommand", "ListConnectionsCommand", "ListEndpointsCommand", "ListEventBusesCommand", "ListEventSourcesCommand", "ListPartnerEventSourceAccountsCommand", "ListPartnerEventSourcesCommand", "ListReplaysCommand", "ListRuleNamesByTargetCommand", "ListRulesCommand", "ListTagsForResourceCommand", "ListTargetsByRuleCommand", "PutEventsCommand", "PutPartnerEventsCommand", "PutPermissionCommand", "PutRuleCommand", "PutTargetsCommand", "RemovePermissionCommand", "RemoveTargetsCommand", "StartReplayCommand", "TagResourceCommand", "TestEventPatternCommand", "UntagResourceCommand", "UpdateApiDestinationCommand", "UpdateArchiveCommand", "UpdateConnectionCommand", "UpdateEndpointCommand", "UpdateEventBusCommand", "commands", "EventBridge", "require_lodash", "__commonJSMin", "exports", "module", "LARGE_ARRAY_SIZE", "HASH_UNDEFINED", "HOT_COUNT", "HOT_SPAN", "MAX_SAFE_INTEGER", "argsTag", "arrayTag", "asyncTag", "boolTag", "dateTag", "errorTag", "funcTag", "genTag", "mapTag", "numberTag", "nullTag", "objectTag", "proxyTag", "regexpTag", "setTag", "stringTag", "undefinedTag", "weakMapTag", "arrayBufferTag", "dataViewTag", "float32Tag", "float64Tag", "int8Tag", "int16Tag", "int32Tag", "uint8Tag", "uint8ClampedTag", "uint16Tag", "uint32Tag", "reRegExpChar", "reIsHostCtor", "reIsUint", "typedArrayTags", "freeGlobal", "freeSelf", "root", "freeExports", "freeModule", "moduleExports", "freeProcess", "nodeUtil", "types", "nodeIsTypedArray", "apply", "func", "thisArg", "args", "baseTimes", "n", "iteratee", "index", "result", "baseUnary", "value", "getValue", "object", "key", "overArg", "transform", "arg", "arrayProto", "funcProto", "objectProto", "coreJsData", "funcToString", "hasOwnProperty", "maskSrcKey", "uid", "nativeObjectToString", "objectCtorString", "reIsNative", "Buffer", "Symbol", "Uint8Array", "allocUnsafe", "getPrototype", "objectCreate", "propertyIsEnumerable", "splice", "symToStringTag", "defineProperty", "getNative", "nativeIsBuffer", "nativeMax", "nativeNow", "Map", "nativeCreate", "baseCreate", "proto", "isObject", "Hash", "entries", "length", "entry", "hashClear", "hashDelete", "hashGet", "data", "hashHas", "hashSet", "ListCache", "listCacheClear", "listCacheDelete", "assocIndexOf", "lastIndex", "listCacheGet", "listCacheHas", "listCacheSet", "MapCache", "mapCacheClear", "mapCacheDelete", "getMapData", "mapCacheGet", "mapCacheHas", "mapCacheSet", "size", "Stack", "stackClear", "stackDelete", "stackGet", "stackHas", "stackSet", "pairs", "arrayLikeKeys", "inherited", "isArr", "isArray", "isArg", "isArguments", "isBuff", "isBuffer", "isType", "isTypedArray", "skipIndexes", "isIndex", "assignMergeValue", "eq", "baseAssignValue", "assignValue", "objValue", "array", "baseFor", "createBaseFor", "baseGetTag", "getRawTag", "objectToString", "baseIsArguments", "isObjectLike", "baseIsNative", "isMasked", "pattern", "isFunction", "toSource", "baseIsTypedArray", "isLength", "baseKeysIn", "nativeKeysIn", "isProto", "isPrototype", "baseMerge", "source", "srcIndex", "customizer", "stack", "srcValue", "baseMergeDeep", "newValue", "safeGet", "keysIn", "mergeFunc", "stacked", "isCommon", "isTyped", "isArrayLikeObject", "copyArray", "cloneBuffer", "cloneTypedArray", "isPlainObject", "toPlainObject", "initCloneObject", "baseRest", "start", "setToString", "overRest", "identity", "baseSetToString", "string", "constant", "buffer", "isDeep", "cloneArrayBuffer", "arrayBuffer", "typedArray", "copyObject", "props", "isNew", "createAssigner", "assigner", "sources", "guard", "isIterateeCall", "fromRight", "keysFunc", "iterable", "map", "isKeyable", "isOwn", "tag", "unmasked", "type", "isArrayLike", "Ctor", "otherArgs", "shortOut", "count", "lastCalled", "stamp", "remaining", "other", "stubFalse", "merge", "max_default", "init_max", "__esmMin", "nil_default", "init_nil", "__esmMin", "regex_default", "init_regex", "__esmMin", "validate", "uuid", "regex_default", "validate_default", "init_validate", "__esmMin", "init_regex", "parse", "uuid", "validate_default", "v", "arr", "parse_default", "init_parse", "__esmMin", "init_validate", "unsafeStringify", "arr", "offset", "byteToHex", "stringify", "uuid", "validate_default", "stringify_default", "init_stringify", "__esmMin", "init_validate", "i", "rng", "poolPtr", "rnds8Pool", "crypto", "import_node_crypto", "init_rng", "__esmMin", "v1", "options", "buf", "offset", "i", "b", "node", "clockseq", "_nodeId", "_clockseq", "seedBytes", "rng", "msecs", "nsecs", "_lastNSecs", "dt", "_lastMSecs", "tl", "tmh", "n", "unsafeStringify", "v1_default", "init_v1", "__esmMin", "init_rng", "init_stringify", "v1ToV6", "uuid", "v1Bytes", "parse_default", "v6Bytes", "_v1ToV6", "unsafeStringify", "randomize", "init_v1ToV6", "__esmMin", "init_parse", "init_stringify", "stringToBytes", "str", "bytes", "i", "v35", "name", "version", "hashfunc", "generateUUID", "value", "namespace", "buf", "offset", "_namespace", "parse_default", "unsafeStringify", "DNS", "URL", "init_v35", "__esmMin", "init_stringify", "init_parse", "md5", "bytes", "crypto", "import_node_crypto", "md5_default", "init_md5", "__esmMin", "v3", "v3_default", "init_v3", "__esmMin", "init_v35", "init_md5", "v35", "md5_default", "import_node_crypto", "native_default", "init_native", "__esmMin", "crypto", "v4", "options", "buf", "offset", "native_default", "rnds", "rng", "i", "unsafeStringify", "v4_default", "init_v4", "__esmMin", "init_native", "init_rng", "init_stringify", "sha1", "bytes", "crypto", "import_node_crypto", "sha1_default", "init_sha1", "__esmMin", "v5", "v5_default", "init_v5", "__esmMin", "init_v35", "init_sha1", "v35", "sha1_default", "v6", "options", "buf", "offset", "bytes", "v1_default", "v1ToV6", "i", "unsafeStringify", "init_v6", "__esmMin", "init_stringify", "init_v1", "init_v1ToV6", "v6ToV1", "uuid", "v6Bytes", "parse_default", "v1Bytes", "_v6ToV1", "unsafeStringify", "init_v6ToV1", "__esmMin", "init_parse", "init_stringify", "v7", "options", "buf", "offset", "i", "b", "rnds", "rng", "msecs", "seq", "seqHigh", "_seqHigh", "seqLow", "_seqLow", "_msecs", "unsafeStringify", "v7_default", "init_v7", "__esmMin", "init_rng", "init_stringify", "version", "uuid", "validate_default", "version_default", "init_version", "__esmMin", "init_validate", "esm_node_exports", "__export", "max_default", "nil_default", "parse_default", "stringify_default", "v1_default", "v1ToV6", "v3_default", "v4_default", "v5_default", "v6", "v6ToV1", "v7_default", "validate_default", "version_default", "init_esm_node", "__esmMin", "init_max", "init_nil", "init_parse", "init_stringify", "init_v1", "init_v1ToV6", "init_v3", "init_v4", "init_v5", "init_v6", "init_v6ToV1", "init_v7", "init_validate", "init_version", "require_shimmer", "__commonJSMin", "exports", "module", "isFunction", "funktion", "logger", "defineProperty", "obj", "name", "value", "enumerable", "shimmer", "options", "wrap", "nodule", "wrapper", "original", "wrapped", "massWrap", "nodules", "names", "unwrap", "massUnwrap", "require_listener", "__commonJSMin", "exports", "module", "shimmer", "wrap", "unwrap", "SYMBOL", "defineProperty", "obj", "name", "value", "enumerable", "_process", "self", "listeners", "l", "p", "listener", "before", "length", "i", "_listeners", "event", "_findAndProcess", "after", "unprocessed", "fn", "_wrap", "unwrapped", "visit", "wrapped", "emitter", "onAddListener", "onEmit", "adding", "on", "existing", "returned", "emitting", "emit", "remover", "removeListener", "require_context", "__commonJSMin", "exports", "module", "util", "assert", "wrapEmitter", "async_hooks", "CONTEXTS_SYMBOL", "ERROR_SYMBOL", "DEBUG_CLS_HOOKED", "currentUid", "getNamespace", "createNamespace", "destroyNamespace", "reset", "Namespace", "name", "key", "value", "indentStr", "debug2", "asyncHooksCurrentId", "triggerId", "context", "fn", "exception", "promise", "result", "err", "self", "index", "emitter", "namespace", "thisSymbol", "attach", "listener", "bind", "unwrapped", "wrapped", "unwrappedContexts", "thunk", "asyncId", "type", "resource", "triggerIdContext", "parentId", "args", "require_logger", "__commonJSMin", "exports", "module", "validLogLevels", "defaultLogLevel", "logLevel", "calculateLogLevel", "logger", "createLoggerForLevel", "level", "loggerLevel", "consoleMethod", "message", "meta", "formatLogMessage", "normalisedLevel", "index", "createTimestamp", "date", "tzo", "dif", "pad", "num", "norm", "isLambdaFunction", "messageParts", "logString", "metaDataString", "formatMetaData", "str", "logging", "logObj", "require_captured_exception", "__commonJSMin", "exports", "module", "crypto", "CapturedException", "err", "remote", "e", "stack", "stackline", "line", "label", "path", "entry", "require_atomic_batcher", "__commonJSMin", "exports", "module", "batcher", "run", "running", "pendingBatch", "pendingCallbacks", "callbacks", "append", "done", "err", "callAll", "nextBatch", "val", "cb", "pushAll", "list", "pushArray", "i", "require_daemon_config", "__commonJSMin", "exports", "module", "logger", "DaemonConfig", "address", "processAddress", "splitAddress", "addr", "part_1", "part_2", "addr_map", "require_segment_emitter", "__commonJSMin", "exports", "module", "dgram", "batcher", "logger", "PROTOCOL_HEADER", "PROTOCOL_DELIMITER", "batchSendData", "ops", "callback", "client", "executeSendData", "index", "sendMessage", "data", "batchCallback", "msg", "offset", "length", "port", "address", "err", "BatchingTemporarySocket", "work", "SegmentEmitter", "segment", "formatted", "message", "short", "type", "require_trace_id", "__commonJSMin", "exports", "module", "crypto", "logger", "TraceID", "_TraceID", "tsHex", "numberhex", "rawID", "DELIMITER", "traceID", "version", "timestamp", "parts", "require_utils", "__commonJSMin", "exports", "module", "crypto", "logger", "TraceID", "utils", "status", "stat", "path", "pattern", "text", "patternLength", "textLength", "indexOfGlob", "match", "j", "i", "patternChar", "matchArray", "xAmznTraceId", "valid", "data", "segment", "traceData", "amznTraceData", "reservedKeywords", "remainingBytes", "header", "pair", "key", "value", "lowerCaseKey", "reserved", "obj", "keys", "preservePrototype", "target", "property", "val", "require_segment_utils", "__commonJSMin", "exports", "module", "safeParseInt", "logger", "DEFAULT_STREAMING_THRESHOLD", "utils", "origin", "pluginData", "sdkData", "serviceData", "threshold", "res", "ret", "status", "_", "value", "require_remote_request_data", "__commonJSMin", "exports", "module", "getHttpResponseData", "stripQueryStringFromPath", "RemoteRequestData", "req", "res", "downstreamXRayEnabled", "require_subsegment", "__commonJSMin", "exports", "module", "crypto", "CapturedException", "RemoteRequestData", "SegmentEmitter", "SegmentUtils", "Utils", "logger", "Subsegment", "name", "subsegment", "index", "data", "id", "key", "value", "namespace", "ns", "sqlData", "err", "remote", "req", "res", "downstreamXRayEnabled", "root", "additional", "open", "child", "ignore", "thisCopy", "object", "require_segment", "__commonJSMin", "exports", "module", "crypto", "CapturedException", "SegmentEmitter", "SegmentUtils", "Subsegment", "TraceID", "Utils", "logger", "Segment", "name", "rootId", "parentId", "traceId", "id", "startTime", "data", "key", "value", "user", "namespace", "ns", "ruleName", "subsegment", "index", "err", "remote", "additional", "open", "child", "thisCopy", "ignore", "object", "require_context_utils", "__commonJSMin", "exports", "module", "cls", "logger", "Segment", "Subsegment", "cls_mode", "NAMESPACE", "SEGMENT", "contextOverride", "contextUtils", "message", "err", "params", "xraySegment", "segment", "found", "strategy", "lookupStrategy", "require_incoming_request_data", "__commonJSMin", "exports", "module", "getHttpResponseData", "IncomingRequestData", "req", "forwarded", "url", "getClientIp", "clientIp", "res", "require_local_reservoir", "__commonJSMin", "exports", "module", "LocalReservoir", "fixedTarget", "fallbackRate", "now", "require_default_sampling_rules", "__commonJSMin", "exports", "module", "require_local_sampler", "__commonJSMin", "exports", "module", "fs", "LocalReservoir", "Utils", "defaultRules", "logger", "LocalSampler", "sampleRequest", "host", "httpMethod", "urlPath", "formatted", "matched", "rule", "source", "loadRulesConfig", "parseRulesConfig", "config", "defaultRule", "rules", "missing", "key", "rawRule", "params", "required", "value", "require_reservoir", "__commonJSMin", "exports", "module", "Reservoir", "now", "canBorrow", "quota", "TTL", "interval", "require_sampling_rule", "__commonJSMin", "exports", "module", "Utils", "Reservoir", "SamplingRule", "name", "priority", "rate", "reservoirSize", "host", "httpMethod", "urlPath", "serviceName", "serviceType", "sampleRequest", "statistics", "rule", "require_service_connector", "__commonJSMin", "exports", "module", "crypto", "logger", "SamplingRule", "DaemonConfig", "util", "http", "ServiceConnector", "callback", "body", "options", "getOptions", "req", "res", "data", "d", "error", "dataObj", "err", "newRules", "assembleRules", "rules", "constructStatisticsDocs", "targetsMapping", "assembleTargets", "ruleFreshness", "dateToEpoch", "documents", "now", "rule", "statistics", "doc", "ruleList", "ruleRecord", "isRuleValid", "newRule", "docs", "newTarget", "record", "date", "path", "contentLength", "require_rule_cache", "__commonJSMin", "exports", "module", "TTL", "RuleCache", "sampleRequest", "now", "isExpired", "matchedRule", "rule", "rules", "oldRules", "oldRule", "a", "b", "v", "targetsMapping", "target", "require_rule_poller", "__commonJSMin", "exports", "module", "logger", "ServiceConnector", "ruleCache", "DEFAULT_INTERVAL", "RulePoller", "refresh", "jitter", "delay", "getJitter", "refreshWithFirewall", "refreshCache", "now", "err", "newRules", "require_target_poller", "__commonJSMin", "exports", "module", "rulePoller", "serviceConnector", "ruleCache", "logger", "DEFAULT_INTERVAL", "TargetPoller", "refreshWithFirewall", "getJitter", "refresh", "candidates", "getCandidates", "err", "targetsMapping", "ruleFreshness", "rules", "rule", "require_default_sampler", "__commonJSMin", "exports", "module", "logger", "util", "SegmentUtils", "DefaultSampler", "sampleRequest", "now", "matchedRule", "processMatchedRule", "err", "source", "rule", "reservoir", "sample", "decision", "require_mw_utils", "__commonJSMin", "exports", "module", "Segment", "IncomingRequestData", "logger", "coreUtils", "wildcardMatch", "processTraceData", "XRAY_HEADER", "overrideFlag", "utils", "hostPattern", "req", "amznTraceHeader", "hostHeader", "name", "segment", "res", "isSampled", "sampleRequest", "source", "message", "url", "middlewareLog", "didEnd", "endSegment", "cause", "require_invoke_store", "__commonJSMin", "exports", "async_hooks_1", "noGlobalAwsLambda", "PROTECTED_KEYS", "InvokeStoreImpl", "context", "fn", "key", "value", "__publicField", "instance", "require_aws_lambda", "__commonJSMin", "exports", "module", "contextUtils", "mwUtils", "LambdaUtils", "Segment", "SegmentEmitter", "SegmentUtils", "logger", "TraceID", "InvokeStore", "xAmznTraceIdPrev", "namespace", "facadeSegment", "segment", "whitelistFcn", "silentFcn", "xAmznTraceId", "key", "func", "traceIdFromInvokeStore", "traceIdFromEnv", "xAmznLambda", "require_package", "__commonJSMin", "exports", "module", "require_plugin", "__commonJSMin", "exports", "module", "http", "Plugin", "options", "callback", "retries", "getMetadata", "httpReq", "req", "res", "body", "chunk", "e", "err", "require_ec2_plugin", "__commonJSMin", "exports", "module", "Plugin", "logger", "http", "EC2Plugin", "callback", "METADATA_PATH", "populateMetadata", "token", "options", "getOptions", "err", "data", "metadata", "getToken", "httpReq", "req", "res", "body", "chunk", "path", "method", "headers", "require_ecs_plugin", "__commonJSMin", "exports", "module", "os", "ECSPlugin", "callback", "require_elastic_beanstalk_plugin", "__commonJSMin", "exports", "module", "fs", "logger", "ENV_CONFIG_LOCATION", "ElasticBeanstalkPlugin", "callback", "err", "rawData", "data", "metadata", "require_aws_whitelist", "__commonJSMin", "exports", "module", "require_call_capturer", "__commonJSMin", "exports", "module", "fs", "logger", "whitelist", "paramTypes", "CallCapturer", "source", "loadWhitelist", "newServices", "attribute", "serviceName", "response", "operation", "call", "dataCaptured", "paramType", "params", "captureCallParams", "captureDescriptors", "data", "param", "formatted", "toSnakeCase", "descriptors", "paramName", "attributes", "paramData", "doc", "require_aws", "__commonJSMin", "exports", "module", "CallCapturer", "capturer", "Aws", "res", "serviceName", "formatOperation", "data", "attribute", "setAWSWhitelist", "source", "appendAWSWhitelist", "operation", "require_capture", "__commonJSMin", "exports", "module", "contextUtils", "logger", "captureFunc", "name", "fcn", "parent", "validate", "current", "executeFcn", "parentSeg", "captureFcn", "response", "e", "captureAsyncFunc", "captureCallbackFunc", "base", "args", "session", "contextFcn", "value", "error", "require_constants", "__commonJSMin", "exports", "module", "SEMVER_SPEC_VERSION", "MAX_SAFE_INTEGER", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "RELEASE_TYPES", "require_debug", "__commonJSMin", "exports", "module", "debug", "args", "require_re", "__commonJSMin", "exports", "module", "MAX_SAFE_COMPONENT_LENGTH", "MAX_SAFE_BUILD_LENGTH", "MAX_LENGTH", "debug", "re", "safeRe", "src", "safeSrc", "t", "R", "LETTERDASHNUMBER", "safeRegexReplacements", "makeSafeRegex", "value", "token", "max", "createToken", "name", "isGlobal", "safe", "index", "require_parse_options", "__commonJSMin", "exports", "module", "looseOption", "emptyOpts", "parseOptions", "options", "require_identifiers", "__commonJSMin", "exports", "module", "numeric", "compareIdentifiers", "a", "b", "anum", "bnum", "rcompareIdentifiers", "require_semver", "__commonJSMin", "exports", "module", "debug", "MAX_LENGTH", "MAX_SAFE_INTEGER", "re", "t", "parseOptions", "compareIdentifiers", "SemVer", "_SemVer", "version", "options", "m", "id", "num", "other", "i", "a", "b", "release", "identifier", "identifierBase", "match", "base", "prerelease", "require_parse", "__commonJSMin", "exports", "module", "SemVer", "parse", "version", "options", "throwErrors", "er", "require_valid", "__commonJSMin", "exports", "module", "parse", "valid", "version", "options", "v", "require_clean", "__commonJSMin", "exports", "module", "parse", "clean", "version", "options", "s", "require_inc", "__commonJSMin", "exports", "module", "SemVer", "inc", "version", "release", "options", "identifier", "identifierBase", "require_diff", "__commonJSMin", "exports", "module", "parse", "diff", "version1", "version2", "v1", "v2", "comparison", "v1Higher", "highVersion", "lowVersion", "highHasPre", "prefix", "require_major", "__commonJSMin", "exports", "module", "SemVer", "major", "a", "loose", "require_minor", "__commonJSMin", "exports", "module", "SemVer", "minor", "a", "loose", "require_patch", "__commonJSMin", "exports", "module", "SemVer", "patch", "a", "loose", "require_prerelease", "__commonJSMin", "exports", "module", "parse", "prerelease", "version", "options", "parsed", "require_compare", "__commonJSMin", "exports", "module", "SemVer", "compare", "a", "b", "loose", "require_rcompare", "__commonJSMin", "exports", "module", "compare", "rcompare", "a", "b", "loose", "require_compare_loose", "__commonJSMin", "exports", "module", "compare", "compareLoose", "a", "b", "require_compare_build", "__commonJSMin", "exports", "module", "SemVer", "compareBuild", "a", "b", "loose", "versionA", "versionB", "require_sort", "__commonJSMin", "exports", "module", "compareBuild", "sort", "list", "loose", "a", "b", "require_rsort", "__commonJSMin", "exports", "module", "compareBuild", "rsort", "list", "loose", "a", "b", "require_gt", "__commonJSMin", "exports", "module", "compare", "gt", "a", "b", "loose", "require_lt", "__commonJSMin", "exports", "module", "compare", "lt", "a", "b", "loose", "require_eq", "__commonJSMin", "exports", "module", "compare", "eq", "a", "b", "loose", "require_neq", "__commonJSMin", "exports", "module", "compare", "neq", "a", "b", "loose", "require_gte", "__commonJSMin", "exports", "module", "compare", "gte", "a", "b", "loose", "require_lte", "__commonJSMin", "exports", "module", "compare", "lte", "a", "b", "loose", "require_cmp", "__commonJSMin", "exports", "module", "eq", "neq", "gt", "gte", "lt", "lte", "cmp", "a", "op", "b", "loose", "require_coerce", "__commonJSMin", "exports", "module", "SemVer", "parse", "re", "t", "coerce", "version", "options", "match", "coerceRtlRegex", "next", "major", "minor", "patch", "prerelease", "build", "require_lrucache", "__commonJSMin", "exports", "module", "LRUCache", "key", "value", "firstKey", "require_range", "__commonJSMin", "exports", "module", "SPACE_CHARACTERS", "Range", "_Range", "range", "options", "parseOptions", "Comparator", "r", "c", "first", "isNullSet", "isAny", "i", "comps", "k", "memoKey", "FLAG_INCLUDE_PRERELEASE", "FLAG_LOOSE", "cached", "cache", "loose", "hr", "re", "t", "hyphenReplace", "debug", "comparatorTrimReplace", "tildeTrimReplace", "caretTrimReplace", "rangeList", "comp", "parseComparator", "replaceGTE0", "rangeMap", "comparators", "result", "thisComparators", "isSatisfiable", "rangeComparators", "thisComparator", "rangeComparator", "version", "SemVer", "testSet", "LRU", "remainingComparators", "testComparator", "otherComparator", "replaceCarets", "replaceTildes", "replaceXRanges", "replaceStars", "isX", "id", "replaceTilde", "_", "M", "m", "p", "pr", "ret", "replaceCaret", "z", "replaceXRange", "gtlt", "xM", "xm", "xp", "anyX", "incPr", "$0", "from", "fM", "fm", "fp", "fpr", "fb", "to", "tM", "tm", "tp", "tpr", "set", "allowed", "require_comparator", "__commonJSMin", "exports", "module", "ANY", "Comparator", "_Comparator", "comp", "options", "parseOptions", "debug", "re", "t", "m", "SemVer", "version", "cmp", "Range", "require_satisfies", "__commonJSMin", "exports", "module", "Range", "satisfies", "version", "range", "options", "require_to_comparators", "__commonJSMin", "exports", "module", "Range", "toComparators", "range", "options", "comp", "c", "require_max_satisfying", "__commonJSMin", "exports", "module", "SemVer", "Range", "maxSatisfying", "versions", "range", "options", "max", "maxSV", "rangeObj", "v", "require_min_satisfying", "__commonJSMin", "exports", "module", "SemVer", "Range", "minSatisfying", "versions", "range", "options", "min", "minSV", "rangeObj", "v", "require_min_version", "__commonJSMin", "exports", "module", "SemVer", "Range", "gt", "minVersion", "range", "loose", "minver", "i", "comparators", "setMin", "comparator", "compver", "require_valid", "__commonJSMin", "exports", "module", "Range", "validRange", "range", "options", "require_outside", "__commonJSMin", "exports", "module", "SemVer", "Comparator", "ANY", "Range", "satisfies", "gt", "lt", "lte", "gte", "outside", "version", "range", "hilo", "options", "gtfn", "ltefn", "ltfn", "comp", "ecomp", "i", "comparators", "high", "low", "comparator", "require_gtr", "__commonJSMin", "exports", "module", "outside", "gtr", "version", "range", "options", "require_ltr", "__commonJSMin", "exports", "module", "outside", "ltr", "version", "range", "options", "require_intersects", "__commonJSMin", "exports", "module", "Range", "intersects", "r1", "r2", "options", "require_simplify", "__commonJSMin", "exports", "module", "satisfies", "compare", "versions", "range", "options", "set", "first", "prev", "v", "a", "b", "version", "ranges", "min", "max", "simplified", "original", "require_subset", "__commonJSMin", "exports", "module", "Range", "Comparator", "ANY", "satisfies", "compare", "subset", "sub", "dom", "options", "sawNonNull", "OUTER", "simpleSub", "simpleDom", "isSub", "simpleSubset", "minimumVersionWithPreRelease", "minimumVersion", "eqSet", "gt", "lt", "c", "higherGT", "lowerLT", "gtltComp", "eq", "higher", "lower", "hasDomLT", "hasDomGT", "needDomLTPre", "needDomGTPre", "a", "b", "comp", "require_semver", "__commonJSMin", "exports", "module", "internalRe", "constants", "SemVer", "identifiers", "parse", "valid", "clean", "inc", "diff", "major", "minor", "patch", "prerelease", "compare", "rcompare", "compareLoose", "compareBuild", "sort", "rsort", "gt", "lt", "eq", "neq", "gte", "lte", "cmp", "coerce", "Comparator", "Range", "satisfies", "toComparators", "maxSatisfying", "minSatisfying", "minVersion", "validRange", "outside", "gtr", "ltr", "intersects", "simplifyRange", "subset", "require_aws_p", "__commonJSMin", "exports", "module", "semver", "Aws", "contextUtils", "Utils", "logger", "minVersion", "throttledErrorDefault", "captureAWS", "awssdk", "prop", "Service", "captureAWSRequest", "captureAWSClient", "service", "req", "parent", "output", "throttledError", "stack", "subsegment", "traceId", "data", "buildListener", "traceHeader", "key", "value", "completeListener", "res", "httpRes", "HttpResponse", "err", "cause", "callback", "session", "require_dist_cjs", "__commonJSMin", "exports", "module", "__defProp", "__getOwnPropDesc", "__getOwnPropNames", "__hasOwnProp", "__name", "target", "value", "__export", "all", "name", "__copyProps", "to", "from", "except", "desc", "key", "__toCommonJS", "mod", "src_exports", "isClockSkewCorrectedError", "isClockSkewError", "isRetryableByTrait", "isServerError", "isThrottlingError", "isTransientError", "CLOCK_SKEW_ERROR_CODES", "THROTTLING_ERROR_CODES", "TRANSIENT_ERROR_CODES", "TRANSIENT_ERROR_STATUS_CODES", "NODEJS_TIMEOUT_ERROR_CODES", "error", "_a", "_b", "statusCode", "require_aws3_p", "__commonJSMin", "exports", "__importDefault", "mod", "service_error_classification_1", "aws_1", "querystring_1", "subsegment_1", "contextUtils", "logger", "safeParseInt", "utils_1", "XRAY_PLUGIN_NAME", "buildAttributesFromMetadata", "service", "operation", "region", "commandInput", "res", "error", "_a", "_b", "_c", "extendedRequestId", "requestId", "statusCode", "attempts", "aws", "http", "addFlags", "subsegment", "err", "cause", "getXRayMiddleware", "config", "manualSegment", "next", "context", "args", "segment", "clientName", "commandName", "commandOperation", "output", "parent", "data", "traceHeader", "key", "value", "errObj", "xRayMiddlewareOptions", "getXRayPlugin", "stack", "captureAWSClient", "client", "require_http_p", "__commonJSMin", "exports", "module", "url", "contextUtils", "Utils", "logger", "events", "captureHTTPsGlobal", "downstreamXRayEnabled", "subsegmentCallback", "enableCapture", "captureHTTPs", "tracedModule", "val", "captureOutgoingHTTPs", "baseFunc", "args", "options", "callback", "hasUrl", "urlObj", "arg0", "parent", "hostname", "output", "subsegment", "root", "errorCapturer", "e", "madeItToDownstream", "optionsCopy", "req", "res", "cause", "captureHTTPsRequest", "captureHTTPsGet", "require_promise_p", "__commonJSMin", "exports", "module", "contextUtils", "originalThen", "originalCatch", "patchPromise", "Promise", "then", "onFulfilled", "onRejected", "tryGetCurrentSegment", "ns", "origCatch", "unpatchPromise", "capturePromise", "uncapturePromise", "require_sql_data", "__commonJSMin", "exports", "module", "SqlData", "databaseVer", "driverVer", "user", "url", "queryType", "require_aws_xray", "__commonJSMin", "exports", "module", "contextUtils", "logging", "segmentUtils", "utils", "LambdaEnv", "pkginfo", "err", "UNKNOWN", "AWSXRay", "plugins", "pluginData", "plugin", "data", "attribute", "sdkData", "require_lib", "__commonJSMin", "exports", "module", "require_postgres_array", "__commonJSMin", "exports", "source", "transform", "ArrayParser", "_ArrayParser", "identity", "character", "includeEmpty", "entry", "char", "nested", "parser", "quote", "value", "require_arrayParser", "__commonJSMin", "exports", "module", "array", "source", "transform", "require_postgres_date", "__commonJSMin", "exports", "module", "DATE_TIME", "DATE", "TIME_ZONE", "INFINITY", "isoDate", "matches", "getDate", "isBC", "year", "bcYearToNegativeYear", "month", "day", "hour", "minute", "second", "ms", "date", "offset", "timeZoneOffset", "is0To99", "zone", "type", "sign", "num", "require_mutable", "__commonJSMin", "exports", "module", "extend", "hasOwnProperty", "target", "i", "source", "key", "require_postgres_interval", "__commonJSMin", "exports", "module", "extend", "PostgresInterval", "raw", "parse", "properties", "filtered", "property", "value", "propertiesISOEquivalent", "dateProperties", "timeProperties", "datePart", "buildProperty", "timePart", "NUMBER", "YEAR", "MONTH", "DAY", "TIME", "INTERVAL", "regexString", "positions", "negatives", "parseMilliseconds", "fraction", "microseconds", "interval", "matches", "isNegative", "parsed", "position", "require_postgres_bytea", "__commonJSMin", "exports", "module", "input", "output", "i", "backslashes", "k", "require_textParsers", "__commonJSMin", "exports", "module", "array", "arrayParser", "parseDate", "parseInterval", "parseByteA", "allowNull", "fn", "value", "parseBool", "parseBoolArray", "parseBaseTenInt", "string", "parseIntegerArray", "parseBigIntegerArray", "entry", "parseBigInteger", "parsePointArray", "p", "parsePoint", "parseFloatArray", "parseStringArray", "parseDateArray", "parseIntervalArray", "parseByteAArray", "parseInteger", "valStr", "parseJsonArray", "parseCircle", "point", "radius", "pointParsed", "i", "result", "init", "register", "require_pg_int8", "__commonJSMin", "exports", "module", "BASE", "readInt8", "buffer", "high", "low", "sign", "result", "carry", "t", "digits", "pad", "l", "i", "require_binaryParsers", "__commonJSMin", "exports", "module", "parseInt64", "parseBits", "data", "bits", "offset", "invert", "callback", "lastValue", "newValue", "offsetBytes", "inv", "value", "mask", "firstBits", "result", "bytes", "i", "lastBits", "parseFloatFromBits", "precisionBits", "exponentBits", "bias", "sign", "exponent", "precisionBitsCounter", "parsePrecisionBits", "mantissa", "parseInt16", "parseInt32", "parseFloat32", "parseFloat64", "parseNumeric", "weight", "digits", "ndigits", "scale", "parseDate", "isUTC", "rawValue", "parseArray", "dim", "flags", "elementType", "dims", "parseElement", "length", "parse", "dimension", "array", "count", "parseText", "parseBool", "init", "register", "require_builtins", "__commonJSMin", "exports", "module", "require_pg_types", "__commonJSMin", "exports", "textParsers", "binaryParsers", "arrayParser", "builtinTypes", "getTypeParser", "setTypeParser", "typeParsers", "noParse", "val", "oid", "format", "parseFn", "converter", "require_defaults", "__commonJSMin", "exports", "module", "pgTypes", "parseBigInteger", "parseBigIntegerArray", "val", "require_utils", "__commonJSMin", "exports", "module", "defaults", "util", "isDate", "escapeElement", "elementRepresentation", "arrayString", "val", "result", "i", "item", "buf", "prepareValue", "seen", "dateToStringUTC", "dateToString", "prepareObject", "date", "offset", "year", "isBCYear", "ret", "normalizeQueryConfig", "config", "values", "callback", "escapeIdentifier", "str", "escapeLiteral", "hasBackslash", "escaped", "c", "value", "require_utils_legacy", "__commonJSMin", "exports", "module", "nodeCrypto", "md5", "string", "postgresMd5PasswordHash", "user", "password", "salt", "inner", "sha256", "text", "hashByName", "hashName", "hmacSha256", "key", "msg", "deriveKey", "iterations", "require_utils_webcrypto", "__commonJSMin", "exports", "module", "nodeCrypto", "postgresMd5PasswordHash", "randomBytes", "deriveKey", "sha256", "hashByName", "hmacSha256", "md5", "webCrypto", "subtleCrypto", "textEncoder", "length", "string", "data", "hash", "b", "user", "password", "salt", "inner", "text", "hashName", "keyBuffer", "msg", "key", "iterations", "params", "require_utils", "__commonJSMin", "exports", "module", "useLegacyCrypto", "require_cert_signatures", "__commonJSMin", "exports", "module", "x509Error", "msg", "cert", "readASN1Length", "data", "index", "length", "lengthBytes", "i", "readASN1OID", "OIDLength", "indexAfterOIDLength", "lastIndex", "byte1", "oid", "value", "nextByte", "expectASN1Seq", "signatureAlgorithmHashFromCertificate", "certInfoLength", "indexAfterCertInfoLength", "indexAfterOID", "hashOID", "require_sasl", "__commonJSMin", "exports", "module", "crypto", "signatureAlgorithmHashFromCertificate", "startSession", "mechanisms", "stream", "candidates", "mechanism", "candidate", "clientNonce", "continueSession", "session", "password", "serverData", "sv", "parseServerFirstMessage", "clientFirstMessageBare", "serverFirstMessage", "channelBinding", "peerCert", "hashName", "certHash", "clientFinalMessageWithoutProof", "authMessage", "saltBytes", "saltedPassword", "clientKey", "storedKey", "clientSignature", "clientProof", "xorBuffers", "serverKey", "serverSignatureBytes", "finalizeSession", "serverSignature", "parseServerFinalMessage", "isPrintableChars", "text", "_", "i", "c", "isBase64", "parseAttributePairs", "attrValue", "name", "value", "data", "attrPairs", "nonce", "salt", "iterationText", "iteration", "a", "b", "require_type_overrides", "__commonJSMin", "exports", "module", "types", "TypeOverrides", "userTypes", "format", "oid", "parseFn", "require_pg_connection_string", "__commonJSMin", "exports", "module", "parse", "str", "options", "config", "result", "dummyHost", "err", "entry", "hostname", "pathname", "fs", "toConnectionOptions", "sslConfig", "c", "key", "value", "toClientConfig", "v", "parseIntoClientConfig", "require_connection_parameters", "__commonJSMin", "exports", "module", "dns", "defaults", "parse", "val", "key", "config", "envVar", "readSSLConfigFromEnvironment", "quoteParamValue", "value", "add", "params", "paramName", "ConnectionParameters", "cb", "ssl", "err", "address", "require_result", "__commonJSMin", "exports", "module", "types", "matchRegexp", "Result", "rowMode", "msg", "match", "rowData", "row", "i", "len", "rawValue", "field", "v", "fieldDescriptions", "desc", "require_query", "__commonJSMin", "exports", "module", "EventEmitter", "Result", "utils", "Query", "config", "values", "callback", "msg", "row", "err", "connection", "con", "previous", "rows", "exports", "DatabaseError", "message", "length", "name", "CopyDataMessage", "chunk", "CopyResponse", "binary", "columnCount", "Field", "tableID", "columnID", "dataTypeID", "dataTypeSize", "dataTypeModifier", "format", "RowDescriptionMessage", "fieldCount", "ParameterDescriptionMessage", "parameterCount", "ParameterStatusMessage", "parameterName", "parameterValue", "AuthenticationMD5Password", "salt", "BackendKeyDataMessage", "processID", "secretKey", "NotificationResponseMessage", "processId", "channel", "payload", "ReadyForQueryMessage", "status", "CommandCompleteMessage", "text", "DataRowMessage", "fields", "NoticeMessage", "Writer", "size", "oldBuffer", "newSize", "num", "string", "len", "otherBuffer", "code", "length", "result", "exports", "buffer_writer_1", "writer", "startup", "opts", "key", "bodyBuffer", "length", "requestSsl", "response", "password", "sendSASLInitialResponseMessage", "mechanism", "initialResponse", "sendSCRAMClientFinalMessage", "additionalData", "query", "text", "emptyArray", "parse", "name", "types", "len", "buffer", "paramWriter", "writeValues", "values", "valueMapper", "i", "mappedVal", "bind", "config", "portal", "statement", "binary", "emptyExecute", "execute", "rows", "portalLength", "buff", "cancel", "processID", "secretKey", "cstringMessage", "code", "string", "emptyDescribePortal", "emptyDescribeStatement", "describe", "msg", "close", "copyData", "chunk", "copyFail", "message", "codeOnlyBuffer", "flushBuffer", "syncBuffer", "endBuffer", "copyDoneBuffer", "serialize", "exports", "emptyBuffer", "BufferReader", "offset", "buffer", "result", "length", "start", "end", "exports", "messages_1", "buffer_reader_1", "CODE_LENGTH", "LEN_LENGTH", "HEADER_LENGTH", "emptyBuffer", "Parser", "opts", "buffer", "callback", "bufferFullLength", "offset", "code", "length", "fullMessageLength", "message", "newLength", "newBuffer", "newBufferLength", "bytes", "status", "text", "chunk", "messageName", "isBinary", "columnCount", "i", "processId", "channel", "payload", "fieldCount", "name", "tableID", "columnID", "dataTypeID", "dataTypeSize", "dataTypeModifier", "mode", "parameterCount", "fields", "len", "value", "processID", "secretKey", "salt", "mechanism", "fieldType", "messageValue", "exports", "messages_1", "exports", "serializer_1", "parser_1", "parse", "stream", "callback", "parser", "buffer", "resolve", "exports", "require_stream", "__commonJSMin", "exports", "module", "getStream", "getSecureStream", "getStreamFuncs", "getNodejsStreamFuncs", "ssl", "net", "options", "getCloudflareStreamFuncs", "CloudflareSocket", "isCloudflareRuntime", "resp", "require_connection", "__commonJSMin", "exports", "module", "EventEmitter", "parse", "serialize", "getStream", "getSecureStream", "flushBuffer", "syncBuffer", "endBuffer", "Connection", "config", "self", "eventName", "port", "host", "reportStreamError", "error", "buffer", "options", "net", "err", "stream", "msg", "processID", "secretKey", "password", "mechanism", "initialResponse", "additionalData", "text", "query", "chunk", "require_split2", "__commonJSMin", "exports", "module", "Transform", "StringDecoder", "kLast", "kDecoder", "transform", "chunk", "enc", "cb", "list", "i", "push", "error", "flush", "self", "val", "noop", "incoming", "split", "matcher", "mapper", "options", "stream", "err", "require_helper", "__commonJSMin", "exports", "module", "path", "Stream", "split", "util", "defaultPort", "isWin", "warnStream", "S_IRWXG", "S_IRWXO", "S_IFMT", "S_IFREG", "isRegFile", "mode", "fieldNames", "nrOfFields", "passKey", "warn", "isWritable", "args", "val", "stream", "old", "rawEnv", "env", "file", "stats", "fname", "matcher", "connInfo", "entry", "prev", "field", "idx", "cb", "pass", "lineStream", "onLine", "line", "parseLine", "isValidEntry", "onEnd", "onErr", "err", "curChar", "prevChar", "fieldIdx", "startIdx", "endIdx", "obj", "isLastField", "addToObj", "i0", "i1", "i", "rules", "x", "rule", "value", "res", "require_lib", "__commonJSMin", "exports", "module", "path", "fs", "helper", "connInfo", "cb", "file", "err", "stat", "st", "require_client", "__commonJSMin", "exports", "module", "EventEmitter", "utils", "sasl", "TypeOverrides", "ConnectionParameters", "Query", "defaults", "Connection", "crypto", "Client", "config", "c", "err", "enqueueError", "query", "callback", "self", "con", "error", "resolve", "reject", "cb", "pass", "e", "msg", "hashedPassword", "activeQuery", "params", "data", "appName", "client", "oid", "format", "parseFn", "str", "queryError", "values", "result", "readTimeout", "readTimeoutTimer", "queryCallback", "res", "index", "require_pg_pool", "__commonJSMin", "exports", "module", "EventEmitter", "NOOP", "removeWhere", "list", "predicate", "i", "IdleItem", "client", "idleListener", "timeoutId", "PendingItem", "callback", "throwOnDoubleRelease", "promisify", "Promise", "rej", "res", "cb", "err", "result", "resolve", "reject", "makeIdleListener", "pool", "Pool", "options", "Client", "item", "pendingItem", "idleItem", "removed", "c", "context", "response", "queueCallback", "done", "tid", "timeoutHit", "maxLifetimeTimeout", "clientRelease", "isNew", "released", "text", "values", "clientReleased", "onError", "promised", "acc", "require_query", "__commonJSMin", "exports", "module", "EventEmitter", "util", "utils", "NativeQuery", "config", "values", "callback", "event", "errorFieldMap", "err", "fields", "key", "normalizedFieldName", "onSuccess", "onFailure", "resolve", "reject", "client", "self", "after", "rows", "results", "rowOfRows", "i", "row", "vals", "require_client", "__commonJSMin", "exports", "module", "Native", "e", "TypeOverrides", "EventEmitter", "util", "ConnectionParameters", "NativeQuery", "Client", "config", "cp", "err", "enqueueError", "query", "cb", "self", "conString", "msg", "callback", "resolve", "reject", "error", "values", "result", "readTimeout", "readTimeoutTimer", "queryCallback", "resolveOut", "rejectOut", "res", "index", "initialConnection", "oid", "format", "parseFn", "require_native", "__commonJSMin", "exports", "module", "require_lib", "__commonJSMin", "exports", "module", "Client", "defaults", "Connection", "Result", "utils", "Pool", "TypeOverrides", "DatabaseError", "escapeIdentifier", "escapeLiteral", "poolFactory", "options", "PG", "clientConstructor", "native", "err", "atendimento_exports", "__export", "handler", "__toCommonJS", "import_client_eventbridge", "import_aws_sdk", "LogJsonIndent", "LogLevelThreshold", "ReservedKeys", "UncaughtErrorLogMessage", "POWERTOOLS_DEV_ENV_VAR", "POWERTOOLS_SERVICE_NAME_ENV_VAR", "XRAY_TRACE_ID_ENV_VAR", "getStringFromEnv", "key", "defaultValue", "errorMessage", "value", "getNumberFromEnv", "parsedValue", "truthyValues", "falsyValues", "getBooleanFromEnv", "extendedParsing", "isDevMode", "POWERTOOLS_DEV_ENV_VAR", "getServiceName", "POWERTOOLS_SERVICE_NAME_ENV_VAR", "getXrayTraceDataFromEnv", "xRayTraceEnv", "XRAY_TRACE_ID_ENV_VAR", "xRayTraceData", "field", "isRequestXRaySampled", "getXRayTraceIdFromEnv", "_getDateFormatter", "_LogFormatter_instances", "generateISOTimestampWithOffset_fn", "LogFormatter", "__privateAdd", "timezone", "twoDigitFormatOption", "validTimeZone", "error", "name", "message", "stack", "cause", "errorAttributes", "formattedError", "isDevMode", "key", "now", "defaultTimezone", "configuredTimezone", "getStringFromEnv", "__privateMethod", "stackLines", "regex", "item", "match", "date", "year", "month", "day", "hour", "minute", "second", "__privateGet", "acc", "datePart", "offset", "offsetSign", "offsetHours", "offsetMinutes", "millisecondPart", "offsetPart", "import_lodash", "LogItem", "params", "__publicField", "attributes", "merge", "newAttributes", "key", "import_node_console", "import_node_crypto", "PT_VERSION", "EXEC_ENV", "middlewareOptions", "isSdkClient", "client", "customUserAgentMiddleware", "feature", "next", "args", "existingUserAgent", "featureSpecificUserAgent", "PT_VERSION", "hasPowertools", "middlewareStack", "found", "middleware", "addUserAgentMiddleware", "error", "PREFIX", "TRACER_KEY", "METRICS_KEY", "LOGGER_KEY", "IDEMPOTENCY_KEY", "isString", "value", "isNull", "value", "isNullOrUndefined", "_initializationType", "Utility", "__privateAdd", "__publicField", "__privateSet", "__privateGet", "envVarValue", "serviceName", "env", "PT_VERSION", "import_lodash", "_logRecordOrder", "PowertoolsLogFormatter", "LogFormatter", "options", "__privateAdd", "__privateSet", "attributes", "additionalLogAttributes", "baseAttributes", "__privateGet", "LogItem", "orderedAttributes", "key", "SizedItem", "value", "logLevel", "__publicField", "isString", "SizedSet", "item", "wasDeleted", "firstElement", "_maxBytesSize", "_onBufferOverflow", "_CircularMap_instances", "deleteFromBufferUntilSizeIsLessThanMax_fn", "CircularMap", "maxBytesSize", "onBufferOverflow", "__privateAdd", "__privateSet", "key", "__privateGet", "buffer", "__privateMethod", "_alcLogLevel", "_initBuffer", "_isInitialized", "_keys", "_initialLogLevel", "_jsonReplacerFn", "_bufferConfig", "_buffer", "_correlationIdSearchFn", "_debugLogSampling", "_warnOnceMap", "_Logger_instances", "warnOnce_fn", "appendKeys_fn", "createAdditionalAttributes_fn", "processMainInput_fn", "processExtraInput_fn", "processExtraObject_fn", "shouldEnableDebugSampling_fn", "checkReservedKeyAndWarn_fn", "setLogBuffering_fn", "_Logger", "Utility", "options", "__privateAdd", "__publicField", "LogJsonIndent", "LogLevelThreshold", "customConfigService", "rest", "__privateSet", "level", "log", "__privateGet", "context", "attributes", "__privateMethod", "childLogger", "merge", "input", "extraInput", "_target", "_propertyKey", "descriptor", "originalMethod", "loggerRef", "args", "error", "UncaughtErrorLogMessage", "logger", "_persistentAttributes", "event", "overwriteValue", "keys", "key", "logLevel", "references", "value", "_a", "replacedValue", "selectedLogLevel", "unformattedBaseAttributes", "getXRayTraceIdFromEnv", "additionalAttributes", "found", "sampleRateValue", "consoleMethod", "traceId", "isDevMode", "message", "optionalParams", "constructorLogLevel", "customConfigValue", "logLevelVariable", "getStringFromEnv", "logLevelVariableAlias", "logLevelValue", "constructorValue", "sampleRateEnvVariable", "getNumberFromEnv", "getBooleanFromEnv", "logFormatter", "logRecordOrder", "PowertoolsLogFormatter", "serviceName", "persistentKeys", "persistentLogAttributes", "environment", "jsonReplacerFn", "logBufferOptions", "correlationIdSearchFn", "lambdaLogLevel", "AlcLogLevel", "xrayTraceId", "buffer", "item", "correlationIdPath", "correlationId", "type", "attributeKey", "baseAttributes", "isNullOrUndefined", "ReservedKeys", "CircularMap", "bufferAtLogLevel", "Logger", "init_esm_node", "Logger", "_Logger", "serviceName", "context", "v4_default", "traceId", "newContext", "keysToAdd", "message", "metadata", "error", "errorDetails", "keys", "additionalContext", "metricName", "value", "method", "path", "success", "createLogger", "logger", "Logger", "init_esm_node", "import_aws_xray_sdk_core", "import_aws_xray_sdk_core", "import_node_diagnostics_channel", "import_node_http", "import_node_https", "import_node_url", "decoder", "findHeaderAndDecode", "encodedHeaders", "key", "foundIndex", "i", "isHttpSubsegment", "subsegment", "getRequestURL", "request", "captureAWS", "captureAWSClient", "captureAWSv3Client", "captureAsyncFunc", "captureFunc", "captureHTTPsGlobal", "getNamespace", "getSegment", "setSegment", "XraySegment", "setContextMissingStrategy", "setDaemonAddress", "setLogger", "xraySdk", "ProviderService", "awssdk", "service", "addUserAgentMiddleware", "name", "fcn", "_parent", "http", "https", "onRequestStart", "message", "request", "method", "parentSubsegment", "requestURL", "getRequestURL", "subsegment", "getXRayTraceIdFromEnv", "onResponse", "response", "isHttpSubsegment", "status", "contentLenght", "findHeaderAndDecode", "onError", "error", "key", "value", "segment", "namespace", "strategy", "address", "logObj", "XraySubsegment", "xraySdk", "_envConfig", "_Tracer_instances", "setEnvConfig_fn", "Tracer", "Utility", "options", "__privateAdd", "__publicField", "__privateMethod", "ProviderService", "error", "remote", "subsegment", "data", "methodName", "aws", "service", "_target", "_propertyKey", "descriptor", "originalMethod", "tracerRef", "args", "result", "propertyKey", "subsegmentName", "getXRayTraceIdFromEnv", "segment", "isRequestXRaySampled", "key", "value", "namespace", "__privateGet", "customConfigValue", "enabled", "customConfigService", "serviceName", "captureHTTPsRequests", "getStringFromEnv", "getServiceName", "tracer", "Tracer", "getSegment", "tracer", "error", "createSubsegment", "name", "annotations", "metadata", "segment", "subsegment", "key", "value", "closeSubsegment", "status", "err", "traceSubsegment", "fn", "result", "addAnnotations", "addMetadata", "namespace", "traceQuery", "queryName", "query", "params", "traceSubsegment", "sqs", "sns", "classifyError", "error", "errorMessage", "errorName", "errorCode", "transientPatterns", "pattern", "criticalPatterns", "permanentPatterns", "sendToDLQ", "event", "traceId", "context", "dlqUrl", "message", "sqs", "dlqError", "sendAlert", "alertTopicArn", "sns", "alertError", "withSimpleErrorHandling", "handler", "event", "context", "traceId", "v4_default", "logger", "createLogger", "segment", "getSegment", "addAnnotations", "result", "error", "err", "classification", "classifyError", "addMetadata", "sendToDLQ", "sendAlert", "import_lib", "Client", "pg", "Pool", "Connection", "types", "Query", "DatabaseError", "escapeIdentifier", "escapeLiteral", "Result", "TypeOverrides", "defaults", "import_aws_sdk", "logger", "Logger", "secretsManager", "DatabasePool", "secretArn", "response", "secret", "error", "credentials", "Pool", "err", "dbPool", "query", "text", "params", "maxRetries", "operation", "traceQuery", "pool", "lastError", "attempt", "addMetadata", "startTime", "result", "duration", "addAnnotations", "isTransientError", "delay", "sleep", "getPool", "dbPool", "isTransientError", "error", "transientErrorCodes", "errorMessage", "errorCode", "sleep", "ms", "resolve", "init_esm_node", "external_exports", "__export", "BRAND", "DIRTY", "EMPTY_PATH", "INVALID", "NEVER", "OK", "ParseStatus", "ZodType", "ZodAny", "ZodArray", "ZodBigInt", "ZodBoolean", "ZodBranded", "ZodCatch", "ZodDate", "ZodDefault", "ZodDiscriminatedUnion", "ZodEffects", "ZodEnum", "ZodError", "ZodFirstPartyTypeKind", "ZodFunction", "ZodIntersection", "ZodIssueCode", "ZodLazy", "ZodLiteral", "ZodMap", "ZodNaN", "ZodNativeEnum", "ZodNever", "ZodNull", "ZodNullable", "ZodNumber", "ZodObject", "ZodOptional", "ZodParsedType", "ZodPipeline", "ZodPromise", "ZodReadonly", "ZodRecord", "ZodSet", "ZodString", "ZodSymbol", "ZodTuple", "ZodUndefined", "ZodUnion", "ZodUnknown", "ZodVoid", "addIssueToContext", "anyType", "arrayType", "bigIntType", "booleanType", "coerce", "custom", "dateType", "datetimeRegex", "en_default", "discriminatedUnionType", "effectsType", "enumType", "functionType", "getErrorMap", "getParsedType", "instanceOfType", "intersectionType", "isAborted", "isAsync", "isDirty", "isValid", "late", "lazyType", "literalType", "makeIssue", "mapType", "nanType", "nativeEnumType", "neverType", "nullType", "nullableType", "numberType", "objectType", "objectUtil", "oboolean", "onumber", "optionalType", "ostring", "pipelineType", "preprocessType", "promiseType", "quotelessJson", "recordType", "setType", "setErrorMap", "strictObjectType", "stringType", "symbolType", "tupleType", "undefinedType", "unionType", "unknownType", "util", "voidType", "util", "_", "assertIs", "_arg", "assertNever", "_x", "items", "obj", "item", "validKeys", "k", "filtered", "e", "object", "keys", "key", "arr", "checker", "val", "joinValues", "array", "separator", "value", "objectUtil", "first", "second", "ZodParsedType", "getParsedType", "data", "ZodIssueCode", "util", "quotelessJson", "obj", "ZodError", "_ZodError", "issues", "sub", "subs", "actualProto", "_mapper", "mapper", "issue", "fieldErrors", "processError", "error", "curr", "i", "el", "value", "formErrors", "firstEl", "errorMap", "issue", "_ctx", "message", "ZodIssueCode", "ZodParsedType", "util", "en_default", "overrideErrorMap", "en_default", "setErrorMap", "map", "overrideErrorMap", "getErrorMap", "makeIssue", "params", "data", "path", "errorMaps", "issueData", "fullPath", "fullIssue", "errorMessage", "maps", "m", "map", "EMPTY_PATH", "addIssueToContext", "ctx", "overrideMap", "getErrorMap", "issue", "en_default", "x", "ParseStatus", "_ParseStatus", "status", "results", "arrayValue", "INVALID", "pairs", "syncPairs", "pair", "key", "value", "finalObject", "DIRTY", "OK", "isAborted", "isDirty", "isValid", "isAsync", "errorUtil", "message", "ParseInputLazyPath", "parent", "value", "path", "key", "handleResult", "ctx", "result", "isValid", "error", "ZodError", "processCreateParams", "params", "errorMap", "invalid_type_error", "required_error", "description", "iss", "message", "ZodType", "input", "getParsedType", "ParseStatus", "isAsync", "data", "err", "maybeAsyncResult", "check", "getIssueProperties", "val", "setError", "ZodIssueCode", "refinementData", "refinement", "ZodEffects", "ZodFirstPartyTypeKind", "def", "ZodOptional", "ZodNullable", "ZodArray", "ZodPromise", "option", "ZodUnion", "incoming", "ZodIntersection", "transform", "defaultValueFunc", "ZodDefault", "ZodBranded", "catchValueFunc", "ZodCatch", "This", "target", "ZodPipeline", "ZodReadonly", "cuidRegex", "cuid2Regex", "ulidRegex", "uuidRegex", "nanoidRegex", "jwtRegex", "durationRegex", "emailRegex", "_emojiRegex", "emojiRegex", "ipv4Regex", "ipv4CidrRegex", "ipv6Regex", "ipv6CidrRegex", "base64Regex", "base64urlRegex", "dateRegexSource", "dateRegex", "timeRegexSource", "args", "secondsRegexSource", "secondsQuantifier", "timeRegex", "datetimeRegex", "regex", "opts", "isValidIP", "ip", "version", "isValidJWT", "jwt", "alg", "header", "base64", "decoded", "isValidCidr", "ZodString", "_ZodString", "ZodParsedType", "addIssueToContext", "INVALID", "status", "tooBig", "tooSmall", "util", "validation", "errorUtil", "options", "minLength", "maxLength", "len", "ch", "min", "max", "floatSafeRemainder", "step", "valDecCount", "stepDecCount", "decCount", "valInt", "stepInt", "ZodNumber", "_ZodNumber", "kind", "inclusive", "ZodBigInt", "_ZodBigInt", "ZodBoolean", "OK", "ZodDate", "_ZodDate", "minDate", "maxDate", "ZodSymbol", "ZodUndefined", "ZodNull", "ZodAny", "ZodUnknown", "ZodNever", "ZodVoid", "_ZodArray", "item", "i", "schema", "deepPartialify", "ZodObject", "newShape", "fieldSchema", "ZodTuple", "_ZodObject", "shape", "keys", "shapeKeys", "extraKeys", "pairs", "keyValidator", "unknownKeys", "catchall", "syncPairs", "pair", "issue", "defaultError", "augmentation", "merging", "index", "mask", "newField", "createZodEnum", "handleResults", "results", "unionErrors", "childCtx", "dirty", "issues", "types", "getDiscriminator", "type", "ZodLazy", "ZodLiteral", "ZodEnum", "ZodNativeEnum", "ZodDiscriminatedUnion", "_ZodDiscriminatedUnion", "discriminator", "discriminatorValue", "optionsMap", "discriminatorValues", "mergeValues", "a", "b", "aType", "bType", "bKeys", "sharedKeys", "newObj", "sharedValue", "newArray", "itemA", "itemB", "handleParsed", "parsedLeft", "parsedRight", "isAborted", "merged", "isDirty", "left", "right", "_ZodTuple", "items", "itemIndex", "x", "rest", "schemas", "ZodRecord", "_ZodRecord", "keyType", "valueType", "first", "second", "third", "ZodMap", "finalMap", "ZodSet", "_ZodSet", "finalizeSet", "elements", "parsedSet", "element", "minSize", "maxSize", "size", "ZodFunction", "_ZodFunction", "makeArgsIssue", "makeIssue", "getErrorMap", "en_default", "makeReturnsIssue", "returns", "fn", "me", "parsedArgs", "e", "parsedReturns", "returnType", "func", "getter", "values", "_ZodEnum", "expectedValues", "enumValues", "newDef", "opt", "nativeEnumValues", "promisified", "effect", "checkCtx", "arg", "processed", "DIRTY", "executeRefinement", "acc", "inner", "base", "preprocess", "ZodOptional", "ZodType", "input", "ZodParsedType", "OK", "type", "params", "ZodFirstPartyTypeKind", "processCreateParams", "ZodNullable", "ZodDefault", "ctx", "data", "ZodCatch", "newCtx", "result", "isAsync", "ZodError", "ZodNaN", "addIssueToContext", "ZodIssueCode", "INVALID", "BRAND", "ZodBranded", "ZodPipeline", "_ZodPipeline", "status", "inResult", "DIRTY", "a", "b", "ZodReadonly", "freeze", "isValid", "cleanParams", "p", "custom", "check", "_params", "fatal", "ZodAny", "r", "_fatal", "late", "ZodObject", "ZodFirstPartyTypeKind", "instanceOfType", "cls", "params", "custom", "data", "stringType", "ZodString", "numberType", "ZodNumber", "nanType", "ZodNaN", "bigIntType", "ZodBigInt", "booleanType", "ZodBoolean", "dateType", "ZodDate", "symbolType", "ZodSymbol", "undefinedType", "ZodUndefined", "nullType", "ZodNull", "anyType", "ZodAny", "unknownType", "ZodUnknown", "neverType", "ZodNever", "voidType", "ZodVoid", "arrayType", "ZodArray", "objectType", "ZodObject", "strictObjectType", "unionType", "ZodUnion", "discriminatedUnionType", "ZodDiscriminatedUnion", "intersectionType", "ZodIntersection", "tupleType", "ZodTuple", "recordType", "ZodRecord", "mapType", "ZodMap", "setType", "ZodSet", "functionType", "ZodFunction", "lazyType", "ZodLazy", "literalType", "ZodLiteral", "enumType", "ZodEnum", "nativeEnumType", "ZodNativeEnum", "promiseType", "ZodPromise", "effectsType", "ZodEffects", "optionalType", "ZodOptional", "nullableType", "ZodNullable", "preprocessType", "pipelineType", "ZodPipeline", "ostring", "onumber", "oboolean", "coerce", "arg", "NEVER", "INVALID", "uuidv4", "MCPError", "message", "code", "server", "method", "traceId", "isRetryable", "MCPTimeoutError", "timeout", "MCPNetworkError", "originalError", "ConsoleLogger", "message", "metadata", "error", "MCPClient", "config", "server", "method", "params", "traceId", "uuidv4", "startTime", "lastError", "attempt", "result", "duration", "MCPError", "delay", "mcpError", "tools", "controller", "timeoutId", "MCPTimeoutError", "MCPNetworkError", "signal", "resolve", "reject", "exponentialDelay", "jitter", "delayWithJitter", "ms", "code", "sensitiveKeys", "sanitized", "key", "sensitive", "uuidv4", "AWS", "RateLimiter", "config", "now", "oneSecondAgo", "oneMinuteAgo", "oneHourAgo", "ts", "ms", "resolve", "WhatsAppMCPServer", "MCPClient", "params", "traceId", "startTime", "idempotencyKey", "cachedResponse", "apiKey", "response", "firstKey", "duration", "error", "messageId", "data", "secret", "MCPError", "payload", "method", "url", "body", "headers", "content", "hash", "i", "char", "status", "code", "phone", "countryCode", "lastFour", "masked", "createWhatsAppMCPServer", "init_esm_node", "validateConsent", "db", "leadId", "traceId", "v4_default", "logger", "result", "consentGiven", "error", "handleDescadastro", "db", "leadId", "reason", "traceId", "v4_default", "actionsPerformed", "logger", "leadResult", "lead", "cancelResult", "auditError", "error", "AWS", "lambda", "bedrockRuntime", "eventBridgeClient", "EVENT_BUS_NAME", "SENTIMENT_LAMBDA_ARN", "whatsappServer", "createWhatsAppMCPServer", "WebhookPayloadSchema", "external_exports", "handler", "withSimpleErrorHandling", "event", "context", "logger", "traceId", "v4_default", "payload", "parseWebhookPayload", "lead", "identificarLead", "db", "getPool", "validateConsent", "historico", "consultarHistorico", "registrarInteracao", "sentimentResult", "analisarSentimento", "handleDescadastro", "llmResponse", "gerarResposta", "validatedResponse", "validarResposta", "enviarResposta", "atualizarStatusLead", "publicarEvento", "error", "body", "validationResult", "e", "result", "query", "row", "leadId", "message", "params", "response", "sentiment", "reason", "confirmationMessage", "mensagemLead", "tone", "determinarTom", "prompt", "construirPrompt", "nextAction", "determinarProximoPasso", "confidence", "calculateConfidence", "gerarRespostaFallback", "historicoTexto", "i", "messageLower", "keyword", "sentimentScore", "interactionCount", "fallbackResponses", "validatedMessage", "aiKeywords", "regex", "emojiRegex", "emojis", "emojiCount", "match", "channel", "idempotencyKey", "tipo", "canal", "mensagem", "sentimento", "intensidade", "metadata", "newStatus", "detailType", "command"]
}
